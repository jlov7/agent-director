const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C55DlBar.js","assets/index-B5DZHykP.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function w_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b_={exports:{}},To={},S_={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=Symbol.for("react.element"),sP=Symbol.for("react.portal"),aP=Symbol.for("react.fragment"),oP=Symbol.for("react.strict_mode"),lP=Symbol.for("react.profiler"),uP=Symbol.for("react.provider"),cP=Symbol.for("react.context"),dP=Symbol.for("react.forward_ref"),fP=Symbol.for("react.suspense"),hP=Symbol.for("react.memo"),pP=Symbol.for("react.lazy"),Eg=Symbol.iterator;function mP(e){return e===null||typeof e!="object"?null:(e=Eg&&e[Eg]||e["@@iterator"],typeof e=="function"?e:null)}var __={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k_=Object.assign,E_={};function yi(e,t,n){this.props=e,this.context=t,this.refs=E_,this.updater=n||__}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function C_(){}C_.prototype=yi.prototype;function xm(e,t,n){this.props=e,this.context=t,this.refs=E_,this.updater=n||__}var wm=xm.prototype=new C_;wm.constructor=xm;k_(wm,yi.prototype);wm.isPureReactComponent=!0;var Cg=Array.isArray,T_=Object.prototype.hasOwnProperty,bm={current:null},j_={key:!0,ref:!0,__self:!0,__source:!0};function P_(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)T_.call(t,r)&&!j_.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Vs,type:e,key:s,ref:a,props:i,_owner:bm.current}}function vP(e,t){return{$$typeof:Vs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vs}function gP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tg=/\/+/g;function El(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gP(""+e.key):t.toString(36)}function Na(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Vs:case sP:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+El(a,0):r,Cg(i)?(n="",e!=null&&(n=e.replace(Tg,"$&/")+"/"),Na(i,t,n,"",function(u){return u})):i!=null&&(Sm(i)&&(i=vP(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Tg,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Cg(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+El(s,o);a+=Na(s,t,n,l,i)}else if(l=mP(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+El(s,o++),a+=Na(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function aa(e,t,n){if(e==null)return e;var r=[],i=0;return Na(e,r,"","",function(s){return t.call(n,s,i++)}),r}function yP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Ra={transition:null},xP={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Ra,ReactCurrentOwner:bm};function N_(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:aa,forEach:function(e,t,n){aa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return aa(e,function(){t++}),t},toArray:function(e){return aa(e,function(t){return t})||[]},only:function(e){if(!Sm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=yi;X.Fragment=aP;X.Profiler=lP;X.PureComponent=xm;X.StrictMode=oP;X.Suspense=fP;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xP;X.act=N_;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=k_({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=bm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)T_.call(t,l)&&!j_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Vs,type:e.type,key:i,ref:s,props:r,_owner:a}};X.createContext=function(e){return e={$$typeof:cP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uP,_context:e},e.Consumer=e};X.createElement=P_;X.createFactory=function(e){var t=P_.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:dP,render:e}};X.isValidElement=Sm;X.lazy=function(e){return{$$typeof:pP,_payload:{_status:-1,_result:e},_init:yP}};X.memo=function(e,t){return{$$typeof:hP,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=Ra.transition;Ra.transition={};try{e()}finally{Ra.transition=t}};X.unstable_act=N_;X.useCallback=function(e,t){return nt.current.useCallback(e,t)};X.useContext=function(e){return nt.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};X.useEffect=function(e,t){return nt.current.useEffect(e,t)};X.useId=function(){return nt.current.useId()};X.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return nt.current.useMemo(e,t)};X.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};X.useRef=function(e){return nt.current.useRef(e)};X.useState=function(e){return nt.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return nt.current.useTransition()};X.version="18.3.1";S_.exports=X;var S=S_.exports;const wP=w_(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP=S,SP=Symbol.for("react.element"),_P=Symbol.for("react.fragment"),kP=Object.prototype.hasOwnProperty,EP=bP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CP={key:!0,ref:!0,__self:!0,__source:!0};function R_(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)kP.call(t,r)&&!CP.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:SP,type:e,key:s,ref:a,props:i,_owner:EP.current}}To.Fragment=_P;To.jsx=R_;To.jsxs=R_;b_.exports=To;var h=b_.exports,sp={},M_={exports:{}},wt={},A_={exports:{}},I_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,D){var V=I.length;I.push(D);e:for(;0<V;){var Y=V-1>>>1,H=I[Y];if(0<i(H,D))I[Y]=D,I[V]=H,V=Y;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var D=I[0],V=I.pop();if(V!==D){I[0]=V;e:for(var Y=0,H=I.length,Se=H>>>1;Y<Se;){var O=2*(Y+1)-1,ce=I[O],ye=O+1,Ie=I[ye];if(0>i(ce,V))ye<H&&0>i(Ie,ce)?(I[Y]=Ie,I[ye]=V,Y=ye):(I[Y]=ce,I[O]=V,Y=O);else if(ye<H&&0>i(Ie,V))I[Y]=Ie,I[ye]=V,Y=ye;else break e}}return D}function i(I,D){var V=I.sortIndex-D.sortIndex;return V!==0?V:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,m=!1,g=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=I)r(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(u)}}function b(I){if(p=!1,x(I),!g)if(n(l)!==null)g=!0,re(_);else{var D=n(u);D!==null&&ee(b,D.startTime-I)}}function _(I,D){g=!1,p&&(p=!1,v(C),C=-1),m=!0;var V=f;try{for(x(D),d=n(l);d!==null&&(!(d.expirationTime>D)||I&&!R());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var H=Y(d.expirationTime<=D);D=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),x(D)}else r(l);d=n(l)}if(d!==null)var Se=!0;else{var O=n(u);O!==null&&ee(b,O.startTime-D),Se=!1}return Se}finally{d=null,f=V,m=!1}}var E=!1,k=null,C=-1,N=5,A=-1;function R(){return!(e.unstable_now()-A<N)}function $(){if(k!==null){var I=e.unstable_now();A=I;var D=!0;try{D=k(!0,I)}finally{D?J():(E=!1,k=null)}}else E=!1}var J;if(typeof y=="function")J=function(){y($)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,z=fe.port2;fe.port1.onmessage=$,J=function(){z.postMessage(null)}}else J=function(){w($,0)};function re(I){k=I,E||(E=!0,J())}function ee(I,D){C=w(function(){I(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,re(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var V=f;f=D;try{return I()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=f;f=I;try{return D()}finally{f=V}},e.unstable_scheduleCallback=function(I,D,V){var Y=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,I={id:c++,callback:D,priorityLevel:I,startTime:V,expirationTime:H,sortIndex:-1},V>Y?(I.sortIndex=V,t(u,I),n(l)===null&&I===n(u)&&(p?(v(C),C=-1):p=!0,ee(b,V-Y))):(I.sortIndex=H,t(l,I),g||m||(g=!0,re(_))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var D=f;return function(){var V=f;f=D;try{return I.apply(this,arguments)}finally{f=V}}}})(I_);A_.exports=I_;var TP=A_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP=S,yt=TP;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D_=new Set,ys={};function _r(e,t){li(e,t),li(e+"Capture",t)}function li(e,t){for(ys[e]=t,e=0;e<t.length;e++)D_.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ap=Object.prototype.hasOwnProperty,PP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jg={},Pg={};function NP(e){return ap.call(Pg,e)?!0:ap.call(jg,e)?!1:PP.test(e)?Pg[e]=!0:(jg[e]=!0,!1)}function RP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MP(e,t,n,r){if(t===null||typeof t>"u"||RP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function km(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,km);He[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,km);He[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,km);He[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Em(e,t,n,r){var i=He.hasOwnProperty(t)?He[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MP(t,n,i,r)&&(n=null),r||i===null?NP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _n=jP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oa=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),up=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),q_=Symbol.for("react.offscreen"),Ng=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=Ng&&e[Ng]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Cl;function Hi(e){if(Cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cl=t&&t[1]||""}return`
`+Cl+e}var Tl=!1;function jl(e,t){if(!e||Tl)return"";Tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hi(e):""}function AP(e){switch(e.tag){case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return e=jl(e.type,!1),e;case 11:return e=jl(e.type.render,!1),e;case 1:return e=jl(e.type,!0),e;default:return""}}function cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vr:return"Fragment";case Fr:return"Portal";case op:return"Profiler";case Cm:return"StrictMode";case lp:return"Suspense";case up:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O_:return(e.displayName||"Context")+".Consumer";case L_:return(e._context.displayName||"Context")+".Provider";case Tm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jm:return t=e.displayName||null,t!==null?t:cp(e.type)||"Memo";case Nn:t=e._payload,e=e._init;try{return cp(e(t))}catch{}}return null}function IP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cp(t);case 8:return t===Cm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DP(e){var t=F_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function la(e){e._valueTracker||(e._valueTracker=DP(e))}function V_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=F_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dp(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Rg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function B_(e,t){t=t.checked,t!=null&&Em(e,"checked",t,!1)}function fp(e,t){B_(e,t);var n=Hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hp(e,t.type,n):t.hasOwnProperty("defaultValue")&&hp(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hp(e,t,n){(t!=="number"||Ga(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ki=Array.isArray;function ni(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function pp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ag(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Ki(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function $_(e,t){var n=Hn(t.value),r=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ig(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function U_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?U_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ua,z_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ua=ua||document.createElement("div"),ua.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ua.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LP=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(e){LP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ss[t]=ss[e]})});function G_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ss.hasOwnProperty(e)&&ss[e]?(""+t).trim():t+"px"}function H_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=G_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var OP=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vp(e,t){if(t){if(OP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=null;function Pm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xp=null,ri=null,ii=null;function Dg(e){if(e=Us(e)){if(typeof xp!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Mo(t),xp(e.stateNode,e.type,t))}}function K_(e){ri?ii?ii.push(e):ii=[e]:ri=e}function W_(){if(ri){var e=ri,t=ii;if(ii=ri=null,Dg(e),t)for(e=0;e<t.length;e++)Dg(t[e])}}function Y_(e,t){return e(t)}function Q_(){}var Pl=!1;function X_(e,t,n){if(Pl)return e(t,n);Pl=!0;try{return Y_(e,t,n)}finally{Pl=!1,(ri!==null||ii!==null)&&(Q_(),W_())}}function ws(e,t){var n=e.stateNode;if(n===null)return null;var r=Mo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var wp=!1;if(gn)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){wp=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{wp=!1}function qP(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var as=!1,Ha=null,Ka=!1,bp=null,FP={onError:function(e){as=!0,Ha=e}};function VP(e,t,n,r,i,s,a,o,l){as=!1,Ha=null,qP.apply(FP,arguments)}function BP(e,t,n,r,i,s,a,o,l){if(VP.apply(this,arguments),as){if(as){var u=Ha;as=!1,Ha=null}else throw Error(M(198));Ka||(Ka=!0,bp=u)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function J_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lg(e){if(kr(e)!==e)throw Error(M(188))}function $P(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Lg(i),e;if(s===r)return Lg(i),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Z_(e){return e=$P(e),e!==null?ek(e):null}function ek(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ek(e);if(t!==null)return t;e=e.sibling}return null}var tk=yt.unstable_scheduleCallback,Og=yt.unstable_cancelCallback,UP=yt.unstable_shouldYield,zP=yt.unstable_requestPaint,Ae=yt.unstable_now,GP=yt.unstable_getCurrentPriorityLevel,Nm=yt.unstable_ImmediatePriority,nk=yt.unstable_UserBlockingPriority,Wa=yt.unstable_NormalPriority,HP=yt.unstable_LowPriority,rk=yt.unstable_IdlePriority,jo=null,Jt=null;function KP(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(jo,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:QP,WP=Math.log,YP=Math.LN2;function QP(e){return e>>>=0,e===0?32:31-(WP(e)/YP|0)|0}var ca=64,da=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ya(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Wi(o):(s&=a,s!==0&&(r=Wi(s)))}else a=n&~i,a!==0?r=Wi(a):s!==0&&(r=Wi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),i=1<<n,r|=e[n],t&=~i;return r}function XP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Bt(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=XP(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Sp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ik(){var e=ca;return ca<<=1,!(ca&4194240)&&(ca=64),e}function Nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function ZP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Bt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Rm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ue=0;function sk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ak,Mm,ok,lk,uk,_p=!1,fa=[],On=null,qn=null,Fn=null,bs=new Map,Ss=new Map,Mn=[],eN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qg(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(t.pointerId)}}function Oi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Us(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tN(e,t,n,r,i){switch(t){case"focusin":return On=Oi(On,e,t,n,r,i),!0;case"dragenter":return qn=Oi(qn,e,t,n,r,i),!0;case"mouseover":return Fn=Oi(Fn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return bs.set(s,Oi(bs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ss.set(s,Oi(Ss.get(s)||null,e,t,n,r,i)),!0}return!1}function ck(e){var t=ur(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=J_(n),t!==null){e.blockedOn=t,uk(e.priority,function(){ok(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ma(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yp=r,n.target.dispatchEvent(r),yp=null}else return t=Us(n),t!==null&&Mm(t),e.blockedOn=n,!1;t.shift()}return!0}function Fg(e,t,n){Ma(e)&&n.delete(t)}function nN(){_p=!1,On!==null&&Ma(On)&&(On=null),qn!==null&&Ma(qn)&&(qn=null),Fn!==null&&Ma(Fn)&&(Fn=null),bs.forEach(Fg),Ss.forEach(Fg)}function qi(e,t){e.blockedOn===t&&(e.blockedOn=null,_p||(_p=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,nN)))}function _s(e){function t(i){return qi(i,e)}if(0<fa.length){qi(fa[0],e);for(var n=1;n<fa.length;n++){var r=fa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(On!==null&&qi(On,e),qn!==null&&qi(qn,e),Fn!==null&&qi(Fn,e),bs.forEach(t),Ss.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)ck(n),n.blockedOn===null&&Mn.shift()}var si=_n.ReactCurrentBatchConfig,Qa=!0;function rN(e,t,n,r){var i=ue,s=si.transition;si.transition=null;try{ue=1,Am(e,t,n,r)}finally{ue=i,si.transition=s}}function iN(e,t,n,r){var i=ue,s=si.transition;si.transition=null;try{ue=4,Am(e,t,n,r)}finally{ue=i,si.transition=s}}function Am(e,t,n,r){if(Qa){var i=kp(e,t,n,r);if(i===null)Vl(e,t,r,Xa,n),qg(e,r);else if(tN(i,e,t,n,r))r.stopPropagation();else if(qg(e,r),t&4&&-1<eN.indexOf(e)){for(;i!==null;){var s=Us(i);if(s!==null&&ak(s),s=kp(e,t,n,r),s===null&&Vl(e,t,r,Xa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vl(e,t,r,null,n)}}var Xa=null;function kp(e,t,n,r){if(Xa=null,e=Pm(r),e=ur(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=J_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xa=e,null}function dk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GP()){case Nm:return 1;case nk:return 4;case Wa:case HP:return 16;case rk:return 536870912;default:return 16}default:return 16}}var Dn=null,Im=null,Aa=null;function fk(){if(Aa)return Aa;var e,t=Im,n=t.length,r,i="value"in Dn?Dn.value:Dn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Aa=i.slice(e,1<r?1-r:void 0)}function Ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function Vg(){return!1}function bt(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ha:Vg,this.isPropagationStopped=Vg,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),t}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=bt(xi),$s=Te({},xi,{view:0,detail:0}),sN=bt($s),Rl,Ml,Fi,Po=Te({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(Rl=e.screenX-Fi.screenX,Ml=e.screenY-Fi.screenY):Ml=Rl=0,Fi=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Ml}}),Bg=bt(Po),aN=Te({},Po,{dataTransfer:0}),oN=bt(aN),lN=Te({},$s,{relatedTarget:0}),Al=bt(lN),uN=Te({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),cN=bt(uN),dN=Te({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fN=bt(dN),hN=Te({},xi,{data:0}),$g=bt(hN),pN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vN[e])?!!t[e]:!1}function Lm(){return gN}var yN=Te({},$s,{key:function(e){if(e.key){var t=pN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(e){return e.type==="keypress"?Ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xN=bt(yN),wN=Te({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ug=bt(wN),bN=Te({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),SN=bt(bN),_N=Te({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kN=bt(_N),EN=Te({},Po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CN=bt(EN),TN=[9,13,27,32],Om=gn&&"CompositionEvent"in window,os=null;gn&&"documentMode"in document&&(os=document.documentMode);var jN=gn&&"TextEvent"in window&&!os,hk=gn&&(!Om||os&&8<os&&11>=os),zg=" ",Gg=!1;function pk(e,t){switch(e){case"keyup":return TN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function PN(e,t){switch(e){case"compositionend":return mk(t);case"keypress":return t.which!==32?null:(Gg=!0,zg);case"textInput":return e=t.data,e===zg&&Gg?null:e;default:return null}}function NN(e,t){if(Br)return e==="compositionend"||!Om&&pk(e,t)?(e=fk(),Aa=Im=Dn=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hk&&t.locale!=="ko"?null:t.data;default:return null}}var RN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RN[e.type]:t==="textarea"}function vk(e,t,n,r){K_(r),t=Ja(t,"onChange"),0<t.length&&(n=new Dm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ls=null,ks=null;function MN(e){Tk(e,0)}function No(e){var t=zr(e);if(V_(t))return e}function AN(e,t){if(e==="change")return t}var gk=!1;if(gn){var Il;if(gn){var Dl="oninput"in document;if(!Dl){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Dl=typeof Kg.oninput=="function"}Il=Dl}else Il=!1;gk=Il&&(!document.documentMode||9<document.documentMode)}function Wg(){ls&&(ls.detachEvent("onpropertychange",yk),ks=ls=null)}function yk(e){if(e.propertyName==="value"&&No(ks)){var t=[];vk(t,ks,e,Pm(e)),X_(MN,t)}}function IN(e,t,n){e==="focusin"?(Wg(),ls=t,ks=n,ls.attachEvent("onpropertychange",yk)):e==="focusout"&&Wg()}function DN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return No(ks)}function LN(e,t){if(e==="click")return No(t)}function ON(e,t){if(e==="input"||e==="change")return No(t)}function qN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:qN;function Es(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ap.call(t,i)||!Ut(e[i],t[i]))return!1}return!0}function Yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,t){var n=Yg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yg(n)}}function xk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wk(){for(var e=window,t=Ga();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ga(e.document)}return t}function qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FN(e){var t=wk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xk(n.ownerDocument.documentElement,n)){if(r!==null&&qm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Qg(n,s);var a=Qg(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VN=gn&&"documentMode"in document&&11>=document.documentMode,$r=null,Ep=null,us=null,Cp=!1;function Xg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cp||$r==null||$r!==Ga(r)||(r=$r,"selectionStart"in r&&qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),us&&Es(us,r)||(us=r,r=Ja(Ep,"onSelect"),0<r.length&&(t=new Dm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=$r)))}function pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ur={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},Ll={},bk={};gn&&(bk=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Ro(e){if(Ll[e])return Ll[e];if(!Ur[e])return e;var t=Ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bk)return Ll[e]=t[n];return e}var Sk=Ro("animationend"),_k=Ro("animationiteration"),kk=Ro("animationstart"),Ek=Ro("transitionend"),Ck=new Map,Jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){Ck.set(e,t),_r(t,[e])}for(var Ol=0;Ol<Jg.length;Ol++){var ql=Jg[Ol],BN=ql.toLowerCase(),$N=ql[0].toUpperCase()+ql.slice(1);Xn(BN,"on"+$N)}Xn(Sk,"onAnimationEnd");Xn(_k,"onAnimationIteration");Xn(kk,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Ek,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function Zg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BP(r,t,void 0,e),e.currentTarget=null}function Tk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Zg(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Zg(i,o,u),s=l}}}if(Ka)throw e=bp,Ka=!1,bp=null,e}function me(e,t){var n=t[Rp];n===void 0&&(n=t[Rp]=new Set);var r=e+"__bubble";n.has(r)||(jk(t,e,2,!1),n.add(r))}function Fl(e,t,n){var r=0;t&&(r|=4),jk(n,e,r,t)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Cs(e){if(!e[ma]){e[ma]=!0,D_.forEach(function(n){n!=="selectionchange"&&(UN.has(n)||Fl(n,!1,e),Fl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ma]||(t[ma]=!0,Fl("selectionchange",!1,t))}}function jk(e,t,n,r){switch(dk(t)){case 1:var i=rN;break;case 4:i=iN;break;default:i=Am}n=i.bind(null,t,n,e),i=void 0,!wp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ur(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}X_(function(){var u=s,c=Pm(n),d=[];e:{var f=Ck.get(e);if(f!==void 0){var m=Dm,g=e;switch(e){case"keypress":if(Ia(n)===0)break e;case"keydown":case"keyup":m=xN;break;case"focusin":g="focus",m=Al;break;case"focusout":g="blur",m=Al;break;case"beforeblur":case"afterblur":m=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=SN;break;case Sk:case _k:case kk:m=cN;break;case Ek:m=kN;break;case"scroll":m=sN;break;case"wheel":m=CN;break;case"copy":case"cut":case"paste":m=fN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ug}var p=(t&4)!==0,w=!p&&e==="scroll",v=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=ws(y,v),b!=null&&p.push(Ts(y,b,x)))),w)break;y=y.return}0<p.length&&(f=new m(f,g,null,n,c),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==yp&&(g=n.relatedTarget||n.fromElement)&&(ur(g)||g[yn]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?ur(g):null,g!==null&&(w=kr(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=Bg,b="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=Ug,b="onPointerLeave",v="onPointerEnter",y="pointer"),w=m==null?f:zr(m),x=g==null?f:zr(g),f=new p(b,y+"leave",m,n,c),f.target=w,f.relatedTarget=x,b=null,ur(c)===u&&(p=new p(v,y+"enter",g,n,c),p.target=x,p.relatedTarget=w,b=p),w=b,m&&g)t:{for(p=m,v=g,y=0,x=p;x;x=Or(x))y++;for(x=0,b=v;b;b=Or(b))x++;for(;0<y-x;)p=Or(p),y--;for(;0<x-y;)v=Or(v),x--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=Or(p),v=Or(v)}p=null}else p=null;m!==null&&ey(d,f,m,p,!1),g!==null&&w!==null&&ey(d,w,g,p,!0)}}e:{if(f=u?zr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=AN;else if(Hg(f))if(gk)_=ON;else{_=DN;var E=IN}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=LN);if(_&&(_=_(e,u))){vk(d,_,n,c);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&hp(f,"number",f.value)}switch(E=u?zr(u):window,e){case"focusin":(Hg(E)||E.contentEditable==="true")&&($r=E,Ep=u,us=null);break;case"focusout":us=Ep=$r=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,Xg(d,n,c);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":Xg(d,n,c)}var k;if(Om)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Br?pk(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(hk&&n.locale!=="ko"&&(Br||C!=="onCompositionStart"?C==="onCompositionEnd"&&Br&&(k=fk()):(Dn=c,Im="value"in Dn?Dn.value:Dn.textContent,Br=!0)),E=Ja(u,C),0<E.length&&(C=new $g(C,e,null,n,c),d.push({event:C,listeners:E}),k?C.data=k:(k=mk(n),k!==null&&(C.data=k)))),(k=jN?PN(e,n):NN(e,n))&&(u=Ja(u,"onBeforeInput"),0<u.length&&(c=new $g("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}Tk(d,t)})}function Ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ja(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ws(e,n),s!=null&&r.unshift(Ts(e,s,i)),s=ws(e,t),s!=null&&r.push(Ts(e,s,i))),e=e.return}return r}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ey(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=ws(n,s),l!=null&&a.unshift(Ts(n,l,o))):i||(l=ws(n,s),l!=null&&a.push(Ts(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var zN=/\r\n?/g,GN=/\u0000|\uFFFD/g;function ty(e){return(typeof e=="string"?e:""+e).replace(zN,`
`).replace(GN,"")}function va(e,t,n){if(t=ty(t),ty(e)!==t&&n)throw Error(M(425))}function Za(){}var Tp=null,jp=null;function Pp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,HN=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,KN=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(e){return ny.resolve(null).then(e).catch(WN)}:Np;function WN(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),_s(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_s(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ry(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+wi,js="__reactProps$"+wi,yn="__reactContainer$"+wi,Rp="__reactEvents$"+wi,YN="__reactListeners$"+wi,QN="__reactHandles$"+wi;function ur(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ry(e);e!==null;){if(n=e[Qt])return n;e=ry(e)}return t}e=n,n=e.parentNode}return null}function Us(e){return e=e[Qt]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Mo(e){return e[js]||null}var Mp=[],Gr=-1;function Jn(e){return{current:e}}function ve(e){0>Gr||(e.current=Mp[Gr],Mp[Gr]=null,Gr--)}function pe(e,t){Gr++,Mp[Gr]=e.current,e.current=t}var Kn={},Ze=Jn(Kn),at=Jn(!1),yr=Kn;function ui(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ot(e){return e=e.childContextTypes,e!=null}function eo(){ve(at),ve(Ze)}function iy(e,t,n){if(Ze.current!==Kn)throw Error(M(168));pe(Ze,t),pe(at,n)}function Pk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(M(108,IP(e)||"Unknown",i));return Te({},n,r)}function to(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,yr=Ze.current,pe(Ze,e),pe(at,at.current),!0}function sy(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Pk(e,t,yr),r.__reactInternalMemoizedMergedChildContext=e,ve(at),ve(Ze),pe(Ze,e)):ve(at),pe(at,n)}var ln=null,Ao=!1,$l=!1;function Nk(e){ln===null?ln=[e]:ln.push(e)}function XN(e){Ao=!0,Nk(e)}function Zn(){if(!$l&&ln!==null){$l=!0;var e=0,t=ue;try{var n=ln;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Ao=!1}catch(i){throw ln!==null&&(ln=ln.slice(e+1)),tk(Nm,Zn),i}finally{ue=t,$l=!1}}return null}var Hr=[],Kr=0,no=null,ro=0,Ct=[],Tt=0,xr=null,cn=1,dn="";function sr(e,t){Hr[Kr++]=ro,Hr[Kr++]=no,no=e,ro=t}function Rk(e,t,n){Ct[Tt++]=cn,Ct[Tt++]=dn,Ct[Tt++]=xr,xr=e;var r=cn;e=dn;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var s=32-Bt(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,cn=1<<32-Bt(t)+i|n<<i|r,dn=s+e}else cn=1<<s|n<<i|r,dn=e}function Fm(e){e.return!==null&&(sr(e,1),Rk(e,1,0))}function Vm(e){for(;e===no;)no=Hr[--Kr],Hr[Kr]=null,ro=Hr[--Kr],Hr[Kr]=null;for(;e===xr;)xr=Ct[--Tt],Ct[Tt]=null,dn=Ct[--Tt],Ct[Tt]=null,cn=Ct[--Tt],Ct[Tt]=null}var vt=null,mt=null,we=!1,Vt=null;function Mk(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ay(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,mt=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,mt=null,!0):!1;default:return!1}}function Ap(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ip(e){if(we){var t=mt;if(t){var n=t;if(!ay(e,t)){if(Ap(e))throw Error(M(418));t=Vn(n.nextSibling);var r=vt;t&&ay(e,t)?Mk(r,n):(e.flags=e.flags&-4097|2,we=!1,vt=e)}}else{if(Ap(e))throw Error(M(418));e.flags=e.flags&-4097|2,we=!1,vt=e}}}function oy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function ga(e){if(e!==vt)return!1;if(!we)return oy(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pp(e.type,e.memoizedProps)),t&&(t=mt)){if(Ap(e))throw Ak(),Error(M(418));for(;t;)Mk(e,t),t=Vn(t.nextSibling)}if(oy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=Vn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=vt?Vn(e.stateNode.nextSibling):null;return!0}function Ak(){for(var e=mt;e;)e=Vn(e.nextSibling)}function ci(){mt=vt=null,we=!1}function Bm(e){Vt===null?Vt=[e]:Vt.push(e)}var JN=_n.ReactCurrentBatchConfig;function Vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ly(e){var t=e._init;return t(e._payload)}function Ik(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=zn(v,y),v.index=0,v.sibling=null,v}function s(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,y,x,b){return y===null||y.tag!==6?(y=Yl(x,v.mode,b),y.return=v,y):(y=i(y,x),y.return=v,y)}function l(v,y,x,b){var _=x.type;return _===Vr?c(v,y,x.props.children,b,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nn&&ly(_)===y.type)?(b=i(y,x.props),b.ref=Vi(v,y,x),b.return=v,b):(b=Ba(x.type,x.key,x.props,null,v.mode,b),b.ref=Vi(v,y,x),b.return=v,b)}function u(v,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Ql(x,v.mode,b),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function c(v,y,x,b,_){return y===null||y.tag!==7?(y=mr(x,v.mode,b,_),y.return=v,y):(y=i(y,x),y.return=v,y)}function d(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Yl(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case oa:return x=Ba(y.type,y.key,y.props,null,v.mode,x),x.ref=Vi(v,null,y),x.return=v,x;case Fr:return y=Ql(y,v.mode,x),y.return=v,y;case Nn:var b=y._init;return d(v,b(y._payload),x)}if(Ki(y)||Di(y))return y=mr(y,v.mode,x,null),y.return=v,y;ya(v,y)}return null}function f(v,y,x,b){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(v,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oa:return x.key===_?l(v,y,x,b):null;case Fr:return x.key===_?u(v,y,x,b):null;case Nn:return _=x._init,f(v,y,_(x._payload),b)}if(Ki(x)||Di(x))return _!==null?null:c(v,y,x,b,null);ya(v,x)}return null}function m(v,y,x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,o(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case oa:return v=v.get(b.key===null?x:b.key)||null,l(y,v,b,_);case Fr:return v=v.get(b.key===null?x:b.key)||null,u(y,v,b,_);case Nn:var E=b._init;return m(v,y,x,E(b._payload),_)}if(Ki(b)||Di(b))return v=v.get(x)||null,c(y,v,b,_,null);ya(y,b)}return null}function g(v,y,x,b){for(var _=null,E=null,k=y,C=y=0,N=null;k!==null&&C<x.length;C++){k.index>C?(N=k,k=null):N=k.sibling;var A=f(v,k,x[C],b);if(A===null){k===null&&(k=N);break}e&&k&&A.alternate===null&&t(v,k),y=s(A,y,C),E===null?_=A:E.sibling=A,E=A,k=N}if(C===x.length)return n(v,k),we&&sr(v,C),_;if(k===null){for(;C<x.length;C++)k=d(v,x[C],b),k!==null&&(y=s(k,y,C),E===null?_=k:E.sibling=k,E=k);return we&&sr(v,C),_}for(k=r(v,k);C<x.length;C++)N=m(k,v,C,x[C],b),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?C:N.key),y=s(N,y,C),E===null?_=N:E.sibling=N,E=N);return e&&k.forEach(function(R){return t(v,R)}),we&&sr(v,C),_}function p(v,y,x,b){var _=Di(x);if(typeof _!="function")throw Error(M(150));if(x=_.call(x),x==null)throw Error(M(151));for(var E=_=null,k=y,C=y=0,N=null,A=x.next();k!==null&&!A.done;C++,A=x.next()){k.index>C?(N=k,k=null):N=k.sibling;var R=f(v,k,A.value,b);if(R===null){k===null&&(k=N);break}e&&k&&R.alternate===null&&t(v,k),y=s(R,y,C),E===null?_=R:E.sibling=R,E=R,k=N}if(A.done)return n(v,k),we&&sr(v,C),_;if(k===null){for(;!A.done;C++,A=x.next())A=d(v,A.value,b),A!==null&&(y=s(A,y,C),E===null?_=A:E.sibling=A,E=A);return we&&sr(v,C),_}for(k=r(v,k);!A.done;C++,A=x.next())A=m(k,v,C,A.value,b),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?C:A.key),y=s(A,y,C),E===null?_=A:E.sibling=A,E=A);return e&&k.forEach(function($){return t(v,$)}),we&&sr(v,C),_}function w(v,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Vr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case oa:e:{for(var _=x.key,E=y;E!==null;){if(E.key===_){if(_=x.type,_===Vr){if(E.tag===7){n(v,E.sibling),y=i(E,x.props.children),y.return=v,v=y;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nn&&ly(_)===E.type){n(v,E.sibling),y=i(E,x.props),y.ref=Vi(v,E,x),y.return=v,v=y;break e}n(v,E);break}else t(v,E);E=E.sibling}x.type===Vr?(y=mr(x.props.children,v.mode,b,x.key),y.return=v,v=y):(b=Ba(x.type,x.key,x.props,null,v.mode,b),b.ref=Vi(v,y,x),b.return=v,v=b)}return a(v);case Fr:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Ql(x,v.mode,b),y.return=v,v=y}return a(v);case Nn:return E=x._init,w(v,y,E(x._payload),b)}if(Ki(x))return g(v,y,x,b);if(Di(x))return p(v,y,x,b);ya(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,x),y.return=v,v=y):(n(v,y),y=Yl(x,v.mode,b),y.return=v,v=y),a(v)):n(v,y)}return w}var di=Ik(!0),Dk=Ik(!1),io=Jn(null),so=null,Wr=null,$m=null;function Um(){$m=Wr=so=null}function zm(e){var t=io.current;ve(io),e._currentValue=t}function Dp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ai(e,t){so=e,$m=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if($m!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(so===null)throw Error(M(308));Wr=e,so.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var cr=null;function Gm(e){cr===null?cr=[e]:cr.push(e)}function Lk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Gm(t)):(n.next=i.next,i.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function Hm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ok(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xn(e,n)}return i=r.interleaved,i===null?(t.next=t,Gm(r)):(t.next=i.next,i.next=t),r.interleaved=t,xn(e,n)}function Da(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rm(e,n)}}function uy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ao(e,t,n,r){var i=e.updateQueue;Rn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane,m=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,p=o;switch(f=t,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=Te({},d,f);break e;case 2:Rn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);br|=a,e.lanes=a,e.memoizedState=d}}function cy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var zs={},Zt=Jn(zs),Ps=Jn(zs),Ns=Jn(zs);function dr(e){if(e===zs)throw Error(M(174));return e}function Km(e,t){switch(pe(Ns,t),pe(Ps,e),pe(Zt,zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mp(t,e)}ve(Zt),pe(Zt,t)}function fi(){ve(Zt),ve(Ps),ve(Ns)}function qk(e){dr(Ns.current);var t=dr(Zt.current),n=mp(t,e.type);t!==n&&(pe(Ps,e),pe(Zt,n))}function Wm(e){Ps.current===e&&(ve(Zt),ve(Ps))}var ke=Jn(0);function oo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ul=[];function Ym(){for(var e=0;e<Ul.length;e++)Ul[e]._workInProgressVersionPrimary=null;Ul.length=0}var La=_n.ReactCurrentDispatcher,zl=_n.ReactCurrentBatchConfig,wr=0,Ce=null,Fe=null,Be=null,lo=!1,cs=!1,Rs=0,ZN=0;function We(){throw Error(M(321))}function Qm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Xm(e,t,n,r,i,s){if(wr=s,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,La.current=e===null||e.memoizedState===null?rR:iR,e=n(r,i),cs){s=0;do{if(cs=!1,Rs=0,25<=s)throw Error(M(301));s+=1,Be=Fe=null,t.updateQueue=null,La.current=sR,e=n(r,i)}while(cs)}if(La.current=uo,t=Fe!==null&&Fe.next!==null,wr=0,Be=Fe=Ce=null,lo=!1,t)throw Error(M(300));return e}function Jm(){var e=Rs!==0;return Rs=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ce.memoizedState=Be=e:Be=Be.next=e,Be}function Rt(){if(Fe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Be===null?Ce.memoizedState:Be.next;if(t!==null)Be=t,Fe=e;else{if(e===null)throw Error(M(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Be===null?Ce.memoizedState=Be=e:Be=Be.next=e}return Be}function Ms(e,t){return typeof t=="function"?t(e):t}function Gl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Fe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((wr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,Ce.lanes|=c,br|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ut(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ce.lanes|=s,br|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Ut(s,t.memoizedState)||(st=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Fk(){}function Vk(e,t){var n=Ce,r=Rt(),i=t(),s=!Ut(r.memoizedState,i);if(s&&(r.memoizedState=i,st=!0),r=r.queue,Zm(Uk.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,As(9,$k.bind(null,n,r,i,t),void 0,null),$e===null)throw Error(M(349));wr&30||Bk(n,t,i)}return i}function Bk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $k(e,t,n,r){t.value=n,t.getSnapshot=r,zk(t)&&Gk(e)}function Uk(e,t,n){return n(function(){zk(t)&&Gk(e)})}function zk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Gk(e){var t=xn(e,1);t!==null&&$t(t,e,1,-1)}function dy(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:e},t.queue=e,e=e.dispatch=nR.bind(null,Ce,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hk(){return Rt().memoizedState}function Oa(e,t,n,r){var i=Yt();Ce.flags|=e,i.memoizedState=As(1|t,n,void 0,r===void 0?null:r)}function Io(e,t,n,r){var i=Rt();r=r===void 0?null:r;var s=void 0;if(Fe!==null){var a=Fe.memoizedState;if(s=a.destroy,r!==null&&Qm(r,a.deps)){i.memoizedState=As(t,n,s,r);return}}Ce.flags|=e,i.memoizedState=As(1|t,n,s,r)}function fy(e,t){return Oa(8390656,8,e,t)}function Zm(e,t){return Io(2048,8,e,t)}function Kk(e,t){return Io(4,2,e,t)}function Wk(e,t){return Io(4,4,e,t)}function Yk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qk(e,t,n){return n=n!=null?n.concat([e]):null,Io(4,4,Yk.bind(null,t,e),n)}function ev(){}function Xk(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jk(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zk(e,t,n){return wr&21?(Ut(n,t)||(n=ik(),Ce.lanes|=n,br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function eR(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=zl.transition;zl.transition={};try{e(!1),t()}finally{ue=n,zl.transition=r}}function eE(){return Rt().memoizedState}function tR(e,t,n){var r=Un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tE(e))nE(t,n);else if(n=Lk(e,t,n,r),n!==null){var i=tt();$t(n,e,r,i),rE(n,t,r)}}function nR(e,t,n){var r=Un(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tE(e))nE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ut(o,a)){var l=t.interleaved;l===null?(i.next=i,Gm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Lk(e,t,i,r),n!==null&&(i=tt(),$t(n,e,r,i),rE(n,t,r))}}function tE(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function nE(e,t){cs=lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rm(e,n)}}var uo={readContext:Nt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},rR={readContext:Nt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:fy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oa(4194308,4,Yk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tR.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:dy,useDebugValue:ev,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=dy(!1),t=e[0];return e=eR.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,i=Yt();if(we){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),$e===null)throw Error(M(349));wr&30||Bk(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,fy(Uk.bind(null,r,s,e),[e]),r.flags|=2048,As(9,$k.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Yt(),t=$e.identifierPrefix;if(we){var n=dn,r=cn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iR={readContext:Nt,useCallback:Xk,useContext:Nt,useEffect:Zm,useImperativeHandle:Qk,useInsertionEffect:Kk,useLayoutEffect:Wk,useMemo:Jk,useReducer:Gl,useRef:Hk,useState:function(){return Gl(Ms)},useDebugValue:ev,useDeferredValue:function(e){var t=Rt();return Zk(t,Fe.memoizedState,e)},useTransition:function(){var e=Gl(Ms)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Fk,useSyncExternalStore:Vk,useId:eE,unstable_isNewReconciler:!1},sR={readContext:Nt,useCallback:Xk,useContext:Nt,useEffect:Zm,useImperativeHandle:Qk,useInsertionEffect:Kk,useLayoutEffect:Wk,useMemo:Jk,useReducer:Hl,useRef:Hk,useState:function(){return Hl(Ms)},useDebugValue:ev,useDeferredValue:function(e){var t=Rt();return Fe===null?t.memoizedState=e:Zk(t,Fe.memoizedState,e)},useTransition:function(){var e=Hl(Ms)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Fk,useSyncExternalStore:Vk,useId:eE,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Do={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Un(e),s=pn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Bn(e,s,i),t!==null&&($t(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),i=Un(e),s=pn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Bn(e,s,i),t!==null&&($t(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=Un(e),i=pn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Bn(e,i,r),t!==null&&($t(t,e,r,n),Da(t,e,r))}};function hy(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Es(n,r)||!Es(i,s):!0}function iE(e,t,n){var r=!1,i=Kn,s=t.contextType;return typeof s=="object"&&s!==null?s=Nt(s):(i=ot(t)?yr:Ze.current,r=t.contextTypes,s=(r=r!=null)?ui(e,i):Kn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Do,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function py(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function Op(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Nt(s):(s=ot(t)?yr:Ze.current,i.context=ui(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Lp(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Do.enqueueReplaceState(i,i.state,null),ao(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hi(e,t){try{var n="",r=t;do n+=AP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aR=typeof WeakMap=="function"?WeakMap:Map;function sE(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fo||(fo=!0,Wp=r),qp(e,t)},n}function aE(e,t,n){n=pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){qp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qp(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function my(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new aR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wR.bind(null,e,t,n),t.then(e,e))}function vy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,Bn(n,t,1))),n.lanes|=1),e)}var oR=_n.ReactCurrentOwner,st=!1;function et(e,t,n,r){t.child=e===null?Dk(t,null,n,r):di(t,e.child,n,r)}function yy(e,t,n,r,i){n=n.render;var s=t.ref;return ai(t,i),r=Xm(e,t,n,r,s,i),n=Jm(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(we&&n&&Fm(t),t.flags|=1,et(e,t,r,i),t.child)}function xy(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!lv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,oE(e,t,s,r,i)):(e=Ba(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Es,n(a,r)&&e.ref===t.ref)return wn(e,t,i)}return t.flags|=1,e=zn(s,r),e.ref=t.ref,e.return=t,t.child=e}function oE(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Es(s,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,wn(e,t,i)}return Fp(e,t,n,r,i)}function lE(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Qr,ht),ht|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Qr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(Qr,ht),ht|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,pe(Qr,ht),ht|=r;return et(e,t,i,n),t.child}function uE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fp(e,t,n,r,i){var s=ot(n)?yr:Ze.current;return s=ui(t,s),ai(t,i),n=Xm(e,t,n,r,s,i),r=Jm(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(we&&r&&Fm(t),t.flags|=1,et(e,t,n,i),t.child)}function wy(e,t,n,r,i){if(ot(n)){var s=!0;to(t)}else s=!1;if(ai(t,i),t.stateNode===null)qa(e,t),iE(t,n,r),Op(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=ot(n)?yr:Ze.current,u=ui(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&py(t,a,r,u),Rn=!1;var f=t.memoizedState;a.state=f,ao(t,r,a,i),l=t.memoizedState,o!==r||f!==l||at.current||Rn?(typeof c=="function"&&(Lp(t,n,c,r),l=t.memoizedState),(o=Rn||hy(t,n,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ok(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ot(t.type,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=ot(n)?yr:Ze.current,l=ui(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&py(t,a,r,l),Rn=!1,f=t.memoizedState,a.state=f,ao(t,r,a,i);var g=t.memoizedState;o!==d||f!==g||at.current||Rn?(typeof m=="function"&&(Lp(t,n,m,r),g=t.memoizedState),(u=Rn||hy(t,n,u,r,f,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Vp(e,t,n,r,s,i)}function Vp(e,t,n,r,i,s){uE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&sy(t,n,!1),wn(e,t,s);r=t.stateNode,oR.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=di(t,e.child,null,s),t.child=di(t,null,o,s)):et(e,t,o,s),t.memoizedState=r.state,i&&sy(t,n,!0),t.child}function cE(e){var t=e.stateNode;t.pendingContext?iy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&iy(e,t.context,!1),Km(e,t.containerInfo)}function by(e,t,n,r,i){return ci(),Bm(i),t.flags|=256,et(e,t,n,r),t.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function $p(e){return{baseLanes:e,cachePool:null,transitions:null}}function dE(e,t,n){var r=t.pendingProps,i=ke.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pe(ke,i&1),e===null)return Ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=qo(a,r,0,null),e=mr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$p(n),t.memoizedState=Bp,e):tv(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return lR(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=zn(o,s):(s=mr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?$p(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Bp,r}return s=e.child,e=s.sibling,r=zn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tv(e,t){return t=qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xa(e,t,n,r){return r!==null&&Bm(r),di(t,e.child,null,n),e=tv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lR(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Kl(Error(M(422))),xa(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=qo({mode:"visible",children:r.children},i,0,null),s=mr(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&di(t,e.child,null,a),t.child.memoizedState=$p(a),t.memoizedState=Bp,s);if(!(t.mode&1))return xa(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(M(419)),r=Kl(s,r,void 0),xa(e,t,a,r)}if(o=(a&e.childLanes)!==0,st||o){if(r=$e,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xn(e,i),$t(r,e,i,-1))}return ov(),r=Kl(Error(M(421))),xa(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bR.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,mt=Vn(i.nextSibling),vt=t,we=!0,Vt=null,e!==null&&(Ct[Tt++]=cn,Ct[Tt++]=dn,Ct[Tt++]=xr,cn=e.id,dn=e.overflow,xr=t),t=tv(t,r.children),t.flags|=4096,t)}function Sy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Dp(e.return,t,n)}function Wl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fE(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(et(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sy(e,n,t);else if(e.tag===19)Sy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&oo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&oo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wl(t,!0,n,null,s);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uR(e,t,n){switch(t.tag){case 3:cE(t),ci();break;case 5:qk(t);break;case 1:ot(t.type)&&to(t);break;case 4:Km(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;pe(io,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?dE(e,t,n):(pe(ke,ke.current&1),e=wn(e,t,n),e!==null?e.sibling:null);pe(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,lE(e,t,n)}return wn(e,t,n)}var hE,Up,pE,mE;hE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Up=function(){};pE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,dr(Zt.current);var s=null;switch(n){case"input":i=dp(e,i),r=dp(e,r),s=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),s=[];break;case"textarea":i=pp(e,i),r=pp(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Za)}vp(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ys.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ys.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};mE=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bi(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cR(e,t,n){var r=t.pendingProps;switch(Vm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ot(t.type)&&eo(),Ye(t),null;case 3:return r=t.stateNode,fi(),ve(at),ve(Ze),Ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ga(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Xp(Vt),Vt=null))),Up(e,t),Ye(t),null;case 5:Wm(t);var i=dr(Ns.current);if(n=t.type,e!==null&&t.stateNode!=null)pE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Ye(t),null}if(e=dr(Zt.current),ga(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qt]=t,r[js]=s,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Yi.length;i++)me(Yi[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":Rg(r,s),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},me("invalid",r);break;case"textarea":Ag(r,s),me("invalid",r)}vp(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&va(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&va(r.textContent,o,e),i=["children",""+o]):ys.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&me("scroll",r)}switch(n){case"input":la(r),Mg(r,s,!0);break;case"textarea":la(r),Ig(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Za)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=U_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Qt]=t,e[js]=r,hE(e,t,!1,!1),t.stateNode=e;e:{switch(a=gp(n,r),n){case"dialog":me("cancel",e),me("close",e),i=r;break;case"iframe":case"object":case"embed":me("load",e),i=r;break;case"video":case"audio":for(i=0;i<Yi.length;i++)me(Yi[i],e);i=r;break;case"source":me("error",e),i=r;break;case"img":case"image":case"link":me("error",e),me("load",e),i=r;break;case"details":me("toggle",e),i=r;break;case"input":Rg(e,r),i=dp(e,r),me("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),me("invalid",e);break;case"textarea":Ag(e,r),i=pp(e,r),me("invalid",e);break;default:i=r}vp(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?H_(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&z_(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xs(e,l):typeof l=="number"&&xs(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ys.hasOwnProperty(s)?l!=null&&s==="onScroll"&&me("scroll",e):l!=null&&Em(e,s,l,a))}switch(n){case"input":la(e),Mg(e,r,!1);break;case"textarea":la(e),Ig(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ni(e,!!r.multiple,s,!1):r.defaultValue!=null&&ni(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)mE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=dr(Ns.current),dr(Zt.current),ga(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(s=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:va(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&va(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Ye(t),null;case 13:if(ve(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&mt!==null&&t.mode&1&&!(t.flags&128))Ak(),ci(),t.flags|=98560,s=!1;else if(s=ga(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Qt]=t}else ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),s=!1}else Vt!==null&&(Xp(Vt),Vt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ve===0&&(Ve=3):ov())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return fi(),Up(e,t),e===null&&Cs(t.stateNode.containerInfo),Ye(t),null;case 10:return zm(t.type._context),Ye(t),null;case 17:return ot(t.type)&&eo(),Ye(t),null;case 19:if(ve(ke),s=t.memoizedState,s===null)return Ye(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Bi(s,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=oo(e),a!==null){for(t.flags|=128,Bi(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(ke,ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ae()>pi&&(t.flags|=128,r=!0,Bi(s,!1),t.lanes=4194304)}else{if(!r)if(e=oo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!we)return Ye(t),null}else 2*Ae()-s.renderingStartTime>pi&&n!==1073741824&&(t.flags|=128,r=!0,Bi(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ae(),t.sibling=null,n=ke.current,pe(ke,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return av(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function dR(e,t){switch(Vm(t),t.tag){case 1:return ot(t.type)&&eo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fi(),ve(at),ve(Ze),Ym(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wm(t),null;case 13:if(ve(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(ke),null;case 4:return fi(),null;case 10:return zm(t.type._context),null;case 22:case 23:return av(),null;case 24:return null;default:return null}}var wa=!1,Xe=!1,fR=typeof WeakSet=="function"?WeakSet:Set,q=null;function Yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function zp(e,t,n){try{n()}catch(r){Re(e,t,r)}}var _y=!1;function hR(e,t){if(Tp=Qa,e=wk(),qm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(o=a),f===s&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jp={focusedElem:e,selectionRange:n},Qa=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,w=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ot(t.type,p),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(b){Re(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return g=_y,_y=!1,g}function ds(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&zp(t,n,s)}i=i.next}while(i!==r)}}function Lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vE(e){var t=e.alternate;t!==null&&(e.alternate=null,vE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[js],delete t[Rp],delete t[YN],delete t[QN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gE(e){return e.tag===5||e.tag===3||e.tag===4}function ky(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Za));else if(r!==4&&(e=e.child,e!==null))for(Hp(e,t,n),e=e.sibling;e!==null;)Hp(e,t,n),e=e.sibling}function Kp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Kp(e,t,n),e=e.sibling;e!==null;)Kp(e,t,n),e=e.sibling}var Ue=null,Ft=!1;function Tn(e,t,n){for(n=n.child;n!==null;)yE(e,t,n),n=n.sibling}function yE(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(jo,n)}catch{}switch(n.tag){case 5:Xe||Yr(n,t);case 6:var r=Ue,i=Ft;Ue=null,Tn(e,t,n),Ue=r,Ft=i,Ue!==null&&(Ft?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Ft?(e=Ue,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),_s(e)):Bl(Ue,n.stateNode));break;case 4:r=Ue,i=Ft,Ue=n.stateNode.containerInfo,Ft=!0,Tn(e,t,n),Ue=r,Ft=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&zp(n,t,a),i=i.next}while(i!==r)}Tn(e,t,n);break;case 1:if(!Xe&&(Yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Re(n,t,o)}Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,Tn(e,t,n),Xe=r):Tn(e,t,n);break;default:Tn(e,t,n)}}function Ey(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fR),t.forEach(function(r){var i=SR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ue=o.stateNode,Ft=!1;break e;case 3:Ue=o.stateNode.containerInfo,Ft=!0;break e;case 4:Ue=o.stateNode.containerInfo,Ft=!0;break e}o=o.return}if(Ue===null)throw Error(M(160));yE(s,a,i),Ue=null,Ft=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Re(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xE(t,e),t=t.sibling}function xE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Wt(e),r&4){try{ds(3,e,e.return),Lo(3,e)}catch(p){Re(e,e.return,p)}try{ds(5,e,e.return)}catch(p){Re(e,e.return,p)}}break;case 1:Dt(t,e),Wt(e),r&512&&n!==null&&Yr(n,n.return);break;case 5:if(Dt(t,e),Wt(e),r&512&&n!==null&&Yr(n,n.return),e.flags&32){var i=e.stateNode;try{xs(i,"")}catch(p){Re(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&B_(i,s),gp(o,a);var u=gp(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?H_(i,d):c==="dangerouslySetInnerHTML"?z_(i,d):c==="children"?xs(i,d):Em(i,c,d,u)}switch(o){case"input":fp(i,s);break;case"textarea":$_(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ni(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?ni(i,!!s.multiple,s.defaultValue,!0):ni(i,!!s.multiple,s.multiple?[]:"",!1))}i[js]=s}catch(p){Re(e,e.return,p)}}break;case 6:if(Dt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(M(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){Re(e,e.return,p)}}break;case 3:if(Dt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_s(t.containerInfo)}catch(p){Re(e,e.return,p)}break;case 4:Dt(t,e),Wt(e);break;case 13:Dt(t,e),Wt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(iv=Ae())),r&4&&Ey(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(u=Xe)||c,Dt(t,e),Xe=u):Dt(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(q=e,c=e.child;c!==null;){for(d=q=c;q!==null;){switch(f=q,m=f.child,f.tag){case 0:case 11:case 14:case 15:ds(4,f,f.return);break;case 1:Yr(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Re(r,n,p)}}break;case 5:Yr(f,f.return);break;case 22:if(f.memoizedState!==null){Ty(d);continue}}m!==null?(m.return=f,q=m):Ty(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=G_("display",a))}catch(p){Re(e,e.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Re(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dt(t,e),Wt(e),r&4&&Ey(e);break;case 21:break;default:Dt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gE(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xs(i,""),r.flags&=-33);var s=ky(e);Kp(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=ky(e);Hp(e,o,a);break;default:throw Error(M(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pR(e,t,n){q=e,wE(e)}function wE(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||wa;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Xe;o=wa;var u=Xe;if(wa=a,(Xe=l)&&!u)for(q=i;q!==null;)a=q,l=a.child,a.tag===22&&a.memoizedState!==null?jy(i):l!==null?(l.return=a,q=l):jy(i);for(;s!==null;)q=s,wE(s),s=s.sibling;q=i,wa=o,Xe=u}Cy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Cy(e)}}function Cy(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||Lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&cy(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cy(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&_s(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Xe||t.flags&512&&Gp(t)}catch(f){Re(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Ty(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function jy(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Lo(4,t)}catch(l){Re(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Re(t,i,l)}}var s=t.return;try{Gp(t)}catch(l){Re(t,s,l)}break;case 5:var a=t.return;try{Gp(t)}catch(l){Re(t,a,l)}}}catch(l){Re(t,t.return,l)}if(t===e){q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,q=o;break}q=t.return}}var mR=Math.ceil,co=_n.ReactCurrentDispatcher,nv=_n.ReactCurrentOwner,Pt=_n.ReactCurrentBatchConfig,ne=0,$e=null,Le=null,Ge=0,ht=0,Qr=Jn(0),Ve=0,Is=null,br=0,Oo=0,rv=0,fs=null,it=null,iv=0,pi=1/0,on=null,fo=!1,Wp=null,$n=null,ba=!1,Ln=null,ho=0,hs=0,Yp=null,Fa=-1,Va=0;function tt(){return ne&6?Ae():Fa!==-1?Fa:Fa=Ae()}function Un(e){return e.mode&1?ne&2&&Ge!==0?Ge&-Ge:JN.transition!==null?(Va===0&&(Va=ik()),Va):(e=ue,e!==0||(e=window.event,e=e===void 0?16:dk(e.type)),e):1}function $t(e,t,n,r){if(50<hs)throw hs=0,Yp=null,Error(M(185));Bs(e,n,r),(!(ne&2)||e!==$e)&&(e===$e&&(!(ne&2)&&(Oo|=n),Ve===4&&An(e,Ge)),lt(e,r),n===1&&ne===0&&!(t.mode&1)&&(pi=Ae()+500,Ao&&Zn()))}function lt(e,t){var n=e.callbackNode;JP(e,t);var r=Ya(e,e===$e?Ge:0);if(r===0)n!==null&&Og(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Og(n),t===1)e.tag===0?XN(Py.bind(null,e)):Nk(Py.bind(null,e)),KN(function(){!(ne&6)&&Zn()}),n=null;else{switch(sk(r)){case 1:n=Nm;break;case 4:n=nk;break;case 16:n=Wa;break;case 536870912:n=rk;break;default:n=Wa}n=jE(n,bE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bE(e,t){if(Fa=-1,Va=0,ne&6)throw Error(M(327));var n=e.callbackNode;if(oi()&&e.callbackNode!==n)return null;var r=Ya(e,e===$e?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=po(e,r);else{t=r;var i=ne;ne|=2;var s=_E();($e!==e||Ge!==t)&&(on=null,pi=Ae()+500,pr(e,t));do try{yR();break}catch(o){SE(e,o)}while(!0);Um(),co.current=s,ne=i,Le!==null?t=0:($e=null,Ge=0,t=Ve)}if(t!==0){if(t===2&&(i=Sp(e),i!==0&&(r=i,t=Qp(e,i))),t===1)throw n=Is,pr(e,0),An(e,r),lt(e,Ae()),n;if(t===6)An(e,r);else{if(i=e.current.alternate,!(r&30)&&!vR(i)&&(t=po(e,r),t===2&&(s=Sp(e),s!==0&&(r=s,t=Qp(e,s))),t===1))throw n=Is,pr(e,0),An(e,r),lt(e,Ae()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:ar(e,it,on);break;case 3:if(An(e,r),(r&130023424)===r&&(t=iv+500-Ae(),10<t)){if(Ya(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Np(ar.bind(null,e,it,on),t);break}ar(e,it,on);break;case 4:if(An(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Bt(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mR(r/1960))-r,10<r){e.timeoutHandle=Np(ar.bind(null,e,it,on),r);break}ar(e,it,on);break;case 5:ar(e,it,on);break;default:throw Error(M(329))}}}return lt(e,Ae()),e.callbackNode===n?bE.bind(null,e):null}function Qp(e,t){var n=fs;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=po(e,t),e!==2&&(t=it,it=n,t!==null&&Xp(t)),e}function Xp(e){it===null?it=e:it.push.apply(it,e)}function vR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ut(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~rv,t&=~Oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function Py(e){if(ne&6)throw Error(M(327));oi();var t=Ya(e,0);if(!(t&1))return lt(e,Ae()),null;var n=po(e,t);if(e.tag!==0&&n===2){var r=Sp(e);r!==0&&(t=r,n=Qp(e,r))}if(n===1)throw n=Is,pr(e,0),An(e,t),lt(e,Ae()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,it,on),lt(e,Ae()),null}function sv(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(pi=Ae()+500,Ao&&Zn())}}function Sr(e){Ln!==null&&Ln.tag===0&&!(ne&6)&&oi();var t=ne;ne|=1;var n=Pt.transition,r=ue;try{if(Pt.transition=null,ue=1,e)return e()}finally{ue=r,Pt.transition=n,ne=t,!(ne&6)&&Zn()}}function av(){ht=Qr.current,ve(Qr)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,HN(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Vm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eo();break;case 3:fi(),ve(at),ve(Ze),Ym();break;case 5:Wm(r);break;case 4:fi();break;case 13:ve(ke);break;case 19:ve(ke);break;case 10:zm(r.type._context);break;case 22:case 23:av()}n=n.return}if($e=e,Le=e=zn(e.current,null),Ge=ht=t,Ve=0,Is=null,rv=Oo=br=0,it=fs=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}cr=null}return e}function SE(e,t){do{var n=Le;try{if(Um(),La.current=uo,lo){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lo=!1}if(wr=0,Be=Fe=Ce=null,cs=!1,Rs=0,nv.current=null,n===null||n.return===null){Ve=1,Is=t,Le=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Ge,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=vy(a);if(m!==null){m.flags&=-257,gy(m,a,o,s,t),m.mode&1&&my(s,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(l),t.updateQueue=p}else g.add(l);break e}else{if(!(t&1)){my(s,u,t),ov();break e}l=Error(M(426))}}else if(we&&o.mode&1){var w=vy(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),gy(w,a,o,s,t),Bm(hi(l,o));break e}}s=l=hi(l,o),Ve!==4&&(Ve=2),fs===null?fs=[s]:fs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=sE(s,l,t);uy(s,v);break e;case 1:o=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($n===null||!$n.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=aE(s,o,t);uy(s,b);break e}}s=s.return}while(s!==null)}EE(n)}catch(_){t=_,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function _E(){var e=co.current;return co.current=uo,e===null?uo:e}function ov(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),$e===null||!(br&268435455)&&!(Oo&268435455)||An($e,Ge)}function po(e,t){var n=ne;ne|=2;var r=_E();($e!==e||Ge!==t)&&(on=null,pr(e,t));do try{gR();break}catch(i){SE(e,i)}while(!0);if(Um(),ne=n,co.current=r,Le!==null)throw Error(M(261));return $e=null,Ge=0,Ve}function gR(){for(;Le!==null;)kE(Le)}function yR(){for(;Le!==null&&!UP();)kE(Le)}function kE(e){var t=TE(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?EE(e):Le=t,nv.current=null}function EE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dR(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Le=null;return}}else if(n=cR(n,t,ht),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Ve===0&&(Ve=5)}function ar(e,t,n){var r=ue,i=Pt.transition;try{Pt.transition=null,ue=1,xR(e,t,n,r)}finally{Pt.transition=i,ue=r}return null}function xR(e,t,n,r){do oi();while(Ln!==null);if(ne&6)throw Error(M(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ZP(e,s),e===$e&&(Le=$e=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ba||(ba=!0,jE(Wa,function(){return oi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var a=ue;ue=1;var o=ne;ne|=4,nv.current=null,hR(e,n),xE(n,e),FN(jp),Qa=!!Tp,jp=Tp=null,e.current=n,pR(n),zP(),ne=o,ue=a,Pt.transition=s}else e.current=n;if(ba&&(ba=!1,Ln=e,ho=i),s=e.pendingLanes,s===0&&($n=null),KP(n.stateNode),lt(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fo)throw fo=!1,e=Wp,Wp=null,e;return ho&1&&e.tag!==0&&oi(),s=e.pendingLanes,s&1?e===Yp?hs++:(hs=0,Yp=e):hs=0,Zn(),null}function oi(){if(Ln!==null){var e=sk(ho),t=Pt.transition,n=ue;try{if(Pt.transition=null,ue=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,ho=0,ne&6)throw Error(M(331));var i=ne;for(ne|=4,q=e.current;q!==null;){var s=q,a=s.child;if(q.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:ds(8,c,s)}var d=c.child;if(d!==null)d.return=c,q=d;else for(;q!==null;){c=q;var f=c.sibling,m=c.return;if(vE(c),c===u){q=null;break}if(f!==null){f.return=m,q=f;break}q=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}q=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,q=a;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ds(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,q=v;break e}q=s.return}}var y=e.current;for(q=y;q!==null;){a=q;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,q=x;else e:for(a=y;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Lo(9,o)}}catch(_){Re(o,o.return,_)}if(o===a){q=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,q=b;break e}q=o.return}}if(ne=i,Zn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(jo,e)}catch{}r=!0}return r}finally{ue=n,Pt.transition=t}}return!1}function Ny(e,t,n){t=hi(n,t),t=sE(e,t,1),e=Bn(e,t,1),t=tt(),e!==null&&(Bs(e,1,t),lt(e,t))}function Re(e,t,n){if(e.tag===3)Ny(e,e,n);else for(;t!==null;){if(t.tag===3){Ny(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=hi(n,e),e=aE(t,e,1),t=Bn(t,e,1),e=tt(),t!==null&&(Bs(t,1,e),lt(t,e));break}}t=t.return}}function wR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ge&n)===n&&(Ve===4||Ve===3&&(Ge&130023424)===Ge&&500>Ae()-iv?pr(e,0):rv|=n),lt(e,t)}function CE(e,t){t===0&&(e.mode&1?(t=da,da<<=1,!(da&130023424)&&(da=4194304)):t=1);var n=tt();e=xn(e,t),e!==null&&(Bs(e,t,n),lt(e,n))}function bR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),CE(e,n)}function SR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),CE(e,n)}var TE;TE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,uR(e,t,n);st=!!(e.flags&131072)}else st=!1,we&&t.flags&1048576&&Rk(t,ro,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=ui(t,Ze.current);ai(t,n),i=Xm(null,t,r,e,i,n);var s=Jm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(s=!0,to(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hm(t),i.updater=Do,t.stateNode=i,i._reactInternals=t,Op(t,r,e,n),t=Vp(null,t,r,!0,s,n)):(t.tag=0,we&&s&&Fm(t),et(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=kR(r),e=Ot(r,e),i){case 0:t=Fp(null,t,r,e,n);break e;case 1:t=wy(null,t,r,e,n);break e;case 11:t=yy(null,t,r,e,n);break e;case 14:t=xy(null,t,r,Ot(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Fp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),wy(e,t,r,i,n);case 3:e:{if(cE(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ok(e,t),ao(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=hi(Error(M(423)),t),t=by(e,t,r,n,i);break e}else if(r!==i){i=hi(Error(M(424)),t),t=by(e,t,r,n,i);break e}else for(mt=Vn(t.stateNode.containerInfo.firstChild),vt=t,we=!0,Vt=null,n=Dk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ci(),r===i){t=wn(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return qk(t),e===null&&Ip(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Pp(r,i)?a=null:s!==null&&Pp(r,s)&&(t.flags|=32),uE(e,t),et(e,t,a,n),t.child;case 6:return e===null&&Ip(t),null;case 13:return dE(e,t,n);case 4:return Km(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=di(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),yy(e,t,r,i,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,pe(io,r._currentValue),r._currentValue=a,s!==null)if(Ut(s.value,a)){if(s.children===i.children&&!at.current){t=wn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dp(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(M(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Dp(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}et(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ai(t,n),i=Nt(i),r=r(i),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,i=Ot(r,t.pendingProps),i=Ot(r.type,i),xy(e,t,r,i,n);case 15:return oE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),qa(e,t),t.tag=1,ot(r)?(e=!0,to(t)):e=!1,ai(t,n),iE(t,r,i),Op(t,r,i,n),Vp(null,t,r,!0,e,n);case 19:return fE(e,t,n);case 22:return lE(e,t,n)}throw Error(M(156,t.tag))};function jE(e,t){return tk(e,t)}function _R(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new _R(e,t,n,r)}function lv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kR(e){if(typeof e=="function")return lv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tm)return 11;if(e===jm)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ba(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")lv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Vr:return mr(n.children,i,s,t);case Cm:a=8,i|=8;break;case op:return e=jt(12,n,t,i|2),e.elementType=op,e.lanes=s,e;case lp:return e=jt(13,n,t,i),e.elementType=lp,e.lanes=s,e;case up:return e=jt(19,n,t,i),e.elementType=up,e.lanes=s,e;case q_:return qo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L_:a=10;break e;case O_:a=9;break e;case Tm:a=11;break e;case jm:a=14;break e;case Nn:a=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=jt(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function mr(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function qo(e,t,n,r){return e=jt(22,e,r,t),e.elementType=q_,e.lanes=n,e.stateNode={isHidden:!1},e}function Yl(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ER(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uv(e,t,n,r,i,s,a,o,l){return e=new ER(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hm(s),e}function CR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function PE(e){if(!e)return Kn;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(ot(n))return Pk(e,n,t)}return t}function NE(e,t,n,r,i,s,a,o,l){return e=uv(n,r,!0,e,i,s,a,o,l),e.context=PE(null),n=e.current,r=tt(),i=Un(n),s=pn(r,i),s.callback=t??null,Bn(n,s,i),e.current.lanes=i,Bs(e,i,r),lt(e,r),e}function Fo(e,t,n,r){var i=t.current,s=tt(),a=Un(i);return n=PE(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bn(i,t,a),e!==null&&($t(e,i,a,s),Da(e,i,a)),a}function mo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ry(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cv(e,t){Ry(e,t),(e=e.alternate)&&Ry(e,t)}function TR(){return null}var RE=typeof reportError=="function"?reportError:function(e){console.error(e)};function dv(e){this._internalRoot=e}Vo.prototype.render=dv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Fo(e,t,null,null)};Vo.prototype.unmount=dv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){Fo(null,e,null,null)}),t[yn]=null}};function Vo(e){this._internalRoot=e}Vo.prototype.unstable_scheduleHydration=function(e){if(e){var t=lk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&ck(e)}};function fv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function My(){}function jR(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=mo(a);s.call(u)}}var a=NE(t,r,e,0,null,!1,!1,"",My);return e._reactRootContainer=a,e[yn]=a.current,Cs(e.nodeType===8?e.parentNode:e),Sr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=mo(l);o.call(u)}}var l=uv(e,0,!1,null,null,!1,!1,"",My);return e._reactRootContainer=l,e[yn]=l.current,Cs(e.nodeType===8?e.parentNode:e),Sr(function(){Fo(t,l,n,r)}),l}function $o(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=mo(a);o.call(l)}}Fo(t,a,e,i)}else a=jR(n,t,e,i,r);return mo(a)}ak=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wi(t.pendingLanes);n!==0&&(Rm(t,n|1),lt(t,Ae()),!(ne&6)&&(pi=Ae()+500,Zn()))}break;case 13:Sr(function(){var r=xn(e,1);if(r!==null){var i=tt();$t(r,e,1,i)}}),cv(e,1)}};Mm=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=tt();$t(t,e,134217728,n)}cv(e,134217728)}};ok=function(e){if(e.tag===13){var t=Un(e),n=xn(e,t);if(n!==null){var r=tt();$t(n,e,t,r)}cv(e,t)}};lk=function(){return ue};uk=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};xp=function(e,t,n){switch(t){case"input":if(fp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mo(r);if(!i)throw Error(M(90));V_(r),fp(r,i)}}}break;case"textarea":$_(e,n);break;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}};Y_=sv;Q_=Sr;var PR={usingClientEntryPoint:!1,Events:[Us,zr,Mo,K_,W_,sv]},$i={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NR={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Z_(e),e===null?null:e.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||TR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sa.isDisabled&&Sa.supportsFiber)try{jo=Sa.inject(NR),Jt=Sa}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PR;wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fv(t))throw Error(M(200));return CR(e,t,null,n)};wt.createRoot=function(e,t){if(!fv(e))throw Error(M(299));var n=!1,r="",i=RE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uv(e,1,!1,null,null,n,!1,r,i),e[yn]=t.current,Cs(e.nodeType===8?e.parentNode:e),new dv(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Z_(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Sr(e)};wt.hydrate=function(e,t,n){if(!Bo(t))throw Error(M(200));return $o(null,e,t,!0,n)};wt.hydrateRoot=function(e,t,n){if(!fv(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=RE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=NE(t,null,e,1,n??null,i,!1,s,a),e[yn]=t.current,Cs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vo(t)};wt.render=function(e,t,n){if(!Bo(t))throw Error(M(200));return $o(null,e,t,!1,n)};wt.unmountComponentAtNode=function(e){if(!Bo(e))throw Error(M(40));return e._reactRootContainer?(Sr(function(){$o(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};wt.unstable_batchedUpdates=sv;wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bo(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return $o(e,t,n,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function ME(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ME)}catch(e){console.error(e)}}ME(),M_.exports=wt;var RR=M_.exports,Ay=RR;sp.createRoot=Ay.createRoot,sp.hydrateRoot=Ay.hydrateRoot;const MR="modulepreload",AR=function(e){return"/agent-director/"+e},Iy={},hv=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=AR(l),l in Iy)return;Iy[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":MR,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},IR=()=>h.jsxs("svg",{className:"logo-mark",width:"54",height:"54",viewBox:"0 0 120 120",role:"img","aria-label":"Agent Director logo",children:[h.jsx("rect",{x:"8",y:"8",width:"104",height:"104",rx:"18",className:"logo-frame"}),h.jsx("rect",{x:"24",y:"28",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-a"}),h.jsx("rect",{x:"24",y:"52",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-b"}),h.jsx("rect",{x:"24",y:"76",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-c"}),h.jsx("circle",{cx:"96",cy:"36",r:"6",className:"logo-node logo-node-a"}),h.jsx("circle",{cx:"96",cy:"60",r:"6",className:"logo-node logo-node-b"}),h.jsx("circle",{cx:"96",cy:"84",r:"6",className:"logo-node logo-node-c"})]});function DR({trace:e,traces:t=[],selectedTraceId:n,onSelectTrace:r,onReload:i,onStartTour:s,onToggleStory:a,onOpenPalette:o,onToggleExplain:l,onShareSession:u,onThemeChange:c,themeMode:d="studio",activeSessions:f=1,shareStatus:m=null,explainMode:g=!1,storyActive:p=!1}){return h.jsxs("header",{className:"header","data-help":!0,"data-help-indicator":!0,"data-tour":"header","data-help-title":"Mission control","data-help-body":"Trace identity, status, and live controls live here. Use Story, Guide, or Explain to orient new viewers.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"header-title",children:[h.jsxs("div",{className:"header-logo",children:[h.jsx(IR,{}),h.jsx("span",{children:"Agent Director"})]}),h.jsx("div",{className:"header-tagline",children:"Cinematic trace intelligence for agent runs."}),h.jsxs("div",{className:"header-meta",children:[h.jsxs("span",{className:"header-run",children:["Run: ",(e==null?void 0:e.id)??"loading"]}),t.length>0?h.jsx("select",{className:"trace-select",value:n??(e==null?void 0:e.id)??"","aria-label":"Select trace",onChange:w=>r==null?void 0:r(w.target.value),"data-help":!0,"data-help-title":"Trace selector","data-help-body":"Switch between available runs to compare different sessions.","data-help-placement":"bottom",children:t.map(w=>h.jsxs("option",{value:w.id,children:[w.name," (",w.id,")"]},w.id))}):null,h.jsx("span",{className:`status-pill status-${(e==null?void 0:e.status)??"loading"}`,children:(e==null?void 0:e.status)??"loading"}),e!=null&&e.replay?h.jsxs("span",{className:"header-replay",title:`Replay from ${e.branchPointStepId??"unknown step"}`,children:["Replay: ",e.replay.strategy]}):null,h.jsxs("span",{className:"header-wall",children:["Wall: ",(e==null?void 0:e.metadata.wallTimeMs)??0,"ms"]}),h.jsxs("span",{className:"header-presence","aria-label":"Active sessions",children:["Live: ",f]}),m?h.jsx("span",{className:"header-share-status",children:m}):null]})]}),h.jsxs("div",{className:"header-actions",children:[h.jsxs("label",{className:"theme-picker",children:["Theme",h.jsxs("select",{className:"trace-select",value:d,"aria-label":"Select theme",onChange:w=>c==null?void 0:c(w.target.value),children:[h.jsx("option",{value:"studio",children:"Studio"}),h.jsx("option",{value:"focus",children:"Focus"}),h.jsx("option",{value:"contrast",children:"Contrast"})]})]}),h.jsx("button",{className:`ghost-button ${p?"active":""}`,type:"button",onClick:a,"aria-pressed":p,"aria-label":"Toggle story mode","data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough for demos.","data-help-placement":"bottom",children:"Story"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:s,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk through the interface step by step.","data-help-placement":"bottom",children:"Guide"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:o,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search and trigger any action instantly.","data-help-placement":"bottom",children:"Command"}),h.jsx("button",{className:`ghost-button ${g?"active":""}`,type:"button",onClick:l,"aria-pressed":g,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Hover any control to see contextual guidance.","data-help-placement":"bottom",children:"Explain"}),h.jsx("button",{className:"ghost-button",onClick:i,type:"button","aria-label":"Refresh traces",title:"Refresh traces","data-help":!0,"data-help-title":"Refresh","data-help-body":"Reload traces from the data store.","data-help-placement":"bottom",children:"Refresh"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:u,"aria-label":"Copy live session link",title:"Copy live session link",children:"Share"}),h.jsx("a",{className:"ghost-button",href:"/help.html",target:"_blank",rel:"noreferrer","data-help":!0,"data-help-title":"Help","data-help-body":"Open quick docs for first run, key flows, troubleshooting, and shortcuts.","data-help-placement":"bottom",children:"Help"}),null]})]})}function LR({insights:e,investigation:t,onSelectStep:n,onJumpToBottleneck:r,onJumpToError:i}){var f,m,g,p,w;if(!e)return null;const s=e.timing,a=e.ioWarnings??[],o=e.concurrency,l=e.retryPatterns,u=e.costByTool??{},c=e.costByModel??{},d=((f=t==null?void 0:t.hypotheses)==null?void 0:f.slice(0,2))??[];return h.jsxs("section",{className:"insight-strip","data-help":!0,"data-help-indicator":!0,"data-tour":"insights","data-help-title":"Run insights","data-help-body":"Fast diagnostics for latency, cost, errors, and concurrency. Click chips to jump into the trace.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Top latency","data-help-body":"Largest steps by duration; jump straight to the slowest.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Top latency"}),h.jsxs("div",{className:"insight-items",children:[e.topLatencySteps.map(v=>h.jsxs("button",{className:"insight-chip",type:"button",title:`Jump to ${v.name}`,onClick:()=>n==null?void 0:n(v.stepId),children:[v.name," (",v.durationMs,"ms)"]},v.stepId)),e.topLatencySteps.length>0?h.jsx("button",{className:"insight-chip",type:"button",onClick:r,title:"Jump to longest step",children:"Jump to bottleneck"}):null]})]}),h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by type","data-help-body":"Aggregated spend by step class.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Cost by type"}),h.jsx("div",{className:"insight-items",children:Object.entries(e.costByType).map(([v,y])=>h.jsxs("span",{className:"insight-chip",title:`Total cost for ${v}`,children:[v,": $",y.toFixed(3)]},v))})]}),Object.keys(u).length?h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by tool","data-help-body":"Top tools by total spend.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Cost by tool"}),h.jsx("div",{className:"insight-items",children:Object.entries(u).sort((v,y)=>y[1]-v[1]).slice(0,3).map(([v,y])=>h.jsxs("span",{className:"insight-chip",title:`Total cost for ${v}`,children:[v,": $",y.toFixed(3)]},v))})]}):null,h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Errors & retries","data-help-body":"Instant visibility into failed or retried steps.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Errors / retries"}),h.jsxs("div",{className:"insight-items",children:[h.jsxs("span",{className:"insight-chip",children:["Errors: ",e.errors]}),h.jsxs("span",{className:"insight-chip",children:["Retries: ",e.retries]}),e.errors>0?h.jsx("button",{className:"insight-chip",type:"button",onClick:i,title:"Jump to first error",children:"Jump to first error"}):null,(m=l==null?void 0:l.topRetries)!=null&&m.length?h.jsxs("span",{className:"insight-chip",title:`Retry rate ${(l.retryRate*100).toFixed(1)}%`,children:["Top retries: ",l.topRetries.length]}):null]})]}),h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Wall vs work","data-help-body":"Wall time vs summed work to show parallelism.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Wall vs work"}),h.jsxs("div",{className:"insight-items",children:[h.jsxs("span",{className:"insight-chip",title:"Wall clock duration",children:["Wall: ",e.wallTimeMs,"ms"]}),h.jsxs("span",{className:"insight-chip",title:"Sum of step durations",children:["Work: ",e.workTimeMs,"ms"]}),e.criticalPathMs!=null?h.jsxs("span",{className:"insight-chip",title:"Longest parent-child chain",children:["Critical: ",e.criticalPathMs,"ms"]}):null]})]}),h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Health","data-help-body":"Timing and I/O anomalies detected in the trace.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Health"}),h.jsxs("div",{className:"insight-items",children:[s!=null&&s.degraded?h.jsx("span",{className:"insight-chip insight-warning",title:s.issues.join(" "),children:"Timing degraded"}):h.jsx("span",{className:"insight-chip",children:"Timing OK"}),a.length>0?h.jsxs("span",{className:"insight-chip insight-warning",title:a.map(v=>v.message).join(" "),children:["IO warnings: ",a.length]}):h.jsx("span",{className:"insight-chip",children:"IO OK"})]})]}),d.length?h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Investigator","data-help-body":"Automated root-cause hypotheses ranked by severity and confidence.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Investigator"}),h.jsxs("div",{className:"insight-items",children:[d.map(v=>h.jsxs("span",{className:"insight-chip",title:v.summary,children:[v.title," (",Math.round(v.confidence*100),"%)"]},v.id)),(p=(g=d[0])==null?void 0:g.evidenceStepIds)!=null&&p[0]?h.jsx("button",{className:"insight-chip",type:"button",onClick:()=>n==null?void 0:n(d[0].evidenceStepIds[0]),children:"Jump to evidence"}):null]})]}):null,(w=o==null?void 0:o.buckets)!=null&&w.length?h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Parallelism","data-help-body":"How many steps ran concurrently over time.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Parallelism"}),h.jsx("div",{className:"insight-items",children:h.jsx("div",{className:"insight-heatmap",title:`Peak concurrency: ${o.peak}`,children:o.buckets.map((v,y)=>h.jsx("span",{className:"heatmap-bar",style:{height:`${Math.max(20,v.active/Math.max(1,o.peak)*48)}px`},title:`Bucket ${y+1}: ${v.active} active`},`${v.startMs}-${v.endMs}`))})})]}):null,Object.keys(c).length?h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Model cost","data-help-body":"Spend by model family.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Model cost"}),h.jsx("div",{className:"insight-items",children:Object.entries(c).map(([v,y])=>h.jsxs("span",{className:"insight-chip",title:`Total cost for ${v}`,children:[v,": $",y.toFixed(3)]},v))})]}):null]})}const OR=["all","llm_call","tool_call","decision","handoff","guardrail"];function qR({query:e,typeFilter:t,onQueryChange:n,onTypeFilterChange:r}){return h.jsxs("div",{className:"search-bar",children:[h.jsx("input",{className:"search-input",placeholder:"Search steps, tools, previews...","aria-label":"Search steps",value:e,onChange:i=>n(i.target.value),"data-help":!0,"data-help-title":"Search","data-help-body":"Filter steps by name, tool, or payload preview. Great for fast recall.","data-help-placement":"bottom"}),h.jsx("select",{className:"search-select",value:t,"aria-label":"Filter by step type",onChange:i=>r(i.target.value),"data-help":!0,"data-help-title":"Type filter","data-help-body":"Narrow the timeline to a specific class of steps (LLM, tool, decision, handoff).","data-help-placement":"bottom",children:OR.map(i=>h.jsx("option",{value:i,children:i},i))})]})}function Uo(e,t,n){const r=Date.parse(e),i=n.map(c=>Date.parse(c.endedAt??c.startedAt)).filter(c=>Number.isFinite(c)),s=t?Date.parse(t):i.length?Math.max(...i):r,a=Math.max(1,s-r),o=n.map(c=>{const d=Math.max(0,Date.parse(c.startedAt)-r),f=Math.max(d,Date.parse(c.endedAt??c.startedAt)-r);return{stepId:c.id,startMs:d,endMs:f}}).sort((c,d)=>c.startMs-d.startMs||c.endMs-d.endMs),l=[],u=[];for(const c of o){let d=l.findIndex(f=>f<=c.startMs);d===-1?(d=l.length,l.push(c.endMs)):l[d]=c.endMs,u.push({stepId:c.stepId,startMs:c.startMs,endMs:c.endMs,lane:d,xPct:c.startMs/a*100,wPct:Math.max(.75,(c.endMs-c.startMs)/a*100)})}return{wallTimeMs:a,intervals:u,laneCount:l.length}}function FR(e){var g;const n=e.steps.map(p=>({stepId:p.id,name:p.name,durationMs:p.durationMs??0})).sort((p,w)=>w.durationMs-p.durationMs).slice(0,3),r={},i={};for(const p of e.steps)((g=p.metrics)==null?void 0:g.costUsd)!=null&&(r[p.type]=(r[p.type]??0)+p.metrics.costUsd,p.type==="tool_call"&&(i[p.name]=(i[p.name]??0)+p.metrics.costUsd));const s=e.steps.filter(p=>p.status==="failed").length,a=e.steps.filter(p=>!!p.retryOfStepId).length,o=e.metadata.wallTimeMs,l=e.metadata.workTimeMs??e.steps.reduce((p,w)=>p+(w.durationMs??0),0),u=BR(e),c=$R(e.steps),d=UR(e.steps),f=zR(e),m=GR(e.steps);return{topLatencySteps:n,costByType:r,costByTool:i,costByModel:{[e.metadata.modelId]:e.metadata.totalCostUsd??0},errors:s,retries:a,wallTimeMs:o,workTimeMs:l,timing:u,ioWarnings:c,criticalPathMs:d,concurrency:f,retryPatterns:m}}function VR(e){var n;const t=(n=e.metrics)==null?void 0:n.costUsd;return t==null?null:`$${t.toFixed(3)}`}function un(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function BR(e){const t=un(e.startedAt),n=un(e.endedAt??void 0),r=[],i=[],s=[];return t==null&&s.push("Trace start time missing or invalid."),e.steps.forEach(a=>{const o=un(a.startedAt),l=un(a.endedAt??a.startedAt);if(o==null||l==null){r.push(a.id);return}if(l<o){i.push(a.id);return}t!=null&&o<t&&i.push(a.id),n!=null&&l>n&&i.push(a.id)}),r.length&&s.push(`Missing timestamps on ${r.length} steps.`),i.length&&s.push(`Timestamp skew detected on ${i.length} steps.`),{degraded:!!(r.length||i.length||t==null),issues:s,missingStepIds:r,skewedStepIds:i}}function $R(e){const t=new Map;e.forEach(s=>{s.type==="tool_call"&&s.toolCallId&&t.set(s.toolCallId,s)});const n=new Set,r=new Set,i=[];return e.forEach(s=>{s.type!=="llm_call"||!s.io||((s.io.emittedToolCallIds??[]).forEach(a=>{n.add(a),t.has(a)||i.push({kind:"missing_tool_step",message:`Emitted toolCallId ${a} has no tool step.`,stepId:s.id,toolCallId:a})}),(s.io.consumedToolCallIds??[]).forEach(a=>{r.add(a),t.has(a)||i.push({kind:"missing_tool_step",message:`Consumed toolCallId ${a} has no tool step.`,stepId:s.id,toolCallId:a}),n.has(a)||i.push({kind:"consume_without_emit",message:`Consumed toolCallId ${a} without emission.`,stepId:s.id,toolCallId:a})}))}),t.forEach((s,a)=>{n.has(a)||i.push({kind:"unemitted_tool",message:`Tool step ${s.id} has toolCallId ${a} never emitted.`,stepId:s.id,toolCallId:a}),r.has(a)||i.push({kind:"unconsumed_tool",message:`Tool step ${s.id} has toolCallId ${a} never consumed.`,stepId:s.id,toolCallId:a})}),i}function UR(e){const t=new Map,n=new Map,r=[];e.forEach(a=>{if(t.set(a.id,a.durationMs??0),a.parentStepId){const o=n.get(a.parentStepId)??[];o.push(a.id),n.set(a.parentStepId,o)}else r.push(a.id)});const i=new Map,s=a=>{if(i.has(a))return i.get(a)??0;const l=(n.get(a)??[]).reduce((c,d)=>Math.max(c,s(d)),0),u=(t.get(a)??0)+l;return i.set(a,u),u};return r.length?Math.max(...r.map(a=>s(a))):0}function zR(e){const t=un(e.startedAt);if(t==null)return{buckets:[],peak:0};const n=un(e.endedAt??void 0)??Math.max(...e.steps.map(l=>un(l.endedAt??l.startedAt)??t),t),r=Math.max(1,n-t),i=12,s=Math.max(1,Math.floor(r/i)),a=[];let o=0;for(let l=0;l<i;l+=1){const u=t+l*s,c=u+s;let d=0;e.steps.forEach(f=>{const m=un(f.startedAt),g=un(f.endedAt??f.startedAt);m==null||g==null||g>=u&&m<=c&&(d+=1)}),o=Math.max(o,d),a.push({startMs:l*s,endMs:(l+1)*s,active:d})}return{buckets:a,peak:o}}function GR(e){const t={};e.forEach(i=>{i.retryOfStepId&&(t[i.retryOfStepId]=(t[i.retryOfStepId]??0)+1)});const n=Object.values(t).reduce((i,s)=>i+s,0),r=Object.entries(t).sort((i,s)=>s[1]-i[1]).slice(0,3);return{totalRetries:n,retryRate:e.length?n/e.length:0,topRetries:r.map(([i,s])=>({stepId:i,count:s}))}}const HR={llm_call:{label:"LLM",icon:"LLM",description:"Model call"},tool_call:{label:"TOOL",icon:"TOOL",description:"Tool call"},decision:{label:"DEC",icon:"DEC",description:"Decision"},handoff:{label:"HAND",icon:"HAND",description:"Handoff"},guardrail:{label:"GUARD",icon:"GUARD",description:"Guardrail"}};function KR(e){return HR[e]}function WR({type:e,size:t="sm",showLabel:n=!1}){const r=KR(e);return h.jsxs("span",{className:`step-badge step-badge-${e} step-badge-${t}`,title:r.description,children:[h.jsx("span",{className:"step-badge-icon",children:r.icon}),n?h.jsx("span",{className:"step-badge-label",children:r.label}):null]})}function AE({step:e,interval:t,playbackState:n,selected:r,onSelect:i,variant:s="base",diffStatus:a,disabled:o=!1,laneHeight:l=140}){var b,_,E,k,C,N;const u=VR(e),c=((b=e.preview)==null?void 0:b.subtitle)??((_=e.preview)==null?void 0:_.title)??"",d=((E=e.preview)==null?void 0:E.outputPreview)??((k=e.preview)==null?void 0:k.inputPreview)??"",f=a?`step-diff-${a}`:"",m=s==="ghost"?"step-ghost":"",g=t.wPct<8?"step-compact":"",p=e.type.replace("_"," ").toUpperCase(),w=((C=e.metrics)==null?void 0:C.tokensTotal)!=null?`${e.metrics.tokensTotal} tokens`:null,v=e.durationMs!=null?`${e.durationMs}ms`:null,y=[w,v,u].filter(Boolean).join("  "),x=`Click to inspect inputs/outputs and replay from this moment.${y?` ${y}.`:""}`;return h.jsxs("button",{type:"button",className:`step-card step-${e.type} step-${n} ${r?"step-selected":""} ${f} ${m} ${g}`,"data-step-id":e.id,"aria-pressed":r,"aria-hidden":s==="ghost",disabled:o,"data-help":!0,"data-help-title":`${e.name}  ${p}`,"data-help-body":x,"data-help-placement":"top",style:{left:`${t.xPct}%`,width:`${t.wPct}%`,top:`${t.lane*l}px`},onClick:()=>{o||i(e.id)},children:[h.jsxs("div",{className:"step-card-header",children:[h.jsxs("div",{className:"step-title-group",children:[h.jsx(WR,{type:e.type}),h.jsx("span",{className:"step-title",children:e.name})]}),h.jsx("span",{className:`status-pill status-${e.status}`,children:e.status})]}),c?h.jsx("div",{className:"step-subtitle",children:c}):null,h.jsxs("div",{className:"step-metrics",children:[((N=e.metrics)==null?void 0:N.tokensTotal)!=null?h.jsxs("span",{children:[e.metrics.tokensTotal," tok"]}):null,e.durationMs!=null?h.jsxs("span",{children:[e.durationMs,"ms"]}):null,u?h.jsx("span",{children:u}):null]}),d?h.jsx("div",{className:"step-preview",children:d}):null]})}function IE(e,t){return t<e.startMs?"future":t>e.endMs?"past":"active"}const YR=140,QR=132,XR=96,Dy={llm_call:1,tool_call:2,decision:3,handoff:4,guardrail:5};function DE(e){return[...e].sort((t,n)=>(Dy[t.type]??9)-(Dy[n.type]??9))}function JR({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:i,playheadMs:s,windowRange:a,ghostTrace:o,diff:l,laneHeight:u=YR,cardHeight:c=QR,compactHeight:d=XR}){const{intervals:f,laneCount:m}=Uo(e.startedAt,e.endedAt,t),g=new Map(f.map(k=>[k.stepId,k])),p=DE(t),w=e.metadata.wallTimeMs||1,v=new Set((l==null?void 0:l.removedSteps)??[]),y=new Set((l==null?void 0:l.changedSteps)??[]),x=new Set(((l==null?void 0:l.changedPairs)??[]).map(k=>k.rightId)),b=new Set((l==null?void 0:l.addedSteps)??[]);let _=f;if(a){const k=a.endMs-a.startMs,C=Math.max(1e3,k*.15),N=Math.max(0,a.startMs-C),A=a.endMs+C;if(_=f.filter(R=>R.endMs>=N&&R.startMs<=A),n&&!_.some(R=>R.stepId===n)){const R=g.get(n);R&&(_=[..._,R])}}const E=new Set(_.map(k=>k.stepId));return h.jsx("div",{className:"timeline",style:{"--step-card-height":`${c}px`,"--step-compact-height":`${d}px`},children:h.jsxs("div",{className:"timeline-grid",style:{height:`${m*u}px`},"data-help":!0,"data-help-title":"Timeline lanes","data-help-body":"Each lane stacks overlapping steps; width reflects duration.","data-help-placement":"top",children:[h.jsx("div",{className:"playback-cursor",style:{left:`${i}%`}}),p.filter(k=>E.has(k.id)).map(k=>{const C=g.get(k.id);if(!C)return null;const N=IE(C,s);return h.jsx(AE,{step:k,interval:C,playbackState:N,selected:n===k.id,diffStatus:v.has(k.id)?"removed":y.has(k.id)?"changed":null,laneHeight:u,onSelect:r},k.id)}),o?h.jsx(ZR,{ghostTrace:o,baseWallTimeMs:w,playheadMs:s,windowRange:a,diffAdded:b,diffChanged:x,laneHeight:u}):null]})})}function ZR({ghostTrace:e,baseWallTimeMs:t,playheadMs:n,windowRange:r,diffAdded:i,diffChanged:s,laneHeight:a}){const{intervals:o,laneCount:l}=Uo(e.startedAt,e.endedAt,e.steps),u=new Map(o.map(p=>[p.stepId,p])),c=e.metadata.wallTimeMs||1,d=n/t*c;let f=o;if(r){const p=r.endMs-r.startMs,w=Math.max(1e3,p*.15),v=c/t,y=Math.max(0,(r.startMs-w)*v),x=Math.min(c,(r.endMs+w)*v);f=o.filter(b=>b.endMs>=y&&b.startMs<=x)}const m=new Set(f.map(p=>p.stepId)),g=DE(e.steps);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"ghost-lanes",style:{height:`${l*a}px`}}),g.filter(p=>m.has(p.id)).map(p=>{const w=u.get(p.id);if(!w)return null;const v=IE(w,d),y=i.has(p.id)?"added":s.has(p.id)?"changed":null;return h.jsx(AE,{step:p,interval:w,playbackState:v,selected:!1,diffStatus:y,variant:"ghost",disabled:!0,laneHeight:a,onSelect:()=>{}},`ghost-${p.id}`)})]})}function eM({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadMs:i,windowRange:s,timing:a,ghostTrace:o,diff:l}){const u=e.metadata.wallTimeMs||1,c=Math.min(100,Math.max(0,i/u*100));return h.jsxs("section",{className:"cinema-mode","aria-label":"Cinema mode",children:[a!=null&&a.degraded?h.jsxs("div",{className:"timing-banner",title:a.issues.join(" "),children:["Timing degraded: ",a.issues[0]??"Check timestamps."]}):null,h.jsx(JR,{trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:c,playheadMs:i,windowRange:s,ghostTrace:o,diff:l})]})}const tM=[.5,1,1.5,2,4];function Ly({playheadMs:e,wallTimeMs:t,isPlaying:n,speed:r,onToggle:i,onScrub:s,onSpeedChange:a}){const o=l=>{s(Number(l.target.value))};return h.jsxs("div",{className:"playback-controls",children:[h.jsx("button",{className:"ghost-button",type:"button",onClick:i,"aria-label":n?"Pause playback":"Play playback","data-help":!0,"data-help-title":"Playhead","data-help-body":"Start or pause the run to experience timing as it unfolded.","data-help-placement":"bottom",children:n?"Pause":"Play"}),h.jsx("input",{className:"playback-slider",type:"range",min:0,max:t,value:e,"aria-label":"Playback position",onChange:o,"data-help":!0,"data-help-title":"Scrub timeline","data-help-body":"Drag to jump to any moment in the run.","data-help-placement":"bottom"}),h.jsx("select",{className:"playback-speed",value:r,"aria-label":"Playback speed",onChange:l=>a(Number(l.target.value)),"data-help":!0,"data-help-title":"Speed","data-help-body":"Slow down to inspect or speed up to skim.","data-help-placement":"bottom",children:tM.map(l=>h.jsxs("option",{value:l,children:[l,"x"]},l))})]})}function nM(e,t,n,r=60){const{wallTimeMs:i,intervals:s}=Uo(e,t,n),a=new Array(r).fill(0);if(!i)return{buckets:a,wallTimeMs:0};const o=i/r;return!Number.isFinite(o)||o<=0?{buckets:a,wallTimeMs:i}:(s.forEach(l=>{const u=Math.max(0,Math.floor(l.startMs/o)),c=Math.min(r-1,Math.floor(l.endMs/o));for(let d=u;d<=c;d+=1)a[d]+=1}),{buckets:a,wallTimeMs:i})}function Jp(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(r)}function rM(e,t,n="text/plain"){const r=new Blob([t],{type:n}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(i)}const Ui=5e3,iM=32;function qt(e,t,n){return Math.min(n,Math.max(t,e))}function qr(e,t){const n=new Set;return e.forEach(r=>{n.add(qt(Math.round(r),0,t))}),Array.from(n).sort((r,i)=>r-i).slice(0,iM)}function sM(e,t){if(!e)return{bookmarksMs:[],clipStartMs:null,clipEndMs:null};try{const n=JSON.parse(e),r=qr(Array.isArray(n.bookmarksMs)?n.bookmarksMs:[],t),i=typeof n.clipStartMs=="number"?qt(n.clipStartMs,0,t):null,s=typeof n.clipEndMs=="number"?qt(n.clipEndMs,0,t):null;return{bookmarksMs:r,clipStartMs:i,clipEndMs:i!=null&&s!=null&&s<i?i:s}}catch{return{bookmarksMs:[],clipStartMs:null,clipEndMs:null}}}function Oy(e,t){const n=Date.parse(e);return Number.isNaN(n)?null:new Date(n+t).toISOString()}function aM({traceStart:e,traceEnd:t,steps:n,playheadMs:r,windowRange:i,windowed:s,spanMs:a,onSpanChange:o,onToggleWindowed:l,onScrub:u,persistenceKey:c}){const{buckets:d,wallTimeMs:f}=nM(e,t,n,64),m=Math.max(1,...d),g=qt(a,Ui,Math.max(Ui,f)),p=(i==null?void 0:i.startMs)??0,w=(i==null?void 0:i.endMs)??f,v=S.useMemo(()=>`agentDirector.timelineStudio.${c??e}`,[c,e]),[y,x]=S.useState([]),[b,_]=S.useState(null),[E,k]=S.useState(null);S.useEffect(()=>{const O=sM(window.localStorage.getItem(v),f);x(O.bookmarksMs),_(O.clipStartMs),k(O.clipEndMs)},[v,f]),S.useEffect(()=>{const O={bookmarksMs:qr(y,f),clipStartMs:b==null?null:qt(b,0,f),clipEndMs:E==null?null:qt(E,0,f)};window.localStorage.setItem(v,JSON.stringify(O))},[y,E,b,v,f]);const C=f?p/f*100:0,N=f?(w-p)/f*100:100,A=f?r/f*100:0,R=b!=null&&E!=null?Math.min(b,E):null,$=b!=null&&E!=null?Math.max(b,E):null,J=R!=null&&$!=null&&f?($-R)/f*100:0,fe=R!=null&&f?R/f*100:0,z=R!=null&&$!=null&&$>R,re=O=>{const ce=O.currentTarget.getBoundingClientRect(),ye=(O.clientX-ce.left)/ce.width,Ie=qt(Math.round(ye*f),0,f);u(Ie)},ee=O=>{if(O.key==="ArrowLeft"){O.preventDefault(),u(qt(r-Math.max(250,Math.round(f*.02)),0,f));return}if(O.key==="ArrowRight"){O.preventDefault(),u(qt(r+Math.max(250,Math.round(f*.02)),0,f));return}if(O.key==="Home"){O.preventDefault(),u(0);return}if(O.key==="End"){O.preventDefault(),u(f);return}(O.key===" "||O.key==="Enter")&&(O.preventDefault(),u(r))},I=()=>{x(O=>qr([...O,r],f))},D=O=>{if(y.length===0)return;const ce=qr(y,f);if(O==="previous"){const Ie=[...ce].reverse().find(St=>St<r)??ce[ce.length-1];u(Ie);return}const ye=ce.find(Ie=>Ie>r)??ce[0];u(ye)},V=()=>{const O=qt(r,0,f);_(O),E!=null&&E<O&&k(O)},Y=()=>{const O=qt(r,0,f);k(O),b!=null&&b>O&&_(O)},H=()=>{_(null),k(null)},Se=()=>{if(!z||R==null||$==null)return;const O={type:"agent-director-clip",traceStart:e,traceEnd:t,clip:{startMs:R,endMs:$,startAt:Oy(e,R),endAt:Oy(e,$)},bookmarksMs:qr(y,f).filter(ce=>ce>=R&&ce<=$),playheadMs:r,exportedAt:new Date().toISOString()};Jp(`agent-director-clip-${R}-${$}.json`,O)};return h.jsxs("div",{className:"mini-timeline",children:[h.jsxs("div",{className:"mini-track",onClick:re,role:"slider",tabIndex:0,"aria-label":"Timeline density map","aria-valuemin":0,"aria-valuemax":f,"aria-valuenow":r,"aria-valuetext":`${r} milliseconds`,onKeyDown:ee,"data-help":!0,"data-help-title":"Density map","data-help-body":"A compact view of activity density. Click to jump the playhead.","data-help-placement":"top",children:[h.jsx("div",{className:"mini-bars",children:d.map((O,ce)=>h.jsx("span",{className:"mini-bar",style:{height:`${O/m*100}%`}},`bucket-${ce}`))}),h.jsx("div",{className:"mini-window",style:{left:`${C}%`,width:`${N}%`,opacity:s?1:.4}}),z?h.jsx("div",{className:"mini-clip-window",style:{left:`${fe}%`,width:`${J}%`}}):null,h.jsx("div",{className:"mini-bookmark-markers","data-testid":"timeline-bookmark-markers","aria-hidden":"true",children:qr(y,f).map(O=>{const ce=f?O/f*100:0;return h.jsx("button",{type:"button",className:"mini-bookmark-marker",style:{left:`${ce}%`},onClick:ye=>{ye.stopPropagation(),u(O)},title:`Jump to bookmark at ${O}ms`,"aria-label":`Bookmark ${O} milliseconds`},`bookmark-${O}`)})}),h.jsx("div",{className:"mini-playhead",style:{left:`${A}%`}})]}),h.jsxs("div",{className:"mini-controls",children:[h.jsx("label",{className:"mini-label",children:"Zoom"}),h.jsx("input",{type:"range",min:Ui,max:Math.max(Ui,f),value:g,"aria-label":"Timeline zoom",onChange:O=>{l(!0),o(Number(O.target.value))},"data-help":!0,"data-help-title":"Zoom window","data-help-body":"Tighten the window to focus on hotspots.","data-help-placement":"top"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>l(!s),title:"Toggle windowed playback",children:s?"Full":"Window"}),h.jsx("button",{className:"ghost-button",type:"button",title:"Reset zoom",onClick:()=>{l(!0),o(Math.min(Math.max(f*.2,Ui),6e4))},children:"Reset"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:I,children:"Add bookmark"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>D("previous"),children:"Previous bookmark"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>D("next"),children:"Next bookmark"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:V,children:"Set clip start"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:Y,children:"Set clip end"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:H,children:"Clear clip"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:Se,disabled:!z,children:"Export clip"})]})]})}const oM=[{keys:"Space",action:"Play / pause"},{keys:" / ",action:"Step boundary back / forward"},{keys:"Shift +  / ",action:"Jump to start / end"},{keys:"F",action:"Toggle Flow mode"},{keys:"I",action:"Toggle Inspector"},{keys:"S",action:"Story mode"},{keys:"E",action:"Explain mode"},{keys:"T",action:"Start tour"},{keys:"Cmd/Ctrl + K",action:"Open command palette"},{keys:"?",action:"Show shortcuts"},{keys:"Esc",action:"Close modal / inspector"}];function lM({open:e,onClose:t}){const n=S.useRef(null);if(S.useEffect(()=>{var i;e&&((i=n.current)==null||i.focus())},[e]),!e)return null;const r=i=>{var l;if(i.key==="Escape"){i.preventDefault(),t();return}if(i.key!=="Tab")return;const s=Array.from(i.currentTarget.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(s.length===0)return;const a=s.indexOf(document.activeElement),o=i.shiftKey?a<=0?s.length-1:a-1:(a+1)%s.length;(l=s[o])==null||l.focus(),i.preventDefault()};return h.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",onKeyDown:r,children:h.jsxs("div",{className:"modal",tabIndex:-1,children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("div",{className:"modal-title",id:"shortcuts-title",children:"Keyboard Shortcuts"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:t,ref:n,"aria-label":"Close shortcuts",children:"Close"})]}),h.jsx("div",{className:"modal-body",children:oM.map(i=>h.jsxs("div",{className:"modal-row",children:[h.jsx("span",{className:"modal-keys",children:i.keys}),h.jsx("span",{className:"modal-action",children:i.action})]},i.keys))})]})})}const uM=e=>e.trim().toLowerCase();function cM(e){const t=new Map;return e.forEach(n=>{var i;const r=n.group??"General";t.has(r)||t.set(r,[]),(i=t.get(r))==null||i.push(n)}),t}function qy(e,t,n){var i;if(!e.length)return 0;let r=t;for(let s=0;s<e.length;s+=1)if(r=(r+n+e.length)%e.length,!((i=e[r])!=null&&i.disabled))return r;return t}function dM({open:e,onClose:t,actions:n}){var p,w;const[r,i]=S.useState(""),[s,a]=S.useState(0),o=S.useRef(null),l=S.useRef(null),u=S.useMemo(()=>{const v=uM(r);return v?n.filter(y=>[y.label,y.description,y.group,y.keys].filter(Boolean).join(" ").toLowerCase().includes(v)):n},[n,r]),c=S.useMemo(()=>cM(u),[u]);if(S.useEffect(()=>{if(!e)return;i(""),a(0);const v=window.setTimeout(()=>{var y;return(y=o.current)==null?void 0:y.focus()},0);return()=>window.clearTimeout(v)},[e]),S.useEffect(()=>{s>=u.length&&a(0)},[s,u.length]),!e)return null;const d=v=>{v.disabled||(v.onTrigger(),t())},f=v=>{var y,x;if(v.key==="Escape"){v.preventDefault(),t();return}if(v.key==="ArrowDown"){v.preventDefault(),a(b=>qy(u,b,1));return}if(v.key==="ArrowUp"){v.preventDefault(),a(b=>qy(u,b,-1));return}if(v.key==="Enter"){v.preventDefault();const b=u[s];b&&d(b);return}if(v.key==="Tab"){const b=Array.from(((y=l.current)==null?void 0:y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??[]);if(!b.length)return;const _=b.indexOf(document.activeElement),E=v.shiftKey?_<=0?b.length-1:_-1:(_+1)%b.length;(x=b[E])==null||x.focus(),v.preventDefault()}},m=(p=u[s])!=null&&p.id?`palette-option-${(w=u[s])==null?void 0:w.id}`:void 0;let g=-1;return h.jsx("div",{className:"modal-backdrop palette-backdrop",role:"dialog","aria-modal":"true","aria-label":"Command palette",onKeyDown:f,onMouseDown:v=>{v.target===v.currentTarget&&t()},children:h.jsxs("div",{className:"palette",ref:l,children:[h.jsxs("div",{className:"palette-header",children:[h.jsxs("div",{children:[h.jsx("div",{className:"palette-title",children:"Command palette"}),h.jsx("div",{className:"palette-subtitle",children:"Search actions, modes, and playbook steps."})]}),h.jsx("button",{className:"ghost-button",type:"button",onClick:t,"aria-label":"Close command palette",children:"Close"})]}),h.jsx("input",{ref:o,className:"palette-input",value:r,onChange:v=>i(v.target.value),placeholder:"Type to filter actions","aria-label":"Search commands",role:"combobox","aria-expanded":"true","aria-controls":"command-palette-list","aria-activedescendant":m,"aria-autocomplete":"list"}),h.jsxs("div",{className:"palette-list",role:"listbox",id:"command-palette-list",children:[u.length===0?h.jsx("div",{className:"palette-empty",children:"No matching commands."}):null,Array.from(c.entries()).map(([v,y])=>h.jsxs("div",{className:"palette-group",children:[h.jsx("div",{className:"palette-group-title",children:v}),h.jsx("div",{className:"palette-group-list",children:y.map(x=>{g+=1;const b=g===s;return h.jsxs("button",{id:`palette-option-${x.id}`,className:`palette-item ${b?"active":""}`,type:"button",role:"option","aria-selected":b,onMouseEnter:()=>a(g),onClick:()=>d(x),disabled:x.disabled,children:[h.jsxs("div",{className:"palette-item-main",children:[h.jsx("div",{className:"palette-item-title",children:x.label}),x.description?h.jsx("div",{className:"palette-item-description",children:x.description}):null]}),x.keys?h.jsx("div",{className:"palette-item-keys",children:x.keys}):null]},x.id)})})]},v))]})]})})}function fM(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function hM({trace:e,mode:t,playheadMs:n,selectedStepId:r,compareTrace:i,collapsed:s,onToggleCollapsed:a,onModeChange:o,onSelectStep:l,onJumpToBottleneck:u,onReplay:c,onStartTour:d}){var C;const f=e.steps??[],m=fM(f),g=r??(m==null?void 0:m.id)??((C=f[0])==null?void 0:C.id)??null,p=t==="cinema"||n>0,w=!!r,v=!!i,y=[p,w,v].filter(Boolean).length,x=[p,w,v].findIndex(N=>!N),b=x===-1?2:x,_=[0,1,2].map(N=>[p,w,v][N]?"done":N===b?"active":"next"),E=[{id:"observe",title:"Act I: Observe",summary:"Scrub the timeline to feel the pacing, bottlenecks, and tool choreography.",status:_[0],actionLabel:"Enter cinema",action:()=>o("cinema"),tasks:[{label:"Scrub the timeline",done:n>0},{label:"Stay in Cinema mode",done:t==="cinema"}]},{id:"inspect",title:"Act II: Inspect",summary:"Open the most expensive or failed step and read the payload with context.",status:_[1],actionLabel:m?"Jump to bottleneck":"Select first step",action:()=>{if(r){o("cinema");return}if(m){u();return}g&&(l(g),o("cinema"))},disabled:!g,tasks:[{label:"Open the Inspector",done:!!r},{label:"Jump to the bottleneck",done:!!(m&&r===m.id)}]},{id:"direct",title:"Act III: Direct",summary:"Replay from a decisive step, then compare flows and diffs side-by-side.",status:_[2],actionLabel:i?"Open compare":"Replay from step",action:()=>{if(i){o("compare");return}g&&c(g)},disabled:!g,tasks:[{label:"Replay from a step",done:!!i},{label:"Compare runs side-by-side",done:!!(i&&t==="compare")}]}],k=E[b];return s?h.jsxs("section",{className:"journey-panel journey-collapsed","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A guided path from observation to replay. Use it to show newcomers what to do first.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"journey-collapsed-main",children:[h.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),h.jsx("div",{className:"journey-collapsed-title",children:"From observe to direct"})]}),h.jsxs("div",{className:"journey-collapsed-actions",children:[h.jsxs("span",{className:"journey-progress-text",children:[y,"/3 complete"]}),k?h.jsxs("button",{className:"primary-button journey-next",type:"button",onClick:k.action,disabled:k.disabled,children:["Next: ",k.actionLabel]}):null,d?h.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Tour"}):null,h.jsx("button",{className:"primary-button journey-expand",type:"button",onClick:a,children:"Expand"})]})]}):h.jsxs("section",{className:"journey-panel","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A three-act flow that teaches the story: observe, inspect, direct. Each act jumps to the right place.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"journey-head",children:[h.jsxs("div",{children:[h.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),h.jsx("h2",{className:"journey-title",children:"Cut a perfect take in three acts."}),h.jsx("p",{className:"journey-subtitle",children:"Trace the performance, interrogate the moment, then direct a better run."})]}),h.jsxs("div",{className:"journey-head-actions",children:[d?h.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Start tour"}):null,h.jsx("button",{className:"ghost-button",type:"button",onClick:a,children:"Collapse"})]})]}),h.jsx("div",{className:"journey-track",children:E.map((N,A)=>{var R;return h.jsxs("div",{className:"journey-card","data-status":N.status,children:[h.jsxs("div",{className:"journey-card-top",children:[h.jsxs("span",{className:"journey-index",children:["0",A+1]}),h.jsx("span",{className:"journey-status",children:N.status})]}),h.jsx("h3",{className:"journey-card-title",children:N.title}),h.jsx("p",{className:"journey-card-body",children:N.summary}),(R=N.tasks)!=null&&R.length?h.jsx("ul",{className:"journey-tasks",children:N.tasks.map($=>h.jsxs("li",{className:`journey-task ${$.done?"done":""}`,children:[h.jsx("span",{className:"journey-task-icon","aria-hidden":"true",children:$.done?"":""}),h.jsx("span",{children:$.label})]},$.label))}):null,h.jsx("button",{className:"primary-button journey-action",type:"button",onClick:N.action,disabled:N.disabled,children:N.actionLabel})]},N.id)})}),h.jsxs("div",{className:"journey-footer",children:[h.jsxs("div",{children:[h.jsx("div",{className:"journey-progress-label",children:"Progress"}),h.jsx("div",{className:"journey-progress",children:h.jsx("span",{className:"journey-progress-bar",style:{width:`${y/3*100}%`}})})]}),h.jsx("div",{className:"journey-footnote",children:"Tip: Use Flow to spot fan-out, Compare to validate your changes."})]})]})}function pM(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function mM({trace:e,mode:t,selectedStepId:n,onModeChange:r,onSelectStep:i,onJumpToBottleneck:s,onReplay:a,recommendations:o=[],persona:l="builder"}){var g;const u=e.steps??[],c=pM(u),d=n??(c==null?void 0:c.id)??((g=u[0])==null?void 0:g.id)??null,f=e.metadata.wallTimeMs??0,m=l==="executive"?"Executive lens":l==="operator"?"Operator lens":"Builder lens";return h.jsxs("aside",{className:"inspector inspector-empty","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Select a step to open detailed payloads, redaction controls, and replay actions.","data-help-placement":"left",children:[h.jsx("div",{className:"inspector-header",children:h.jsxs("div",{children:[h.jsx("div",{className:"inspector-title",children:"Director's notes"}),h.jsxs("div",{className:"inspector-subtitle",children:[m,". Select a step to open deep inspection."]})]})}),h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Run summary"}),h.jsxs("div",{className:"inspector-row",children:[h.jsx("span",{children:"Steps"}),h.jsx("span",{children:u.length})]}),h.jsxs("div",{className:"inspector-row",children:[h.jsx("span",{children:"Wall time"}),h.jsxs("span",{children:[f,"ms"]})]}),h.jsxs("div",{className:"inspector-row",children:[h.jsx("span",{children:"Status"}),h.jsx("span",{children:e.status})]})]}),h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Next actions"}),h.jsxs("div",{className:"director-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Open cinema","data-help-body":"Jump straight into the timeline.","data-help-placement":"right",children:"Open cinema"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Open flow","data-help-body":"See the dependency graph of the run.","data-help-placement":"right",children:"Switch to flow"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{if(!n){if(c){s();return}d&&i(d)}},disabled:!d||!!n,"data-help":!0,"data-help-title":"Jump to bottleneck","data-help-body":"Select the slowest step for inspection.","data-help-placement":"right",children:n?"Inspector open":c?"Jump to bottleneck":"Select first step"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>d&&a(d),disabled:!d,"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a replay from a decisive step.","data-help-placement":"right",children:"Replay from step"})]})]}),h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Mode"}),h.jsxs("div",{className:"director-modes",children:[h.jsx("button",{className:`ghost-button ${t==="cinema"?"active":""}`,type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view for pacing and sequence.","data-help-placement":"right",children:"Cinema"}),h.jsx("button",{className:`ghost-button ${t==="flow"?"active":""}`,type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Graph view for dependencies.","data-help-placement":"right",children:"Flow"}),h.jsx("button",{className:"ghost-button",type:"button",disabled:!0,children:"Compare"})]})]}),o.length?h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Recommended next moves"}),h.jsx("div",{className:"director-recommendations",children:o.map(p=>h.jsxs("article",{className:`director-recommendation tone-${p.tone}`,children:[h.jsx("div",{className:"director-recommendation-title",children:p.title}),h.jsx("p",{className:"director-recommendation-body",children:p.body}),h.jsx("button",{className:"ghost-button",type:"button",onClick:p.action,children:p.actionLabel})]},p.id))})]}):null]})}const Xl=(e,t,n)=>Math.min(n,Math.max(t,e));function vM({steps:e,open:t,onClose:n,onComplete:r}){const[i,s]=S.useState(0),[a,o]=S.useState(null),[l,u]=S.useState(null),c=S.useRef(null),d=S.useRef(null),f=S.useRef(null),m=S.useMemo(()=>e[i],[e,i]),g=S.useCallback(()=>{if(!t)return;const b=document.querySelector(m.target);if(!b){d.current=null,o(null);return}d.current=b;const _=b.getBoundingClientRect();o(_)},[t,m.target]),p=S.useCallback(()=>{if(!a||!c.current){u(null);return}const b=c.current.offsetWidth,_=c.current.offsetHeight,E=16;let k=Xl(a.left+a.width/2-b/2,E,window.innerWidth-b-E),C=a.bottom+16;m.placement==="top"&&(C=a.top-_-16),m.placement==="left"&&(k=a.left-b-16,C=a.top+a.height/2-_/2),m.placement==="right"&&(k=a.right+16,C=a.top+a.height/2-_/2),C+_>window.innerHeight-E&&(C=a.top-_-16),C<E&&(C=a.bottom+16),k=Xl(k,E,window.innerWidth-b-E),C=Xl(C,E,window.innerHeight-_-E),u({top:C,left:k})},[m.placement,a]);if(S.useEffect(()=>{t&&s(0)},[t]),S.useEffect(()=>{var _,E;if(!t){(E=(_=f.current)==null?void 0:_.focus)==null||E.call(_);return}f.current=document.activeElement;const b=window.setTimeout(()=>{var C,N;(N=((C=c.current)==null?void 0:C.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??c.current)==null||N.focus()},0);return()=>window.clearTimeout(b)},[t]),S.useEffect(()=>{if(!t)return;const b=document.querySelector(m.target);b&&b.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const _=window.requestAnimationFrame(()=>g());return()=>window.cancelAnimationFrame(_)},[t,m.target,g]),S.useLayoutEffect(()=>{p()},[a,p,m.title]),S.useEffect(()=>{if(!t)return;const b=()=>{g(),p()};return window.addEventListener("resize",b),window.addEventListener("scroll",b,!0),()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",b,!0)}},[t,g,p]),!t||!m)return null;const w=b=>{var N,A;if(b.key==="Escape"){b.preventDefault(),n();return}if(b.key!=="Tab")return;const _=Array.from(((N=c.current)==null?void 0:N.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??[]);if(_.length===0)return;const E=document.activeElement,k=_.indexOf(E),C=b.shiftKey?k<=0?_.length-1:k-1:(k+1)%_.length;(A=_[C])==null||A.focus(),b.preventDefault()},v=`tour-title-${m.id}`,y=`tour-body-${m.id}`,x=a?{top:a.top-6,left:a.left-6,width:a.width+12,height:a.height+12}:void 0;return h.jsxs("div",{className:"tour-overlay",role:"dialog","aria-modal":"true","aria-label":"Guided tour","aria-labelledby":v,"aria-describedby":y,onKeyDown:w,children:[h.jsx("div",{className:"tour-backdrop",onClick:n}),a?h.jsx("div",{className:"tour-spotlight",style:x}):null,h.jsxs("div",{className:`tour-card ${l?"tour-card-anchored":""}`,ref:c,style:l??void 0,tabIndex:-1,children:[h.jsxs("div",{className:"tour-step",children:["Step ",i+1," of ",e.length]}),h.jsx("div",{className:"tour-title",id:v,children:m.title}),h.jsx("p",{className:"tour-body",id:y,children:m.body}),h.jsxs("div",{className:"tour-actions",children:[h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>s(b=>Math.max(0,b-1)),disabled:i===0,children:"Back"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:n,children:"Skip"}),i===e.length-1?h.jsx("button",{className:"primary-button",type:"button",onClick:r,children:"Finish tour"}):h.jsx("button",{className:"primary-button",type:"button",onClick:()=>s(b=>b+1),children:"Next"})]})]})]})}const Fy=(e,t,n)=>Math.min(n,Math.max(t,e));function gM({enabled:e}){const[t,n]=S.useState(null),[r,i]=S.useState(null),s=S.useRef(null),a=S.useRef(null),o=S.useCallback(()=>{const u=s.current;if(!u){n(null);return}const c=u.getBoundingClientRect(),d=u.dataset.helpTitle??"Context",f=u.dataset.helpBody??"",m=u.dataset.helpPlacement??"right";n({rect:c,title:d,body:f,placement:m})},[]);S.useEffect(()=>{if(!e){s.current=null,n(null);return}const u=g=>{var w,v;const p=(v=(w=g.target)==null?void 0:w.closest)==null?void 0:v.call(w,"[data-help]");if(!p){s.current||n(null);return}s.current!==p&&(s.current=p,o())},c=g=>{var w,v;const p=(v=(w=g.target)==null?void 0:w.closest)==null?void 0:v.call(w,"[data-help]");p&&(s.current=p,o())},d=g=>{var w;const p=g.relatedTarget;(w=p==null?void 0:p.closest)!=null&&w.call(p,"[data-help]")||(s.current=null,n(null))},f=g=>{var w,v;const p=(v=(w=g.target)==null?void 0:w.closest)==null?void 0:v.call(w,"[data-help]");if(!p){s.current=null,n(null);return}s.current=p,o()},m=()=>{s.current&&o()};return window.addEventListener("mousemove",u),window.addEventListener("focusin",c),window.addEventListener("focusout",d),window.addEventListener("pointerdown",f),window.addEventListener("scroll",m,!0),window.addEventListener("resize",m),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("focusin",c),window.removeEventListener("focusout",d),window.removeEventListener("pointerdown",f),window.removeEventListener("scroll",m,!0),window.removeEventListener("resize",m)}},[e,o]);const l=S.useCallback(()=>{if(!t||!a.current){i(null);return}const u=12,c=a.current.offsetWidth,d=a.current.offsetHeight,{rect:f,placement:m}=t;let g=f.right+16,p=f.top+f.height/2-d/2;m==="left"&&(g=f.left-c-16,p=f.top+f.height/2-d/2),m==="top"&&(g=f.left+f.width/2-c/2,p=f.top-d-16),m==="bottom"&&(g=f.left+f.width/2-c/2,p=f.bottom+16),g=Fy(g,u,window.innerWidth-c-u),p=Fy(p,u,window.innerHeight-d-u),i({left:g,top:p})},[t]);return S.useLayoutEffect(()=>{l()},[l]),!e||!t?null:h.jsxs("div",{className:"help-overlay","aria-hidden":"true",children:[h.jsx("div",{className:"help-highlight",style:{top:t.rect.top-6,left:t.rect.left-6,width:t.rect.width+12,height:t.rect.height+12}}),h.jsxs("div",{className:"help-bubble",ref:a,style:r??void 0,"data-placement":t.placement,children:[h.jsx("div",{className:"help-title",children:t.title}),h.jsx("div",{className:"help-body",children:t.body})]})]})}const yM=[{id:"builder",label:"Builder lens",body:"Focus on step payloads, execution paths, and replay control."},{id:"executive",label:"Executive lens",body:"Focus on bottlenecks, risk, and outcome-level run quality."},{id:"operator",label:"Operator lens",body:"Focus on failures, retries, and trace reliability posture."}];function xM({onComplete:e,onStartTour:t,onStartStory:n,persona:r="builder",onPersonaChange:i}){const s=()=>{t==null||t(),e()},a=()=>{n==null||n(),e()};return h.jsx("div",{className:"intro-overlay",role:"dialog","aria-modal":"true","aria-label":"Agent Director intro",children:h.jsxs("div",{className:"intro-card",children:[h.jsx("div",{className:"intro-scan"}),h.jsx("div",{className:"intro-title",children:"Agent Director"}),h.jsx("div",{className:"intro-tagline",children:"Watch your agent think. Then direct it."}),h.jsxs("div",{className:"intro-steps",children:[h.jsxs("div",{className:"intro-step",children:[h.jsx("div",{className:"intro-step-label",children:"Observe"}),h.jsx("div",{className:"intro-step-body",children:"Scrub the timeline to feel pacing and parallelism."})]}),h.jsxs("div",{className:"intro-step",children:[h.jsx("div",{className:"intro-step-label",children:"Inspect"}),h.jsx("div",{className:"intro-step-body",children:"Open the bottleneck to read payloads and costs."})]}),h.jsxs("div",{className:"intro-step",children:[h.jsx("div",{className:"intro-step-label",children:"Direct"}),h.jsx("div",{className:"intro-step-body",children:"Replay from a decisive step and compare runs."})]})]}),h.jsx("div",{className:"intro-personas",role:"group","aria-label":"Select onboarding lens",children:yM.map(o=>h.jsxs("button",{type:"button",className:`ghost-button intro-persona ${r===o.id?"active":""}`,onClick:()=>i==null?void 0:i(o.id),"aria-pressed":r===o.id,"aria-label":o.label,children:[h.jsx("span",{className:"intro-persona-label",children:o.label}),h.jsx("span",{className:"intro-persona-body",children:o.body})]},o.id))}),h.jsxs("div",{className:"intro-grid",children:[h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{})]}),h.jsxs("div",{className:"intro-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:s,children:"Start guided tour"}),n?h.jsx("button",{className:"ghost-button",type:"button",onClick:a,children:"Play story mode"}):null,h.jsx("button",{className:"ghost-button",type:"button",onClick:e,children:"Skip intro"})]})]})})}function wM({explainMode:e,storyActive:t,onStartTour:n,onStartStory:r,onToggleExplain:i,onDismiss:s}){return h.jsxs("section",{className:"hero-ribbon","aria-label":"Director briefing","data-help":!0,"data-help-indicator":!0,"data-tour":"hero","data-help-title":"Director briefing","data-help-body":"Start the tour, play story mode, or enable explain to learn the interface instantly.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"hero-ribbon-top",children:[h.jsx("span",{className:"hero-eyebrow",children:"Director briefing"}),h.jsx("button",{className:"ghost-button hero-dismiss",type:"button",onClick:s,children:"Dismiss"})]}),h.jsx("div",{className:"hero-title",children:"Observe. Inspect. Direct."}),h.jsx("div",{className:"hero-subtitle",children:"A cinematic control room for agent traces. See time, read structure, then replay with confidence."}),h.jsxs("div",{className:"hero-pills",children:[h.jsx("span",{className:"hero-pill","data-tone":"observe",children:"Observe"}),h.jsx("span",{className:"hero-pill","data-tone":"inspect",children:"Inspect"}),h.jsx("span",{className:"hero-pill","data-tone":"direct",children:"Direct"})]}),h.jsxs("div",{className:"hero-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:n,children:"Start guided tour"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:r,disabled:t,children:t?"Story running":"Play story mode"}),h.jsxs("button",{className:`ghost-button ${e?"active":""}`,type:"button",onClick:i,"aria-pressed":e,children:["Explain ",e?"On":"Off"]})]})]})}function bM({mode:e,isPlaying:t,storyActive:n,explainMode:r,hidden:i=!1,open:s,onToggleOpen:a,onTogglePlay:o,onStartStory:l,onStopStory:u,onStartTour:c,onOpenPalette:d,onShowShortcuts:f,onToggleExplain:m,onJumpToBottleneck:g}){if(i)return null;const p=t?"Pause":"Play",w=n?"Stop story":"Story mode";return s?h.jsxs("aside",{className:"quick-actions","aria-label":"Quick actions","data-help":!0,"data-help-indicator":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Launch story mode, open the command palette, or jump to the bottleneck instantly.","data-help-placement":"left",children:[h.jsxs("div",{className:"quick-actions-header",children:[h.jsxs("div",{children:[h.jsx("div",{className:"quick-actions-title",children:"Quick actions"}),h.jsx("div",{className:"quick-actions-subtitle",children:"Pin demo controls close at hand."})]}),h.jsx("button",{className:"ghost-button",type:"button",onClick:a,"aria-label":"Collapse quick actions",children:"Collapse"})]}),h.jsxs("button",{className:`quick-action ${t?"active":""}`,type:"button",onClick:o,"aria-label":p,"data-help":!0,"data-help-title":"Play or pause","data-help-body":"Start or stop playback from anywhere.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:p}),h.jsx("span",{className:"quick-action-meta",children:e==="flow"?"Cinema":"Space"})]}),h.jsxs("button",{className:`quick-action ${n?"active":""}`,type:"button",onClick:n?u:l,"aria-label":w,"data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough of the run.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:w}),h.jsx("span",{className:"quick-action-meta",children:"S"})]}),h.jsxs("button",{className:"quick-action",type:"button",onClick:d,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search every action and jump instantly.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Command"}),h.jsx("span",{className:"quick-action-meta",children:"Cmd+K"})]}),h.jsxs("button",{className:"quick-action",type:"button",onClick:c,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk the interface with a curated tour.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Tour"}),h.jsx("span",{className:"quick-action-meta",children:"Guide"})]}),h.jsxs("button",{className:`quick-action ${r?"active":""}`,type:"button",onClick:m,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Toggle contextual overlays for every control.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Explain"}),h.jsx("span",{className:"quick-action-meta",children:r?"On":"Off"})]}),h.jsxs("button",{className:"quick-action",type:"button",onClick:g,"aria-label":"Jump to bottleneck","data-help":!0,"data-help-title":"Bottleneck jump","data-help-body":"Focus instantly on the slowest step.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Bottleneck"}),h.jsx("span",{className:"quick-action-meta",children:"Latency"})]}),h.jsxs("button",{className:"quick-action",type:"button",onClick:f,"aria-label":"Show shortcuts","data-help":!0,"data-help-title":"Shortcuts","data-help-body":"See the full keyboard map.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Shortcuts"}),h.jsx("span",{className:"quick-action-meta",children:"?"})]})]}):h.jsxs("button",{className:"quick-actions-toggle",type:"button",onClick:a,title:"Open quick actions","aria-expanded":"false","data-help":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Open the dock to access demos, shortcuts, and instant actions.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-actions-toggle-label",children:"Actions"}),h.jsx("span",{className:"quick-actions-toggle-meta",children:"Dock"})]})}function SM({active:e,label:t,step:n,total:r,onStop:i,onRestart:s}){if(!e)return null;const a=r>0?(n+1)/r*100:0;return h.jsxs("div",{className:"story-banner",role:"status","aria-live":"polite",children:[h.jsxs("div",{className:"story-banner-main",children:[h.jsx("div",{className:"story-banner-title",children:"Story mode"}),h.jsx("div",{className:"story-banner-step",children:t})]}),h.jsxs("div",{className:"story-banner-actions",children:[h.jsxs("span",{className:"story-banner-count",children:[Math.min(n+1,r),"/",r]}),h.jsx("button",{className:"ghost-button",type:"button",onClick:s,children:"Restart"}),h.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Stop"})]}),h.jsx("div",{className:"story-banner-progress",children:h.jsx("span",{style:{width:`${a}%`}})})]})}const LE=/token|secret|password|api[_-]?key|authorization|bearer|session|cookie|private|ssh|credentials/i;function pv(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function _M(e){const t=[],n=new WeakSet,r=(i,s)=>{if(Array.isArray(i)){i.forEach((a,o)=>{r(a,`${s}[${o}]`)});return}pv(i)&&(n.has(i)||(n.add(i),Object.entries(i).forEach(([a,o])=>{const l=s?`${s}.${a}`:a;LE.test(a)&&t.push(l),r(o,l)})))};return r(e,""),t}function OE(e){const t=new WeakMap,n=r=>{if(Array.isArray(r))return r.map(s=>n(s));if(!pv(r))return r;if(t.has(r))return t.get(r);const i={};return t.set(r,i),Object.entries(r).forEach(([s,a])=>{LE.test(s)?i[s]="[REDACTED]":i[s]=n(a)}),i};return n(e)}function kM(e){return pv(e)}function Vy(e){return e==null||Number.isNaN(e)?"n/a":e.toString()}function EM(e){return e==null||Number.isNaN(e)?"n/a":e.toFixed(3)}function CM(e,t){return t?OE(e):e}function TM({job:e,matrix:t,safeExport:n,sensitiveKeys:r,anchorStepName:i}){const s=t.rows.map(a=>({scenarioId:a.scenarioId,name:a.name,strategy:a.strategy,status:a.status,replayTraceId:a.replayTraceId,modifications:CM(a.modifications,n),error:a.error??null,changedStepIds:a.changedStepIds,addedStepIds:a.addedStepIds,removedStepIds:a.removedStepIds,metrics:a.metrics}));return{generatedAt:new Date().toISOString(),safeExport:n,redaction:{safeExport:n,sensitiveKeys:r,policy:n?"redacted":"raw"},job:e?{id:e.id,status:e.status,createdAt:e.createdAt,startedAt:e.startedAt??null,endedAt:e.endedAt??null,scenarioCount:e.scenarioCount,completedCount:e.completedCount,failedCount:e.failedCount,canceledCount:e.canceledCount}:null,base:{traceId:t.traceId,stepId:t.stepId,anchorStepName:i??null},rows:s,causalRanking:t.causalRanking}}function jM({job:e,matrix:t,safeExport:n,anchorStepName:r}){const i=[],s=new Date().toISOString();return i.push("# Counterfactual Replay Matrix"),i.push(""),i.push(`Generated: ${s}`),i.push(`Safe export: ${n?"on":"off"}`),i.push(""),i.push("## Base trace"),i.push(`- Trace: ${t.traceId}`),i.push(`- Anchor step: ${r??t.stepId}`),i.push(""),e&&(i.push("## Job status"),i.push(`- Job: ${e.id}`),i.push(`- Status: ${e.status}`),i.push(`- Scenarios: ${e.scenarioCount} (completed ${e.completedCount}, failed ${e.failedCount}, canceled ${e.canceledCount})`),i.push("")),i.push("## Scenario outcomes"),i.push("| Scenario | Status | Wall  (ms) | Cost  (USD) | Errors  | Changed |"),i.push("| --- | --- | --- | --- | --- | --- |"),t.rows.forEach(a=>{i.push(`| ${a.name} | ${a.status} | ${Vy(a.metrics.wallTimeDeltaMs)} | ${EM(a.metrics.costDeltaUsd)} | ${Vy(a.metrics.errorDelta)} | ${a.metrics.changedSteps} |`)}),i.push(""),i.push("## Causal ranking"),t.causalRanking.length?t.causalRanking.slice(0,10).forEach(a=>{i.push(`- ${a.factor}: score ${a.score.toFixed(3)}, confidence ${(a.confidence*100).toFixed(0)}% (samples ${a.evidence.samples})`)}):i.push("- No causal ranking available."),i.push(""),i.push("## Redaction"),i.push(`Safe export: ${n?"enabled":"disabled"}.`),i.push(""),i.join(`
`)}const By=["recorded","live","hybrid"],_a=25,zi=[{id:"prompt-tighten",label:"Prompt tighten",description:"Shorten or focus the assistant response",name:"Prompt tighter",strategy:"hybrid",modifications:{prompt:"Return concise response"}},{id:"tool-timeout",label:"Tool timeout",description:"Extend tool timeout for flaky calls",name:"Tool timeout 45s",strategy:"live",modifications:{toolTimeoutMs:45e3}},{id:"recorded-baseline",label:"Recorded baseline",description:"Pure recorded replay for determinism",name:"Recorded baseline",strategy:"recorded",modifications:{}}];function $y(e){return e??Number.POSITIVE_INFINITY}function Uy(){return`scenario-${Math.random().toString(36).slice(2,9)}`}function PM(e){const t=e.trim();if(!t)return{value:{}};try{const n=JSON.parse(t);return kM(n)?{value:n}:{error:"Modifications must be a JSON object."}}catch{return{error:"Modifications must be valid JSON."}}}function NM(e,t){const n=t.get(e);return n?n.name:e}function RM({steps:e,anchorStepId:t,onAnchorStepChange:n,scenarios:r,onScenarioChange:i,onDuplicateScenario:s,onMoveScenario:a,onAddScenario:o,onRemoveScenario:l,onReplaceScenarios:u,onRun:c,onCancel:d,loading:f,error:m,job:g,matrix:p,safeExport:w,onOpenCompare:v}){var ct,Z;const[y,x]=S.useState("wallTimeDeltaMs"),[b,_]=S.useState(!0),[E,k]=S.useState(null),[C,N]=S.useState(((ct=zi[0])==null?void 0:ct.id)??""),[A,R]=S.useState(null),$=S.useRef(null),J=S.useMemo(()=>new Map(e.map(j=>[j.id,j])),[e]),fe=S.useMemo(()=>{const j=r.map((K,W)=>K.name.trim()||`Scenario ${W+1}`),L=new Map;return j.forEach(K=>{const W=K.toLowerCase();L.set(W,(L.get(W)??0)+1)}),r.map((K,W)=>{const he=j[W],xe=he.toLowerCase(),_e=PM(K.modificationsText),ae=[];_e.error&&ae.push(_e.error),(L.get(xe)??0)>1&&ae.push(`Duplicate scenario name: ${he}`);const Ht=_e.value??{},Ke=_e.value?_M(_e.value):[];return{id:K.id,name:he,parsedModifications:Ht,errors:ae,sensitiveKeys:Ke}})},[r]),z=fe.reduce((j,L)=>j+L.errors.length,0),re=r.length>_a?`Scenario limit exceeded (${r.length}/${_a}).`:null,ee=z>0||!!re,I=re||(z>0?"Fix scenario errors before running.":null),D=!f&&r.length>0&&!ee,V=S.useMemo(()=>{const L=[...(p==null?void 0:p.rows)??[]];return L.sort((K,W)=>{if(y==="name")return b?K.name.localeCompare(W.name):W.name.localeCompare(K.name);if(y==="changedSteps"){const _e=K.metrics.changedSteps,ae=W.metrics.changedSteps;return b?_e-ae:ae-_e}const he=$y(K.metrics[y]),xe=$y(W.metrics[y]);return b?he-xe:xe-he}),L},[p==null?void 0:p.rows,y,b]),Y=j=>{if(j===y){_(L=>!L);return}x(j),_(!0)},H=fe.map((j,L)=>{var K;return{name:j.name,strategy:((K=r[L])==null?void 0:K.strategy)??"hybrid",modifications:j.parsedModifications}}),Se=()=>{D&&c(H)},O=()=>{const j=zi.find(L=>L.id===C)??zi[0];j&&u([...r,{id:Uy(),name:j.name,strategy:j.strategy,modificationsText:JSON.stringify(j.modifications,null,2)}])},ce=()=>{const j={version:1,anchorStepId:t,scenarios:r.map(L=>({name:L.name,strategy:L.strategy,modificationsText:L.modificationsText}))};Jp(`agent-director-scenarios-${t||"matrix"}.json`,j)},ye=async j=>{var K;const L=(K=j.target.files)==null?void 0:K[0];if(L){j.target.value="";try{const W=await L.text(),he=JSON.parse(W),xe=Array.isArray(he.scenarios)?he.scenarios:Array.isArray(he)?he:null;if(!xe||xe.length===0){R("Scenario file must include a scenarios array.");return}if(xe.length>_a){R(`Scenario file exceeds ${_a} scenarios.`);return}const _e=xe.map((ae,Ht)=>{if(!ae||typeof ae!="object")throw new Error("Scenario entries must be objects.");const Ke=ae,It=String(Ke.name??`Scenario ${Ht+1}`),rr=String(Ke.strategy??"hybrid"),dt=By.includes(rr)?rr:"hybrid",Mr=typeof Ke.modificationsText=="string"?Ke.modificationsText:JSON.stringify(Ke.modifications??{},null,2);return{id:Uy(),name:It,strategy:dt,modificationsText:Mr}});typeof he.anchorStepId=="string"&&J.has(he.anchorStepId)&&n(he.anchorStepId),u(_e),R(null)}catch(W){R(W instanceof Error?W.message:"Failed to import scenario file.")}}},Ie=S.useMemo(()=>{const j=fe.flatMap(L=>L.sensitiveKeys);return Array.from(new Set(j))},[fe]),St=S.useMemo(()=>{const j=(p==null?void 0:p.causalRanking)??[];return j.length===0?1:Math.max(1,...j.map(L=>Math.abs(L.score)))},[p==null?void 0:p.causalRanking]),nr=()=>{var K;if(!p)return;const j=((K=J.get(t))==null?void 0:K.name)??null,L=TM({job:g,matrix:p,safeExport:w,sensitiveKeys:Ie,anchorStepName:j});Jp(`agent-director-matrix-${p.jobId}.json`,L)},Rr=()=>{var K;if(!p)return;const j=((K=J.get(t))==null?void 0:K.name)??null,L=jM({job:g,matrix:p,safeExport:w,anchorStepName:j});rM(`agent-director-matrix-${p.jobId}.md`,L,"text/markdown")},ji=(g==null?void 0:g.status)==="queued"||(g==null?void 0:g.status)==="running",de=E?((p==null?void 0:p.rows)??[]).find(j=>j.scenarioId===E)??null:null,Pi=de?w?OE(de.modifications):de.modifications:null;return h.jsxs("section",{className:"matrix-mode","data-help":!0,"data-help-title":"Matrix mode","data-help-body":"Run multiple replay scenarios from one anchor and compare outcome deltas with causal ranking.","data-help-placement":"top",children:[h.jsxs("div",{className:"matrix-panel",children:[h.jsxs("div",{className:"matrix-panel-header",children:[h.jsx("h2",{children:"Counterfactual Replay Matrix"}),h.jsx("div",{className:"matrix-job-state",children:g?h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:`status-pill status-${g.status}`,children:["Job: ",g.status]}),h.jsxs("span",{children:[g.completedCount,"/",g.scenarioCount," completed"]}),g.failedCount?h.jsxs("span",{children:[g.failedCount," failed"]}):null,g.canceledCount?h.jsxs("span",{children:[g.canceledCount," canceled"]}):null]}):h.jsx("span",{children:"No job yet"})})]}),h.jsxs("div",{className:"matrix-controls",children:[h.jsxs("label",{children:["Anchor step",h.jsx("select",{value:t,onChange:j=>n(j.target.value),children:e.map(j=>h.jsxs("option",{value:j.id,children:[j.name," (",j.id,")"]},j.id))})]}),h.jsxs("label",{children:["Preset",h.jsx("select",{value:C,onChange:j=>N(j.target.value),"data-help":!0,"data-help-title":"Scenario presets","data-help-body":"Insert common experiments like prompt tweaks or recorded baselines.","data-help-placement":"bottom",children:zi.map(j=>h.jsx("option",{value:j.id,children:j.label},j.id))})]}),h.jsx("button",{type:"button",className:"ghost-button",onClick:O,disabled:f,"data-help":!0,"data-help-title":"Add preset","data-help-body":"Append the selected preset as a new scenario.","data-help-placement":"bottom",children:"Add preset"}),h.jsxs("div",{className:"matrix-actions",children:[h.jsx("button",{type:"button",className:"primary-button",onClick:Se,disabled:!D,"data-help":!0,"data-help-title":"Run matrix","data-help-body":"Execute all scenarios sequentially and gather outcome deltas.","data-help-placement":"bottom",children:f?"Running...":"Run matrix"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:o,disabled:f,children:"Add scenario"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:d,disabled:!ji||f,children:"Cancel job"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:ce,"data-help":!0,"data-help-title":"Export scenarios","data-help-body":"Download the scenario set as JSON for reuse.","data-help-placement":"bottom",children:"Export scenarios"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>{var j;return(j=$.current)==null?void 0:j.click()},"data-help":!0,"data-help-title":"Import scenarios","data-help-body":"Load a scenario JSON file to repopulate the builder.","data-help-placement":"bottom",children:"Import scenarios"}),h.jsx("input",{ref:$,type:"file",accept:"application/json",onChange:ye,className:"matrix-file-input"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:nr,disabled:!p,"data-help":!0,"data-help-title":"Export matrix","data-help-body":"Download the full matrix JSON with redaction metadata.","data-help-placement":"bottom",children:"Export matrix"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:Rr,disabled:!p,"data-help":!0,"data-help-title":"Export summary","data-help-body":"Download a markdown summary for sharing.","data-help-placement":"bottom",children:"Export summary"})]})]}),h.jsx("div",{className:"matrix-presets",children:zi.map(j=>h.jsxs("div",{className:"matrix-preset",children:[h.jsx("strong",{children:j.label}),h.jsx("span",{children:j.description})]},j.id))}),h.jsx("div",{className:"matrix-scenarios",children:r.map((j,L)=>{const K=fe[L];return h.jsxs("article",{className:"matrix-scenario",children:[h.jsxs("div",{className:"matrix-scenario-head",children:[h.jsx("input",{value:j.name,onChange:W=>i(j.id,{name:W.target.value}),placeholder:"Scenario name"}),h.jsx("select",{value:j.strategy,onChange:W=>i(j.id,{strategy:W.target.value}),children:By.map(W=>h.jsx("option",{value:W,children:W},W))})]}),h.jsx("textarea",{value:j.modificationsText,onChange:W=>i(j.id,{modificationsText:W.target.value}),rows:3,spellCheck:!1,"aria-label":`Scenario ${j.name} modifications`}),K!=null&&K.errors.length?h.jsx("div",{className:"matrix-scenario-error",children:K.errors.map(W=>h.jsx("div",{children:W},W))}):null,K!=null&&K.sensitiveKeys.length?h.jsxs("div",{className:"matrix-scenario-warning",children:["Sensitive keys: ",K.sensitiveKeys.join(", ")]}):null,h.jsxs("div",{className:"matrix-scenario-actions",children:[h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>s(j.id),disabled:f,children:"Duplicate scenario"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>a(j.id,"up"),disabled:f||L===0,children:"Move scenario up"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>a(j.id,"down"),disabled:f||L===r.length-1,children:"Move scenario down"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>l(j.id),disabled:r.length<=1,children:"Remove"})]})]},j.id)})}),I?h.jsx("div",{className:"error-banner",children:I}):null,A?h.jsx("div",{className:"error-banner",children:A}):null,m?h.jsx("div",{className:"error-banner",children:m}):null]}),h.jsxs("div",{className:"matrix-results",children:[h.jsx("div",{className:"matrix-table-wrap",children:h.jsxs("table",{className:"matrix-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>Y("name"),children:"Scenario"})}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>Y("wallTimeDeltaMs"),children:"Wall  (ms)"})}),h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>Y("costDeltaUsd"),children:"Cost  (USD)"})}),h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>Y("errorDelta"),children:"Errors "})}),h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>Y("changedSteps"),children:"Changed"})}),h.jsx("th",{children:"Details"}),h.jsx("th",{children:"Compare"})]})}),h.jsx("tbody",{children:V.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:8,children:"No matrix results yet. Run a job to populate this table."})}):V.map(j=>h.jsxs("tr",{children:[h.jsx("td",{children:j.name}),h.jsx("td",{title:j.error??void 0,children:j.status}),h.jsx("td",{children:j.metrics.wallTimeDeltaMs??"n/a"}),h.jsx("td",{children:j.metrics.costDeltaUsd??"n/a"}),h.jsx("td",{children:j.metrics.errorDelta??"n/a"}),h.jsx("td",{children:j.metrics.changedSteps}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>k(j.scenarioId),children:"Details"})}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"ghost-button",disabled:!j.replayTraceId,onClick:()=>j.replayTraceId&&v(j.replayTraceId),children:"Open"})})]},j.scenarioId))})]})}),h.jsxs("aside",{className:"matrix-causal",children:[h.jsx("h3",{children:"Causal ranking"}),(Z=p==null?void 0:p.causalRanking)!=null&&Z.length?h.jsx("ul",{children:p.causalRanking.slice(0,8).map(j=>h.jsxs("li",{children:[h.jsxs("div",{className:"factor-row",children:[h.jsx("strong",{children:j.factor}),h.jsxs("span",{children:["score ",j.score.toFixed(3)]})]}),h.jsx("div",{className:"factor-bar-track",role:"presentation",children:h.jsx("div",{className:`factor-bar-fill ${j.score>=0?"positive":"negative"}`,style:{width:`${Math.max(6,Math.abs(j.score)/St*100)}%`}})}),h.jsxs("div",{className:"factor-meta",children:["confidence ",(j.confidence*100).toFixed(0),"%  samples ",j.evidence.samples]}),j.evidence.examples.length?h.jsx("div",{className:"factor-chips",children:j.evidence.examples.map(L=>h.jsx("span",{className:"factor-chip",children:L},L))}):null]},j.factor))}):h.jsx("p",{children:"No causal ranking yet."})]}),de?h.jsxs("aside",{className:"matrix-detail",role:"dialog","aria-label":"Scenario details",children:[h.jsxs("div",{className:"matrix-detail-header",children:[h.jsxs("div",{children:[h.jsx("h3",{children:"Scenario details"}),h.jsxs("p",{className:"matrix-detail-subtitle",children:[de.name,"  ",de.status]})]}),h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>k(null),children:"Close"})]}),h.jsxs("div",{className:"matrix-detail-grid",children:[h.jsxs("div",{className:"matrix-detail-block",children:[h.jsx("h4",{children:"Modifications"}),w?h.jsx("p",{className:"matrix-detail-note",children:"Safe export enabled: sensitive keys are redacted."}):null,h.jsx("pre",{children:JSON.stringify(Pi??{},null,2)})]}),h.jsxs("div",{className:"matrix-detail-block",children:[h.jsx("h4",{children:"Change summary"}),h.jsxs("div",{className:"matrix-detail-metrics",children:[h.jsxs("span",{children:["Changed: ",de.metrics.changedSteps]}),h.jsxs("span",{children:["Added: ",de.metrics.addedSteps]}),h.jsxs("span",{children:["Removed: ",de.metrics.removedSteps]}),h.jsxs("span",{children:["Invalidated: ",de.metrics.invalidatedStepCount]})]}),h.jsxs("div",{className:"matrix-detail-steps",children:[h.jsx("strong",{children:"Top changed steps"}),h.jsx("div",{className:"matrix-step-chips",children:de.changedStepIds.length?de.changedStepIds.slice(0,6).map(j=>h.jsx("span",{className:"matrix-step-chip",title:j,children:NM(j,J)},j)):h.jsx("span",{className:"matrix-step-chip",children:"None"})}),de.changedStepIds.length>6?h.jsxs("div",{className:"matrix-step-more",children:["+",de.changedStepIds.length-6," more steps changed"]}):null]}),de.error?h.jsx("div",{className:"matrix-detail-error",children:de.error}):null]})]})]}):null]})]})}const qE=S.createContext({});function MM(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const mv=S.createContext(null),FE=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function AM(e=!0){const t=S.useContext(mv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=S.useId();S.useEffect(()=>{e&&i(s)},[e]);const a=S.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,a]:[!0]}const vv=typeof window<"u",IM=vv?S.useLayoutEffect:S.useEffect,gt=e=>e;let VE=gt;function gv(e){let t;return()=>(t===void 0&&(t=e()),t)}const mi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},mn=e=>e*1e3,vn=e=>e/1e3,DM={useManualTiming:!1};function LM(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){s.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,c=!1,d=!1)=>{const m=d&&r?t:n;return c&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const ka=["read","resolveKeyframes","update","preRender","render","postRender"],OM=40;function BE(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=ka.reduce((v,y)=>(v[y]=LM(s),v),{}),{read:o,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:f}=a,m=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,OM),1),i.timestamp=v,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=()=>{n=!0,r=!0,i.isProcessing||e(m)};return{schedule:ka.reduce((v,y)=>{const x=a[y];return v[y]=(b,_=!1,E=!1)=>(n||g(),x.schedule(b,_,E)),v},{}),cancel:v=>{for(let y=0;y<ka.length;y++)a[ka[y]].cancel(v)},state:i,steps:a}}const{schedule:ge,cancel:Wn,state:ze,steps:Jl}=BE(typeof requestAnimationFrame<"u"?requestAnimationFrame:gt,!0),$E=S.createContext({strict:!1}),zy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vi={};for(const e in zy)vi[e]={isEnabled:t=>zy[e].some(n=>!!t[n])};function qM(e){for(const t in e)vi[t]={...vi[t],...e[t]}}const FM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||FM.has(e)}let UE=e=>!vo(e);function VM(e){e&&(UE=t=>t.startsWith("on")?!vo(t):e(t))}try{VM(require("@emotion/is-prop-valid").default)}catch{}function BM(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(UE(i)||n===!0&&vo(i)||!t&&!vo(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function $M(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const zo=S.createContext({});function Ds(e){return typeof e=="string"||Array.isArray(e)}function Go(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xv=["initial",...yv];function Ho(e){return Go(e.animate)||xv.some(t=>Ds(e[t]))}function zE(e){return!!(Ho(e)||e.variants)}function UM(e,t){if(Ho(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ds(n)?n:void 0,animate:Ds(r)?r:void 0}}return e.inherit!==!1?t:{}}function zM(e){const{initial:t,animate:n}=UM(e,S.useContext(zo));return S.useMemo(()=>({initial:t,animate:n}),[Gy(t),Gy(n)])}function Gy(e){return Array.isArray(e)?e.join(" "):e}const GM=Symbol.for("motionComponentSymbol");function Xr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function HM(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xr(n)&&(n.current=r))},[t])}const wv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KM="framerAppearId",GE="data-"+wv(KM),{schedule:bv}=BE(queueMicrotask,!1),HE=S.createContext({});function WM(e,t,n,r,i){var s,a;const{visualElement:o}=S.useContext(zo),l=S.useContext($E),u=S.useContext(mv),c=S.useContext(FE).reducedMotion,d=S.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,m=S.useContext(HE);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&YM(d.current,n,i,m);const g=S.useRef(!1);S.useInsertionEffect(()=>{f&&g.current&&f.update(n,u)});const p=n[GE],w=S.useRef(!!p&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,p))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,p)));return IM(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),bv.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,p)}),w.current=!1))}),f}function YM(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:KE(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Xr(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function KE(e){if(e)return e.options.allowProjection!==!1?e.projection:KE(e.parent)}function QM({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,a;e&&qM(e);function o(u,c){let d;const f={...S.useContext(FE),...u,layoutId:XM(u)},{isStatic:m}=f,g=zM(u),p=r(u,m);if(!m&&vv){JM();const w=ZM(f);d=w.MeasureLayout,g.visualElement=WM(i,p,f,t,w.ProjectionNode)}return h.jsxs(zo.Provider,{value:g,children:[d&&g.visualElement?h.jsx(d,{visualElement:g.visualElement,...f}):null,n(i,u,HM(p,g.visualElement,c),p,m,g.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=S.forwardRef(o);return l[GM]=i,l}function XM({layoutId:e}){const t=S.useContext(qE).id;return t&&e!==void 0?t+"-"+e:e}function JM(e,t){S.useContext($E).strict}function ZM(e){const{drag:t,layout:n}=vi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const eA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sv(e){return typeof e!="string"||e.includes("-")?!1:!!(eA.indexOf(e)>-1||/[A-Z]/u.test(e))}function Hy(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function _v(e,t,n,r){if(typeof t=="function"){const[i,s]=Hy(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Hy(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Zp=e=>Array.isArray(e),tA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),nA=e=>Zp(e)?e[e.length-1]||0:e,Je=e=>!!(e&&e.getVelocity);function $a(e){const t=Je(e)?e.get():e;return tA(t)?t.toValue():t}function rA({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const a={latestValues:iA(r,i,s,e),renderState:t()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const WE=e=>(t,n)=>{const r=S.useContext(zo),i=S.useContext(mv),s=()=>rA(e,t,r,i);return n?s():MM(s)};function iA(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=$a(s[f]);let{initial:a,animate:o}=e;const l=Ho(e),u=zE(e);t&&u&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const d=c?o:a;if(d&&typeof d!="boolean"&&!Go(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const g=_v(e,f[m]);if(g){const{transitionEnd:p,transition:w,...v}=g;for(const y in v){let x=v[y];if(Array.isArray(x)){const b=c?x.length-1:0;x=x[b]}x!==null&&(i[y]=x)}for(const y in p)i[y]=p[y]}}}return i}const bi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Er=new Set(bi),YE=e=>t=>typeof t=="string"&&t.startsWith(e),QE=YE("--"),sA=YE("var(--"),kv=e=>sA(e)?aA.test(e.split("/*")[0].trim()):!1,aA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,XE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bn=(e,t,n)=>n>t?t:n<e?e:n,Si={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ls={...Si,transform:e=>bn(0,1,e)},Ea={...Si,default:1},Gs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pn=Gs("deg"),en=Gs("%"),B=Gs("px"),oA=Gs("vh"),lA=Gs("vw"),Ky={...en,parse:e=>en.parse(e)/100,transform:e=>en.transform(e*100)},uA={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,top:B,right:B,bottom:B,left:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,backgroundPositionX:B,backgroundPositionY:B},cA={rotate:Pn,rotateX:Pn,rotateY:Pn,rotateZ:Pn,scale:Ea,scaleX:Ea,scaleY:Ea,scaleZ:Ea,skew:Pn,skewX:Pn,skewY:Pn,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:Ls,originX:Ky,originY:Ky,originZ:B},Wy={...Si,transform:Math.round},Ev={...uA,...cA,zIndex:Wy,size:B,fillOpacity:Ls,strokeOpacity:Ls,numOctaves:Wy},dA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fA=bi.length;function hA(e,t,n){let r="",i=!0;for(let s=0;s<fA;s++){const a=bi[s],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=XE(o,Ev[a]);if(!l){i=!1;const c=dA[a]||a;r+=`${c}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Cv(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const u=t[l];if(Er.has(l)){a=!0;continue}else if(QE(l)){i[l]=u;continue}else{const c=XE(u,Ev[l]);l.startsWith("origin")?(o=!0,s[l]=c):r[l]=c}}if(t.transform||(a||n?r.transform=hA(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const pA={offset:"stroke-dashoffset",array:"stroke-dasharray"},mA={offset:"strokeDashoffset",array:"strokeDasharray"};function vA(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?pA:mA;e[s.offset]=B.transform(-r);const a=B.transform(t),o=B.transform(n);e[s.array]=`${a} ${o}`}function Yy(e,t,n){return typeof e=="string"?e:B.transform(t+n*e)}function gA(e,t,n){const r=Yy(t,e.x,e.width),i=Yy(n,e.y,e.height);return`${r} ${i}`}function Tv(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,d){if(Cv(e,u,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:g}=e;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=gA(g,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&vA(f,a,o,l,!1)}const jv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),JE=()=>({...jv(),attrs:{}}),Pv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZE(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const eC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tC(e,t,n,r){ZE(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(eC.has(i)?i:wv(i),t.attrs[i])}const go={};function yA(e){Object.assign(go,e)}function nC(e,{layout:t,layoutId:n}){return Er.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!go[e]||e==="opacity")}function Nv(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(Je(i[a])||t.style&&Je(t.style[a])||nC(a,e)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function rC(e,t,n){const r=Nv(e,t,n);for(const i in e)if(Je(e[i])||Je(t[i])){const s=bi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function xA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Qy=["x","y","width","height","cx","cy","r"],wA={useVisualState:WE({scrapeMotionValuesFromProps:rC,createRenderState:JE,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const o in i)if(Er.has(o)){s=!0;break}}if(!s)return;let a=!t;if(t)for(let o=0;o<Qy.length;o++){const l=Qy[o];e[l]!==t[l]&&(a=!0)}a&&ge.read(()=>{xA(n,r),ge.render(()=>{Tv(r,i,Pv(n.tagName),e.transformTemplate),tC(n,r)})})}})},bA={useVisualState:WE({scrapeMotionValuesFromProps:Nv,createRenderState:jv})};function iC(e,t,n){for(const r in t)!Je(t[r])&&!nC(r,n)&&(e[r]=t[r])}function SA({transformTemplate:e},t){return S.useMemo(()=>{const n=jv();return Cv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function _A(e,t){const n=e.style||{},r={};return iC(r,n,e),Object.assign(r,SA(e,t)),r}function kA(e,t){const n={},r=_A(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function EA(e,t,n,r){const i=S.useMemo(()=>{const s=JE();return Tv(s,t,Pv(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};iC(s,e.style,e),i.style={...s,...i.style}}return i}function CA(e=!1){return(n,r,i,{latestValues:s},a)=>{const l=(Sv(n)?EA:kA)(r,s,a,n),u=BM(r,typeof n=="string",e),c=n!==S.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=S.useMemo(()=>Je(d)?d.get():d,[d]);return S.createElement(n,{...c,children:f})}}function TA(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Sv(r)?wA:bA,preloadedFeatures:e,useRender:CA(i),createVisualElement:t,Component:r};return QM(a)}}function sC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ko(e,t,n){const r=e.getProps();return _v(r,t,n!==void 0?n:r.custom,e)}const jA=gv(()=>window.ScrollTimeline!==void 0);class PA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(jA()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class NA extends PA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Rv(e,t){return e?e[t]||e.default||e:void 0}const em=2e4;function aC(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<em;)t+=n,r=e.next(t);return t>=em?1/0:t}function Mv(e){return typeof e=="function"}function Xy(e,t){e.timeline=t,e.onfinish=null}const Av=e=>Array.isArray(e)&&typeof e[0]=="number",RA={linearEasing:void 0};function MA(e,t){const n=gv(e);return()=>{var r;return(r=RA[t])!==null&&r!==void 0?r:n()}}const yo=MA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oC=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(mi(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function lC(e){return!!(typeof e=="function"&&yo()||!e||typeof e=="string"&&(e in tm||yo())||Av(e)||Array.isArray(e)&&e.every(lC))}const Qi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,tm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qi([0,.65,.55,1]),circOut:Qi([.55,0,1,.45]),backIn:Qi([.31,.01,.66,-.59]),backOut:Qi([.33,1.53,.69,.99])};function uC(e,t){if(e)return typeof e=="function"&&yo()?oC(e,t):Av(e)?Qi(e):Array.isArray(e)?e.map(n=>uC(n,t)||tm.easeOut):tm[e]}const Lt={x:!1,y:!1};function cC(){return Lt.x||Lt.y}function AA(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function dC(e,t){const n=AA(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Jy(e){return t=>{t.pointerType==="touch"||cC()||e(t)}}function IA(e,t,n={}){const[r,i,s]=dC(e,n),a=Jy(o=>{const{target:l}=o,u=t(o);if(typeof u!="function"||!l)return;const c=Jy(d=>{u(d),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const fC=(e,t)=>t?e===t?!0:fC(e,t.parentElement):!1,Iv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,DA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LA(e){return DA.has(e.tagName)||e.tabIndex!==-1}const Xi=new WeakSet;function Zy(e){return t=>{t.key==="Enter"&&e(t)}}function Zl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const OA=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Zy(()=>{if(Xi.has(n))return;Zl(n,"down");const i=Zy(()=>{Zl(n,"up")}),s=()=>Zl(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function e0(e){return Iv(e)&&!cC()}function qA(e,t,n={}){const[r,i,s]=dC(e,n),a=o=>{const l=o.currentTarget;if(!e0(o)||Xi.has(l))return;Xi.add(l);const u=t(o),c=(m,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!e0(m)||!Xi.has(l))&&(Xi.delete(l),typeof u=="function"&&u(m,{success:g}))},d=m=>{c(m,n.useGlobalTarget||fC(l,m.target))},f=m=>{c(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{!LA(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",u=>OA(u,i),i)}),s}function FA(e){return e==="x"||e==="y"?Lt[e]?null:(Lt[e]=!0,()=>{Lt[e]=!1}):Lt.x||Lt.y?null:(Lt.x=Lt.y=!0,()=>{Lt.x=Lt.y=!1})}const hC=new Set(["width","height","top","left","right","bottom",...bi]);let Ua;function VA(){Ua=void 0}const tn={now:()=>(Ua===void 0&&tn.set(ze.isProcessing||DM.useManualTiming?ze.timestamp:performance.now()),Ua),set:e=>{Ua=e,queueMicrotask(VA)}};function Dv(e,t){e.indexOf(t)===-1&&e.push(t)}function Lv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ov{constructor(){this.subscriptions=[]}add(t){return Dv(this.subscriptions,t),()=>Lv(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pC(e,t){return t?e*(1e3/t):0}const t0=30,BA=e=>!isNaN(parseFloat(e));class $A{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=tn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=BA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ov);const r=this.events[t].add(n);return t==="change"?()=>{r(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>t0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,t0);return pC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(e,t){return new $A(e,t)}function UA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Os(n))}function zA(e,t){const n=Ko(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=nA(s[a]);UA(e,a,o)}}function GA(e){return!!(Je(e)&&e.add)}function nm(e,t){const n=e.getValue("willChange");if(GA(n))return n.add(t)}function mC(e){return e.props[GE]}const vC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,HA=1e-7,KA=12;function WA(e,t,n,r,i){let s,a,o=0;do a=t+(n-t)/2,s=vC(a,r,i)-e,s>0?n=a:t=a;while(Math.abs(s)>HA&&++o<KA);return a}function Hs(e,t,n,r){if(e===t&&n===r)return gt;const i=s=>WA(s,0,1,e,n);return s=>s===0||s===1?s:vC(i(s),t,r)}const gC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yC=e=>t=>1-e(1-t),xC=Hs(.33,1.53,.69,.99),qv=yC(xC),wC=gC(qv),bC=e=>(e*=2)<1?.5*qv(e):.5*(2-Math.pow(2,-10*(e-1))),Fv=e=>1-Math.sin(Math.acos(e)),SC=yC(Fv),_C=gC(Fv),kC=e=>/^0[^.\s]+$/u.test(e);function YA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||kC(e):!0}const ps=e=>Math.round(e*1e5)/1e5,Vv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QA(e){return e==null}const XA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bv=(e,t)=>n=>!!(typeof n=="string"&&XA.test(n)&&n.startsWith(e)||t&&!QA(n)&&Object.prototype.hasOwnProperty.call(n,t)),EC=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(Vv);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},JA=e=>bn(0,255,e),eu={...Si,transform:e=>Math.round(JA(e))},fr={test:Bv("rgb","red"),parse:EC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+eu.transform(e)+", "+eu.transform(t)+", "+eu.transform(n)+", "+ps(Ls.transform(r))+")"};function ZA(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rm={test:Bv("#"),parse:ZA,transform:fr.transform},Jr={test:Bv("hsl","hue"),parse:EC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+en.transform(ps(t))+", "+en.transform(ps(n))+", "+ps(Ls.transform(r))+")"},Qe={test:e=>fr.test(e)||rm.test(e)||Jr.test(e),parse:e=>fr.test(e)?fr.parse(e):Jr.test(e)?Jr.parse(e):rm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?fr.transform(e):Jr.transform(e)},eI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tI(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Vv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(eI))===null||n===void 0?void 0:n.length)||0)>0}const CC="number",TC="color",nI="var",rI="var(",n0="${}",iI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qs(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(iI,l=>(Qe.test(l)?(r.color.push(s),i.push(TC),n.push(Qe.parse(l))):l.startsWith(rI)?(r.var.push(s),i.push(nI),n.push(l)):(r.number.push(s),i.push(CC),n.push(parseFloat(l))),++s,n0)).split(n0);return{values:n,split:o,indexes:r,types:i}}function jC(e){return qs(e).values}function PC(e){const{split:t,types:n}=qs(e),r=t.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=t[a],i[a]!==void 0){const o=n[a];o===CC?s+=ps(i[a]):o===TC?s+=Qe.transform(i[a]):s+=i[a]}return s}}const sI=e=>typeof e=="number"?0:e;function aI(e){const t=jC(e);return PC(e)(t.map(sI))}const Yn={test:tI,parse:jC,createTransformer:PC,getAnimatableNone:aI},oI=new Set(["brightness","contrast","saturate","opacity"]);function lI(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Vv)||[];if(!r)return e;const i=n.replace(r,"");let s=oI.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const uI=/\b([a-z-]*)\(.*?\)/gu,im={...Yn,getAnimatableNone:e=>{const t=e.match(uI);return t?t.map(lI).join(" "):e}},cI={...Ev,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:im,WebkitFilter:im},$v=e=>cI[e];function NC(e,t){let n=$v(e);return n!==im&&(n=Yn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const dI=new Set(["auto","none","0"]);function fI(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!dI.has(s)&&qs(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=NC(n,i)}const r0=e=>e===Si||e===B,i0=(e,t)=>parseFloat(e.split(", ")[t]),s0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return i0(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?i0(s[1],e):0}},hI=new Set(["x","y","z"]),pI=bi.filter(e=>!hI.has(e));function mI(e){const t=[];return pI.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const gi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:s0(4,13),y:s0(5,14)};gi.translateX=gi.x;gi.translateY=gi.y;const vr=new Set;let sm=!1,am=!1;function RC(){if(am){const e=Array.from(vr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=mI(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}am=!1,sm=!1,vr.forEach(e=>e.complete()),vr.clear()}function MC(){vr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(am=!0)})}function vI(){MC(),RC()}class Uv{constructor(t,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vr.add(this),sm||(sm=!0,ge.read(MC),ge.resolveKeyframes(RC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yI(e){const t=gI.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function IC(e,t,n=1){const[r,i]=yI(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const a=s.trim();return AC(a)?parseFloat(a):a}return kv(i)?IC(i,t,n+1):i}const DC=e=>t=>t.test(e),xI={test:e=>e==="auto",parse:e=>e},LC=[Si,B,en,Pn,lA,oA,xI],a0=e=>LC.find(DC(e));class OC extends Uv{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),kv(u))){const c=IC(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hC.has(r)||t.length!==2)return;const[i,s]=t,a=a0(i),o=a0(s);if(a!==o)if(r0(a)&&r0(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)YA(t[i])&&r.push(i);r.length&&fI(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=gi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const o0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yn.test(e)||e==="0")&&!e.startsWith("url("));function wI(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bI(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=o0(i,t),o=o0(s,t);return!a||!o?!1:wI(e)||(n==="spring"||Mv(n))&&r}const SI=e=>e!==null;function Wo(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(SI),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const _I=40;class qC{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tn.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_I?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&vI(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=tn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!bI(t,r,i,s))if(a)this.options.duration=0;else{l&&l(Wo(t,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ee=(e,t,n)=>e+(t-e)*n;function tu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kI({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,a=0;if(!t)i=s=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=tu(l,o,e+1/3),s=tu(l,o,e),a=tu(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function xo(e,t){return n=>n>0?t:e}const nu=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},EI=[rm,fr,Jr],CI=e=>EI.find(t=>t.test(e));function l0(e){const t=CI(e);if(!t)return!1;let n=t.parse(e);return t===Jr&&(n=kI(n)),n}const u0=(e,t)=>{const n=l0(e),r=l0(t);if(!n||!r)return xo(e,t);const i={...n};return s=>(i.red=nu(n.red,r.red,s),i.green=nu(n.green,r.green,s),i.blue=nu(n.blue,r.blue,s),i.alpha=Ee(n.alpha,r.alpha,s),fr.transform(i))},TI=(e,t)=>n=>t(e(n)),Ks=(...e)=>e.reduce(TI),om=new Set(["none","hidden"]);function jI(e,t){return om.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function PI(e,t){return n=>Ee(e,t,n)}function zv(e){return typeof e=="number"?PI:typeof e=="string"?kv(e)?xo:Qe.test(e)?u0:MI:Array.isArray(e)?FC:typeof e=="object"?Qe.test(e)?u0:NI:xo}function FC(e,t){const n=[...e],r=n.length,i=e.map((s,a)=>zv(s)(s,t[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function NI(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=zv(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function RI(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][i[a]],l=(n=e.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const MI=(e,t)=>{const n=Yn.createTransformer(t),r=qs(e),i=qs(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?om.has(e)&&!i.values.length||om.has(t)&&!r.values.length?jI(e,t):Ks(FC(RI(r,i),i.values),n):xo(e,t)};function VC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ee(e,t,n):zv(e)(e,t)}const AI=5;function BC(e,t,n){const r=Math.max(t-AI,0);return pC(n-e(r),t-r)}const Ne={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ru=.001;function II({duration:e=Ne.duration,bounce:t=Ne.bounce,velocity:n=Ne.velocity,mass:r=Ne.mass}){let i,s,a=1-t;a=bn(Ne.minDamping,Ne.maxDamping,a),e=bn(Ne.minDuration,Ne.maxDuration,vn(e)),a<1?(i=u=>{const c=u*a,d=c*e,f=c-n,m=lm(u,a),g=Math.exp(-d);return ru-f/m*g},s=u=>{const d=u*a*e,f=d*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-d),p=lm(Math.pow(u,2),a);return(-i(u)+ru>0?-1:1)*((f-m)*g)/p}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-ru+c*d},s=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const o=5/e,l=LI(i,s,o);if(e=mn(e),isNaN(l))return{stiffness:Ne.stiffness,damping:Ne.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const DI=12;function LI(e,t,n){let r=n;for(let i=1;i<DI;i++)r=r-e(r)/t(r);return r}function lm(e,t){return e*Math.sqrt(1-t*t)}const OI=["duration","bounce"],qI=["stiffness","damping","mass"];function c0(e,t){return t.some(n=>e[n]!==void 0)}function FI(e){let t={velocity:Ne.velocity,stiffness:Ne.stiffness,damping:Ne.damping,mass:Ne.mass,isResolvedFromDuration:!1,...e};if(!c0(e,qI)&&c0(e,OI))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*bn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ne.mass,stiffness:i,damping:s}}else{const n=II(e);t={...t,...n,mass:Ne.mass},t.isResolvedFromDuration=!0}return t}function $C(e=Ne.visualDuration,t=Ne.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=FI({...n,velocity:-vn(n.velocity||0)}),g=f||0,p=u/(2*Math.sqrt(l*c)),w=a-s,v=vn(Math.sqrt(l/c)),y=Math.abs(w)<5;r||(r=y?Ne.restSpeed.granular:Ne.restSpeed.default),i||(i=y?Ne.restDelta.granular:Ne.restDelta.default);let x;if(p<1){const _=lm(v,p);x=E=>{const k=Math.exp(-p*v*E);return a-k*((g+p*v*w)/_*Math.sin(_*E)+w*Math.cos(_*E))}}else if(p===1)x=_=>a-Math.exp(-v*_)*(w+(g+v*w)*_);else{const _=v*Math.sqrt(p*p-1);x=E=>{const k=Math.exp(-p*v*E),C=Math.min(_*E,300);return a-k*((g+p*v*w)*Math.sinh(C)+_*w*Math.cosh(C))/_}}const b={calculatedDuration:m&&d||null,next:_=>{const E=x(_);if(m)o.done=_>=d;else{let k=0;p<1&&(k=_===0?mn(g):BC(x,_,E));const C=Math.abs(k)<=r,N=Math.abs(a-E)<=i;o.done=C&&N}return o.value=o.done?a:E,o},toString:()=>{const _=Math.min(aC(b),em),E=oC(k=>b.next(_*k).value,_,30);return _+"ms "+E}};return b}function d0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},m=C=>o!==void 0&&C<o||l!==void 0&&C>l,g=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let p=n*t;const w=d+p,v=a===void 0?w:a(w);v!==w&&(p=v-d);const y=C=>-p*Math.exp(-C/r),x=C=>v+y(C),b=C=>{const N=y(C),A=x(C);f.done=Math.abs(N)<=u,f.value=f.done?v:A};let _,E;const k=C=>{m(f.value)&&(_=C,E=$C({keyframes:[f.value,g(f.value)],velocity:BC(x,C,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:C=>{let N=!1;return!E&&_===void 0&&(N=!0,b(C),k(C)),_!==void 0&&C>=_?E.next(C-_):(!N&&b(C),f)}}}const VI=Hs(.42,0,1,1),BI=Hs(0,0,.58,1),UC=Hs(.42,0,.58,1),$I=e=>Array.isArray(e)&&typeof e[0]!="number",UI={linear:gt,easeIn:VI,easeInOut:UC,easeOut:BI,circIn:Fv,circInOut:_C,circOut:SC,backIn:qv,backInOut:wC,backOut:xC,anticipate:bC},f0=e=>{if(Av(e)){VE(e.length===4);const[t,n,r,i]=e;return Hs(t,n,r,i)}else if(typeof e=="string")return UI[e];return e};function zI(e,t,n){const r=[],i=n||VC,s=e.length-1;for(let a=0;a<s;a++){let o=i(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||gt:t;o=Ks(l,o)}r.push(o)}return r}function GI(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(VE(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=zI(t,r,i),l=o.length,u=c=>{if(a&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=mi(e[d],e[d+1],c);return o[d](f)};return n?c=>u(bn(e[0],e[s-1],c)):u}function HI(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=mi(0,t,r);e.push(Ee(n,1,i))}}function KI(e){const t=[0];return HI(t,e.length-1),t}function WI(e,t){return e.map(n=>n*t)}function YI(e,t){return e.map(()=>t||UC).splice(0,e.length-1)}function wo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=$I(r)?r.map(f0):f0(r),s={done:!1,value:t[0]},a=WI(n&&n.length===t.length?n:KI(t),e),o=GI(a,t,{ease:Array.isArray(i)?i:YI(t,i)});return{calculatedDuration:e,next:l=>(s.value=o(l),s.done=l>=e,s)}}const QI=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ge.update(t,!0),stop:()=>Wn(t),now:()=>ze.isProcessing?ze.timestamp:tn.now()}},XI={decay:d0,inertia:d0,tween:wo,keyframes:wo,spring:$C},JI=e=>e/100;class Gv extends qC{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||Uv,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=Mv(n)?n:XI[n]||wo;let l,u;o!==wo&&typeof t[0]!="number"&&(l=Ks(JI,VC(t[0],t[1])),t=[0,100]);const c=o({...this.options,keyframes:t});s==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=aC(c));const{calculatedDuration:d}=c,f=d+i,m=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:g,repeatDelay:p,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let x=this.currentTime,b=s;if(m){const C=Math.min(this.currentTime,c)/d;let N=Math.floor(C),A=C%1;!A&&C>=1&&(A=1),A===1&&N--,N=Math.min(N,m+1),!!(N%2)&&(g==="reverse"?(A=1-A,p&&(A-=p/d)):g==="mirror"&&(b=a)),x=bn(0,1,A)*d}const _=y?{done:!1,value:l[0]}:b.next(x);o&&(_.value=o(_.value));let{done:E}=_;!y&&u!==null&&(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&i!==void 0&&(_.value=Wo(l,this.options,i)),w&&w(_.value),k&&this.finish(),_}get duration(){const{resolved:t}=this;return t?vn(t.calculatedDuration):0}get time(){return vn(this.currentTime)}set time(t){t=mn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=vn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=QI,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const ZI=new Set(["opacity","clipPath","filter","transform"]);function eD(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=uC(o,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const tD=gv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bo=10,nD=2e4;function rD(e){return Mv(e.type)||e.type==="spring"||!lC(e.ease)}function iD(e,t){const n=new Gv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<nD;)r=n.sample(s),i.push(r.value),s+=bo;return{times:void 0,keyframes:i,duration:s-bo,ease:"linear"}}const zC={anticipate:bC,backInOut:wC,circInOut:_C};function sD(e){return e in zC}class h0 extends qC{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new OC(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&yo()&&sD(s)&&(s=zC[s]),rD(this.options)){const{onComplete:d,onUpdate:f,motionValue:m,element:g,...p}=this.options,w=iD(t,p);t=w.keyframes,t.length===1&&(t[1]=t[0]),r=w.duration,i=w.times,s=w.ease,a="keyframes"}const c=eD(o.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(Xy(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;o.set(Wo(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:a,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return vn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return vn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=mn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return gt;const{animation:r}=n;Xy(r,t)}return gt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:f,...m}=this.options,g=new Gv({...m,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),p=mn(this.time);u.setWithVelocity(g.sample(p-bo).value,g.sample(p).value,bo)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return tD()&&r&&ZI.has(r)&&!l&&!u&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const aD={type:"spring",stiffness:500,damping:25,restSpeed:10},oD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),lD={type:"keyframes",duration:.8},uD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cD=(e,{keyframes:t})=>t.length>2?lD:Er.has(e)?e.startsWith("scale")?oD(t[1]):aD:uD;function dD({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Hv=(e,t,n,r={},i,s)=>a=>{const o=Rv(r,e)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-mn(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i};dD(o)||(c={...c,...cD(e,c)}),c.duration&&(c.duration=mn(c.duration)),c.repeatDelay&&(c.repeatDelay=mn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!s&&t.get()!==void 0){const f=Wo(c.keyframes,o);if(f!==void 0)return ge.update(()=>{c.onUpdate(f),c.onComplete()}),new NA([])}return!s&&h0.supports(c)?new h0(c):new Gv(c)};function fD({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function GC(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,(s=e.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||c&&fD(c,d))continue;const g={delay:n,...Rv(a||{},d)};let p=!1;if(window.MotionHandoffAnimation){const v=mC(e);if(v){const y=window.MotionHandoffAnimation(v,d,ge);y!==null&&(g.startTime=y,p=!0)}}nm(e,d),f.start(Hv(d,f,m,e.shouldReduceMotion&&hC.has(d)?{type:!1}:g,e,p));const w=f.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{ge.update(()=>{o&&zA(e,o)})}),u}function um(e,t,n={}){var r;const i=Ko(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(GC(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return hD(e,t,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>c())}else return Promise.all([a(),o(n.delay)])}function hD(e,t,n=0,r=0,i=1,s){const a=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(pD).forEach((u,c)=>{u.notify("AnimationStart",t),a.push(um(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function pD(e,t){return e.sortNodePosition(t)}function mD(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>um(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=um(e,t,n);else{const i=typeof t=="function"?Ko(e,t,n.custom):t;r=Promise.all(GC(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const vD=xv.length;function HC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?HC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<vD;n++){const r=xv[n],i=e.props[r];(Ds(i)||i===!1)&&(t[r]=i)}return t}const gD=[...yv].reverse(),yD=yv.length;function xD(e){return t=>Promise.all(t.map(({animation:n,options:r})=>mD(e,n,r)))}function wD(e){let t=xD(e),n=p0(),r=!0;const i=l=>(u,c)=>{var d;const f=Ko(e,c,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:g,...p}=f;u={...u,...p,...g}}return u};function s(l){t=l(e)}function a(l){const{props:u}=e,c=HC(e.parent)||{},d=[],f=new Set;let m={},g=1/0;for(let w=0;w<yD;w++){const v=gD[w],y=n[v],x=u[v]!==void 0?u[v]:c[v],b=Ds(x),_=v===l?y.isActive:null;_===!1&&(g=w);let E=x===c[v]&&x!==u[v]&&b;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...m},!y.isActive&&_===null||!x&&!y.prevProp||Go(x)||typeof x=="boolean")continue;const k=bD(y.prevProp,x);let C=k||v===l&&y.isActive&&!E&&b||w>g&&b,N=!1;const A=Array.isArray(x)?x:[x];let R=A.reduce(i(v),{});_===!1&&(R={});const{prevResolvedValues:$={}}=y,J={...$,...R},fe=ee=>{C=!0,f.has(ee)&&(N=!0,f.delete(ee)),y.needsAnimating[ee]=!0;const I=e.getValue(ee);I&&(I.liveStyle=!1)};for(const ee in J){const I=R[ee],D=$[ee];if(m.hasOwnProperty(ee))continue;let V=!1;Zp(I)&&Zp(D)?V=!sC(I,D):V=I!==D,V?I!=null?fe(ee):f.add(ee):I!==void 0&&f.has(ee)?fe(ee):y.protectedKeys[ee]=!0}y.prevProp=x,y.prevResolvedValues=R,y.isActive&&(m={...m,...R}),r&&e.blockInitialAnimation&&(C=!1),C&&(!(E&&k)||N)&&d.push(...A.map(ee=>({animation:ee,options:{type:v}})))}if(f.size){const w={};f.forEach(v=>{const y=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),w[v]=y??null}),d.push({animation:w})}let p=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(d):Promise.resolve()}function o(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=p0(),r=!0}}}function bD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sC(t,e):!1}function ir(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p0(){return{animate:ir(!0),whileInView:ir(),whileHover:ir(),whileTap:ir(),whileDrag:ir(),whileFocus:ir(),exit:ir()}}class er{constructor(t){this.isMounted=!1,this.node=t}update(){}}class SD extends er{constructor(t){super(t),t.animationState||(t.animationState=wD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Go(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let _D=0;class kD extends er{constructor(){super(...arguments),this.id=_D++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ED={animation:{Feature:SD},exit:{Feature:kD}};function Fs(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ws(e){return{point:{x:e.pageX,y:e.pageY}}}const CD=e=>t=>Iv(t)&&e(t,Ws(t));function ms(e,t,n,r){return Fs(e,t,CD(n),r)}const m0=(e,t)=>Math.abs(e-t);function TD(e,t){const n=m0(e.x,t.x),r=m0(e.y,t.y);return Math.sqrt(n**2+r**2)}class KC{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=su(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=TD(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:g}=d,{timestamp:p}=ze;this.history.push({...g,timestamp:p});const{onStart:w,onMove:v}=this.handlers;f||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=iu(f,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=su(d.type==="pointercancel"?this.lastMoveEventInfo:iu(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,w),g&&g(d,w)},!Iv(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Ws(t),o=iu(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=ze;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,su(o,this.history)),this.removeListeners=Ks(ms(this.contextWindow,"pointermove",this.handlePointerMove),ms(this.contextWindow,"pointerup",this.handlePointerUp),ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wn(this.updatePoint)}}function iu(e,t){return t?{point:t(e.point)}:e}function v0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function su({point:e},t){return{point:e,delta:v0(e,WC(t)),offset:v0(e,jD(t)),velocity:PD(t,.1)}}function jD(e){return e[0]}function WC(e){return e[e.length-1]}function PD(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=WC(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>mn(t)));)n--;if(!r)return{x:0,y:0};const s=vn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const YC=1e-4,ND=1-YC,RD=1+YC,QC=.01,MD=0-QC,AD=0+QC;function xt(e){return e.max-e.min}function ID(e,t,n){return Math.abs(e-t)<=n}function g0(e,t,n,r=.5){e.origin=r,e.originPoint=Ee(t.min,t.max,e.origin),e.scale=xt(n)/xt(t),e.translate=Ee(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ND&&e.scale<=RD||isNaN(e.scale))&&(e.scale=1),(e.translate>=MD&&e.translate<=AD||isNaN(e.translate))&&(e.translate=0)}function vs(e,t,n,r){g0(e.x,t.x,n.x,r?r.originX:void 0),g0(e.y,t.y,n.y,r?r.originY:void 0)}function y0(e,t,n){e.min=n.min+t.min,e.max=e.min+xt(t)}function DD(e,t,n){y0(e.x,t.x,n.x),y0(e.y,t.y,n.y)}function x0(e,t,n){e.min=t.min-n.min,e.max=e.min+xt(t)}function gs(e,t,n){x0(e.x,t.x,n.x),x0(e.y,t.y,n.y)}function LD(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ee(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ee(n,e,r.max):Math.min(e,n)),e}function w0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function OD(e,{top:t,left:n,bottom:r,right:i}){return{x:w0(e.x,n,i),y:w0(e.y,t,r)}}function b0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function qD(e,t){return{x:b0(e.x,t.x),y:b0(e.y,t.y)}}function FD(e,t){let n=.5;const r=xt(e),i=xt(t);return i>r?n=mi(t.min,t.max-r,e.min):r>i&&(n=mi(e.min,e.max-i,t.min)),bn(0,1,n)}function VD(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cm=.35;function BD(e=cm){return e===!1?e=0:e===!0&&(e=cm),{x:S0(e,"left","right"),y:S0(e,"top","bottom")}}function S0(e,t,n){return{min:_0(e,t),max:_0(e,n)}}function _0(e,t){return typeof e=="number"?e:e[t]||0}const k0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zr=()=>({x:k0(),y:k0()}),E0=()=>({min:0,max:0}),Me=()=>({x:E0(),y:E0()});function Et(e){return[e("x"),e("y")]}function XC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function $D({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UD(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function au(e){return e===void 0||e===1}function dm({scale:e,scaleX:t,scaleY:n}){return!au(e)||!au(t)||!au(n)}function or(e){return dm(e)||JC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JC(e){return C0(e.x)||C0(e.y)}function C0(e){return e&&e!=="0%"}function So(e,t,n){const r=e-n,i=t*r;return n+i}function T0(e,t,n,r,i){return i!==void 0&&(e=So(e,i,r)),So(e,n,r)+t}function fm(e,t=0,n=1,r,i){e.min=T0(e.min,t,n,r,i),e.max=T0(e.max,t,n,r,i)}function ZC(e,{x:t,y:n}){fm(e.x,t.translate,t.scale,t.originPoint),fm(e.y,n.translate,n.scale,n.originPoint)}const j0=.999999999999,P0=1.0000000000001;function zD(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ti(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ZC(e,a)),r&&or(s.latestValues)&&ti(e,s.latestValues))}t.x<P0&&t.x>j0&&(t.x=1),t.y<P0&&t.y>j0&&(t.y=1)}function ei(e,t){e.min=e.min+t,e.max=e.max+t}function N0(e,t,n,r,i=.5){const s=Ee(e.min,e.max,i);fm(e,t,n,s,r)}function ti(e,t){N0(e.x,t.x,t.scaleX,t.scale,t.originX),N0(e.y,t.y,t.scaleY,t.scale,t.originY)}function eT(e,t){return XC(UD(e.getBoundingClientRect(),t))}function GD(e,t,n){const r=eT(e,n),{scroll:i}=t;return i&&(ei(r.x,i.offset.x),ei(r.y,i.offset.y)),r}const tT=({current:e})=>e?e.ownerDocument.defaultView:null,HD=new WeakMap;class KD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Me(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ws(c).point)},s=(c,d)=>{const{drag:f,dragPropagation:m,onDragStart:g}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FA(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Et(w=>{let v=this.getAxisMotionValue(w).get()||0;if(en.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[w];x&&(v=xt(x)*(parseFloat(v)/100))}}this.originPoint[w]=v}),g&&ge.postRender(()=>g(c,d)),nm(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},a=(c,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:g,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=d;if(m&&this.currentDirection===null){this.currentDirection=WD(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),p&&p(c,d)},o=(c,d)=>this.stop(c,d),l=()=>Et(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new KC(t,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:tT(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ge.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ca(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=LD(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Xr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=OD(i.layoutBox,n):this.constraints=!1,this.elastic=BD(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Et(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=VD(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xr(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=GD(r,i.root,this.visualElement.getTransformPagePoint());let a=qD(i.layout.layoutBox,s);if(n){const o=n($D(a));this.hasMutatedConstraints=!!o,o&&(a=XC(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Et(c=>{if(!Ca(c,n,this.currentDirection))return;let d=l&&l[c]||{};a&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return nm(this.visualElement,t),r.start(Hv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Et(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Et(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Et(n=>{const{drag:r}=this.getProps();if(!Ca(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(t[n]-Ee(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xr(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Et(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=FD({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Et(a=>{if(!Ca(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Ee(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;HD.set(this.visualElement,this);const t=this.visualElement.current,n=ms(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ge.read(r);const a=Fs(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Et(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=cm,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Ca(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function WD(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class YD extends er{constructor(t){super(t),this.removeGroupControls=gt,this.removeListeners=gt,this.controls=new KD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const R0=e=>(t,n)=>{e&&ge.postRender(()=>e(t,n))};class QD extends er{constructor(){super(...arguments),this.removePointerDownListener=gt}onPointerDown(t){this.session=new KC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:R0(t),onStart:R0(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&ge.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ms(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const za={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function M0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(B.test(e))e=parseFloat(e);else return e;const n=M0(e,t.target.x),r=M0(e,t.target.y);return`${n}% ${r}%`}},XD={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Yn.parse(e);if(i.length>5)return r;const s=Yn.createTransformer(e),a=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=l;const u=Ee(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class JD extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;yA(ZD),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),za.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||ge.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nT(e){const[t,n]=AM(),r=S.useContext(qE);return h.jsx(JD,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(HE),isPresent:t,safeToRemove:n})}const ZD={borderRadius:{...Gi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gi,borderTopRightRadius:Gi,borderBottomLeftRadius:Gi,borderBottomRightRadius:Gi,boxShadow:XD};function e2(e,t,n){const r=Je(e)?e:Os(e);return r.start(Hv("",r,t,n)),r.animation}function t2(e){return e instanceof SVGElement&&e.tagName!=="svg"}const n2=(e,t)=>e.depth-t.depth;class r2{constructor(){this.children=[],this.isDirty=!1}add(t){Dv(this.children,t),this.isDirty=!0}remove(t){Lv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(n2),this.isDirty=!1,this.children.forEach(t)}}function i2(e,t){const n=tn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Wn(r),e(s-t))};return ge.read(r,!0),()=>Wn(r)}const rT=["TopLeft","TopRight","BottomLeft","BottomRight"],s2=rT.length,A0=e=>typeof e=="string"?parseFloat(e):e,I0=e=>typeof e=="number"||B.test(e);function a2(e,t,n,r,i,s){i?(e.opacity=Ee(0,n.opacity!==void 0?n.opacity:1,o2(r)),e.opacityExit=Ee(t.opacity!==void 0?t.opacity:1,0,l2(r))):s&&(e.opacity=Ee(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<s2;a++){const o=`border${rT[a]}Radius`;let l=D0(t,o),u=D0(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||I0(l)===I0(u)?(e[o]=Math.max(Ee(A0(l),A0(u),r),0),(en.test(u)||en.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=Ee(t.rotate||0,n.rotate||0,r))}function D0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const o2=iT(0,.5,SC),l2=iT(.5,.95,gt);function iT(e,t,n){return r=>r<e?0:r>t?1:n(mi(e,t,r))}function L0(e,t){e.min=t.min,e.max=t.max}function kt(e,t){L0(e.x,t.x),L0(e.y,t.y)}function O0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function q0(e,t,n,r,i){return e-=t,e=So(e,1/n,r),i!==void 0&&(e=So(e,1/i,r)),e}function u2(e,t=0,n=1,r=.5,i,s=e,a=e){if(en.test(t)&&(t=parseFloat(t),t=Ee(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Ee(s.min,s.max,r);e===s&&(o-=t),e.min=q0(e.min,t,n,o,i),e.max=q0(e.max,t,n,o,i)}function F0(e,t,[n,r,i],s,a){u2(e,t[n],t[r],t[i],t.scale,s,a)}const c2=["x","scaleX","originX"],d2=["y","scaleY","originY"];function V0(e,t,n,r){F0(e.x,t,c2,n?n.x:void 0,r?r.x:void 0),F0(e.y,t,d2,n?n.y:void 0,r?r.y:void 0)}function B0(e){return e.translate===0&&e.scale===1}function sT(e){return B0(e.x)&&B0(e.y)}function $0(e,t){return e.min===t.min&&e.max===t.max}function f2(e,t){return $0(e.x,t.x)&&$0(e.y,t.y)}function U0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function aT(e,t){return U0(e.x,t.x)&&U0(e.y,t.y)}function z0(e){return xt(e.x)/xt(e.y)}function G0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class h2{constructor(){this.members=[]}add(t){Dv(this.members,t),t.scheduleRender()}remove(t){if(Lv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p2(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const lr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ji=typeof window<"u"&&window.MotionDebug!==void 0,ou=["","X","Y","Z"],m2={visibility:"hidden"},H0=1e3;let v2=0;function lu(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function oT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=mC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ge,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&oT(r)}function lT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=t==null?void 0:t()){this.id=v2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ji&&(lr.totalNodes=lr.resolvedTargetDeltas=lr.recalculatedProjection=0),this.nodes.forEach(x2),this.nodes.forEach(k2),this.nodes.forEach(E2),this.nodes.forEach(w2),Ji&&window.MotionDebug.record(lr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new r2)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ov),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t2(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=i2(f,250),za.hasAnimatedSinceResize&&(za.hasAnimatedSinceResize=!1,this.nodes.forEach(W0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||N2,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!aT(this.targetLayout,g)||m,x=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const b={...Rv(p,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||W0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C2),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(K0);return}this.isUpdating||this.nodes.forEach(S2),this.isUpdating=!1,this.nodes.forEach(_2),this.nodes.forEach(g2),this.nodes.forEach(y2),this.clearAllSnapshots();const o=tn.now();ze.delta=bn(0,1e3/60,o-ze.timestamp),ze.timestamp=o,ze.isProcessing=!0,Jl.update.process(ze),Jl.preRender.process(ze),Jl.render.process(ze),ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b2),this.sharedNodes.forEach(T2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!sT(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(o||or(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),R2(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Me();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(M2))){const{scroll:c}=this.root;c&&(ei(l.x,c.offset.x),ei(l.y,c.offset.y))}return l}removeElementScroll(a){var o;const l=Me();if(kt(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&kt(l,a),ei(l.x,d.offset.x),ei(l.y,d.offset.y))}return l}applyTransform(a,o=!1){const l=Me();kt(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ti(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),or(c.latestValues)&&ti(l,c.latestValues)}return or(this.latestValues)&&ti(l,this.latestValues),l}removeTransform(a){const o=Me();kt(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!or(u.latestValues))continue;dm(u.latestValues)&&u.updateSnapshot();const c=Me(),d=u.measurePageBox();kt(c,d),V0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return or(this.latestValues)&&V0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ze.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),gs(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Me(),this.targetWithTransforms=Me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kt(this.target,this.layout.layoutBox),ZC(this.target,this.targetDelta)):kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),gs(this.relativeTargetOrigin,this.target,m.target),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ji&&lr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dm(this.parent.latestValues)||JC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ze.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;kt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;zD(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Me());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O0(this.prevProjectionDelta.x,this.projectionDelta.x),O0(this.prevProjectionDelta.y,this.projectionDelta.y)),vs(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!G0(this.projectionDelta.x,this.prevProjectionDelta.x)||!G0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ji&&lr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zr(),this.projectionDelta=Zr(),this.projectionDeltaWithTransform=Zr()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Zr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Me(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,w=this.getStack(),v=!w||w.members.length<=1,y=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(P2));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const _=b/1e3;Y0(d.x,a.x,_),Y0(d.y,a.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j2(this.relativeTarget,this.relativeTargetOrigin,f,_),x&&f2(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Me()),kt(x,this.relativeTarget)),p&&(this.animationValues=c,a2(c,u,this.latestValues,_,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{za.hasAnimatedSinceResize=!0,this.currentAnimation=e2(0,H0,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(H0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&uT(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Me();const d=xt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=xt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}kt(o,l),ti(o,c),vs(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new h2),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&lu("z",a,u,this.animationValues);for(let c=0;c<ou.length;c++)lu(`rotate${ou[c]}`,a,u,this.animationValues),lu(`skew${ou[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return m2;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$a(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=$a(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!or(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=p2(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in go){if(f[p]===void 0)continue;const{correct:w,applyTo:v}=go[p],y=u.transform==="none"?f[p]:w(f[p],d);if(v){const x=v.length;for(let b=0;b<x;b++)u[v[b]]=y}else u[p]=y}return this.options.layoutId&&(u.pointerEvents=d===this?$a(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(K0),this.root.sharedNodes.clear()}}}function g2(e){e.updateLayout()}function y2(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,a=n.source!==e.layout.source;s==="size"?Et(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=xt(f);f.min=r[d].min,f.max=f.min+m}):uT(s,n.layoutBox,r)&&Et(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=xt(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const o=Zr();vs(o,r,n.layoutBox);const l=Zr();a?vs(l,e.applyTransform(i,!0),n.measuredBox):vs(l,r,n.layoutBox);const u=!sT(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const g=Me();gs(g,n.layoutBox,f.layoutBox);const p=Me();gs(p,r,m.layoutBox),aT(g,p)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function x2(e){Ji&&lr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function w2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function b2(e){e.clearSnapshot()}function K0(e){e.clearMeasurements()}function S2(e){e.isLayoutDirty=!1}function _2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function W0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function k2(e){e.resolveTargetDelta()}function E2(e){e.calcProjection()}function C2(e){e.resetSkewAndRotation()}function T2(e){e.removeLeadSnapshot()}function Y0(e,t,n){e.translate=Ee(t.translate,0,n),e.scale=Ee(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Q0(e,t,n,r){e.min=Ee(t.min,n.min,r),e.max=Ee(t.max,n.max,r)}function j2(e,t,n,r){Q0(e.x,t.x,n.x,r),Q0(e.y,t.y,n.y,r)}function P2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const N2={duration:.45,ease:[.4,0,.1,1]},X0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),J0=X0("applewebkit/")&&!X0("chrome/")?Math.round:gt;function Z0(e){e.min=J0(e.min),e.max=J0(e.max)}function R2(e){Z0(e.x),Z0(e.y)}function uT(e,t,n){return e==="position"||e==="preserve-aspect"&&!ID(z0(t),z0(n),.2)}function M2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const A2=lT({attachResizeListener:(e,t)=>Fs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uu={current:void 0},cT=lT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!uu.current){const e=new A2({});e.mount(window),e.setOptions({layoutScroll:!0}),uu.current=e}return uu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),I2={pan:{Feature:QD},drag:{Feature:YD,ProjectionNode:cT,MeasureLayout:nT}};function ex(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ge.postRender(()=>s(t,Ws(t)))}class D2 extends er{mount(){const{current:t}=this.node;t&&(this.unmount=IA(t,n=>(ex(this.node,n,"Start"),r=>ex(this.node,r,"End"))))}unmount(){}}class L2 extends er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ks(Fs(this.node.current,"focus",()=>this.onFocus()),Fs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tx(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ge.postRender(()=>s(t,Ws(t)))}class O2 extends er{mount(){const{current:t}=this.node;t&&(this.unmount=qA(t,n=>(tx(this.node,n,"Start"),(r,{success:i})=>tx(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hm=new WeakMap,cu=new WeakMap,q2=e=>{const t=hm.get(e.target);t&&t(e)},F2=e=>{e.forEach(q2)};function V2({root:e,...t}){const n=e||document;cu.has(n)||cu.set(n,{});const r=cu.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(F2,{root:e,...t})),r[i]}function B2(e,t,n){const r=V2(t);return hm.set(e,n),r.observe(e),()=>{hm.delete(e),r.unobserve(e)}}const $2={some:0,all:1};class U2 extends er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$2[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return B2(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(z2(t,n))&&this.startObserver()}unmount(){}}function z2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const G2={inView:{Feature:U2},tap:{Feature:O2},focus:{Feature:L2},hover:{Feature:D2}},H2={layout:{ProjectionNode:cT,MeasureLayout:nT}},pm={current:null},dT={current:!1};function K2(){if(dT.current=!0,!!vv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pm.current=e.matches;e.addListener(t),t()}else pm.current=!1}const W2=[...LC,Qe,Yn],Y2=e=>W2.find(DC(e)),nx=new WeakMap;function Q2(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Je(i))e.addValue(r,i);else if(Je(s))e.addValue(r,Os(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(r);e.addValue(r,Os(a!==void 0?a:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const rx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class X2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=tn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ge.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=a;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Ho(n),this.isVariantNode=zE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const g=f[m];l[m]!==void 0&&Je(g)&&g.set(l[m],!1)}}mount(t){this.current=t,nx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),dT.current||K2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nx.delete(this.current),this.projection&&this.projection.unmount(),Wn(this.notifyUpdate),Wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Er.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in vi){const n=vi[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rx.length;r++){const i=rx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Q2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Os(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(AC(i)||kC(i))?i=parseFloat(i):!Y2(i)&&Yn.test(n)&&(i=NC(t,n)),this.setBaseTarget(t,Je(i)?i.get():i)),Je(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=_v(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Je(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ov),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class fT extends X2{constructor(){super(...arguments),this.KeyframeResolver=OC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Je(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function J2(e){return window.getComputedStyle(e)}class Z2 extends fT{constructor(){super(...arguments),this.type="html",this.renderInstance=ZE}readValueFromInstance(t,n){if(Er.has(n)){const r=$v(n);return r&&r.default||0}else{const r=J2(t),i=(QE(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return eT(t,n)}build(t,n,r){Cv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Nv(t,n,r)}}class eL extends fT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Me}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Er.has(n)){const r=$v(n);return r&&r.default||0}return n=eC.has(n)?n:wv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return rC(t,n,r)}build(t,n,r){Tv(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){tC(t,n,r,i)}mount(t){this.isSVGTag=Pv(t.tagName),super.mount(t)}}const tL=(e,t)=>Sv(e)?new eL(t):new Z2(t,{allowProjection:e!==S.Fragment}),nL=TA({...ED,...G2,...I2,...H2},tL),rL=$M(nL);function iL({steps:e,fromRects:t,toRects:n,onComplete:r}){return S.useEffect(()=>{const i=window.setTimeout(r,550);return()=>window.clearTimeout(i)},[r]),h.jsx("div",{className:"morph-layer",children:e.map(i=>{var o;const s=t[i.id],a=n[i.id];return!s||!a?null:h.jsxs(rL.div,{className:`morph-card step-${i.type}`,initial:{left:s.left,top:s.top,width:s.width,height:s.height},animate:{left:a.left,top:a.top,width:a.width,height:a.height},transition:{duration:.5,ease:"easeInOut"},children:[h.jsx("div",{className:"morph-card-title",children:i.name}),h.jsx("div",{className:"morph-card-subtitle",children:((o=i.preview)==null?void 0:o.title)??i.type})]},i.id)})})}function sL({morph:e,onComplete:t,children:n}){return h.jsxs("div",{className:"morph-orchestrator",children:[n,e?h.jsx(iL,{steps:e.steps,fromRects:e.fromRects,toRects:e.toRects,onComplete:t}):null]})}const aL="demo-trace-overlap-001",oL="Overlap + ToolCallId Demo",lL="2026-01-27T10:00:00.000Z",uL="2026-01-27T10:00:05.000Z",cL="completed",dL={source:"openai_agents",agentName:"DemoAgent",modelId:"gpt-4o-2024-11-20",wallTimeMs:5e3,workTimeMs:7200,totalTokens:1400,totalCostUsd:.018},fL=[{id:"s1",index:0,type:"llm_call",name:"plan",startedAt:"2026-01-27T10:00:00.000Z",endedAt:"2026-01-27T10:00:01.000Z",durationMs:1e3,childStepIds:[],metrics:{tokensTotal:300,costUsd:.004},preview:{title:"LLM: plan",subtitle:"gpt-4o",outputPreview:"I'll fetch two sources..."},status:"completed"},{id:"s2",index:1,type:"llm_call",name:"call_tools",startedAt:"2026-01-27T10:00:01.000Z",endedAt:"2026-01-27T10:00:01.200Z",durationMs:200,childStepIds:[],metrics:{tokensTotal:120,costUsd:.002},preview:{title:"LLM: call tools",outputPreview:"Calling web_search + database_query"},io:{emittedToolCallIds:["tc-001","tc-002"]},status:"completed"},{id:"s3",index:2,type:"tool_call",name:"web_search",toolCallId:"tc-001",startedAt:"2026-01-27T10:00:01.200Z",endedAt:"2026-01-27T10:00:03.200Z",durationMs:2e3,childStepIds:[],metrics:{costUsd:0},preview:{title:"Tool: web_search",inputPreview:'{"q":"EU AI Act"}',outputPreview:"[3 results...]"},status:"completed"},{id:"s4",index:3,type:"tool_call",name:"database_query",toolCallId:"tc-002",startedAt:"2026-01-27T10:00:01.500Z",endedAt:"2026-01-27T10:00:02.700Z",durationMs:1200,childStepIds:[],preview:{title:"Tool: database_query",inputPreview:'{"sql":"SELECT..."}',outputPreview:'{"rows":42}'},status:"completed"},{id:"s5",index:4,type:"llm_call",name:"analyze",startedAt:"2026-01-27T10:00:03.200Z",endedAt:"2026-01-27T10:00:04.600Z",durationMs:1400,childStepIds:[],metrics:{tokensTotal:700,costUsd:.012},preview:{title:"LLM: analyze",outputPreview:"Synthesis based on tool outputs..."},io:{consumedToolCallIds:["tc-001","tc-002"]},status:"completed"}],Yo={id:aL,name:oL,startedAt:lL,endedAt:uL,status:cL,metadata:dL,steps:fL};function hT(e,t){const n=hL(e,t),r=new Set(n.map(d=>d.leftId)),i=new Set(n.map(d=>d.rightId)),s=t.steps.filter(d=>!i.has(d.id)).map(d=>d.id),a=e.steps.filter(d=>!r.has(d.id)).map(d=>d.id),o=n.filter(d=>{const f=e.steps.find(g=>g.id===d.leftId),m=t.steps.find(g=>g.id===d.rightId);return!f||!m?!1:ix(f)!==ix(m)}),l=o.map(d=>d.leftId),u=(t.metadata.totalCostUsd??0)-(e.metadata.totalCostUsd??0),c=t.metadata.wallTimeMs-e.metadata.wallTimeMs;return{addedSteps:s,removedSteps:a,changedSteps:l,changedPairs:o,alignedSteps:n,costDeltaUsd:u,wallTimeDeltaMs:c}}function hL(e,t){const n=[],r=new Set(e.steps.map(c=>c.id)),i=new Set(t.steps.map(c=>c.id));Array.from(r).forEach(c=>{i.has(c)&&(n.push({leftId:c,rightId:c}),r.delete(c),i.delete(c))});const s=new Map;t.steps.forEach(c=>{c.toolCallId&&s.set(c.toolCallId,c.id)}),e.steps.forEach(c=>{if(!c.toolCallId)return;const d=s.get(c.toolCallId);d&&i.has(d)&&(n.push({leftId:c.id,rightId:d}),r.delete(c.id),i.delete(d))});const a=ox(e),o=ox(t),l=pL(e,t),u={};return i.forEach(c=>{const d=o.get(c);if(!d)return;const f=sx(d.step);f&&(u[f]||(u[f]=[]),u[f].push(c))}),Object.values(u).forEach(c=>{c.sort((d,f)=>{var m,g;return(((m=o.get(d))==null?void 0:m.startMs)??0)-(((g=o.get(f))==null?void 0:g.startMs)??0)})}),Array.from(r).forEach(c=>{var g;const d=a.get(c);if(!d)return;const f=sx(d.step);if(!f||!((g=u[f])!=null&&g.length))return;const m=mL(d,u[f],o,l);m&&(n.push({leftId:c,rightId:m}),r.delete(c),i.delete(m),u[f]=u[f].filter(p=>p!==m))}),n}function ix(e){var r,i;const t=((r=e.preview)==null?void 0:r.outputPreview)??null,n=((i=e.metrics)==null?void 0:i.costUsd)??null;return`${e.status}|${t??""}|${n??""}`}function sx(e){return e.type?`${e.type}:${e.name??""}`:null}function ax(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function ox(e){const t=ax(e.startedAt),n=new Map;return e.steps.forEach(r=>{const i=ax(r.startedAt),s=t!=null&&i!=null?i-t:null;n.set(r.id,{step:r,startMs:s})}),n}function pL(e,t){const n=Math.max(e.metadata.wallTimeMs,t.metadata.wallTimeMs,1);return Math.max(1e3,Math.min(5e3,Math.round(n*.1)))}function mL(e,t,n,r){const i=e.startMs;if(i==null)return null;let s=null,a=r+1;return t.forEach(o=>{const l=n.get(o);if(!l||l.startMs==null)return;const u=Math.abs(l.startMs-i);u<a&&(a=u,s=o)}),a<=r?s:null}const vL=new Map,gL=new Map,gr=new Map;async function yL(){return[Yo]}async function pT(e){return{trace:Yo}}const xL={s1:{role:"assistant",content:"I'll analyze the user's request and create a plan to fetch information from two sources: a web search for current EU AI Act updates and a database query for historical compliance data.",model:"gpt-4o-2024-11-20",usage:{prompt_tokens:150,completion_tokens:150,total_tokens:300},reasoning:"The user wants comprehensive information about AI regulations. I'll use parallel tool calls to maximize efficiency."},s2:{role:"assistant",content:null,tool_calls:[{id:"tc-001",type:"function",function:{name:"web_search",arguments:'{"q":"EU AI Act latest updates 2026"}'}},{id:"tc-002",type:"function",function:{name:"database_query",arguments:`{"sql":"SELECT * FROM compliance_records WHERE region='EU' ORDER BY date DESC LIMIT 10"}`}}],model:"gpt-4o-2024-11-20",usage:{prompt_tokens:80,completion_tokens:40,total_tokens:120}},s3:{tool_call_id:"tc-001",tool_name:"web_search",input:{q:"EU AI Act latest updates 2026"},output:{results:[{title:"EU AI Act Implementation Timeline",url:"https://example.com/ai-act",snippet:"The EU AI Act enters full force in 2026..."},{title:"High-Risk AI Systems Classification",url:"https://example.com/classification",snippet:"New guidance on high-risk categorization..."},{title:"Compliance Deadlines Approaching",url:"https://example.com/deadlines",snippet:"Organizations must comply by August 2026..."}],total_results:3,search_time_ms:1850},status:"success"},s4:{tool_call_id:"tc-002",tool_name:"database_query",input:{sql:"SELECT * FROM compliance_records WHERE region='EU' ORDER BY date DESC LIMIT 10"},output:{rows:[{id:1,company:"TechCorp",status:"compliant",date:"2026-01-15"},{id:2,company:"AIStartup",status:"in_progress",date:"2026-01-10"},{id:3,company:"DataCo",status:"compliant",date:"2026-01-05"}],row_count:42,query_time_ms:1100},status:"success"},s5:{role:"assistant",content:`Based on my analysis of the web search results and database records:

**Key Findings:**
1. The EU AI Act is now in full effect as of 2026
2. High-risk AI systems require specific compliance measures
3. 42 organizations in our database have compliance records

**Recommendations:**
- Review classification of AI systems
- Ensure documentation is complete
- Schedule compliance audit before August deadline`,model:"gpt-4o-2024-11-20",usage:{prompt_tokens:450,completion_tokens:250,total_tokens:700},reasoning:"Synthesized information from both the web search (3 relevant articles) and database query (42 compliance records) to provide actionable insights."}};function wL(e,t){const n=Yo.steps.find(s=>s.id===e);if(!n)return null;const r=xL[e];if(!r)return null;const i=t?bL(r):r;return{...n,data:i}}function bL(e){var n,r;const t=JSON.parse(JSON.stringify(e));return(n=t.input)!=null&&n.sql&&(t.input.sql="[REDACTED]"),(r=t.output)!=null&&r.rows&&(t.output.rows=t.output.rows.map(i=>({...i,company:"[REDACTED]"}))),t.tool_calls&&(t.tool_calls=t.tool_calls.map(i=>({...i,function:{...i.function,arguments:"[REDACTED]"}}))),t}async function SL(e,t,n,r=[],i=!1){return await new Promise(s=>setTimeout(s,150)),wL(t,i)}async function _L(e,t,n){await SL(e,t,"redacted",[],n)}function kL(e,t){return()=>{}}function EL(){vL.clear(),gL.clear()}async function CL(e,t){return null}async function TL(e){return null}async function ZB(e,t){return[]}async function e$(e,t,n,r,i){return null}async function jL(){return[]}async function PL(e,t){return null}async function NL(e,t,n,r,i){return i?mT(i,t,n,r):null}function mT(e,t,n,r){var g;const i=JSON.parse(JSON.stringify(e)),s=6e4,a=Date.parse("2024-01-01T00:00:00.000Z"),o=Date.parse(e.endedAt??e.startedAt??""),u=(Number.isNaN(o)?a:o)+s,c=new Date(u);i.id=`${e.id}-replay-${u}`,i.parentTraceId=e.id,i.branchPointStepId=t,i.replay={strategy:n,modifiedStepId:t,modifications:r,createdAt:c.toISOString()};const d=p=>{if(!p)return p;const w=Date.parse(p);return Number.isNaN(w)?p:new Date(w+s).toISOString()};i.startedAt=d(i.startedAt)??i.startedAt,i.endedAt=d(i.endedAt);const f=new Set,m=((g=i.steps.find(p=>p.id===t))==null?void 0:g.index)??-1;return n==="live"?i.steps.forEach(p=>{p.index>m&&f.add(p.id)}):n==="hybrid"&&i.steps.forEach(p=>{p.index>m&&f.add(p.id)}),i.steps=i.steps.map(p=>{var v;const w={...p};if(w.startedAt=d(p.startedAt)??p.startedAt,w.endedAt=d(p.endedAt),p.id===t){const y=((v=p.preview)==null?void 0:v.outputPreview)??"";w.preview={...p.preview,outputPreview:`${y} (modified)`.trim()}}return f.has(p.id)&&(w.status="pending",w.endedAt=null,w.durationMs=void 0,w.metrics=void 0,w.preview={...p.preview,outputPreview:"[invalidated for replay]"}),w}),i}async function RL(e){return IL(e)}async function ML(e){var t;return((t=gr.get(e))==null?void 0:t.job)??null}async function lx(e){var t;return((t=gr.get(e))==null?void 0:t.matrix)??null}async function AL(e){{const t=gr.get(e);if(!t)return null;const n={...t.job,status:"canceled",scenarios:t.job.scenarios.map(r=>({...r,status:"canceled",endedAt:r.endedAt??new Date().toISOString()}))};return gr.set(e,{...t,job:n}),n}}function IL(e){const t=`demo-job-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,n=Yo,r=new Date().toISOString(),i=e.scenarios.map((l,u)=>({id:`demo-scn-${u+1}`,name:l.name,strategy:l.strategy,modifications:l.modifications,status:"running",startedAt:r,endedAt:null,replayTraceId:`${t}-replay-${u+1}`})),s={id:t,traceId:e.traceId,stepId:e.stepId,status:"running",createdAt:r,startedAt:r,endedAt:null,scenarioCount:i.length,completedCount:0,failedCount:0,canceledCount:0,scenarios:i},a=i.map(l=>{const u=mT(n,e.stepId,l.strategy,l.modifications);u.id=l.replayTraceId;const c=hT(n,u),d=n.metadata.totalCostUsd??0,f=u.metadata.totalCostUsd??d,m=n.metadata.errorCount??0,g=u.metadata.errorCount??m,p=n.metadata.retryCount??0,w=u.metadata.retryCount??p,v=u.steps.filter(y=>y.status==="pending").length;return{scenarioId:l.id,name:l.name,strategy:l.strategy,status:"completed",replayTraceId:l.replayTraceId,modifications:l.modifications,error:null,changedStepIds:c.changedSteps,addedStepIds:c.addedSteps,removedStepIds:c.removedSteps,metrics:{costDeltaUsd:f-d,wallTimeDeltaMs:(u.metadata.wallTimeMs??0)-(n.metadata.wallTimeMs??0),errorDelta:g-m,retryDelta:w-p,changedSteps:c.changedSteps.length,addedSteps:c.addedSteps.length,removedSteps:c.removedSteps.length,invalidatedStepCount:v}}}),o={jobId:t,traceId:e.traceId,stepId:e.stepId,rows:a,causalRanking:[]};return gr.set(t,{job:s,matrix:o}),window.setTimeout(()=>{const l=gr.get(t);if(!l)return;const u=new Date().toISOString(),c=l.job.scenarios.map(m=>({...m,status:"completed",endedAt:u})),d={...l.job,status:"completed",endedAt:u,completedCount:c.length,scenarios:c},f={...l.matrix,rows:l.matrix.rows.map(m=>({...m,status:"completed"}))};gr.set(t,{job:d,matrix:f})},600),s}function DL(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState(!0),[a,o]=S.useState(null),[l,u]=S.useState([]),[c,d]=S.useState(null),f=S.useCallback(async g=>{const p=await pT(),w=(p==null?void 0:p.trace)??null;t(w),r(w?(p==null?void 0:p.insights)??FR(w):null)},[t,r]),m=S.useCallback(async()=>{var g;s(!0),o(null);try{const p=await yL();u(p);const w=((g=p[p.length-1])==null?void 0:g.id)??null,v=c??w;if(!v){t(null),r(null);return}if(!c||c!==v){d(v);return}await f(v)}catch(p){o(p instanceof Error?p.message:"Failed to load trace")}finally{s(!1)}},[c,f]);return S.useEffect(()=>{m()},[m]),S.useEffect(()=>{c&&(s(!0),f(c).catch(g=>{o(g instanceof Error?g.message:"Failed to load trace")}).finally(()=>s(!1)))},[c,f]),S.useEffect(()=>kL(),[c,d]),{trace:e,insights:n,loading:i,error:a,reload:m,traces:l,selectedTraceId:c,setSelectedTraceId:d}}function ft(e,t){const[n,r]=S.useState(()=>{if(typeof window>"u")return t;try{const i=window.localStorage.getItem(e);return i==null?t:JSON.parse(i)}catch{return t}});return S.useEffect(()=>{try{window.localStorage.setItem(e,JSON.stringify(n))}catch{}},[e,n]),[n,r]}function Kv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var du,ux;function LL(){if(ux)return du;ux=1;function e(){this.__data__=[],this.size=0}return du=e,du}var fu,cx;function _i(){if(cx)return fu;cx=1;function e(t,n){return t===n||t!==t&&n!==n}return fu=e,fu}var hu,dx;function Qo(){if(dx)return hu;dx=1;var e=_i();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return hu=t,hu}var pu,fx;function OL(){if(fx)return pu;fx=1;var e=Qo(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,a=e(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return pu=r,pu}var mu,hx;function qL(){if(hx)return mu;hx=1;var e=Qo();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return mu=t,mu}var vu,px;function FL(){if(px)return vu;px=1;var e=Qo();function t(n){return e(this.__data__,n)>-1}return vu=t,vu}var gu,mx;function VL(){if(mx)return gu;mx=1;var e=Qo();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return gu=t,gu}var yu,vx;function Xo(){if(vx)return yu;vx=1;var e=LL(),t=OL(),n=qL(),r=FL(),i=VL();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,yu=s,yu}var xu,gx;function BL(){if(gx)return xu;gx=1;var e=Xo();function t(){this.__data__=new e,this.size=0}return xu=t,xu}var wu,yx;function $L(){if(yx)return wu;yx=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return wu=e,wu}var bu,xx;function UL(){if(xx)return bu;xx=1;function e(t){return this.__data__.get(t)}return bu=e,bu}var Su,wx;function zL(){if(wx)return Su;wx=1;function e(t){return this.__data__.has(t)}return Su=e,Su}var _u,bx;function vT(){if(bx)return _u;bx=1;var e=typeof sa=="object"&&sa&&sa.Object===Object&&sa;return _u=e,_u}var ku,Sx;function zt(){if(Sx)return ku;Sx=1;var e=vT(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return ku=n,ku}var Eu,_x;function ki(){if(_x)return Eu;_x=1;var e=zt(),t=e.Symbol;return Eu=t,Eu}var Cu,kx;function GL(){if(kx)return Cu;kx=1;var e=ki(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var u=!0}catch{}var c=r.call(a);return u&&(o?a[i]=l:delete a[i]),c}return Cu=s,Cu}var Tu,Ex;function HL(){if(Ex)return Tu;Ex=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Tu=n,Tu}var ju,Cx;function Cr(){if(Cx)return ju;Cx=1;var e=ki(),t=GL(),n=HL(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?t(o):n(o)}return ju=a,ju}var Pu,Tx;function Mt(){if(Tx)return Pu;Tx=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Pu=e,Pu}var Nu,jx;function Ys(){if(jx)return Nu;jx=1;var e=Cr(),t=Mt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!t(o))return!1;var l=e(o);return l==r||l==i||l==n||l==s}return Nu=a,Nu}var Ru,Px;function KL(){if(Px)return Ru;Px=1;var e=zt(),t=e["__core-js_shared__"];return Ru=t,Ru}var Mu,Nx;function WL(){if(Nx)return Mu;Nx=1;var e=KL(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Mu=n,Mu}var Au,Rx;function gT(){if(Rx)return Au;Rx=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Au=n,Au}var Iu,Mx;function YL(){if(Mx)return Iu;Mx=1;var e=Ys(),t=WL(),n=Mt(),r=gT(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var m=e(f)?c:s;return m.test(r(f))}return Iu=d,Iu}var Du,Ax;function QL(){if(Ax)return Du;Ax=1;function e(t,n){return t==null?void 0:t[n]}return Du=e,Du}var Lu,Ix;function Tr(){if(Ix)return Lu;Ix=1;var e=YL(),t=QL();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return Lu=n,Lu}var Ou,Dx;function Wv(){if(Dx)return Ou;Dx=1;var e=Tr(),t=zt(),n=e(t,"Map");return Ou=n,Ou}var qu,Lx;function Jo(){if(Lx)return qu;Lx=1;var e=Tr(),t=e(Object,"create");return qu=t,qu}var Fu,Ox;function XL(){if(Ox)return Fu;Ox=1;var e=Jo();function t(){this.__data__=e?e(null):{},this.size=0}return Fu=t,Fu}var Vu,qx;function JL(){if(qx)return Vu;qx=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Vu=e,Vu}var Bu,Fx;function ZL(){if(Fx)return Bu;Fx=1;var e=Jo(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(e){var o=a[s];return o===t?void 0:o}return r.call(a,s)?a[s]:void 0}return Bu=i,Bu}var $u,Vx;function eO(){if(Vx)return $u;Vx=1;var e=Jo(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return $u=r,$u}var Uu,Bx;function tO(){if(Bx)return Uu;Bx=1;var e=Jo(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return Uu=n,Uu}var zu,$x;function nO(){if($x)return zu;$x=1;var e=XL(),t=JL(),n=ZL(),r=eO(),i=tO();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,zu=s,zu}var Gu,Ux;function rO(){if(Ux)return Gu;Ux=1;var e=nO(),t=Xo(),n=Wv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Gu=r,Gu}var Hu,zx;function iO(){if(zx)return Hu;zx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Hu=e,Hu}var Ku,Gx;function Zo(){if(Gx)return Ku;Gx=1;var e=iO();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ku=t,Ku}var Wu,Hx;function sO(){if(Hx)return Wu;Hx=1;var e=Zo();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Wu=t,Wu}var Yu,Kx;function aO(){if(Kx)return Yu;Kx=1;var e=Zo();function t(n){return e(this,n).get(n)}return Yu=t,Yu}var Qu,Wx;function oO(){if(Wx)return Qu;Wx=1;var e=Zo();function t(n){return e(this,n).has(n)}return Qu=t,Qu}var Xu,Yx;function lO(){if(Yx)return Xu;Yx=1;var e=Zo();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Xu=t,Xu}var Ju,Qx;function Yv(){if(Qx)return Ju;Qx=1;var e=rO(),t=sO(),n=aO(),r=oO(),i=lO();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Ju=s,Ju}var Zu,Xx;function uO(){if(Xx)return Zu;Xx=1;var e=Xo(),t=Wv(),n=Yv(),r=200;function i(s,a){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return Zu=i,Zu}var ec,Jx;function el(){if(Jx)return ec;Jx=1;var e=Xo(),t=BL(),n=$L(),r=UL(),i=zL(),s=uO();function a(o){var l=this.__data__=new e(o);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,ec=a,ec}var tc,Zx;function Qv(){if(Zx)return tc;Zx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return tc=e,tc}var nc,ew;function yT(){if(ew)return nc;ew=1;var e=Tr(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return nc=t,nc}var rc,tw;function tl(){if(tw)return rc;tw=1;var e=yT();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return rc=t,rc}var ic,nw;function nl(){if(nw)return ic;nw=1;var e=tl(),t=_i(),n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o){var l=s[a];(!(r.call(s,a)&&t(l,o))||o===void 0&&!(a in s))&&e(s,a,o)}return ic=i,ic}var sc,rw;function Qs(){if(rw)return sc;rw=1;var e=nl(),t=tl();function n(r,i,s,a){var o=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=a?a(s[c],r[c],c,s,r):void 0;d===void 0&&(d=r[c]),o?t(s,c,d):e(s,c,d)}return s}return sc=n,sc}var ac,iw;function cO(){if(iw)return ac;iw=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return ac=e,ac}var oc,sw;function nn(){if(sw)return oc;sw=1;function e(t){return t!=null&&typeof t=="object"}return oc=e,oc}var lc,aw;function dO(){if(aw)return lc;aw=1;var e=Cr(),t=nn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return lc=r,lc}var uc,ow;function Xs(){if(ow)return uc;ow=1;var e=dO(),t=nn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return uc=s,uc}var cc,lw;function Oe(){if(lw)return cc;lw=1;var e=Array.isArray;return cc=e,cc}var Zi={exports:{}},dc,uw;function fO(){if(uw)return dc;uw=1;function e(){return!1}return dc=e,dc}Zi.exports;var cw;function Ei(){return cw||(cw=1,function(e,t){var n=zt(),r=fO(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;e.exports=u}(Zi,Zi.exports)),Zi.exports}var fc,dw;function rl(){if(dw)return fc;dw=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return fc=n,fc}var hc,fw;function Xv(){if(fw)return hc;fw=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return hc=t,hc}var pc,hw;function hO(){if(hw)return pc;hw=1;var e=Cr(),t=Xv(),n=nn(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",m="[object Set]",g="[object String]",p="[object WeakMap]",w="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",b="[object Int8Array]",_="[object Int16Array]",E="[object Int32Array]",k="[object Uint8Array]",C="[object Uint8ClampedArray]",N="[object Uint16Array]",A="[object Uint32Array]",R={};R[y]=R[x]=R[b]=R[_]=R[E]=R[k]=R[C]=R[N]=R[A]=!0,R[r]=R[i]=R[w]=R[s]=R[v]=R[a]=R[o]=R[l]=R[u]=R[c]=R[d]=R[f]=R[m]=R[g]=R[p]=!1;function $(J){return n(J)&&t(J.length)&&!!R[e(J)]}return pc=$,pc}var mc,pw;function il(){if(pw)return mc;pw=1;function e(t){return function(n){return t(n)}}return mc=e,mc}var es={exports:{}};es.exports;var mw;function Jv(){return mw||(mw=1,function(e,t){var n=vT(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=o}(es,es.exports)),es.exports}var vc,vw;function Js(){if(vw)return vc;vw=1;var e=hO(),t=il(),n=Jv(),r=n&&n.isTypedArray,i=r?t(r):e;return vc=i,vc}var gc,gw;function xT(){if(gw)return gc;gw=1;var e=cO(),t=Xs(),n=Oe(),r=Ei(),i=rl(),s=Js(),a=Object.prototype,o=a.hasOwnProperty;function l(u,c){var d=n(u),f=!d&&t(u),m=!d&&!f&&r(u),g=!d&&!f&&!m&&s(u),p=d||f||m||g,w=p?e(u.length,String):[],v=w.length;for(var y in u)(c||o.call(u,y))&&!(p&&(y=="length"||m&&(y=="offset"||y=="parent")||g&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,v)))&&w.push(y);return w}return gc=l,gc}var yc,yw;function sl(){if(yw)return yc;yw=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return yc=t,yc}var xc,xw;function wT(){if(xw)return xc;xw=1;function e(t,n){return function(r){return t(n(r))}}return xc=e,xc}var wc,ww;function pO(){if(ww)return wc;ww=1;var e=wT(),t=e(Object.keys,Object);return wc=t,wc}var bc,bw;function Zv(){if(bw)return bc;bw=1;var e=sl(),t=pO(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return bc=i,bc}var Sc,Sw;function kn(){if(Sw)return Sc;Sw=1;var e=Ys(),t=Xv();function n(r){return r!=null&&t(r.length)&&!e(r)}return Sc=n,Sc}var _c,_w;function tr(){if(_w)return _c;_w=1;var e=xT(),t=Zv(),n=kn();function r(i){return n(i)?e(i):t(i)}return _c=r,_c}var kc,kw;function mO(){if(kw)return kc;kw=1;var e=Qs(),t=tr();function n(r,i){return r&&e(i,t(i),r)}return kc=n,kc}var Ec,Ew;function vO(){if(Ew)return Ec;Ew=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Ec=e,Ec}var Cc,Cw;function gO(){if(Cw)return Cc;Cw=1;var e=Mt(),t=sl(),n=vO(),r=Object.prototype,i=r.hasOwnProperty;function s(a){if(!e(a))return n(a);var o=t(a),l=[];for(var u in a)u=="constructor"&&(o||!i.call(a,u))||l.push(u);return l}return Cc=s,Cc}var Tc,Tw;function jr(){if(Tw)return Tc;Tw=1;var e=xT(),t=gO(),n=kn();function r(i){return n(i)?e(i,!0):t(i)}return Tc=r,Tc}var jc,jw;function yO(){if(jw)return jc;jw=1;var e=Qs(),t=jr();function n(r,i){return r&&e(i,t(i),r)}return jc=n,jc}var ts={exports:{}};ts.exports;var Pw;function bT(){return Pw||(Pw=1,function(e,t){var n=zt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=o?o(d):new u.constructor(d);return u.copy(f),f}e.exports=l}(ts,ts.exports)),ts.exports}var Pc,Nw;function ST(){if(Nw)return Pc;Nw=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Pc=e,Pc}var Nc,Rw;function _T(){if(Rw)return Nc;Rw=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,a=[];++r<i;){var o=t[r];n(o,r,t)&&(a[s++]=o)}return a}return Nc=e,Nc}var Rc,Mw;function kT(){if(Mw)return Rc;Mw=1;function e(){return[]}return Rc=e,Rc}var Mc,Aw;function eg(){if(Aw)return Mc;Aw=1;var e=_T(),t=kT(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(o){return r.call(a,o)}))}:t;return Mc=s,Mc}var Ac,Iw;function xO(){if(Iw)return Ac;Iw=1;var e=Qs(),t=eg();function n(r,i){return e(r,t(r),i)}return Ac=n,Ac}var Ic,Dw;function tg(){if(Dw)return Ic;Dw=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return Ic=e,Ic}var Dc,Lw;function al(){if(Lw)return Dc;Lw=1;var e=wT(),t=e(Object.getPrototypeOf,Object);return Dc=t,Dc}var Lc,Ow;function ET(){if(Ow)return Lc;Ow=1;var e=tg(),t=al(),n=eg(),r=kT(),i=Object.getOwnPropertySymbols,s=i?function(a){for(var o=[];a;)e(o,n(a)),a=t(a);return o}:r;return Lc=s,Lc}var Oc,qw;function wO(){if(qw)return Oc;qw=1;var e=Qs(),t=ET();function n(r,i){return e(r,t(r),i)}return Oc=n,Oc}var qc,Fw;function CT(){if(Fw)return qc;Fw=1;var e=tg(),t=Oe();function n(r,i,s){var a=i(r);return t(r)?a:e(a,s(r))}return qc=n,qc}var Fc,Vw;function TT(){if(Vw)return Fc;Vw=1;var e=CT(),t=eg(),n=tr();function r(i){return e(i,n,t)}return Fc=r,Fc}var Vc,Bw;function bO(){if(Bw)return Vc;Bw=1;var e=CT(),t=ET(),n=jr();function r(i){return e(i,n,t)}return Vc=r,Vc}var Bc,$w;function SO(){if($w)return Bc;$w=1;var e=Tr(),t=zt(),n=e(t,"DataView");return Bc=n,Bc}var $c,Uw;function _O(){if(Uw)return $c;Uw=1;var e=Tr(),t=zt(),n=e(t,"Promise");return $c=n,$c}var Uc,zw;function jT(){if(zw)return Uc;zw=1;var e=Tr(),t=zt(),n=e(t,"Set");return Uc=n,Uc}var zc,Gw;function kO(){if(Gw)return zc;Gw=1;var e=Tr(),t=zt(),n=e(t,"WeakMap");return zc=n,zc}var Gc,Hw;function Ci(){if(Hw)return Gc;Hw=1;var e=SO(),t=Wv(),n=_O(),r=jT(),i=kO(),s=Cr(),a=gT(),o="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",m=a(e),g=a(t),p=a(n),w=a(r),v=a(i),y=s;return(e&&y(new e(new ArrayBuffer(1)))!=f||t&&y(new t)!=o||n&&y(n.resolve())!=u||r&&y(new r)!=c||i&&y(new i)!=d)&&(y=function(x){var b=s(x),_=b==l?x.constructor:void 0,E=_?a(_):"";if(E)switch(E){case m:return f;case g:return o;case p:return u;case w:return c;case v:return d}return b}),Gc=y,Gc}var Hc,Kw;function EO(){if(Kw)return Hc;Kw=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return Hc=n,Hc}var Kc,Ww;function PT(){if(Ww)return Kc;Ww=1;var e=zt(),t=e.Uint8Array;return Kc=t,Kc}var Wc,Yw;function ng(){if(Yw)return Wc;Yw=1;var e=PT();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Wc=t,Wc}var Yc,Qw;function CO(){if(Qw)return Yc;Qw=1;var e=ng();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Yc=t,Yc}var Qc,Xw;function TO(){if(Xw)return Qc;Xw=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Qc=t,Qc}var Xc,Jw;function jO(){if(Jw)return Xc;Jw=1;var e=ki(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Xc=r,Xc}var Jc,Zw;function NT(){if(Zw)return Jc;Zw=1;var e=ng();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Jc=t,Jc}var Zc,e1;function PO(){if(e1)return Zc;e1=1;var e=ng(),t=CO(),n=TO(),r=jO(),i=NT(),s="[object Boolean]",a="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",w="[object Float64Array]",v="[object Int8Array]",y="[object Int16Array]",x="[object Int32Array]",b="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",k="[object Uint32Array]";function C(N,A,R){var $=N.constructor;switch(A){case m:return e(N);case s:case a:return new $(+N);case g:return t(N,R);case p:case w:case v:case y:case x:case b:case _:case E:case k:return i(N,R);case o:return new $;case l:case d:return new $(N);case u:return n(N);case c:return new $;case f:return r(N)}}return Zc=C,Zc}var ed,t1;function RT(){if(t1)return ed;t1=1;var e=Mt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return ed=n,ed}var td,n1;function MT(){if(n1)return td;n1=1;var e=RT(),t=al(),n=sl();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return td=r,td}var nd,r1;function NO(){if(r1)return nd;r1=1;var e=Ci(),t=nn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return nd=r,nd}var rd,i1;function RO(){if(i1)return rd;i1=1;var e=NO(),t=il(),n=Jv(),r=n&&n.isMap,i=r?t(r):e;return rd=i,rd}var id,s1;function MO(){if(s1)return id;s1=1;var e=Ci(),t=nn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return id=r,id}var sd,a1;function AO(){if(a1)return sd;a1=1;var e=MO(),t=il(),n=Jv(),r=n&&n.isSet,i=r?t(r):e;return sd=i,sd}var ad,o1;function AT(){if(o1)return ad;o1=1;var e=el(),t=Qv(),n=nl(),r=mO(),i=yO(),s=bT(),a=ST(),o=xO(),l=wO(),u=TT(),c=bO(),d=Ci(),f=EO(),m=PO(),g=MT(),p=Oe(),w=Ei(),v=RO(),y=Mt(),x=AO(),b=tr(),_=jr(),E=1,k=2,C=4,N="[object Arguments]",A="[object Array]",R="[object Boolean]",$="[object Date]",J="[object Error]",fe="[object Function]",z="[object GeneratorFunction]",re="[object Map]",ee="[object Number]",I="[object Object]",D="[object RegExp]",V="[object Set]",Y="[object String]",H="[object Symbol]",Se="[object WeakMap]",O="[object ArrayBuffer]",ce="[object DataView]",ye="[object Float32Array]",Ie="[object Float64Array]",St="[object Int8Array]",nr="[object Int16Array]",Rr="[object Int32Array]",ji="[object Uint8Array]",de="[object Uint8ClampedArray]",Pi="[object Uint16Array]",ct="[object Uint32Array]",Z={};Z[N]=Z[A]=Z[O]=Z[ce]=Z[R]=Z[$]=Z[ye]=Z[Ie]=Z[St]=Z[nr]=Z[Rr]=Z[re]=Z[ee]=Z[I]=Z[D]=Z[V]=Z[Y]=Z[H]=Z[ji]=Z[de]=Z[Pi]=Z[ct]=!0,Z[J]=Z[fe]=Z[Se]=!1;function j(L,K,W,he,xe,_e){var ae,Ht=K&E,Ke=K&k,It=K&C;if(W&&(ae=xe?W(L,he,xe,_e):W(L)),ae!==void 0)return ae;if(!y(L))return L;var rr=p(L);if(rr){if(ae=f(L),!Ht)return a(L,ae)}else{var dt=d(L),Mr=dt==fe||dt==z;if(w(L))return s(L,Ht);if(dt==I||dt==N||Mr&&!xe){if(ae=Ke||Mr?{}:g(L),!Ht)return Ke?l(L,i(ae,L)):o(L,r(ae,L))}else{if(!Z[dt])return xe?L:{};ae=m(L,dt,Ht)}}_e||(_e=new e);var Ni=_e.get(L);if(Ni)return Ni;_e.set(L,ae),x(L)?L.forEach(function(_t){ae.add(j(_t,K,W,_t,L,_e))}):v(L)&&L.forEach(function(_t,je){ae.set(je,j(_t,K,W,je,L,_e))});var ea=It?Ke?c:u:Ke?_:b,Ri=rr?void 0:ea(L);return t(Ri||L,function(_t,je){Ri&&(je=_t,_t=L[je]),n(ae,je,j(_t,K,W,je,L,_e))}),ae}return ad=j,ad}var od,l1;function IO(){if(l1)return od;l1=1;var e=AT(),t=4;function n(r){return e(r,t)}return od=n,od}var ld,u1;function rg(){if(u1)return ld;u1=1;function e(t){return function(){return t}}return ld=e,ld}var ud,c1;function DO(){if(c1)return ud;c1=1;function e(t){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),l=o.length;l--;){var u=o[t?l:++s];if(r(a[u],u,a)===!1)break}return n}}return ud=e,ud}var cd,d1;function ig(){if(d1)return cd;d1=1;var e=DO(),t=e();return cd=t,cd}var dd,f1;function sg(){if(f1)return dd;f1=1;var e=ig(),t=tr();function n(r,i){return r&&e(r,i,t)}return dd=n,dd}var fd,h1;function LO(){if(h1)return fd;h1=1;var e=kn();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return fd=t,fd}var hd,p1;function ol(){if(p1)return hd;p1=1;var e=sg(),t=LO(),n=t(e);return hd=n,hd}var pd,m1;function Pr(){if(m1)return pd;m1=1;function e(t){return t}return pd=e,pd}var md,v1;function IT(){if(v1)return md;v1=1;var e=Pr();function t(n){return typeof n=="function"?n:e}return md=t,md}var vd,g1;function DT(){if(g1)return vd;g1=1;var e=Qv(),t=ol(),n=IT(),r=Oe();function i(s,a){var o=r(s)?e:t;return o(s,n(a))}return vd=i,vd}var gd,y1;function LT(){return y1||(y1=1,gd=DT()),gd}var yd,x1;function OO(){if(x1)return yd;x1=1;var e=ol();function t(n,r){var i=[];return e(n,function(s,a,o){r(s,a,o)&&i.push(s)}),i}return yd=t,yd}var xd,w1;function qO(){if(w1)return xd;w1=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return xd=t,xd}var wd,b1;function FO(){if(b1)return wd;b1=1;function e(t){return this.__data__.has(t)}return wd=e,wd}var bd,S1;function OT(){if(S1)return bd;S1=1;var e=Yv(),t=qO(),n=FO();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new e;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,bd=r,bd}var Sd,_1;function VO(){if(_1)return Sd;_1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Sd=e,Sd}var _d,k1;function qT(){if(k1)return _d;k1=1;function e(t,n){return t.has(n)}return _d=e,_d}var kd,E1;function FT(){if(E1)return kd;E1=1;var e=OT(),t=VO(),n=qT(),r=1,i=2;function s(a,o,l,u,c,d){var f=l&r,m=a.length,g=o.length;if(m!=g&&!(f&&g>m))return!1;var p=d.get(a),w=d.get(o);if(p&&w)return p==o&&w==a;var v=-1,y=!0,x=l&i?new e:void 0;for(d.set(a,o),d.set(o,a);++v<m;){var b=a[v],_=o[v];if(u)var E=f?u(_,b,v,o,a,d):u(b,_,v,a,o,d);if(E!==void 0){if(E)continue;y=!1;break}if(x){if(!t(o,function(k,C){if(!n(x,C)&&(b===k||c(b,k,l,u,d)))return x.push(C)})){y=!1;break}}else if(!(b===_||c(b,_,l,u,d))){y=!1;break}}return d.delete(a),d.delete(o),y}return kd=s,kd}var Ed,C1;function BO(){if(C1)return Ed;C1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return Ed=e,Ed}var Cd,T1;function ag(){if(T1)return Cd;T1=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Cd=e,Cd}var Td,j1;function $O(){if(j1)return Td;j1=1;var e=ki(),t=PT(),n=_i(),r=FT(),i=BO(),s=ag(),a=1,o=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",m="[object RegExp]",g="[object Set]",p="[object String]",w="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",x=e?e.prototype:void 0,b=x?x.valueOf:void 0;function _(E,k,C,N,A,R,$){switch(C){case y:if(E.byteLength!=k.byteLength||E.byteOffset!=k.byteOffset)return!1;E=E.buffer,k=k.buffer;case v:return!(E.byteLength!=k.byteLength||!R(new t(E),new t(k)));case l:case u:case f:return n(+E,+k);case c:return E.name==k.name&&E.message==k.message;case m:case p:return E==k+"";case d:var J=i;case g:var fe=N&a;if(J||(J=s),E.size!=k.size&&!fe)return!1;var z=$.get(E);if(z)return z==k;N|=o,$.set(E,k);var re=r(J(E),J(k),N,A,R,$);return $.delete(E),re;case w:if(b)return b.call(E)==b.call(k)}return!1}return Td=_,Td}var jd,P1;function UO(){if(P1)return jd;P1=1;var e=TT(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,u,c){var d=o&t,f=e(s),m=f.length,g=e(a),p=g.length;if(m!=p&&!d)return!1;for(var w=m;w--;){var v=f[w];if(!(d?v in a:r.call(a,v)))return!1}var y=c.get(s),x=c.get(a);if(y&&x)return y==a&&x==s;var b=!0;c.set(s,a),c.set(a,s);for(var _=d;++w<m;){v=f[w];var E=s[v],k=a[v];if(l)var C=d?l(k,E,v,a,s,c):l(E,k,v,s,a,c);if(!(C===void 0?E===k||u(E,k,o,l,c):C)){b=!1;break}_||(_=v=="constructor")}if(b&&!_){var N=s.constructor,A=a.constructor;N!=A&&"constructor"in s&&"constructor"in a&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(b=!1)}return c.delete(s),c.delete(a),b}return jd=i,jd}var Pd,N1;function zO(){if(N1)return Pd;N1=1;var e=el(),t=FT(),n=$O(),r=UO(),i=Ci(),s=Oe(),a=Ei(),o=Js(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,m=f.hasOwnProperty;function g(p,w,v,y,x,b){var _=s(p),E=s(w),k=_?c:i(p),C=E?c:i(w);k=k==u?d:k,C=C==u?d:C;var N=k==d,A=C==d,R=k==C;if(R&&a(p)){if(!a(w))return!1;_=!0,N=!1}if(R&&!N)return b||(b=new e),_||o(p)?t(p,w,v,y,x,b):n(p,w,k,v,y,x,b);if(!(v&l)){var $=N&&m.call(p,"__wrapped__"),J=A&&m.call(w,"__wrapped__");if($||J){var fe=$?p.value():p,z=J?w.value():w;return b||(b=new e),x(fe,z,v,y,b)}}return R?(b||(b=new e),r(p,w,v,y,x,b)):!1}return Pd=g,Pd}var Nd,R1;function VT(){if(R1)return Nd;R1=1;var e=zO(),t=nn();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,a,n,o)}return Nd=n,Nd}var Rd,M1;function GO(){if(M1)return Rd;M1=1;var e=el(),t=VT(),n=1,r=2;function i(s,a,o,l){var u=o.length,c=u,d=!l;if(s==null)return!c;for(s=Object(s);u--;){var f=o[u];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++u<c;){f=o[u];var m=f[0],g=s[m],p=f[1];if(d&&f[2]){if(g===void 0&&!(m in s))return!1}else{var w=new e;if(l)var v=l(g,p,m,s,a,w);if(!(v===void 0?t(p,g,n|r,l,w):v))return!1}}return!0}return Rd=i,Rd}var Md,A1;function BT(){if(A1)return Md;A1=1;var e=Mt();function t(n){return n===n&&!e(n)}return Md=t,Md}var Ad,I1;function HO(){if(I1)return Ad;I1=1;var e=BT(),t=tr();function n(r){for(var i=t(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,e(o)]}return i}return Ad=n,Ad}var Id,D1;function $T(){if(D1)return Id;D1=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Id=e,Id}var Dd,L1;function KO(){if(L1)return Dd;L1=1;var e=GO(),t=HO(),n=$T();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||e(a,i,s)}}return Dd=r,Dd}var Ld,O1;function Ti(){if(O1)return Ld;O1=1;var e=Cr(),t=nn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Ld=r,Ld}var Od,q1;function og(){if(q1)return Od;q1=1;var e=Oe(),t=Ti(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(e(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return Od=i,Od}var qd,F1;function WO(){if(F1)return qd;F1=1;var e=Yv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var u=r.apply(this,a);return s.cache=l.set(o,u)||l,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,qd=n,qd}var Fd,V1;function YO(){if(V1)return Fd;V1=1;var e=WO(),t=500;function n(r){var i=e(r,function(a){return s.size===t&&s.clear(),a}),s=i.cache;return i}return Fd=n,Fd}var Vd,B1;function QO(){if(B1)return Vd;B1=1;var e=YO(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(a,o,l,u){s.push(l?u.replace(n,"$1"):o||a)}),s});return Vd=r,Vd}var Bd,$1;function ll(){if($1)return Bd;$1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return Bd=e,Bd}var $d,U1;function XO(){if(U1)return $d;U1=1;var e=ki(),t=ll(),n=Oe(),r=Ti(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return t(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return $d=a,$d}var Ud,z1;function UT(){if(z1)return Ud;z1=1;var e=XO();function t(n){return n==null?"":e(n)}return Ud=t,Ud}var zd,G1;function ul(){if(G1)return zd;G1=1;var e=Oe(),t=og(),n=QO(),r=UT();function i(s,a){return e(s)?s:t(s,a)?[s]:n(r(s))}return zd=i,zd}var Gd,H1;function Zs(){if(H1)return Gd;H1=1;var e=Ti();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Gd=t,Gd}var Hd,K1;function cl(){if(K1)return Hd;K1=1;var e=ul(),t=Zs();function n(r,i){i=e(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[t(i[s++])];return s&&s==a?r:void 0}return Hd=n,Hd}var Kd,W1;function JO(){if(W1)return Kd;W1=1;var e=cl();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return Kd=t,Kd}var Wd,Y1;function ZO(){if(Y1)return Wd;Y1=1;function e(t,n){return t!=null&&n in Object(t)}return Wd=e,Wd}var Yd,Q1;function zT(){if(Q1)return Yd;Q1=1;var e=ul(),t=Xs(),n=Oe(),r=rl(),i=Xv(),s=Zs();function a(o,l,u){l=e(l,o);for(var c=-1,d=l.length,f=!1;++c<d;){var m=s(l[c]);if(!(f=o!=null&&u(o,m)))break;o=o[m]}return f||++c!=d?f:(d=o==null?0:o.length,!!d&&i(d)&&r(m,d)&&(n(o)||t(o)))}return Yd=a,Yd}var Qd,X1;function GT(){if(X1)return Qd;X1=1;var e=ZO(),t=zT();function n(r,i){return r!=null&&t(r,i,e)}return Qd=n,Qd}var Xd,J1;function eq(){if(J1)return Xd;J1=1;var e=VT(),t=JO(),n=GT(),r=og(),i=BT(),s=$T(),a=Zs(),o=1,l=2;function u(c,d){return r(c)&&i(d)?s(a(c),d):function(f){var m=t(f,c);return m===void 0&&m===d?n(f,c):e(d,m,o|l)}}return Xd=u,Xd}var Jd,Z1;function HT(){if(Z1)return Jd;Z1=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Jd=e,Jd}var Zd,eb;function tq(){if(eb)return Zd;eb=1;var e=cl();function t(n){return function(r){return e(r,n)}}return Zd=t,Zd}var ef,tb;function nq(){if(tb)return ef;tb=1;var e=HT(),t=tq(),n=og(),r=Zs();function i(s){return n(s)?e(r(s)):t(s)}return ef=i,ef}var tf,nb;function En(){if(nb)return tf;nb=1;var e=KO(),t=eq(),n=Pr(),r=Oe(),i=nq();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return tf=s,tf}var nf,rb;function KT(){if(rb)return nf;rb=1;var e=_T(),t=OO(),n=En(),r=Oe();function i(s,a){var o=r(s)?e:t;return o(s,n(a,3))}return nf=i,nf}var rf,ib;function rq(){if(ib)return rf;ib=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return rf=n,rf}var sf,sb;function WT(){if(sb)return sf;sb=1;var e=rq(),t=zT();function n(r,i){return r!=null&&t(r,i,e)}return sf=n,sf}var af,ab;function iq(){if(ab)return af;ab=1;var e=Zv(),t=Ci(),n=Xs(),r=Oe(),i=kn(),s=Ei(),a=sl(),o=Js(),l="[object Map]",u="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(m){if(m==null)return!0;if(i(m)&&(r(m)||typeof m=="string"||typeof m.splice=="function"||s(m)||o(m)||n(m)))return!m.length;var g=t(m);if(g==l||g==u)return!m.size;if(a(m))return!e(m).length;for(var p in m)if(d.call(m,p))return!1;return!0}return af=f,af}var of,ob;function YT(){if(ob)return of;ob=1;function e(t){return t===void 0}return of=e,of}var lf,lb;function QT(){if(lb)return lf;lb=1;var e=ol(),t=kn();function n(r,i){var s=-1,a=t(r)?Array(r.length):[];return e(r,function(o,l,u){a[++s]=i(o,l,u)}),a}return lf=n,lf}var uf,ub;function XT(){if(ub)return uf;ub=1;var e=ll(),t=En(),n=QT(),r=Oe();function i(s,a){var o=r(s)?e:n;return o(s,t(a,3))}return uf=i,uf}var cf,cb;function sq(){if(cb)return cf;cb=1;function e(t,n,r,i){var s=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++s]);++s<a;)r=n(r,t[s],s,t);return r}return cf=e,cf}var df,db;function aq(){if(db)return df;db=1;function e(t,n,r,i,s){return s(t,function(a,o,l){r=i?(i=!1,a):n(r,a,o,l)}),r}return df=e,df}var ff,fb;function JT(){if(fb)return ff;fb=1;var e=sq(),t=ol(),n=En(),r=aq(),i=Oe();function s(a,o,l){var u=i(a)?e:r,c=arguments.length<3;return u(a,n(o,4),l,c,t)}return ff=s,ff}var hf,hb;function oq(){if(hb)return hf;hb=1;var e=Cr(),t=Oe(),n=nn(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return hf=i,hf}var pf,pb;function lq(){if(pb)return pf;pb=1;var e=HT(),t=e("length");return pf=t,pf}var mf,mb;function uq(){if(mb)return mf;mb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+e+i+s+"]");function l(u){return o.test(u)}return mf=l,mf}var vf,vb;function cq(){if(vb)return vf;vb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",a="["+e+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",g=u+"?",p="["+s+"]?",w="(?:"+m+"(?:"+[c,d,f].join("|")+")"+p+g+")*",v=p+g+w,y="(?:"+[c+o+"?",o,d,f,a].join("|")+")",x=RegExp(l+"(?="+l+")|"+y+v,"g");function b(_){for(var E=x.lastIndex=0;x.test(_);)++E;return E}return vf=b,vf}var gf,gb;function dq(){if(gb)return gf;gb=1;var e=lq(),t=uq(),n=cq();function r(i){return t(i)?n(i):e(i)}return gf=r,gf}var yf,yb;function fq(){if(yb)return yf;yb=1;var e=Zv(),t=Ci(),n=kn(),r=oq(),i=dq(),s="[object Map]",a="[object Set]";function o(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==s||u==a?l.size:e(l).length}return yf=o,yf}var xf,xb;function hq(){if(xb)return xf;xb=1;var e=Qv(),t=RT(),n=sg(),r=En(),i=al(),s=Oe(),a=Ei(),o=Ys(),l=Mt(),u=Js();function c(d,f,m){var g=s(d),p=g||a(d)||u(d);if(f=r(f,4),m==null){var w=d&&d.constructor;p?m=g?new w:[]:l(d)?m=o(w)?t(i(d)):{}:m={}}return(p?e:n)(d,function(v,y,x){return f(m,v,y,x)}),m}return xf=c,xf}var wf,wb;function pq(){if(wb)return wf;wb=1;var e=ki(),t=Xs(),n=Oe(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return wf=i,wf}var bf,bb;function lg(){if(bb)return bf;bb=1;var e=tg(),t=pq();function n(r,i,s,a,o){var l=-1,u=r.length;for(s||(s=t),o||(o=[]);++l<u;){var c=r[l];i>0&&s(c)?i>1?n(c,i-1,s,a,o):e(o,c):a||(o[o.length]=c)}return o}return bf=n,bf}var Sf,Sb;function mq(){if(Sb)return Sf;Sb=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Sf=e,Sf}var _f,_b;function ZT(){if(_b)return _f;_b=1;var e=mq(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=t(a.length-i,0),u=Array(l);++o<l;)u[o]=a[i+o];o=-1;for(var c=Array(i+1);++o<i;)c[o]=a[o];return c[i]=s(u),e(r,this,c)}}return _f=n,_f}var kf,kb;function vq(){if(kb)return kf;kb=1;var e=rg(),t=yT(),n=Pr(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return kf=r,kf}var Ef,Eb;function gq(){if(Eb)return Ef;Eb=1;var e=800,t=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),l=t-(o-a);if(a=o,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Ef=r,Ef}var Cf,Cb;function ej(){if(Cb)return Cf;Cb=1;var e=vq(),t=gq(),n=t(e);return Cf=n,Cf}var Tf,Tb;function dl(){if(Tb)return Tf;Tb=1;var e=Pr(),t=ZT(),n=ej();function r(i,s){return n(t(i,s,e),i+"")}return Tf=r,Tf}var jf,jb;function tj(){if(jb)return jf;jb=1;function e(t,n,r,i){for(var s=t.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(t[a],a,t))return a;return-1}return jf=e,jf}var Pf,Pb;function yq(){if(Pb)return Pf;Pb=1;function e(t){return t!==t}return Pf=e,Pf}var Nf,Nb;function xq(){if(Nb)return Nf;Nb=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return Nf=e,Nf}var Rf,Rb;function wq(){if(Rb)return Rf;Rb=1;var e=tj(),t=yq(),n=xq();function r(i,s,a){return s===s?n(i,s,a):e(i,t,a)}return Rf=r,Rf}var Mf,Mb;function bq(){if(Mb)return Mf;Mb=1;var e=wq();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Mf=t,Mf}var Af,Ab;function Sq(){if(Ab)return Af;Ab=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return Af=e,Af}var If,Ib;function _q(){if(Ib)return If;Ib=1;function e(){}return If=e,If}var Df,Db;function kq(){if(Db)return Df;Db=1;var e=jT(),t=_q(),n=ag(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return Df=i,Df}var Lf,Lb;function Eq(){if(Lb)return Lf;Lb=1;var e=OT(),t=bq(),n=Sq(),r=qT(),i=kq(),s=ag(),a=200;function o(l,u,c){var d=-1,f=t,m=l.length,g=!0,p=[],w=p;if(c)g=!1,f=n;else if(m>=a){var v=u?null:i(l);if(v)return s(v);g=!1,f=r,w=new e}else w=u?[]:p;e:for(;++d<m;){var y=l[d],x=u?u(y):y;if(y=c||y!==0?y:0,g&&x===x){for(var b=w.length;b--;)if(w[b]===x)continue e;u&&w.push(x),p.push(y)}else f(w,x,c)||(w!==p&&w.push(x),p.push(y))}return p}return Lf=o,Lf}var Of,Ob;function nj(){if(Ob)return Of;Ob=1;var e=kn(),t=nn();function n(r){return t(r)&&e(r)}return Of=n,Of}var qf,qb;function Cq(){if(qb)return qf;qb=1;var e=lg(),t=dl(),n=Eq(),r=nj(),i=t(function(s){return n(e(s,1,r,!0))});return qf=i,qf}var Ff,Fb;function Tq(){if(Fb)return Ff;Fb=1;var e=ll();function t(n,r){return e(r,function(i){return n[i]})}return Ff=t,Ff}var Vf,Vb;function rj(){if(Vb)return Vf;Vb=1;var e=Tq(),t=tr();function n(r){return r==null?[]:e(r,t(r))}return Vf=n,Vf}var Bf,Bb;function At(){if(Bb)return Bf;Bb=1;var e;if(typeof Kv=="function")try{e={clone:IO(),constant:rg(),each:LT(),filter:KT(),has:WT(),isArray:Oe(),isEmpty:iq(),isFunction:Ys(),isUndefined:YT(),keys:tr(),map:XT(),reduce:JT(),size:fq(),transform:hq(),union:Cq(),values:rj()}}catch{}return e||(e=window._),Bf=e,Bf}var $f,$b;function ug(){if($b)return $f;$b=1;var e=At();$f=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,m=this;return e.each(c,function(g){f.length>1?m.setNode(g,d):m.setNode(g)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(m){d.removeEdge(d._edgeObjs[m])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(m){d.setParent(m)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(p,w){c(w)&&d.setNode(w,p)}),e.each(this._edgeObjs,function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,f.edge(p))});var m={};function g(p){var w=f.parent(p);return w===void 0||d.hasNode(w)?(m[p]=w,w):w in m?m[w]:g(w)}return this._isCompound&&e.each(d.nodes(),function(p){d.setParent(p,g(p))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,m=arguments;return e.reduce(c,function(g,p){return m.length>1?f.setEdge(g,p,d):f.setEdge(g,p),p}),this},i.prototype.setEdge=function(){var c,d,f,m,g=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(c=p.v,d=p.w,f=p.name,arguments.length===2&&(m=arguments[1],g=!0)):(c=p,d=arguments[1],f=arguments[3],arguments.length>2&&(m=arguments[2],g=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var w=o(this._isDirected,c,d,f);if(e.has(this._edgeLabels,w))return g&&(this._edgeLabels[w]=m),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[w]=g?m:this._defaultEdgeLabelFn(c,d,f);var v=l(this._isDirected,c,d,f);return c=v.v,d=v.w,Object.freeze(v),this._edgeObjs[w]=v,s(this._preds[d],c),s(this._sucs[c],d),this._in[d][w]=v,this._out[c][w]=v,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var m=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,f);return this._edgeLabels[m]},i.prototype.hasEdge=function(c,d,f){var m=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,f);return e.has(this._edgeLabels,m)},i.prototype.removeEdge=function(c,d,f){var m=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,f),g=this._edgeObjs[m];return g&&(c=g.v,d=g.w,delete this._edgeLabels[m],delete this._edgeObjs[m],a(this._preds[d],c),a(this._sucs[c],d),delete this._in[d][m],delete this._out[c][m],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var m=e.values(f);return d?e.filter(m,function(g){return g.v===d}):m}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var m=e.values(f);return d?e.filter(m,function(g){return g.w===d}):m}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function s(c,d){c[d]?c[d]++:c[d]=1}function a(c,d){--c[d]||delete c[d]}function o(c,d,f,m){var g=""+d,p=""+f;if(!c&&g>p){var w=g;g=p,p=w}return g+r+p+r+(e.isUndefined(m)?t:m)}function l(c,d,f,m){var g=""+d,p=""+f;if(!c&&g>p){var w=g;g=p,p=w}var v={v:g,w:p};return m&&(v.name=m),v}function u(c,d){return o(c,d.v,d.w,d.name)}return $f}var Uf,Ub;function jq(){return Ub||(Ub=1,Uf="2.1.8"),Uf}var zf,zb;function Pq(){return zb||(zb=1,zf={Graph:ug(),version:jq()}),zf}var Gf,Gb;function Nq(){if(Gb)return Gf;Gb=1;var e=At(),t=ug();Gf={write:n,read:s};function n(a){var o={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(o.value=e.clone(a.graph())),o}function r(a){return e.map(a.nodes(),function(o){var l=a.node(o),u=a.parent(o),c={v:o};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(a){return e.map(a.edges(),function(o){var l=a.edge(o),u={v:o.v,w:o.w};return e.isUndefined(o.name)||(u.name=o.name),e.isUndefined(l)||(u.value=l),u})}function s(a){var o=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),e.each(a.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return Gf}var Hf,Hb;function Rq(){if(Hb)return Hf;Hb=1;var e=At();Hf=t;function t(n){var r={},i=[],s;function a(o){e.has(r,o)||(r[o]=!0,s.push(o),e.each(n.successors(o),a),e.each(n.predecessors(o),a))}return e.each(n.nodes(),function(o){s=[],a(o),s.length&&i.push(s)}),i}return Hf}var Kf,Kb;function ij(){if(Kb)return Kf;Kb=1;var e=At();Kf=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var s=this._arr,a=s.length;return i[n]=a,s.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,s<r.length&&(a=r[s].priority<r[a].priority?s:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,a=i[n],o=i[r];i[n]=o,i[r]=a,s[o.key]=n,s[a.key]=r},Kf}var Wf,Wb;function sj(){if(Wb)return Wf;Wb=1;var e=At(),t=ij();Wf=r;var n=e.constant(1);function r(s,a,o,l){return i(s,String(a),o||n,l||function(u){return s.outEdges(u)})}function i(s,a,o,l){var u={},c=new t,d,f,m=function(g){var p=g.v!==d?g.v:g.w,w=u[p],v=o(g),y=f.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+v);y<w.distance&&(w.distance=y,w.predecessor=d,c.decrease(p,y))};for(s.nodes().forEach(function(g){var p=g===a?0:Number.POSITIVE_INFINITY;u[g]={distance:p},c.add(g,p)});c.size()>0&&(d=c.removeMin(),f=u[d],f.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(m);return u}return Wf}var Yf,Yb;function Mq(){if(Yb)return Yf;Yb=1;var e=sj(),t=At();Yf=n;function n(r,i,s){return t.transform(r.nodes(),function(a,o){a[o]=e(r,o,i,s)},{})}return Yf}var Qf,Qb;function aj(){if(Qb)return Qf;Qb=1;var e=At();Qf=t;function t(n){var r=0,i=[],s={},a=[];function o(l){var u=s[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(f){e.has(s,f)?s[f].onStack&&(u.lowlink=Math.min(u.lowlink,s[f].index)):(o(f),u.lowlink=Math.min(u.lowlink,s[f].lowlink))}),u.lowlink===u.index){var c=[],d;do d=i.pop(),s[d].onStack=!1,c.push(d);while(l!==d);a.push(c)}}return n.nodes().forEach(function(l){e.has(s,l)||o(l)}),a}return Qf}var Xf,Xb;function Aq(){if(Xb)return Xf;Xb=1;var e=At(),t=aj();Xf=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Xf}var Jf,Jb;function Iq(){if(Jb)return Jf;Jb=1;var e=At();Jf=n;var t=e.constant(1);function n(i,s,a){return r(i,s||t,a||function(o){return i.outEdges(o)})}function r(i,s,a){var o={},l=i.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(c){u!==c&&(o[u][c]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(c){var d=c.v===u?c.w:c.v,f=s(c);o[u][d]={distance:f,predecessor:u}})}),l.forEach(function(u){var c=o[u];l.forEach(function(d){var f=o[d];l.forEach(function(m){var g=f[u],p=c[m],w=f[m],v=g.distance+p.distance;v<w.distance&&(w.distance=v,w.predecessor=p.predecessor)})})}),o}return Jf}var Zf,Zb;function oj(){if(Zb)return Zf;Zb=1;var e=At();Zf=t,t.CycleException=n;function t(r){var i={},s={},a=[];function o(l){if(e.has(s,l))throw new n;e.has(i,l)||(s[l]=!0,i[l]=!0,e.each(r.predecessors(l),o),delete s[l],a.push(l))}if(e.each(r.sinks(),o),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,Zf}var eh,eS;function Dq(){if(eS)return eh;eS=1;var e=oj();eh=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return eh}var th,tS;function lj(){if(tS)return th;tS=1;var e=At();th=t;function t(r,i,s){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),o=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,s==="post",l,a,o)}),o}function n(r,i,s,a,o,l){e.has(a,i)||(a[i]=!0,s||l.push(i),e.each(o(i),function(u){n(r,u,s,a,o,l)}),s&&l.push(i))}return th}var nh,nS;function Lq(){if(nS)return nh;nS=1;var e=lj();nh=t;function t(n,r){return e(n,r,"post")}return nh}var rh,rS;function Oq(){if(rS)return rh;rS=1;var e=lj();rh=t;function t(n,r){return e(n,r,"pre")}return rh}var ih,iS;function qq(){if(iS)return ih;iS=1;var e=At(),t=ug(),n=ij();ih=r;function r(i,s){var a=new t,o={},l=new n,u;function c(f){var m=f.v===u?f.w:f.v,g=l.priority(m);if(g!==void 0){var p=s(f);p<g&&(o[m]=u,l.decrease(m,p))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(f){l.add(f,Number.POSITIVE_INFINITY),a.setNode(f)}),l.decrease(i.nodes()[0],0);for(var d=!1;l.size()>0;){if(u=l.removeMin(),e.has(o,u))a.setEdge(u,o[u]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(u).forEach(c)}return a}return ih}var sh,sS;function Fq(){return sS||(sS=1,sh={components:Rq(),dijkstra:sj(),dijkstraAll:Mq(),findCycles:Aq(),floydWarshall:Iq(),isAcyclic:Dq(),postorder:Lq(),preorder:Oq(),prim:qq(),tarjan:aj(),topsort:oj()}),sh}var ah,aS;function Vq(){if(aS)return ah;aS=1;var e=Pq();return ah={Graph:e.Graph,json:Nq(),alg:Fq(),version:e.version},ah}var _o;if(typeof Kv=="function")try{_o=Vq()}catch{}_o||(_o=window.graphlib);var Gt=_o,oh,oS;function Bq(){if(oS)return oh;oS=1;var e=AT(),t=1,n=4;function r(i){return e(i,t|n)}return oh=r,oh}var lh,lS;function fl(){if(lS)return lh;lS=1;var e=_i(),t=kn(),n=rl(),r=Mt();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?t(o)&&n(a,o.length):l=="string"&&a in o)?e(o[a],s):!1}return lh=i,lh}var uh,uS;function $q(){if(uS)return uh;uS=1;var e=dl(),t=_i(),n=fl(),r=jr(),i=Object.prototype,s=i.hasOwnProperty,a=e(function(o,l){o=Object(o);var u=-1,c=l.length,d=c>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(c=1);++u<c;)for(var f=l[u],m=r(f),g=-1,p=m.length;++g<p;){var w=m[g],v=o[w];(v===void 0||t(v,i[w])&&!s.call(o,w))&&(o[w]=f[w])}return o});return uh=a,uh}var ch,cS;function Uq(){if(cS)return ch;cS=1;var e=En(),t=kn(),n=tr();function r(i){return function(s,a,o){var l=Object(s);if(!t(s)){var u=e(a,3);s=n(s),a=function(d){return u(l[d],d,l)}}var c=i(s,a,o);return c>-1?l[u?s[c]:c]:void 0}}return ch=r,ch}var dh,dS;function zq(){if(dS)return dh;dS=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return dh=t,dh}var fh,fS;function Gq(){if(fS)return fh;fS=1;var e=zq(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return fh=n,fh}var hh,hS;function Hq(){if(hS)return hh;hS=1;var e=Gq(),t=Mt(),n=Ti(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=s.test(u);return d||a.test(u)?o(u.slice(2),d?2:8):i.test(u)?r:+u}return hh=l,hh}var ph,pS;function uj(){if(pS)return ph;pS=1;var e=Hq(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return ph=r,ph}var mh,mS;function Kq(){if(mS)return mh;mS=1;var e=uj();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return mh=t,mh}var vh,vS;function Wq(){if(vS)return vh;vS=1;var e=tj(),t=En(),n=Kq(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var u=o==null?0:n(o);return u<0&&(u=r(l+u,0)),e(s,t(a,3),u)}return vh=i,vh}var gh,gS;function Yq(){if(gS)return gh;gS=1;var e=Uq(),t=Wq(),n=e(t);return gh=n,gh}var yh,yS;function cj(){if(yS)return yh;yS=1;var e=lg();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return yh=t,yh}var xh,xS;function Qq(){if(xS)return xh;xS=1;var e=ig(),t=IT(),n=jr();function r(i,s){return i==null?i:e(i,t(s),n)}return xh=r,xh}var wh,wS;function Xq(){if(wS)return wh;wS=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return wh=e,wh}var bh,bS;function Jq(){if(bS)return bh;bS=1;var e=tl(),t=sg(),n=En();function r(i,s){var a={};return s=n(s,3),t(i,function(o,l,u){e(a,l,s(o,l,u))}),a}return bh=r,bh}var Sh,SS;function cg(){if(SS)return Sh;SS=1;var e=Ti();function t(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],l=r(o);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=o}return c}return Sh=t,Sh}var _h,_S;function Zq(){if(_S)return _h;_S=1;function e(t,n){return t>n}return _h=e,_h}var kh,kS;function eF(){if(kS)return kh;kS=1;var e=cg(),t=Zq(),n=Pr();function r(i){return i&&i.length?e(i,n,t):void 0}return kh=r,kh}var Eh,ES;function dj(){if(ES)return Eh;ES=1;var e=tl(),t=_i();function n(r,i,s){(s!==void 0&&!t(r[i],s)||s===void 0&&!(i in r))&&e(r,i,s)}return Eh=n,Eh}var Ch,CS;function tF(){if(CS)return Ch;CS=1;var e=Cr(),t=al(),n=nn(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var f=o.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&a.call(f)==l}return Ch=u,Ch}var Th,TS;function fj(){if(TS)return Th;TS=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Th=e,Th}var jh,jS;function nF(){if(jS)return jh;jS=1;var e=Qs(),t=jr();function n(r){return e(r,t(r))}return jh=n,jh}var Ph,PS;function rF(){if(PS)return Ph;PS=1;var e=dj(),t=bT(),n=NT(),r=ST(),i=MT(),s=Xs(),a=Oe(),o=nj(),l=Ei(),u=Ys(),c=Mt(),d=tF(),f=Js(),m=fj(),g=nF();function p(w,v,y,x,b,_,E){var k=m(w,y),C=m(v,y),N=E.get(C);if(N){e(w,y,N);return}var A=_?_(k,C,y+"",w,v,E):void 0,R=A===void 0;if(R){var $=a(C),J=!$&&l(C),fe=!$&&!J&&f(C);A=C,$||J||fe?a(k)?A=k:o(k)?A=r(k):J?(R=!1,A=t(C,!0)):fe?(R=!1,A=n(C,!0)):A=[]:d(C)||s(C)?(A=k,s(k)?A=g(k):(!c(k)||u(k))&&(A=i(C))):R=!1}R&&(E.set(C,A),b(A,C,x,_,E),E.delete(C)),e(w,y,A)}return Ph=p,Ph}var Nh,NS;function iF(){if(NS)return Nh;NS=1;var e=el(),t=dj(),n=ig(),r=rF(),i=Mt(),s=jr(),a=fj();function o(l,u,c,d,f){l!==u&&n(u,function(m,g){if(f||(f=new e),i(m))r(l,u,g,c,o,d,f);else{var p=d?d(a(l,g),m,g+"",l,u,f):void 0;p===void 0&&(p=m),t(l,g,p)}},s)}return Nh=o,Nh}var Rh,RS;function sF(){if(RS)return Rh;RS=1;var e=dl(),t=fl();function n(r){return e(function(i,s){var a=-1,o=s.length,l=o>1?s[o-1]:void 0,u=o>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,u&&t(s[0],s[1],u)&&(l=o<3?void 0:l,o=1),i=Object(i);++a<o;){var c=s[a];c&&r(i,c,a,l)}return i})}return Rh=n,Rh}var Mh,MS;function aF(){if(MS)return Mh;MS=1;var e=iF(),t=sF(),n=t(function(r,i,s){e(r,i,s)});return Mh=n,Mh}var Ah,AS;function hj(){if(AS)return Ah;AS=1;function e(t,n){return t<n}return Ah=e,Ah}var Ih,IS;function oF(){if(IS)return Ih;IS=1;var e=cg(),t=hj(),n=Pr();function r(i){return i&&i.length?e(i,n,t):void 0}return Ih=r,Ih}var Dh,DS;function lF(){if(DS)return Dh;DS=1;var e=cg(),t=En(),n=hj();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return Dh=r,Dh}var Lh,LS;function uF(){if(LS)return Lh;LS=1;var e=zt(),t=function(){return e.Date.now()};return Lh=t,Lh}var Oh,OS;function cF(){if(OS)return Oh;OS=1;var e=nl(),t=ul(),n=rl(),r=Mt(),i=Zs();function s(a,o,l,u){if(!r(a))return a;o=t(o,a);for(var c=-1,d=o.length,f=d-1,m=a;m!=null&&++c<d;){var g=i(o[c]),p=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return a;if(c!=f){var w=m[g];p=u?u(w,g,m):void 0,p===void 0&&(p=r(w)?w:n(o[c+1])?[]:{})}e(m,g,p),m=m[g]}return a}return Oh=s,Oh}var qh,qS;function dF(){if(qS)return qh;qS=1;var e=cl(),t=cF(),n=ul();function r(i,s,a){for(var o=-1,l=s.length,u={};++o<l;){var c=s[o],d=e(i,c);a(d,c)&&t(u,n(c,i),d)}return u}return qh=r,qh}var Fh,FS;function fF(){if(FS)return Fh;FS=1;var e=dF(),t=GT();function n(r,i){return e(r,i,function(s,a){return t(r,a)})}return Fh=n,Fh}var Vh,VS;function hF(){if(VS)return Vh;VS=1;var e=cj(),t=ZT(),n=ej();function r(i){return n(t(i,void 0,e),i+"")}return Vh=r,Vh}var Bh,BS;function pF(){if(BS)return Bh;BS=1;var e=fF(),t=hF(),n=t(function(r,i){return r==null?{}:e(r,i)});return Bh=n,Bh}var $h,$S;function mF(){if($S)return $h;$S=1;var e=Math.ceil,t=Math.max;function n(r,i,s,a){for(var o=-1,l=t(e((i-r)/(s||1)),0),u=Array(l);l--;)u[a?l:++o]=r,r+=s;return u}return $h=n,$h}var Uh,US;function vF(){if(US)return Uh;US=1;var e=mF(),t=fl(),n=uj();function r(i){return function(s,a,o){return o&&typeof o!="number"&&t(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),e(s,a,o,i)}}return Uh=r,Uh}var zh,zS;function gF(){if(zS)return zh;zS=1;var e=vF(),t=e();return zh=t,zh}var Gh,GS;function yF(){if(GS)return Gh;GS=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Gh=e,Gh}var Hh,HS;function xF(){if(HS)return Hh;HS=1;var e=Ti();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=e(n),l=r!==void 0,u=r===null,c=r===r,d=e(r);if(!u&&!d&&!o&&n>r||o&&l&&c&&!u&&!d||s&&l&&c||!i&&c||!a)return 1;if(!s&&!o&&!d&&n<r||d&&i&&a&&!s&&!o||u&&i&&a||!l&&a||!c)return-1}return 0}return Hh=t,Hh}var Kh,KS;function wF(){if(KS)return Kh;KS=1;var e=xF();function t(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,l=a.length,u=i.length;++s<l;){var c=e(a[s],o[s]);if(c){if(s>=u)return c;var d=i[s];return c*(d=="desc"?-1:1)}}return n.index-r.index}return Kh=t,Kh}var Wh,WS;function bF(){if(WS)return Wh;WS=1;var e=ll(),t=cl(),n=En(),r=QT(),i=yF(),s=il(),a=wF(),o=Pr(),l=Oe();function u(c,d,f){d.length?d=e(d,function(p){return l(p)?function(w){return t(w,p.length===1?p[0]:p)}:p}):d=[o];var m=-1;d=e(d,s(n));var g=r(c,function(p,w,v){var y=e(d,function(x){return x(p)});return{criteria:y,index:++m,value:p}});return i(g,function(p,w){return a(p,w,f)})}return Wh=u,Wh}var Yh,YS;function SF(){if(YS)return Yh;YS=1;var e=lg(),t=bF(),n=dl(),r=fl(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(s,e(a,1),[])});return Yh=i,Yh}var Qh,QS;function _F(){if(QS)return Qh;QS=1;var e=UT(),t=0;function n(r){var i=++t;return e(r)+i}return Qh=n,Qh}var Xh,XS;function kF(){if(XS)return Xh;XS=1;function e(t,n,r){for(var i=-1,s=t.length,a=n.length,o={};++i<s;){var l=i<a?n[i]:void 0;r(o,t[i],l)}return o}return Xh=e,Xh}var Jh,JS;function EF(){if(JS)return Jh;JS=1;var e=nl(),t=kF();function n(r,i){return t(r||[],i||[],e)}return Jh=n,Jh}var ko;if(typeof Kv=="function")try{ko={cloneDeep:Bq(),constant:rg(),defaults:$q(),each:LT(),filter:KT(),find:Yq(),flatten:cj(),forEach:DT(),forIn:Qq(),has:WT(),isUndefined:YT(),last:Xq(),map:XT(),mapValues:Jq(),max:eF(),merge:aF(),min:oF(),minBy:lF(),now:uF(),pick:pF(),range:gF(),reduce:JT(),sortBy:SF(),uniqueId:_F(),values:rj(),zipObject:EF()}}catch{}ko||(ko=window._);var be=ko,CF=hl;function hl(){var e={};e._next=e._prev=e,this._sentinel=e}hl.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return pj(t),t};hl.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&pj(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};hl.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,TF)),n=n._prev;return"["+e.join(", ")+"]"};function pj(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function TF(e,t){if(e!=="_next"&&e!=="_prev")return t}var fn=be,jF=Gt.Graph,PF=CF,NF=MF,RF=fn.constant(1);function MF(e,t){if(e.nodeCount()<=1)return[];var n=IF(e,t||RF),r=AF(n.graph,n.buckets,n.zeroIdx);return fn.flatten(fn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function AF(e,t,n){for(var r=[],i=t[t.length-1],s=t[0],a;e.nodeCount();){for(;a=s.dequeue();)Zh(e,t,n,a);for(;a=i.dequeue();)Zh(e,t,n,a);if(e.nodeCount()){for(var o=t.length-2;o>0;--o)if(a=t[o].dequeue(),a){r=r.concat(Zh(e,t,n,a,!0));break}}}return r}function Zh(e,t,n,r,i){var s=i?[]:void 0;return fn.forEach(e.inEdges(r.v),function(a){var o=e.edge(a),l=e.node(a.v);i&&s.push({v:a.v,w:a.w}),l.out-=o,mm(t,n,l)}),fn.forEach(e.outEdges(r.v),function(a){var o=e.edge(a),l=a.w,u=e.node(l);u.in-=o,mm(t,n,u)}),e.removeNode(r.v),s}function IF(e,t){var n=new jF,r=0,i=0;fn.forEach(e.nodes(),function(o){n.setNode(o,{v:o,in:0,out:0})}),fn.forEach(e.edges(),function(o){var l=n.edge(o.v,o.w)||0,u=t(o),c=l+u;n.setEdge(o.v,o.w,c),i=Math.max(i,n.node(o.v).out+=u),r=Math.max(r,n.node(o.w).in+=u)});var s=fn.range(i+r+3).map(function(){return new PF}),a=r+1;return fn.forEach(n.nodes(),function(o){mm(s,a,n.node(o))}),{graph:n,buckets:s,zeroIdx:a}}function mm(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var hr=be,DF=NF,LF={run:OF,undo:FF};function OF(e){var t=e.graph().acyclicer==="greedy"?DF(e,n(e)):qF(e);hr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,hr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function qF(e){var t=[],n={},r={};function i(s){hr.has(r,s)||(r[s]=!0,n[s]=!0,hr.forEach(e.outEdges(s),function(a){hr.has(n,a.w)?t.push(a):i(a.w)}),delete n[s])}return hr.forEach(e.nodes(),i),t}function FF(e){hr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var ie=be,mj=Gt.Graph,ut={addDummyNode:vj,simplify:VF,asNonCompoundGraph:BF,successorWeights:$F,predecessorWeights:UF,intersectRect:zF,buildLayerMatrix:GF,normalizeRanks:HF,removeEmptyRanks:KF,addBorderNode:WF,maxRank:gj,partition:YF,time:QF,notime:XF};function vj(e,t,n,r){var i;do i=ie.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function VF(e){var t=new mj().setGraph(e.graph());return ie.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),ie.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function BF(e){var t=new mj({multigraph:e.isMultigraph()}).setGraph(e.graph());return ie.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),ie.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function $F(e){var t=ie.map(e.nodes(),function(n){var r={};return ie.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return ie.zipObject(e.nodes(),t)}function UF(e){var t=ie.map(e.nodes(),function(n){var r={};return ie.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return ie.zipObject(e.nodes(),t)}function zF(e,t){var n=e.x,r=e.y,i=t.x-n,s=t.y-r,a=e.width/2,o=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=o*i/s,u=o):(i<0&&(a=-a),l=a,u=a*s/i),{x:n+l,y:r+u}}function GF(e){var t=ie.map(ie.range(gj(e)+1),function(){return[]});return ie.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;ie.isUndefined(i)||(t[i][r.order]=n)}),t}function HF(e){var t=ie.min(ie.map(e.nodes(),function(n){return e.node(n).rank}));ie.forEach(e.nodes(),function(n){var r=e.node(n);ie.has(r,"rank")&&(r.rank-=t)})}function KF(e){var t=ie.min(ie.map(e.nodes(),function(s){return e.node(s).rank})),n=[];ie.forEach(e.nodes(),function(s){var a=e.node(s).rank-t;n[a]||(n[a]=[]),n[a].push(s)});var r=0,i=e.graph().nodeRankFactor;ie.forEach(n,function(s,a){ie.isUndefined(s)&&a%i!==0?--r:r&&ie.forEach(s,function(o){e.node(o).rank+=r})})}function WF(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),vj(e,"border",i,t)}function gj(e){return ie.max(ie.map(e.nodes(),function(t){var n=e.node(t).rank;if(!ie.isUndefined(n))return n}))}function YF(e,t){var n={lhs:[],rhs:[]};return ie.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function QF(e,t){var n=ie.now();try{return t()}finally{console.log(e+" time: "+(ie.now()-n)+"ms")}}function XF(e,t){return t()}var yj=be,JF=ut,ZF={run:eV,undo:nV};function eV(e){e.graph().dummyChains=[],yj.forEach(e.edges(),function(t){tV(e,t)})}function tV(e,t){var n=t.v,r=e.node(n).rank,i=t.w,s=e.node(i).rank,a=t.name,o=e.edge(t),l=o.labelRank;if(s!==r+1){e.removeEdge(t);var u,c,d;for(d=0,++r;r<s;++d,++r)o.points=[],c={width:0,height:0,edgeLabel:o,edgeObj:t,rank:r},u=JF.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=o.width,c.height=o.height,c.dummy="edge-label",c.labelpos=o.labelpos),e.setEdge(n,u,{weight:o.weight},a),d===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:o.weight},a)}}function nV(e){yj.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ta=be,pl={longestPath:rV,slack:iV};function rV(e){var t={};function n(r){var i=e.node(r);if(Ta.has(t,r))return i.rank;t[r]=!0;var s=Ta.min(Ta.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}Ta.forEach(e.sources(),n)}function iV(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Eo=be,sV=Gt.Graph,Co=pl.slack,xj=aV;function aV(e){var t=new sV({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,s;oV(t,e)<r;)i=lV(t,e),s=t.hasNode(i.v)?Co(e,i):-Co(e,i),uV(t,e,s);return t}function oV(e,t){function n(r){Eo.forEach(t.nodeEdges(r),function(i){var s=i.v,a=r===s?i.w:s;!e.hasNode(a)&&!Co(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return Eo.forEach(e.nodes(),n),e.nodeCount()}function lV(e,t){return Eo.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Co(t,n)})}function uV(e,t,n){Eo.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Sn=be,cV=xj,dV=pl.slack,fV=pl.longestPath,hV=Gt.alg.preorder,pV=Gt.alg.postorder,mV=ut.simplify,vV=Nr;Nr.initLowLimValues=fg;Nr.initCutValues=dg;Nr.calcCutValue=wj;Nr.leaveEdge=Sj;Nr.enterEdge=_j;Nr.exchangeEdges=kj;function Nr(e){e=mV(e),fV(e);var t=cV(e);fg(t),dg(t,e);for(var n,r;n=Sj(t);)r=_j(t,e,n),kj(t,e,n,r)}function dg(e,t){var n=pV(e,e.nodes());n=n.slice(0,n.length-1),Sn.forEach(n,function(r){gV(e,t,r)})}function gV(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=wj(e,t,n)}function wj(e,t,n){var r=e.node(n),i=r.parent,s=!0,a=t.edge(n,i),o=0;return a||(s=!1,a=t.edge(i,n)),o=a.weight,Sn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var d=u===s,f=t.edge(l).weight;if(o+=d?f:-f,xV(e,n,c)){var m=e.edge(n,c).cutvalue;o+=d?-m:m}}}),o}function fg(e,t){arguments.length<2&&(t=e.nodes()[0]),bj(e,{},1,t)}function bj(e,t,n,r,i){var s=n,a=e.node(r);return t[r]=!0,Sn.forEach(e.neighbors(r),function(o){Sn.has(t,o)||(n=bj(e,t,n,o,r))}),a.low=s,a.lim=n++,i?a.parent=i:delete a.parent,n}function Sj(e){return Sn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function _j(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),a=e.node(i),o=s,l=!1;s.lim>a.lim&&(o=a,l=!0);var u=Sn.filter(t.edges(),function(c){return l===ZS(e,e.node(c.v),o)&&l!==ZS(e,e.node(c.w),o)});return Sn.minBy(u,function(c){return dV(t,c)})}function kj(e,t,n,r){var i=n.v,s=n.w;e.removeEdge(i,s),e.setEdge(r.v,r.w,{}),fg(e),dg(e,t),yV(e,t)}function yV(e,t){var n=Sn.find(e.nodes(),function(i){return!t.node(i).parent}),r=hV(e,n);r=r.slice(1),Sn.forEach(r,function(i){var s=e.node(i).parent,a=t.edge(i,s),o=!1;a||(a=t.edge(s,i),o=!0),t.node(i).rank=t.node(s).rank+(o?a.minlen:-a.minlen)})}function xV(e,t,n){return e.hasEdge(t,n)}function ZS(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var wV=pl,Ej=wV.longestPath,bV=xj,SV=vV,_V=kV;function kV(e){switch(e.graph().ranker){case"network-simplex":e_(e);break;case"tight-tree":CV(e);break;case"longest-path":EV(e);break;default:e_(e)}}var EV=Ej;function CV(e){Ej(e),bV(e)}function e_(e){SV(e)}var vm=be,TV=jV;function jV(e){var t=NV(e);vm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,s=PV(e,t,i.v,i.w),a=s.path,o=s.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=a[l])!==o&&e.node(u).maxRank<r.rank;)l++;u===o&&(c=!1)}if(!c){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function PV(e,t,n,r){var i=[],s=[],a=Math.min(t[n].low,t[r].low),o=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>a||o>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function NV(e){var t={},n=0;function r(i){var s=n;vm.forEach(e.children(i),r),t[i]={low:s,lim:n++}}return vm.forEach(e.children(),r),t}var hn=be,gm=ut,RV={run:MV,cleanup:DV};function MV(e){var t=gm.addDummyNode(e,"root",{},"_root"),n=AV(e),r=hn.max(hn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,hn.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var s=IV(e)+1;hn.forEach(e.children(),function(a){Cj(e,t,i,s,r,n,a)}),e.graph().nodeRankFactor=i}function Cj(e,t,n,r,i,s,a){var o=e.children(a);if(!o.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var l=gm.addBorderNode(e,"_bt"),u=gm.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(l,a),c.borderTop=l,e.setParent(u,a),c.borderBottom=u,hn.forEach(o,function(d){Cj(e,t,n,r,i,s,d);var f=e.node(d),m=f.borderTop?f.borderTop:d,g=f.borderBottom?f.borderBottom:d,p=f.borderTop?r:2*r,w=m!==g?1:i-s[a]+1;e.setEdge(l,m,{weight:p,minlen:w,nestingEdge:!0}),e.setEdge(g,u,{weight:p,minlen:w,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+s[a]})}function AV(e){var t={};function n(r,i){var s=e.children(r);s&&s.length&&hn.forEach(s,function(a){n(a,i+1)}),t[r]=i}return hn.forEach(e.children(),function(r){n(r,1)}),t}function IV(e){return hn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function DV(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,hn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var ep=be,LV=ut,OV=qV;function qV(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&ep.forEach(r,t),ep.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,a=i.maxRank+1;s<a;++s)t_(e,"borderLeft","_bl",n,i,s),t_(e,"borderRight","_br",n,i,s)}}ep.forEach(e.children(),t)}function t_(e,t,n,r,i,s){var a={width:0,height:0,rank:s,borderType:t},o=i[t][s-1],l=LV.addDummyNode(e,"border",a,n);i[t][s]=l,e.setParent(l,r),o&&e.setEdge(o,l,{weight:1})}var Xt=be,FV={adjust:VV,undo:BV};function VV(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Tj(e)}function BV(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&$V(e),(t==="lr"||t==="rl")&&(UV(e),Tj(e))}function Tj(e){Xt.forEach(e.nodes(),function(t){n_(e.node(t))}),Xt.forEach(e.edges(),function(t){n_(e.edge(t))})}function n_(e){var t=e.width;e.width=e.height,e.height=t}function $V(e){Xt.forEach(e.nodes(),function(t){tp(e.node(t))}),Xt.forEach(e.edges(),function(t){var n=e.edge(t);Xt.forEach(n.points,tp),Xt.has(n,"y")&&tp(n)})}function tp(e){e.y=-e.y}function UV(e){Xt.forEach(e.nodes(),function(t){np(e.node(t))}),Xt.forEach(e.edges(),function(t){var n=e.edge(t);Xt.forEach(n.points,np),Xt.has(n,"x")&&np(n)})}function np(e){var t=e.x;e.x=e.y,e.y=t}var an=be,zV=GV;function GV(e){var t={},n=an.filter(e.nodes(),function(o){return!e.children(o).length}),r=an.max(an.map(n,function(o){return e.node(o).rank})),i=an.map(an.range(r+1),function(){return[]});function s(o){if(!an.has(t,o)){t[o]=!0;var l=e.node(o);i[l.rank].push(o),an.forEach(e.successors(o),s)}}var a=an.sortBy(n,function(o){return e.node(o).rank});return an.forEach(a,s),i}var jn=be,HV=KV;function KV(e,t){for(var n=0,r=1;r<t.length;++r)n+=WV(e,t[r-1],t[r]);return n}function WV(e,t,n){for(var r=jn.zipObject(n,jn.map(n,function(u,c){return c})),i=jn.flatten(jn.map(t,function(u){return jn.sortBy(jn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var o=jn.map(new Array(a),function(){return 0}),l=0;return jn.forEach(i.forEach(function(u){var c=u.pos+s;o[c]+=u.weight;for(var d=0;c>0;)c%2&&(d+=o[c+1]),c=c-1>>1,o[c]+=u.weight;l+=u.weight*d})),l}var r_=be,YV=QV;function QV(e,t){return r_.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=r_.reduce(r,function(s,a){var o=e.edge(a),l=e.node(a.v);return{sum:s.sum+o.weight*l.order,weight:s.weight+o.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var pt=be,XV=JV;function JV(e,t){var n={};pt.forEach(e,function(i,s){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};pt.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),pt.forEach(t.edges(),function(i){var s=n[i.v],a=n[i.w];!pt.isUndefined(s)&&!pt.isUndefined(a)&&(a.indegree++,s.out.push(n[i.w]))});var r=pt.filter(n,function(i){return!i.indegree});return ZV(r)}function ZV(e){var t=[];function n(s){return function(a){a.merged||(pt.isUndefined(a.barycenter)||pt.isUndefined(s.barycenter)||a.barycenter>=s.barycenter)&&e3(s,a)}}function r(s){return function(a){a.in.push(s),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),pt.forEach(i.in.reverse(),n(i)),pt.forEach(i.out,r(i))}return pt.map(pt.filter(t,function(s){return!s.merged}),function(s){return pt.pick(s,["vs","i","barycenter","weight"])})}function e3(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var ns=be,t3=ut,n3=r3;function r3(e,t){var n=t3.partition(e,function(c){return ns.has(c,"barycenter")}),r=n.lhs,i=ns.sortBy(n.rhs,function(c){return-c.i}),s=[],a=0,o=0,l=0;r.sort(i3(!!t)),l=i_(s,i,l),ns.forEach(r,function(c){l+=c.vs.length,s.push(c.vs),a+=c.barycenter*c.weight,o+=c.weight,l=i_(s,i,l)});var u={vs:ns.flatten(s,!0)};return o&&(u.barycenter=a/o,u.weight=o),u}function i_(e,t,n){for(var r;t.length&&(r=ns.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function i3(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var In=be,s3=YV,a3=XV,o3=n3,l3=jj;function jj(e,t,n,r){var i=e.children(t),s=e.node(t),a=s?s.borderLeft:void 0,o=s?s.borderRight:void 0,l={};a&&(i=In.filter(i,function(g){return g!==a&&g!==o}));var u=s3(e,i);In.forEach(u,function(g){if(e.children(g.v).length){var p=jj(e,g.v,n,r);l[g.v]=p,In.has(p,"barycenter")&&c3(g,p)}});var c=a3(u,n);u3(c,l);var d=o3(c,r);if(a&&(d.vs=In.flatten([a,d.vs,o],!0),e.predecessors(a).length)){var f=e.node(e.predecessors(a)[0]),m=e.node(e.predecessors(o)[0]);In.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+m.order)/(d.weight+2),d.weight+=2}return d}function u3(e,t){In.forEach(e,function(n){n.vs=In.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function c3(e,t){In.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var rs=be,d3=Gt.Graph,f3=h3;function h3(e,t,n){var r=p3(e),i=new d3({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return e.node(s)});return rs.forEach(e.nodes(),function(s){var a=e.node(s),o=e.parent(s);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(s),i.setParent(s,o||r),rs.forEach(e[n](s),function(l){var u=l.v===s?l.w:l.v,c=i.edge(u,s),d=rs.isUndefined(c)?0:c.weight;i.setEdge(u,s,{weight:e.edge(l).weight+d})}),rs.has(a,"minRank")&&i.setNode(s,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function p3(e){for(var t;e.hasNode(t=rs.uniqueId("_root")););return t}var m3=be,v3=g3;function g3(e,t,n){var r={},i;m3.forEach(n,function(s){for(var a=e.parent(s),o,l;a;){if(o=e.parent(a),o?(l=r[o],r[o]=a):(l=i,i=a),l&&l!==a){t.setEdge(l,a);return}a=o}})}var Gn=be,y3=zV,x3=HV,w3=l3,b3=f3,S3=v3,_3=Gt.Graph,s_=ut,k3=E3;function E3(e){var t=s_.maxRank(e),n=a_(e,Gn.range(1,t+1),"inEdges"),r=a_(e,Gn.range(t-1,-1,-1),"outEdges"),i=y3(e);o_(e,i);for(var s=Number.POSITIVE_INFINITY,a,o=0,l=0;l<4;++o,++l){C3(o%2?n:r,o%4>=2),i=s_.buildLayerMatrix(e);var u=x3(e,i);u<s&&(l=0,a=Gn.cloneDeep(i),s=u)}o_(e,a)}function a_(e,t,n){return Gn.map(t,function(r){return b3(e,r,n)})}function C3(e,t){var n=new _3;Gn.forEach(e,function(r){var i=r.graph().root,s=w3(r,i,n,t);Gn.forEach(s.vs,function(a,o){r.node(a).order=o}),S3(r,n,s.vs)})}function o_(e,t){Gn.forEach(t,function(n){Gn.forEach(n,function(r,i){e.node(r).order=i})})}var G=be,T3=Gt.Graph,j3=ut,P3={positionX:V3};function N3(e,t){var n={};function r(i,s){var a=0,o=0,l=i.length,u=G.last(s);return G.forEach(s,function(c,d){var f=M3(e,c),m=f?e.node(f).order:l;(f||c===u)&&(G.forEach(s.slice(o,d+1),function(g){G.forEach(e.predecessors(g),function(p){var w=e.node(p),v=w.order;(v<a||m<v)&&!(w.dummy&&e.node(g).dummy)&&Pj(n,p,g)})}),o=d+1,a=m)}),s}return G.reduce(t,r),n}function R3(e,t){var n={};function r(s,a,o,l,u){var c;G.forEach(G.range(a,o),function(d){c=s[d],e.node(c).dummy&&G.forEach(e.predecessors(c),function(f){var m=e.node(f);m.dummy&&(m.order<l||m.order>u)&&Pj(n,f,c)})})}function i(s,a){var o=-1,l,u=0;return G.forEach(a,function(c,d){if(e.node(c).dummy==="border"){var f=e.predecessors(c);f.length&&(l=e.node(f[0]).order,r(a,u,d,o,l),u=d,o=l)}r(a,u,a.length,l,s.length)}),a}return G.reduce(t,i),n}function M3(e,t){if(e.node(t).dummy)return G.find(e.predecessors(t),function(n){return e.node(n).dummy})}function Pj(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function A3(e,t,n){if(t>n){var r=t;t=n,n=r}return G.has(e[t],n)}function I3(e,t,n,r){var i={},s={},a={};return G.forEach(t,function(o){G.forEach(o,function(l,u){i[l]=l,s[l]=l,a[l]=u})}),G.forEach(t,function(o){var l=-1;G.forEach(o,function(u){var c=r(u);if(c.length){c=G.sortBy(c,function(p){return a[p]});for(var d=(c.length-1)/2,f=Math.floor(d),m=Math.ceil(d);f<=m;++f){var g=c[f];s[u]===u&&l<a[g]&&!A3(n,u,g)&&(s[g]=u,s[u]=i[u]=i[g],l=a[g])}}})}),{root:i,align:s}}function D3(e,t,n,r,i){var s={},a=L3(e,t,n,i),o=i?"borderLeft":"borderRight";function l(d,f){for(var m=a.nodes(),g=m.pop(),p={};g;)p[g]?d(g):(p[g]=!0,m.push(g),m=m.concat(f(g))),g=m.pop()}function u(d){s[d]=a.inEdges(d).reduce(function(f,m){return Math.max(f,s[m.v]+a.edge(m))},0)}function c(d){var f=a.outEdges(d).reduce(function(g,p){return Math.min(g,s[p.w]-a.edge(p))},Number.POSITIVE_INFINITY),m=e.node(d);f!==Number.POSITIVE_INFINITY&&m.borderType!==o&&(s[d]=Math.max(s[d],f))}return l(u,a.predecessors.bind(a)),l(c,a.successors.bind(a)),G.forEach(r,function(d){s[d]=s[n[d]]}),s}function L3(e,t,n,r){var i=new T3,s=e.graph(),a=B3(s.nodesep,s.edgesep,r);return G.forEach(t,function(o){var l;G.forEach(o,function(u){var c=n[u];if(i.setNode(c),l){var d=n[l],f=i.edge(d,c);i.setEdge(d,c,Math.max(a(e,u,l),f||0))}l=u})}),i}function O3(e,t){return G.minBy(G.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return G.forIn(n,function(s,a){var o=$3(e,a)/2;r=Math.max(s+o,r),i=Math.min(s-o,i)}),r-i})}function q3(e,t){var n=G.values(t),r=G.min(n),i=G.max(n);G.forEach(["u","d"],function(s){G.forEach(["l","r"],function(a){var o=s+a,l=e[o],u;if(l!==t){var c=G.values(l);u=a==="l"?r-G.min(c):i-G.max(c),u&&(e[o]=G.mapValues(l,function(d){return d+u}))}})})}function F3(e,t){return G.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=G.sortBy(G.map(e,r));return(i[1]+i[2])/2})}function V3(e){var t=j3.buildLayerMatrix(e),n=G.merge(N3(e,t),R3(e,t)),r={},i;G.forEach(["u","d"],function(a){i=a==="u"?t:G.values(t).reverse(),G.forEach(["l","r"],function(o){o==="r"&&(i=G.map(i,function(d){return G.values(d).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),u=I3(e,i,n,l),c=D3(e,i,u.root,u.align,o==="r");o==="r"&&(c=G.mapValues(c,function(d){return-d})),r[a+o]=c})});var s=O3(e,r);return q3(r,s),F3(r,e.graph().align)}function B3(e,t,n){return function(r,i,s){var a=r.node(i),o=r.node(s),l=0,u;if(l+=a.width/2,G.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?t:e)/2,l+=(o.dummy?t:e)/2,l+=o.width/2,G.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function $3(e,t){return e.node(t).width}var is=be,Nj=ut,U3=P3.positionX,z3=G3;function G3(e){e=Nj.asNonCompoundGraph(e),H3(e),is.forEach(U3(e),function(t,n){e.node(n).x=t})}function H3(e){var t=Nj.buildLayerMatrix(e),n=e.graph().ranksep,r=0;is.forEach(t,function(i){var s=is.max(is.map(i,function(a){return e.node(a).height}));is.forEach(i,function(a){e.node(a).y=r+s/2}),r+=s+n})}var Q=be,l_=LF,u_=ZF,K3=_V,W3=ut.normalizeRanks,Y3=TV,Q3=ut.removeEmptyRanks,c_=RV,X3=OV,d_=FV,J3=k3,Z3=z3,Qn=ut,eB=Gt.Graph,tB=nB;function nB(e,t){var n=t&&t.debugTiming?Qn.time:Qn.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return hB(e)});n("  runLayout",function(){rB(r,n)}),n("  updateInputGraph",function(){iB(e,r)})})}function rB(e,t){t("    makeSpaceForEdgeLabels",function(){pB(e)}),t("    removeSelfEdges",function(){_B(e)}),t("    acyclic",function(){l_.run(e)}),t("    nestingGraph.run",function(){c_.run(e)}),t("    rank",function(){K3(Qn.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){mB(e)}),t("    removeEmptyRanks",function(){Q3(e)}),t("    nestingGraph.cleanup",function(){c_.cleanup(e)}),t("    normalizeRanks",function(){W3(e)}),t("    assignRankMinMax",function(){vB(e)}),t("    removeEdgeLabelProxies",function(){gB(e)}),t("    normalize.run",function(){u_.run(e)}),t("    parentDummyChains",function(){Y3(e)}),t("    addBorderSegments",function(){X3(e)}),t("    order",function(){J3(e)}),t("    insertSelfEdges",function(){kB(e)}),t("    adjustCoordinateSystem",function(){d_.adjust(e)}),t("    position",function(){Z3(e)}),t("    positionSelfEdges",function(){EB(e)}),t("    removeBorderNodes",function(){SB(e)}),t("    normalize.undo",function(){u_.undo(e)}),t("    fixupEdgeLabelCoords",function(){wB(e)}),t("    undoCoordinateSystem",function(){d_.undo(e)}),t("    translateGraph",function(){yB(e)}),t("    assignNodeIntersects",function(){xB(e)}),t("    reversePoints",function(){bB(e)}),t("    acyclic.undo",function(){l_.undo(e)})}function iB(e,t){Q.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),Q.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,Q.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var sB=["nodesep","edgesep","ranksep","marginx","marginy"],aB={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},oB=["acyclicer","ranker","rankdir","align"],lB=["width","height"],uB={width:0,height:0},cB=["minlen","weight","width","height","labeloffset"],dB={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},fB=["labelpos"];function hB(e){var t=new eB({multigraph:!0,compound:!0}),n=ip(e.graph());return t.setGraph(Q.merge({},aB,rp(n,sB),Q.pick(n,oB))),Q.forEach(e.nodes(),function(r){var i=ip(e.node(r));t.setNode(r,Q.defaults(rp(i,lB),uB)),t.setParent(r,e.parent(r))}),Q.forEach(e.edges(),function(r){var i=ip(e.edge(r));t.setEdge(r,Q.merge({},dB,rp(i,cB),Q.pick(i,fB)))}),t}function pB(e){var t=e.graph();t.ranksep/=2,Q.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function mB(e){Q.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-r.rank)/2+r.rank,e:t};Qn.addDummyNode(e,"edge-proxy",s,"_ep")}})}function vB(e){var t=0;Q.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Q.max(t,r.maxRank))}),e.graph().maxRank=t}function gB(e){Q.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function yB(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),a=s.marginx||0,o=s.marginy||0;function l(u){var c=u.x,d=u.y,f=u.width,m=u.height;t=Math.min(t,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,d-m/2),i=Math.max(i,d+m/2)}Q.forEach(e.nodes(),function(u){l(e.node(u))}),Q.forEach(e.edges(),function(u){var c=e.edge(u);Q.has(c,"x")&&l(c)}),t-=a,r-=o,Q.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),Q.forEach(e.edges(),function(u){var c=e.edge(u);Q.forEach(c.points,function(d){d.x-=t,d.y-=r}),Q.has(c,"x")&&(c.x-=t),Q.has(c,"y")&&(c.y-=r)}),s.width=n-t+a,s.height=i-r+o}function xB(e){Q.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),s,a;n.points?(s=n.points[0],a=n.points[n.points.length-1]):(n.points=[],s=i,a=r),n.points.unshift(Qn.intersectRect(r,s)),n.points.push(Qn.intersectRect(i,a))})}function wB(e){Q.forEach(e.edges(),function(t){var n=e.edge(t);if(Q.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function bB(e){Q.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function SB(e){Q.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),s=e.node(Q.last(n.borderLeft)),a=e.node(Q.last(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),Q.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function _B(e){Q.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function kB(e){var t=Qn.buildLayerMatrix(e);Q.forEach(t,function(n){var r=0;Q.forEach(n,function(i,s){var a=e.node(i);a.order=s+r,Q.forEach(a.selfEdges,function(o){Qn.addDummyNode(e,"selfedge",{width:o.label.width,height:o.label.height,rank:a.rank,order:s+ ++r,e:o.e,label:o.label},"_se")}),delete a.selfEdges})})}function EB(e){Q.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,s=r.y,a=n.x-i,o=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:s-o},{x:i+5*a/6,y:s-o},{x:i+a,y:s},{x:i+5*a/6,y:s+o},{x:i+2*a/3,y:s+o}],n.label.x=n.x,n.label.y=n.y}})}function rp(e,t){return Q.mapValues(Q.pick(e,t),Number)}function ip(e){var t={};return Q.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var ja=be,CB=ut,TB=Gt.Graph,jB={debugOrdering:PB};function PB(e){var t=CB.buildLayerMatrix(e),n=new TB({compound:!0,multigraph:!0}).setGraph({});return ja.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),ja.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),ja.forEach(t,function(r,i){var s="layer"+i;n.setNode(s,{rank:"same"}),ja.reduce(r,function(a,o){return n.setEdge(a,o,{style:"invis"}),o})}),n}var NB="0.8.5",RB={graphlib:Gt,layout:tB,debug:jB,util:{time:ut.time,notime:ut.notime},version:NB};const f_=w_(RB),h_=new Map;function MB(e,t){const n=e.map(i=>i.id).join("|"),r=t.map(i=>`${i.source}->${i.target}`).join("|");return`${e.length}:${t.length}:${n}:${r}`}function AB(e,t,n){if(n){const r=MB(e,t),i=h_.get(n);if(i&&i.signature===r)return i.layout;const s=p_(e,t);return h_.set(n,{signature:r,layout:s}),s}return p_(e,t)}function p_(e,t){if(e.length>2500){const r=Math.ceil(Math.sqrt(e.length));return e.map((i,s)=>{const a=Math.floor(s/r),o=s%r;return{id:i.id,position:{x:o*260,y:a*160}}})}const n=new f_.graphlib.Graph;return n.setGraph({rankdir:"LR",nodesep:48,ranksep:80}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:220,height:120})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),f_.layout(n),e.map(r=>{const i=n.node(r.id);return{id:r.id,position:{x:i.x-i.width/2,y:i.y-i.height/2}}})}function IB(e){const t=new Map;for(const r of e)r.type==="tool_call"&&r.toolCallId&&t.set(r.toolCallId,r.id);const n=[];for(const r of e)if(!(r.type!=="llm_call"||!r.io)){for(const i of r.io.emittedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_emit_${r.id}_${s}`,source:r.id,target:s,kind:"io",toolCallId:i})}for(const i of r.io.consumedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_consume_${s}_${r.id}`,source:s,target:r.id,kind:"io",toolCallId:i})}}return n}function DB(e,t,n){const{intervals:r}=Uo(e,t,n),i=new Set;return r.forEach(s=>{i.add(s.startMs),i.add(s.endMs)}),Array.from(i).sort((s,a)=>s-a)}function LB(e,t,n){if(!e.length)return null;if(n===1){for(const r of e)if(r>t+1)return r;return e[e.length-1]}for(let r=e.length-1;r>=0;r-=1){const i=e[r];if(i<t-1)return i}return e[0]}const OB=300,qB=2e3,FB=1.5;function VB(e){const t=OB*Math.pow(FB,Math.max(0,e));return Math.min(qB,Math.round(t))}const m_=220,v_=120,ym="agentDirector.presence.v1",BB=2e4,$B=5e3,UB=S.lazy(()=>hv(()=>import("./index-C55DlBar.js"),__vite__mapDeps([0,1]))),zB=S.lazy(()=>hv(()=>import("./index-OydONuxJ.js"),[])),GB=S.lazy(()=>hv(()=>import("./index-D7FYzR9_.js"),[]));function Pa(){return`scenario-${Math.random().toString(36).slice(2,9)}`}function HB(e){return e.filter(t=>t.parentStepId).map(t=>({source:t.parentStepId,target:t.id}))}function KB(e){const t=[...e].sort((n,r)=>n.index-r.index);return t.slice(1).map((n,r)=>({source:t[r].id,target:n.id}))}function WB(e){const t={},n=e.getBoundingClientRect();return e.querySelectorAll(".step-card").forEach(i=>{const s=i.dataset.stepId;if(!s)return;const a=i.getBoundingClientRect();t[s]={left:a.left-n.left,top:a.top-n.top,width:a.width,height:a.height}}),t}function YB(e,t,n){const r=[...HB(e),...KB(e),...IB(e).map(g=>({source:g.source,target:g.target}))],i=AB(e,r,n),s=t.getBoundingClientRect(),a=Math.min(...i.map(g=>g.position.x)),o=Math.min(...i.map(g=>g.position.y)),l=Math.max(...i.map(g=>g.position.x)),u=Math.max(...i.map(g=>g.position.y)),c=l-a+m_,d=u-o+v_,f=Math.max(32,(s.width-c)/2),m=Math.max(24,(s.height-d)/2);return i.reduce((g,p)=>(g[p.id]={left:p.position.x-a+f,top:p.position.y-o+m,width:m_,height:v_},g),{})}function g_(e,t,n){const r=t.trim().toLowerCase();return e.filter(i=>{var a,o,l;return n!=="all"&&i.type!==n?!1:r?[i.name,(a=i.preview)==null?void 0:a.title,(o=i.preview)==null?void 0:o.outputPreview,(l=i.preview)==null?void 0:l.inputPreview].filter(Boolean).join(" ").toLowerCase().includes(r):!0})}function QB(){const e=window.sessionStorage.getItem("agentDirector.sessionId");if(e)return e;const t=`session-${Math.random().toString(36).slice(2,10)}`;return window.sessionStorage.setItem("agentDirector.sessionId",t),t}function y_(){try{const e=window.localStorage.getItem(ym);if(!e)return{};const t=JSON.parse(e),n={};return Object.entries(t).forEach(([r,i])=>{typeof i=="number"&&(n[r]=i)}),n}catch{return{}}}function x_(e,t=Date.now()){return Object.fromEntries(Object.entries(e).filter(([,n])=>t-n<BB))}function XB(){var kg;const{trace:e,insights:t,loading:n,error:r,reload:i,traces:s,selectedTraceId:a,setSelectedTraceId:o}=DL(),[l,u]=ft("agentDirector.mode","cinema"),[c,d]=S.useState(""),f=S.useDeferredValue(c),[m,g]=S.useState("all"),[p,w]=S.useState(""),[v,y]=S.useState(null),[x,b]=S.useState(null),[_,E]=S.useState(null),[k,C]=S.useState([]),[N,A]=S.useState(""),[R,$]=S.useState(null),[J,fe]=S.useState(!1),[z,re]=S.useState(null),[ee,I]=ft("agentDirector.safeExport",!1),[D,V]=S.useState(null),[Y,H]=S.useState(!1),[Se,O]=S.useState(0),[ce,ye]=ft("agentDirector.speed",1),[Ie,St]=ft("agentDirector.windowed",!1),[nr,Rr]=S.useState(2e4),[ji,de]=S.useState(!1),[Pi,ct]=S.useState(!1),[Z,j]=ft("agentDirector.overlayEnabled",!1),[L,K]=ft("agentDirector.onboarded",!1),[,W]=ft("agentDirector.tourCompleted",!1),[he,xe]=ft("agentDirector.explainMode",!0),[_e,ae]=ft("agentDirector.heroDismissed",!1),[Ht,Ke]=ft("agentDirector.dockOpen",!1),[It,rr]=ft("agentDirector.introPersona","builder"),[dt,Mr]=ft("agentDirector.themeMode","studio"),Ni=!1,[ea,Ri]=ft("agentDirector.introDismissed",Ni),[_t,je]=S.useState(!1),[oe,ta]=S.useState(null),[na,ml]=S.useState([]),[vl,gl]=S.useState(null),[Rj,hg]=S.useState(null),[yl,xl]=S.useState(""),[Mj,Ar]=S.useState([{id:Pa(),name:"Prompt tighter",strategy:"hybrid",modificationsText:'{"prompt":"Return concise response"}'},{id:Pa(),name:"Recorded baseline",strategy:"recorded",modificationsText:"{}"}]),[ra,wl]=S.useState(null),[Ir,pg]=S.useState(null),[Aj,ia]=S.useState(!1),[Ij,Mi]=S.useState(null),[Dj,mg]=S.useState(1),[Lj,bl]=S.useState(null),Sl=S.useRef(null),vg=S.useRef(null),Oj=S.useRef(QB()),_l=S.useMemo(()=>e?g_(e.steps,f,m):[],[e,f,m]),gg=S.useMemo(()=>{if(!v)return _l;const T=new Set(v.matchedStepIds);return _l.filter(P=>T.has(P.id))},[_l,v]),qj=S.useMemo(()=>D?g_(D.steps,f,m):[],[D,f,m]),yg=S.useMemo(()=>e?DB(e.startedAt,e.endedAt,e.steps):[],[e]),Fj=S.useMemo(()=>!e||!D?null:hT(e,D),[e,D]),xg=S.useMemo(()=>e?e.steps.find(T=>T.id===z)??null:null,[e,z]);S.useEffect(()=>{y(null),b(null)},[e==null?void 0:e.id]),S.useEffect(()=>{let T=!1;if(!(e!=null&&e.id)){E(null);return}return TL(e.id).then(P=>{T||E(P)}),()=>{T=!0}},[e==null?void 0:e.id]),S.useEffect(()=>{let T=!1;return jL().then(P=>{T||(C(P),!N&&P.length>0&&A(P[0].id))}),()=>{T=!0}},[N]),S.useEffect(()=>{vg.current=D},[D]),S.useEffect(()=>(document.body.dataset.theme=dt,()=>{delete document.body.dataset.theme}),[dt]),S.useEffect(()=>{const T=Oj.current,P=(te=!1)=>{const De=Date.now(),sn=x_(y_(),De);te?delete sn[T]:sn[T]=De,window.localStorage.setItem(ym,JSON.stringify(sn)),mg(Math.max(1,Object.keys(sn).length))},F=()=>{const te=x_(y_(),Date.now());mg(Math.max(1,Object.keys(te).length))};P();const U=window.setInterval(()=>P(),$B),Pe=te=>{te.key===ym&&F()},se=()=>{document.visibilityState==="visible"&&P()},le=()=>P(!0);return window.addEventListener("storage",Pe),document.addEventListener("visibilitychange",se),window.addEventListener("beforeunload",le),()=>{window.clearInterval(U),P(!0),window.removeEventListener("storage",Pe),document.removeEventListener("visibilitychange",se),window.removeEventListener("beforeunload",le)}},[]),S.useEffect(()=>{l==="compare"&&Ke(!1)},[l,Ke]);const rn=S.useCallback(async T=>{if(!e)return;const P=await NL(e.id,T,"hybrid",{note:"UI replay"},e);P&&(V(P),j(!0),u("flow"))},[e,V,u,j]),Vj=S.useCallback(async()=>{if(!e)return;if(!p.trim()){y(null),b(null);return}const T=await CL(e.id,p.trim());if(!T){b("TraceQL query failed"),y(null);return}y(T),b(null);const P=T.matchedStepIds[0];P&&(re(P),l!=="cinema"&&u("cinema"))},[l,u,e,p]),Bj=S.useCallback(async()=>{if(!e||!N)return;fe(!0);const T=await PL(N,e.id);fe(!1),T&&$(T.result)},[N,e]),Kt=S.useCallback(()=>{if(!e)return;const T=[...e.steps].sort((P,F)=>(F.durationMs??0)-(P.durationMs??0))[0];T&&(re(T.id),u("cinema"))},[e,u]),wg=S.useCallback(()=>{if(!e||e.steps.length===0)return null;const T=[...e.steps].sort((P,F)=>(F.durationMs??0)-(P.durationMs??0))[0];return(T==null?void 0:T.id)??null},[e]),Ai=S.useCallback(()=>{if(!e)return;const T=e.steps.find(P=>P.status==="failed");T&&(re(T.id),u("cinema"))},[e,u]),$j=S.useCallback(async()=>{if(!e)return;const T=new URL(window.location.href);T.searchParams.set("trace",a??e.id),T.searchParams.set("mode",l),z?T.searchParams.set("step",z):T.searchParams.delete("step");try{await navigator.clipboard.writeText(T.toString()),bl("Live link copied")}catch{window.prompt("Copy live session link",T.toString()),bl("Live link ready")}window.setTimeout(()=>bl(null),1800)},[l,z,a,e]),Uj=S.useCallback((T,P)=>{Ar(F=>F.map(U=>U.id===T?{...U,...P}:U))},[]),zj=S.useCallback(T=>{Ar(T)},[]),Gj=S.useCallback(()=>{Ar(T=>[...T,{id:Pa(),name:`Scenario ${T.length+1}`,strategy:"hybrid",modificationsText:"{}"}])},[]),Hj=S.useCallback(T=>{Ar(P=>P.length<=1?P:P.filter(F=>F.id!==T))},[]),Kj=S.useCallback(T=>{Ar(P=>{const F=P.findIndex(le=>le.id===T);if(F===-1)return P;const U=P[F],Pe={...U,id:Pa(),name:`${U.name} copy`},se=[...P];return se.splice(F+1,0,Pe),se})},[]),Wj=S.useCallback((T,P)=>{Ar(F=>{const U=F.findIndex(te=>te.id===T);if(U===-1)return F;const Pe=P==="up"?U-1:U+1;if(Pe<0||Pe>=F.length)return F;const se=[...F],[le]=se.splice(U,1);return se.splice(Pe,0,le),se})},[]),Yj=S.useCallback(async T=>{var F;if(!e)return;const P=yl||z||((F=e.steps[0])==null?void 0:F.id);if(!P){Mi("Select an anchor step before running the matrix.");return}try{ia(!0),Mi(null);const U=await RL({traceId:e.id,stepId:P,scenarios:T});if(!U)throw new Error("Failed to create replay job.");wl(U);let Pe=U;for(let le=0;le<30&&!(Pe.status!=="queued"&&Pe.status!=="running");le+=1){const te=VB(le);await new Promise(sn=>window.setTimeout(sn,te));const De=await ML(U.id);if(!De)break;Pe=De,wl(De)}const se=await lx(U.id);if(!se)throw new Error("Replay job finished but matrix summary is unavailable.");pg(se),u("matrix")}catch(U){Mi(U instanceof Error?U.message:"Failed to run replay matrix.")}finally{ia(!1)}},[yl,z,e,u]),Qj=S.useCallback(async()=>{if(ra){ia(!0);try{const T=await AL(ra.id);if(!T){Mi("Failed to cancel replay job.");return}wl(T);const P=await lx(T.id);P&&pg(P)}finally{ia(!1)}}},[ra]),Xj=S.useCallback(async T=>{const P=await pT();if(!(P!=null&&P.trace)){Mi("Could not load replay trace for compare view.");return}V(P.trace),j(!0),u("compare")},[u,j]),qe=S.useCallback(T=>{if(!(T===l||!e)){if((T==="flow"||T==="matrix")&&H(!1),T==="flow"&&l==="cinema"&&Sl.current){const P=Sl.current,F=WB(P),U=YB(e.steps,P,e.id);hg({steps:e.steps,fromRects:F,toRects:U});return}u(T)}},[l,e,H,u]),kl=S.useCallback(()=>{l==="flow"&&qe("cinema"),H(T=>!T)},[l,qe]),Cn=S.useCallback(()=>{ta(null),ml([]),gl(null),H(!1)},[H]),bg=S.useCallback(T=>[{id:"setup",label:"Opening the reel",duration:1100,action:()=>{xe(!0),H(!1),O(0),re(null),j(!1),ye(1),e&&e.steps.length<500&&St(!1),qe("cinema")}},{id:"pace",label:"Pacing the timeline",duration:2200,action:()=>{qe("cinema"),H(!0),ye(1.1)}},{id:"bottleneck",label:"Freeze on the bottleneck",duration:1600,action:()=>{H(!1),Kt()}},{id:"inspect",label:"Inspect the moment",duration:1600,action:()=>{T&&re(T)}},{id:"flow",label:"Morph into flow",duration:2100,action:()=>{qe("flow")}},{id:"replay",label:"Directors Cut replay",duration:2200,action:async()=>{if(!e)return;!vg.current&&T&&await rn(T),j(!0),u("compare")}},{id:"compare",label:"Compare the cut",duration:2e3,action:()=>{H(!0),ye(1)}},{id:"finale",label:"Final frame",duration:1100,action:()=>{H(!1)}}],[qe,rn,Kt,xe,H,u,j,O,re,ye,St,e]),Dr=S.useCallback(()=>{var P;if(!e)return;const T=z??wg()??((P=e.steps[0])==null?void 0:P.id)??null;ml(bg(T)),ta({active:!0,step:0}),gl(e.id),je(!1),de(!1),ct(!1)},[bg,wg,z,e,ct,de,ml,ta,gl,je]),Ii=S.useCallback(()=>{if(oe!=null&&oe.active){Cn();return}Dr()},[Dr,Cn,oe==null?void 0:oe.active]),Jj=S.useMemo(()=>{const P=[{id:"header",title:"Mission control",body:`Confirm run status and metadata. ${{builder:"Focus on payload flow, tool-call sequencing, and replay-ready steps.",executive:"Focus on bottlenecks, risk signals, and run-level outcome changes.",operator:"Focus on failure patterns, retries, and runtime reliability posture."}[It]}`,target:'[data-tour="header"]',placement:"bottom"}];return _e||P.push({id:"hero",title:"Director briefing",body:"Choose Tour, Story mode, or Explain to ramp up quickly.",target:'[data-tour="hero"]',placement:"bottom"}),P.push({id:"insights",title:"Fast diagnosis",body:It==="executive"?"Jump straight to bottlenecks and high-cost segments for fast executive readouts.":It==="operator"?"Jump to failures and retries first, then inspect impacted steps.":"Jump straight to bottlenecks, errors, and high-cost steps with one click.",target:'[data-tour="insights"]',placement:"bottom"},{id:"journey",title:"Director journey",body:"A narrative path that teaches how to watch, inspect, and direct a better run.",target:'[data-tour="journey"]',placement:"bottom"},{id:"toolbar",title:"Filters + modes",body:"Search, filter, and switch between Cinema, Flow, and Compare as the story evolves.",target:'[data-tour="toolbar"]',placement:"bottom"},{id:"quick-actions",title:"Quick actions",body:"Launch Story Mode, open the command palette, or jump to bottlenecks instantly.",target:'[data-tour="quick-actions"]',placement:"left"},{id:"stage",title:"Cinema stage",body:"The timeline shows every step as a scene. Scrub to see pacing and concurrency.",target:'[data-tour="stage"]',placement:"top"},{id:"inspector",title:"Inspector",body:It==="executive"?"Open key moments to validate outcome impact and communication-ready summaries.":"Open any step to read payloads, apply redaction, and replay from that moment.",target:'[data-tour="inspector"]',placement:"left"},{id:"compare",title:"Compare runs",body:D?"Compare is live. Review deltas in cost, steps, and wall time side by side.":"Replay from a step to unlock compare mode and validate improvements.",target:'[data-tour="compare"]',placement:"top"}),P},[D,_e,It]),Zj=S.useCallback(()=>{hg(null),u("flow")},[u]),eP=S.useMemo(()=>{var U,Pe,se,le;if(!e)return[];const T=[],P=[...e.steps].sort((te,De)=>(De.durationMs??0)-(te.durationMs??0))[0],F=e.steps.find(te=>te.status==="failed");if(F&&z!==F.id&&T.push({id:"jump-error",title:"Investigate first failure",body:`${F.name} failed and should be inspected before optimization work.`,actionLabel:"Open failed step",tone:"warning",action:Ai}),P&&z!==P.id&&T.push({id:"jump-bottleneck",title:"Tackle latency bottleneck",body:`${P.name} is the slowest scene in this run and the best optimization target.`,actionLabel:"Open bottleneck",tone:"priority",action:Kt}),(U=_==null?void 0:_.hypotheses)!=null&&U[0]){const te=_.hypotheses[0];T.push({id:"investigate-hypothesis",title:te.title,body:te.summary,actionLabel:"Inspect evidence",tone:"info",action:()=>{const De=te.evidenceStepIds[0];De&&(re(De),l!=="cinema"&&u("cinema"))}})}if(l!=="matrix"&&T.push({id:"matrix-experiment",title:"Run scenario matrix",body:"Compare prompt and strategy alternatives from one anchor step to rank causal impact.",actionLabel:"Open matrix",tone:"info",action:()=>{var te;xl(z??((te=e.steps[0])==null?void 0:te.id)??""),u("matrix")}}),!D&&(z||(Pe=e.steps[0])!=null&&Pe.id)){const te=z??((se=e.steps[0])==null?void 0:se.id)??null;te&&T.push({id:"run-replay",title:"Create director replay",body:"Branch a replay trace and validate whether your change improves the run.",actionLabel:"Replay from step",tone:"info",action:()=>{rn(te)}})}if((le=Ir==null?void 0:Ir.causalRanking)!=null&&le.length){const te=Ir.causalRanking[0];T.push({id:"causal-factor",title:`Top causal factor: ${te.factor}`,body:`Confidence ${(te.confidence*100).toFixed(0)}% across ${te.evidence.samples} sample(s).`,actionLabel:"View matrix",tone:"priority",action:()=>u("matrix")})}return T.slice(0,4)},[D,rn,_,Kt,Ai,l,Ir,z,e,u]);S.useEffect(()=>{var F;if(!e)return;EL(),O(0),H(!1);const T=Math.min(Math.max((e.metadata.wallTimeMs||1)*.2,5e3),6e4);Rr(T),e.steps.length>500&&St(!0),D||j(!1),l==="compare"&&!D&&u("cinema");const P=z&&e.steps.some(U=>U.id===z)?z:((F=e.steps[0])==null?void 0:F.id)??"";xl(U=>U&&e.steps.some(Pe=>Pe.id===U)?U:P)},[e,D,l,z,u,St,j]),S.useEffect(()=>(document.body.classList.toggle("explain-mode",he),()=>{document.body.classList.remove("explain-mode")}),[he]),S.useEffect(()=>(document.body.classList.toggle("story-mode",!!(oe!=null&&oe.active)),()=>{document.body.classList.remove("story-mode")}),[oe==null?void 0:oe.active]),S.useEffect(()=>{if(!(oe!=null&&oe.active))return;const T=na[oe.step];if(!T){Cn();return}Promise.resolve(T.action());const P=window.setTimeout(()=>{ta(F=>F&&F.active?{...F,step:F.step+1}:F)},T.duration);return()=>window.clearTimeout(P)},[na,Cn,oe]),S.useEffect(()=>{oe!=null&&oe.active&&(!e||!vl||e.id!==vl&&Cn())},[oe==null?void 0:oe.active,e,vl,Cn]),S.useEffect(()=>{if(!e)return;const P=Date.parse(e.startedAt)+Se;let F=0,U=Number.POSITIVE_INFINITY;e.steps.forEach((se,le)=>{const te=Date.parse(se.startedAt),De=Date.parse(se.endedAt??se.startedAt);if(P>=te&&P<=De){F=le,U=0;return}const sn=Math.min(Math.abs(P-te),Math.abs(P-De));sn<U&&(U=sn,F=le)}),[F,F-1,F+1].filter(se=>se>=0&&se<e.steps.length).forEach(se=>{const le=e.steps[se];le&&_L(e.id,le.id,ee)})},[e,Se,ee]),S.useEffect(()=>{if(!e||!Y||l!=="cinema"&&l!=="compare")return;const T=(D==null?void 0:D.metadata.wallTimeMs)??0,P=l==="compare"?Math.max(e.metadata.wallTimeMs||1,T||1):e.metadata.wallTimeMs||1;let F=0,U=performance.now();const Pe=se=>{const le=(se-U)*ce;U=se,O(te=>{const De=te+le;return De>=P?(H(!1),P):De}),F=requestAnimationFrame(Pe)};return F=requestAnimationFrame(Pe),()=>cancelAnimationFrame(F)},[e,D,Y,ce,l]),S.useEffect(()=>{const T=P=>{var se;const F=P.target,U=(se=F==null?void 0:F.tagName)==null?void 0:se.toLowerCase();if(!(U==="input"||U==="textarea"||U==="select"||F!=null&&F.isContentEditable)){if((P.metaKey||P.ctrlKey)&&P.key.toLowerCase()==="k"){P.preventDefault(),ct(le=>!le);return}if(P.key==="?"||P.key==="/"&&P.shiftKey){P.preventDefault(),de(!0);return}if(P.key.toLowerCase()==="s"){P.preventDefault(),Ii();return}if(P.key.toLowerCase()==="e"){P.preventDefault(),xe(le=>!le);return}if(P.key.toLowerCase()==="t"){P.preventDefault(),je(!0);return}if(P.key==="Escape"){if(_t){je(!1),W(!0);return}de(!1),ct(!1),re(null);return}if(P.key===" "){P.preventDefault(),(l==="cinema"||l==="compare")&&H(le=>!le);return}if(P.key.toLowerCase()==="f"){P.preventDefault(),l==="flow"?u("cinema"):l==="cinema"&&qe("flow");return}if(P.key.toLowerCase()==="c"){P.preventDefault(),l!=="cinema"&&u("cinema");return}if(P.key.toLowerCase()==="i"){P.preventDefault(),z?re(null):e!=null&&e.steps.length&&re(e.steps[0].id);return}if(P.key==="ArrowLeft"||P.key==="ArrowRight"){if(P.preventDefault(),!e)return;const le=e.metadata.wallTimeMs||1;if(P.shiftKey){O(P.key==="ArrowLeft"?0:le),H(!1),u("cinema");return}const te=P.key==="ArrowRight"?1:-1,De=LB(yg,Se,te);De!=null&&(O(De),H(!1),u("cinema"))}}};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[l,z,e,Se,yg,qe,u,xe,ct,je,W,_t,Ii]);const Sg=S.useMemo(()=>{if(!e||!Ie||c)return null;const T=e.metadata.wallTimeMs||1,P=Math.min(Math.max(nr,5e3),T);let F=Math.max(0,Se-P/2);const U=Math.min(T,F+P);return U-F<P&&(F=Math.max(0,U-P)),{startMs:F,endMs:U}},[e,Ie,Se,c,nr]),Lr=!!(oe!=null&&oe.active),_g=(oe==null?void 0:oe.step)??0,tP=((kg=na[_g])==null?void 0:kg.label)??"Wrapping up",nP=na.length,rP=c!==f,iP=S.useMemo(()=>[{id:"story-toggle",label:Lr?"Stop story mode":"Start story mode",description:"Auto-runs a cinematic walkthrough.",group:"Story",keys:"S",onTrigger:Ii},{id:"tour-start",label:"Start guided tour",description:"Walk the interface step by step.",group:"Onboarding",keys:"T",onTrigger:()=>je(!0)},{id:"explain-toggle",label:he?"Disable explain mode":"Enable explain mode",description:"Toggle contextual overlays.",group:"Onboarding",keys:"E",onTrigger:()=>xe(T=>!T)},{id:"shortcuts",label:"Show shortcuts",description:"Open the keyboard map.",group:"Onboarding",keys:"?",onTrigger:()=>de(!0)},{id:"playback-toggle",label:Y?"Pause playback":"Play playback",description:"Start or stop the run.",group:"Playback",keys:"Space",onTrigger:kl},{id:"mode-cinema",label:"Switch to Cinema",description:"Timeline playback view.",group:"Modes",keys:"C",onTrigger:()=>qe("cinema")},{id:"mode-flow",label:"Switch to Flow",description:"Graph dependency view.",group:"Modes",keys:"F",onTrigger:()=>qe("flow")},{id:"mode-compare",label:"Open Compare",description:"Side-by-side diff view.",group:"Modes",onTrigger:()=>qe("compare"),disabled:!D},{id:"mode-matrix",label:"Open Matrix",description:"Counterfactual replay matrix view.",group:"Modes",onTrigger:()=>qe("matrix")},{id:"jump-bottleneck",label:"Jump to bottleneck",description:"Select the slowest step.",group:"Navigation",onTrigger:Kt},{id:"jump-error",label:"Jump to error",description:"Select the first failed step.",group:"Navigation",onTrigger:Ai},{id:"replay-step",label:"Replay from selected step",description:"Branch a Directors Cut.",group:"Tools",onTrigger:()=>z&&rn(z),disabled:!z},{id:"overlay-toggle",label:Z?"Hide overlay":"Show overlay",description:"Ghost diff in Cinema/Flow.",group:"Tools",onTrigger:()=>j(T=>!T),disabled:!D},{id:"safe-export",label:ee?"Disable safe export":"Enable safe export",description:"Redact sensitive payloads.",group:"Safety",onTrigger:()=>I(T=>!T)},{id:"reload",label:"Reload traces",description:"Refresh trace data.",group:"Meta",onTrigger:i}],[Lr,Ii,he,Y,kl,qe,D,Kt,Ai,z,rn,Z,ee,i,xe,j,I,de,je]);return n?h.jsx("div",{className:"loading",children:"Loading trace..."}):!r&&!e&&s.length===0?h.jsxs("div",{className:"error",children:[h.jsx("h2",{children:"No traces yet"}),h.jsx("p",{children:"Ingest your first trace, then reload to begin the Observe  Inspect  Direct workflow."}),h.jsxs("div",{className:"error-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Retry"}),h.jsx("a",{className:"ghost-button",href:"/help.html",target:"_blank",rel:"noreferrer",children:"Open help"})]})]}):r||!e?h.jsxs("div",{className:"error",children:[h.jsx("p",{children:r??"Failed to load trace."}),h.jsxs("div",{className:"error-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Retry"}),h.jsx("a",{className:"ghost-button",href:"/help.html",target:"_blank",rel:"noreferrer",children:"Open help"})]})]}):h.jsxs("div",{className:`app theme-${dt} ${he?"explain-mode":""} ${l==="compare"?"mode-compare":""} ${l==="matrix"?"mode-matrix":""}`,children:[h.jsx(DR,{trace:e,traces:s,selectedTraceId:a,onSelectTrace:o,onReload:i,onStartTour:()=>je(!0),onToggleStory:Ii,onOpenPalette:()=>ct(!0),onToggleExplain:()=>xe(T=>!T),onShareSession:$j,onThemeChange:Mr,themeMode:dt,activeSessions:Dj,shareStatus:Lj,explainMode:he,storyActive:Lr}),!ea&&!Ni?h.jsx(xM,{onComplete:()=>Ri(!0),onStartTour:()=>{Ri(!0),je(!0)},onStartStory:Dr,persona:It,onPersonaChange:rr}):null,ea&&!_e?h.jsx(wM,{explainMode:he,storyActive:Lr,onStartTour:()=>{ae(!0),je(!0)},onStartStory:()=>{ae(!0),Dr()},onToggleExplain:()=>xe(T=>!T),onDismiss:()=>ae(!0)}):null,h.jsx(vM,{steps:Jj,open:_t,onClose:()=>{je(!1),W(!0)},onComplete:()=>{je(!1),W(!0)}}),h.jsx(gM,{enabled:he}),h.jsx(SM,{active:Lr,label:tP,step:_g,total:nP,onStop:Cn,onRestart:Dr}),h.jsx(LR,{insights:t,investigation:_,onSelectStep:T=>{re(T),l!=="cinema"&&u("cinema")},onJumpToError:Ai,onJumpToBottleneck:Kt}),h.jsx(hM,{trace:e,mode:l==="matrix"?"cinema":l,playheadMs:Se,selectedStepId:z,compareTrace:D,collapsed:L,onToggleCollapsed:()=>K(T=>!T),onModeChange:qe,onSelectStep:T=>{re(T),l!=="cinema"&&u("cinema")},onJumpToBottleneck:Kt,onReplay:rn,onStartTour:()=>je(!0)}),h.jsxs("div",{className:"toolbar","data-help":!0,"data-help-indicator":!0,"data-tour":"toolbar","data-help-title":"Search + filters","data-help-body":"Filter by step type, enable Safe export, and jump between Cinema, Flow, Compare, and Matrix.","data-help-placement":"bottom",children:[h.jsx(qR,{query:c,typeFilter:m,onQueryChange:d,onTypeFilterChange:g}),h.jsxs("div",{className:"toolbar-actions",children:[h.jsx("input",{className:"search-input",value:p,onChange:T=>w(T.target.value),placeholder:"TraceQL (example: type=tool_call and duration_ms>800)","aria-label":"TraceQL query"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>void Vj(),children:"Run TraceQL"}),v?h.jsxs("span",{className:"status-badge",children:[v.matchCount," match(es)"]}):null,rP?h.jsx("span",{className:"status-badge",children:"Filtering..."}):null,v?h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{w(""),y(null),b(null)},children:"Clear TraceQL"}):null,x?h.jsx("span",{className:"status-badge warn",children:x}):null,h.jsxs("select",{className:"search-select",value:N,onChange:T=>A(T.target.value),"aria-label":"Extension selector",children:[h.jsx("option",{value:"",children:"Select extension"}),k.map(T=>h.jsx("option",{value:T.id,children:T.name},T.id))]}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>void Bj(),disabled:!e||!N||J,children:J?"Running extension...":"Run extension"}),h.jsx("button",{className:`ghost-button ${l==="cinema"?"active":""}`,type:"button","aria-pressed":l==="cinema",title:"Timeline playback",onClick:()=>qe("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view with step cards ordered by time.","data-help-placement":"bottom",children:"Cinema"}),h.jsx("button",{className:`ghost-button ${l==="flow"?"active":""}`,type:"button","aria-pressed":l==="flow",title:"Graph view",onClick:()=>qe("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Dependency graph of steps and tool calls.","data-help-placement":"bottom",children:"Flow"}),h.jsx("button",{className:`ghost-button ${l==="compare"?"active":""}`,type:"button","aria-pressed":l==="compare",title:D?"Side-by-side compare":"Run a replay to enable compare",onClick:()=>qe("compare"),disabled:!D,"data-tour":"compare","data-help":!0,"data-help-title":"Compare mode","data-help-body":"Side-by-side view after a replay. Enabled once you replay.","data-help-placement":"bottom",children:"Compare"}),h.jsx("button",{className:`ghost-button ${l==="matrix"?"active":""}`,type:"button","aria-pressed":l==="matrix",title:"Counterfactual replay matrix",onClick:()=>qe("matrix"),"data-help":!0,"data-help-title":"Matrix mode","data-help-body":"Run multiple replay scenarios and rank likely causal factors.","data-help-placement":"bottom",children:"Matrix"}),h.jsxs("label",{className:"toggle",title:"Redact payloads and disable raw views for safe sharing","data-help":!0,"data-help-title":"Safe export","data-help-body":"Redacts secrets and disables raw payload views for safe sharing.","data-help-placement":"bottom",children:[h.jsx("input",{type:"checkbox",checked:ee,onChange:()=>I(T=>!T)}),"Safe export"]}),e.steps.length>200||Ie?h.jsxs("label",{className:"toggle",title:"Window steps around the playhead for large traces","data-help":!0,"data-help-title":"Windowed mode","data-help-body":"Limits rendering to a playhead window for large traces.","data-help-placement":"bottom",children:[h.jsx("input",{type:"checkbox",checked:Ie,onChange:()=>St(T=>!T)}),"Windowed"]}):null,D?h.jsxs("label",{className:"toggle",title:"Show ghost overlay of replay in Cinema/Flow","data-help":!0,"data-help-title":"Overlay replay","data-help-body":"Layer the replay over the base run to spot differences.","data-help-placement":"bottom",children:[h.jsx("input",{type:"checkbox",checked:Z,onChange:()=>j(T=>!T)}),"Overlay"]}):null]})]}),R?h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Extension output"}),h.jsx("pre",{className:"inspector-json",children:JSON.stringify(R,null,2)})]}):null,l==="cinema"?h.jsxs("div",{className:"playback-stack","data-tour":"playback",children:[h.jsx("div",{"data-help":!0,"data-help-title":"Playback controls","data-help-body":"Play, pause, scrub, and adjust speed to feel the rhythm of the run.","data-help-placement":"bottom",children:h.jsx(Ly,{playheadMs:Se,wallTimeMs:e.metadata.wallTimeMs||1,isPlaying:Y,speed:ce,onToggle:()=>H(T=>!T),onScrub:T=>O(T),onSpeedChange:ye})}),h.jsx("div",{"data-help":!0,"data-help-title":"Density map","data-help-body":"Zoom into hotspots and keep long traces readable with windowing.","data-help-placement":"bottom",children:h.jsx(aM,{traceStart:e.startedAt,traceEnd:e.endedAt,steps:e.steps,playheadMs:Se,windowRange:Sg,windowed:Ie,spanMs:nr,onSpanChange:Rr,onToggleWindowed:St,onScrub:T=>O(T),persistenceKey:e.id})})]}):null,l==="compare"&&D?h.jsx("div",{"data-help":!0,"data-help-title":"Compare playback","data-help-body":"Sync both runs to evaluate improvements at identical timestamps.","data-help-placement":"bottom",children:h.jsx(Ly,{playheadMs:Se,wallTimeMs:Math.max(e.metadata.wallTimeMs||1,D.metadata.wallTimeMs||1),isPlaying:Y,speed:ce,onToggle:()=>H(T=>!T),onScrub:T=>O(T),onSpeedChange:ye})}):null,h.jsxs("main",{className:`stage ${l==="compare"?"stage-compare":""}`,role:"main",children:[h.jsx("div",{className:"main",ref:Sl,"data-help":!0,"data-help-indicator":!0,"data-tour":"stage","data-help-title":"Trace stage","data-help-body":"Every step becomes a scene. Hover or click to open deep inspection.","data-help-placement":"top",children:h.jsx(sL,{morph:Rj,onComplete:Zj,children:h.jsxs(S.Suspense,{fallback:h.jsx("div",{className:"loading",children:"Loading view..."}),children:[l==="cinema"?h.jsx(eM,{trace:e,steps:gg,selectedStepId:z,onSelectStep:T=>re(T),playheadMs:Se,windowRange:Sg,timing:t==null?void 0:t.timing,ghostTrace:Z?D:null,diff:Fj}):null,l==="flow"?h.jsx(UB,{steps:gg,selectedStepId:z,onSelectStep:T=>re(T),baseTrace:e,compareTrace:D,compareSteps:qj,overlayEnabled:Z,onToggleOverlay:()=>j(T=>!T)}):null,l==="compare"&&D?h.jsx(zB,{baseTrace:e,compareTrace:D,playheadMs:Se,safeExport:ee,onExit:()=>{u("cinema"),V(null)}}):null,l==="matrix"?h.jsx(RM,{steps:e.steps,anchorStepId:yl,onAnchorStepChange:xl,scenarios:Mj,onScenarioChange:Uj,onDuplicateScenario:Kj,onMoveScenario:Wj,onAddScenario:Gj,onRemoveScenario:Hj,onRun:Yj,onCancel:Qj,onReplaceScenarios:zj,loading:Aj,error:Ij,job:ra,matrix:Ir,safeExport:ee,onOpenCompare:Xj}):null]})})}),h.jsx(S.Suspense,{fallback:h.jsx("div",{className:"loading",children:"Loading panel..."}),children:l==="compare"||l==="matrix"?null:xg?h.jsx(GB,{traceId:e.id,step:xg,safeExport:ee,onClose:()=>re(null),onReplay:rn}):h.jsx(mM,{trace:e,mode:l,selectedStepId:z,onModeChange:qe,onSelectStep:T=>re(T),onJumpToBottleneck:Kt,onReplay:rn,recommendations:eP,persona:It})})]}),h.jsx(bM,{mode:l==="matrix"?"cinema":l,isPlaying:Y,storyActive:Lr,explainMode:he,hidden:l==="compare",open:Ht,onToggleOpen:()=>Ke(T=>!T),onTogglePlay:kl,onStartStory:Dr,onStopStory:Cn,onStartTour:()=>je(!0),onOpenPalette:()=>ct(!0),onShowShortcuts:()=>de(!0),onToggleExplain:()=>xe(T=>!T),onJumpToBottleneck:Kt}),h.jsx(dM,{open:Pi,onClose:()=>ct(!1),actions:iP}),h.jsx(lM,{open:ji,onClose:()=>de(!1)})]})}sp.createRoot(document.getElementById("root")).render(h.jsx(wP.StrictMode,{children:h.jsx(XB,{})}));export{wP as R,WR as S,JR as T,AB as a,IB as b,Jp as c,hT as d,e$ as e,ZB as f,w_ as g,SL as h,h as j,S as r,VR as s};
