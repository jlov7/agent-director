(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fk={exports:{}},Ql={},hk={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),d2=Symbol.for("react.portal"),f2=Symbol.for("react.fragment"),h2=Symbol.for("react.strict_mode"),p2=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),g2=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),v2=Symbol.for("react.suspense"),w2=Symbol.for("react.memo"),x2=Symbol.for("react.lazy"),D0=Symbol.iterator;function _2(e){return e===null||typeof e!="object"?null:(e=D0&&e[D0]||e["@@iterator"],typeof e=="function"?e:null)}var pk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mk=Object.assign,gk={};function cs(e,t,n){this.props=e,this.context=t,this.refs=gk,this.updater=n||pk}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yk(){}yk.prototype=cs.prototype;function _y(e,t,n){this.props=e,this.context=t,this.refs=gk,this.updater=n||pk}var by=_y.prototype=new yk;by.constructor=_y;mk(by,cs.prototype);by.isPureReactComponent=!0;var L0=Array.isArray,vk=Object.prototype.hasOwnProperty,Sy={current:null},wk={key:!0,ref:!0,__self:!0,__source:!0};function xk(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)vk.call(t,r)&&!wk.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zo,type:e,key:s,ref:o,props:i,_owner:Sy.current}}function b2(e,t){return{$$typeof:zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ey(e){return typeof e=="object"&&e!==null&&e.$$typeof===zo}function S2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var O0=/\/+/g;function Zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?S2(""+e.key):t.toString(36)}function Va(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zo:case d2:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Zu(o,0):r,L0(i)?(n="",e!=null&&(n=e.replace(O0,"$&/")+"/"),Va(i,t,n,"",function(u){return u})):i!=null&&(Ey(i)&&(i=b2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(O0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",L0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Zu(s,a);o+=Va(s,t,n,l,i)}else if(l=_2(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Zu(s,a++),o+=Va(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ca(e,t,n){if(e==null)return e;var r=[],i=0;return Va(e,r,"","",function(s){return t.call(n,s,i++)}),r}function E2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},Ba={transition:null},C2={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Ba,ReactCurrentOwner:Sy};function _k(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:ca,forEach:function(e,t,n){ca(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ca(e,function(){t++}),t},toArray:function(e){return ca(e,function(t){return t})||[]},only:function(e){if(!Ey(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=cs;ae.Fragment=f2;ae.Profiler=p2;ae.PureComponent=_y;ae.StrictMode=h2;ae.Suspense=v2;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;ae.act=_k;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mk({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)vk.call(t,l)&&!wk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zo,type:e.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:g2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m2,_context:e},e.Consumer=e};ae.createElement=xk;ae.createFactory=function(e){var t=xk.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:y2,render:e}};ae.isValidElement=Ey;ae.lazy=function(e){return{$$typeof:x2,_payload:{_status:-1,_result:e},_init:E2}};ae.memo=function(e,t){return{$$typeof:w2,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Ba.transition;Ba.transition={};try{e()}finally{Ba.transition=t}};ae.unstable_act=_k;ae.useCallback=function(e,t){return gt.current.useCallback(e,t)};ae.useContext=function(e){return gt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return gt.current.useEffect(e,t)};ae.useId=function(){return gt.current.useId()};ae.useImperativeHandle=function(e,t,n){return gt.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return gt.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return gt.current.useReducer(e,t,n)};ae.useRef=function(e){return gt.current.useRef(e)};ae.useState=function(e){return gt.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return gt.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return gt.current.useTransition()};ae.version="18.3.1";hk.exports=ae;var S=hk.exports;const q=xy(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2=S,T2=Symbol.for("react.element"),N2=Symbol.for("react.fragment"),M2=Object.prototype.hasOwnProperty,P2=k2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A2={key:!0,ref:!0,__self:!0,__source:!0};function bk(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)M2.call(t,r)&&!A2.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:T2,type:e,key:s,ref:o,props:i,_owner:P2.current}}Ql.Fragment=N2;Ql.jsx=bk;Ql.jsxs=bk;fk.exports=Ql;var w=fk.exports,Um={},Sk={exports:{}},Ot={},Ek={exports:{}},Ck={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,N){var j=P.length;P.push(N);e:for(;0<j;){var F=j-1>>>1,$=P[F];if(0<i($,N))P[F]=N,P[j]=$,j=F;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var N=P[0],j=P.pop();if(j!==N){P[0]=j;e:for(var F=0,$=P.length,O=$>>>1;F<O;){var z=2*(F+1)-1,W=P[z],Q=z+1,te=P[Q];if(0>i(W,j))Q<$&&0>i(te,W)?(P[F]=te,P[Q]=j,F=Q):(P[F]=W,P[z]=j,F=z);else if(Q<$&&0>i(te,j))P[F]=te,P[Q]=j,F=Q;else break e}}return N}function i(P,N){var j=P.sortIndex-N.sortIndex;return j!==0?j:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=P)r(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function _(P){if(p=!1,x(P),!g)if(n(l)!==null)g=!0,R(b);else{var N=n(u);N!==null&&L(_,N.startTime-P)}}function b(P,N){g=!1,p&&(p=!1,m(T),T=-1),h=!0;var j=f;try{for(x(N),d=n(l);d!==null&&(!(d.expirationTime>N)||P&&!I());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var $=F(d.expirationTime<=N);N=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(l)&&r(l),x(N)}else r(l);d=n(l)}if(d!==null)var O=!0;else{var z=n(u);z!==null&&L(_,z.startTime-N),O=!1}return O}finally{d=null,f=j,h=!1}}var C=!1,k=null,T=-1,M=5,A=-1;function I(){return!(e.unstable_now()-A<M)}function B(){if(k!==null){var P=e.unstable_now();A=P;var N=!0;try{N=k(!0,P)}finally{N?V():(C=!1,k=null)}}else C=!1}var V;if(typeof y=="function")V=function(){y(B)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,D=E.port2;E.port1.onmessage=B,V=function(){D.postMessage(null)}}else V=function(){v(B,0)};function R(P){k=P,C||(C=!0,V())}function L(P,N){T=v(function(){P(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,R(b))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var j=f;f=N;try{return P()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=f;f=P;try{return N()}finally{f=j}},e.unstable_scheduleCallback=function(P,N,j){var F=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=j+$,P={id:c++,callback:N,priorityLevel:P,startTime:j,expirationTime:$,sortIndex:-1},j>F?(P.sortIndex=j,t(u,P),n(l)===null&&P===n(u)&&(p?(m(T),T=-1):p=!0,L(_,j-F))):(P.sortIndex=$,t(l,P),g||h||(g=!0,R(b))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var N=f;return function(){var j=f;f=N;try{return P.apply(this,arguments)}finally{f=j}}}})(Ck);Ek.exports=Ck;var R2=Ek.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2=S,jt=R2;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kk=new Set,ho={};function ui(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(ho[e]=t,e=0;e<t.length;e++)kk.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hm=Object.prototype.hasOwnProperty,j2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q0={},F0={};function D2(e){return Hm.call(F0,e)?!0:Hm.call(q0,e)?!1:j2.test(e)?F0[e]=!0:(q0[e]=!0,!1)}function L2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O2(e,t,n,r){if(t===null||typeof t>"u"||L2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cy=/[\-:]([a-z])/g;function ky(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cy,ky);nt[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cy,ky);nt[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cy,ky);nt[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ty(e,t,n,r){var i=nt.hasOwnProperty(t)?nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O2(t,n,i,r)&&(n=null),r||i===null?D2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jn=I2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),Si=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),Tk=Symbol.for("react.provider"),Nk=Symbol.for("react.context"),My=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Km=Symbol.for("react.suspense_list"),Py=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Mk=Symbol.for("react.offscreen"),$0=Symbol.iterator;function bs(e){return e===null||typeof e!="object"?null:(e=$0&&e[$0]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Qu;function Os(e){if(Qu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qu=t&&t[1]||""}return`
`+Qu+e}var Ju=!1;function ec(e,t){if(!e||Ju)return"";Ju=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ju=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Os(e):""}function q2(e){switch(e.tag){case 5:return Os(e.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return e=ec(e.type,!1),e;case 11:return e=ec(e.type.render,!1),e;case 1:return e=ec(e.type,!0),e;default:return""}}function Ym(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case Si:return"Portal";case Gm:return"Profiler";case Ny:return"StrictMode";case Wm:return"Suspense";case Km:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nk:return(e.displayName||"Context")+".Consumer";case Tk:return(e._context.displayName||"Context")+".Provider";case My:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Py:return t=e.displayName||null,t!==null?t:Ym(e.type)||"Memo";case ar:t=e._payload,e=e._init;try{return Ym(e(t))}catch{}}return null}function F2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ym(t);case 8:return t===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $2(e){var t=Pk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fa(e){e._valueTracker||(e._valueTracker=$2(e))}function Ak(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xm(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function V0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rk(e,t){t=t.checked,t!=null&&Ty(e,"checked",t,!1)}function Zm(e,t){Rk(e,t);var n=Tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qm(e,t.type,Tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function B0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qm(e,t,n){(t!=="number"||al(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qs=Array.isArray;function Vi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function z0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(qs(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tr(n)}}function Ik(e,t){var n=Tr(t.value),r=Tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function U0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ha,Dk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ha.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function po(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V2=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){V2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function Lk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function Ok(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var B2=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tg(e,t){if(t){if(B2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function ng(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=null;function Ay(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ig=null,Bi=null,zi=null;function H0(e){if(e=Go(e)){if(typeof ig!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ru(t),ig(e.stateNode,e.type,t))}}function qk(e){Bi?zi?zi.push(e):zi=[e]:Bi=e}function Fk(){if(Bi){var e=Bi,t=zi;if(zi=Bi=null,H0(e),t)for(e=0;e<t.length;e++)H0(t[e])}}function $k(e,t){return e(t)}function Vk(){}var tc=!1;function Bk(e,t,n){if(tc)return e(t,n);tc=!0;try{return $k(e,t,n)}finally{tc=!1,(Bi!==null||zi!==null)&&(Vk(),Fk())}}function mo(e,t){var n=e.stateNode;if(n===null)return null;var r=ru(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var sg=!1;if(Hn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){sg=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{sg=!1}function z2(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var eo=!1,ll=null,ul=!1,og=null,U2={onError:function(e){eo=!0,ll=e}};function H2(e,t,n,r,i,s,o,a,l){eo=!1,ll=null,z2.apply(U2,arguments)}function G2(e,t,n,r,i,s,o,a,l){if(H2.apply(this,arguments),eo){if(eo){var u=ll;eo=!1,ll=null}else throw Error(U(198));ul||(ul=!0,og=u)}}function ci(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function G0(e){if(ci(e)!==e)throw Error(U(188))}function W2(e){var t=e.alternate;if(!t){if(t=ci(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return G0(i),e;if(s===r)return G0(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Uk(e){return e=W2(e),e!==null?Hk(e):null}function Hk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hk(e);if(t!==null)return t;e=e.sibling}return null}var Gk=jt.unstable_scheduleCallback,W0=jt.unstable_cancelCallback,K2=jt.unstable_shouldYield,Y2=jt.unstable_requestPaint,Le=jt.unstable_now,X2=jt.unstable_getCurrentPriorityLevel,Ry=jt.unstable_ImmediatePriority,Wk=jt.unstable_UserBlockingPriority,cl=jt.unstable_NormalPriority,Z2=jt.unstable_LowPriority,Kk=jt.unstable_IdlePriority,Jl=null,Sn=null;function Q2(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Jl,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:tI,J2=Math.log,eI=Math.LN2;function tI(e){return e>>>=0,e===0?32:31-(J2(e)/eI|0)|0}var pa=64,ma=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fs(a):(s&=o,s!==0&&(r=Fs(s)))}else o=n&~i,o!==0?r=Fs(o):s!==0&&(r=Fs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dn(t),i=1<<n,r|=e[n],t&=~i;return r}function nI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-dn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nI(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ag(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yk(){var e=pa;return pa<<=1,!(pa&4194240)&&(pa=64),e}function nc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dn(t),e[t]=n}function iI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Iy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function Xk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zk,jy,Qk,Jk,eT,lg=!1,ga=[],yr=null,vr=null,wr=null,go=new Map,yo=new Map,dr=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K0(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Es(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Go(t),t!==null&&jy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oI(e,t,n,r,i){switch(t){case"focusin":return yr=Es(yr,e,t,n,r,i),!0;case"dragenter":return vr=Es(vr,e,t,n,r,i),!0;case"mouseover":return wr=Es(wr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return go.set(s,Es(go.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yo.set(s,Es(yo.get(s)||null,e,t,n,r,i)),!0}return!1}function tT(e){var t=Ur(e.target);if(t!==null){var n=ci(t);if(n!==null){if(t=n.tag,t===13){if(t=zk(n),t!==null){e.blockedOn=t,eT(e.priority,function(){Qk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ug(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rg=r,n.target.dispatchEvent(r),rg=null}else return t=Go(n),t!==null&&jy(t),e.blockedOn=n,!1;t.shift()}return!0}function Y0(e,t,n){za(e)&&n.delete(t)}function aI(){lg=!1,yr!==null&&za(yr)&&(yr=null),vr!==null&&za(vr)&&(vr=null),wr!==null&&za(wr)&&(wr=null),go.forEach(Y0),yo.forEach(Y0)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,lg||(lg=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,aI)))}function vo(e){function t(i){return Cs(i,e)}if(0<ga.length){Cs(ga[0],e);for(var n=1;n<ga.length;n++){var r=ga[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yr!==null&&Cs(yr,e),vr!==null&&Cs(vr,e),wr!==null&&Cs(wr,e),go.forEach(t),yo.forEach(t),n=0;n<dr.length;n++)r=dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)tT(n),n.blockedOn===null&&dr.shift()}var Ui=Jn.ReactCurrentBatchConfig,fl=!0;function lI(e,t,n,r){var i=pe,s=Ui.transition;Ui.transition=null;try{pe=1,Dy(e,t,n,r)}finally{pe=i,Ui.transition=s}}function uI(e,t,n,r){var i=pe,s=Ui.transition;Ui.transition=null;try{pe=4,Dy(e,t,n,r)}finally{pe=i,Ui.transition=s}}function Dy(e,t,n,r){if(fl){var i=ug(e,t,n,r);if(i===null)fc(e,t,r,hl,n),K0(e,r);else if(oI(i,e,t,n,r))r.stopPropagation();else if(K0(e,r),t&4&&-1<sI.indexOf(e)){for(;i!==null;){var s=Go(i);if(s!==null&&Zk(s),s=ug(e,t,n,r),s===null&&fc(e,t,r,hl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fc(e,t,r,null,n)}}var hl=null;function ug(e,t,n,r){if(hl=null,e=Ay(r),e=Ur(e),e!==null)if(t=ci(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hl=e,null}function nT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X2()){case Ry:return 1;case Wk:return 4;case cl:case Z2:return 16;case Kk:return 536870912;default:return 16}default:return 16}}var mr=null,Ly=null,Ua=null;function rT(){if(Ua)return Ua;var e,t=Ly,n=t.length,r,i="value"in mr?mr.value:mr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ua=i.slice(e,1<r?1-r:void 0)}function Ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function X0(){return!1}function qt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ya:X0,this.isPropagationStopped=X0,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oy=qt(ds),Ho=Ae({},ds,{view:0,detail:0}),cI=qt(Ho),rc,ic,ks,eu=Ae({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(rc=e.screenX-ks.screenX,ic=e.screenY-ks.screenY):ic=rc=0,ks=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:ic}}),Z0=qt(eu),dI=Ae({},eu,{dataTransfer:0}),fI=qt(dI),hI=Ae({},Ho,{relatedTarget:0}),sc=qt(hI),pI=Ae({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),mI=qt(pI),gI=Ae({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yI=qt(gI),vI=Ae({},ds,{data:0}),Q0=qt(vI),wI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_I[e])?!!t[e]:!1}function qy(){return bI}var SI=Ae({},Ho,{key:function(e){if(e.key){var t=wI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qy,charCode:function(e){return e.type==="keypress"?Ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EI=qt(SI),CI=Ae({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J0=qt(CI),kI=Ae({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qy}),TI=qt(kI),NI=Ae({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),MI=qt(NI),PI=Ae({},eu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AI=qt(PI),RI=[9,13,27,32],Fy=Hn&&"CompositionEvent"in window,to=null;Hn&&"documentMode"in document&&(to=document.documentMode);var II=Hn&&"TextEvent"in window&&!to,iT=Hn&&(!Fy||to&&8<to&&11>=to),ew=" ",tw=!1;function sT(e,t){switch(e){case"keyup":return RI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function jI(e,t){switch(e){case"compositionend":return oT(t);case"keypress":return t.which!==32?null:(tw=!0,ew);case"textInput":return e=t.data,e===ew&&tw?null:e;default:return null}}function DI(e,t){if(Ci)return e==="compositionend"||!Fy&&sT(e,t)?(e=rT(),Ua=Ly=mr=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iT&&t.locale!=="ko"?null:t.data;default:return null}}var LI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LI[e.type]:t==="textarea"}function aT(e,t,n,r){qk(r),t=pl(t,"onChange"),0<t.length&&(n=new Oy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var no=null,wo=null;function OI(e){vT(e,0)}function tu(e){var t=Ni(e);if(Ak(t))return e}function qI(e,t){if(e==="change")return t}var lT=!1;if(Hn){var oc;if(Hn){var ac="oninput"in document;if(!ac){var rw=document.createElement("div");rw.setAttribute("oninput","return;"),ac=typeof rw.oninput=="function"}oc=ac}else oc=!1;lT=oc&&(!document.documentMode||9<document.documentMode)}function iw(){no&&(no.detachEvent("onpropertychange",uT),wo=no=null)}function uT(e){if(e.propertyName==="value"&&tu(wo)){var t=[];aT(t,wo,e,Ay(e)),Bk(OI,t)}}function FI(e,t,n){e==="focusin"?(iw(),no=t,wo=n,no.attachEvent("onpropertychange",uT)):e==="focusout"&&iw()}function $I(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tu(wo)}function VI(e,t){if(e==="click")return tu(t)}function BI(e,t){if(e==="input"||e==="change")return tu(t)}function zI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:zI;function xo(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hm.call(t,i)||!pn(e[i],t[i]))return!1}return!0}function sw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ow(e,t){var n=sw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sw(n)}}function cT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dT(){for(var e=window,t=al();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=al(e.document)}return t}function $y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UI(e){var t=dT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cT(n.ownerDocument.documentElement,n)){if(r!==null&&$y(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ow(n,s);var o=ow(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HI=Hn&&"documentMode"in document&&11>=document.documentMode,ki=null,cg=null,ro=null,dg=!1;function aw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dg||ki==null||ki!==al(r)||(r=ki,"selectionStart"in r&&$y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ro&&xo(ro,r)||(ro=r,r=pl(cg,"onSelect"),0<r.length&&(t=new Oy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ki)))}function va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ti={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},lc={},fT={};Hn&&(fT=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function nu(e){if(lc[e])return lc[e];if(!Ti[e])return e;var t=Ti[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fT)return lc[e]=t[n];return e}var hT=nu("animationend"),pT=nu("animationiteration"),mT=nu("animationstart"),gT=nu("transitionend"),yT=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){yT.set(e,t),ui(t,[e])}for(var uc=0;uc<lw.length;uc++){var cc=lw[uc],GI=cc.toLowerCase(),WI=cc[0].toUpperCase()+cc.slice(1);Rr(GI,"on"+WI)}Rr(hT,"onAnimationEnd");Rr(pT,"onAnimationIteration");Rr(mT,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(gT,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KI=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function uw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,G2(r,t,void 0,e),e.currentTarget=null}function vT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uw(i,a,u),s=l}}}if(ul)throw e=og,ul=!1,og=null,e}function xe(e,t){var n=t[gg];n===void 0&&(n=t[gg]=new Set);var r=e+"__bubble";n.has(r)||(wT(t,e,2,!1),n.add(r))}function dc(e,t,n){var r=0;t&&(r|=4),wT(n,e,r,t)}var wa="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[wa]){e[wa]=!0,kk.forEach(function(n){n!=="selectionchange"&&(KI.has(n)||dc(n,!1,e),dc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wa]||(t[wa]=!0,dc("selectionchange",!1,t))}}function wT(e,t,n,r){switch(nT(t)){case 1:var i=lI;break;case 4:i=uI;break;default:i=Dy}n=i.bind(null,t,n,e),i=void 0,!sg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ur(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Bk(function(){var u=s,c=Ay(n),d=[];e:{var f=yT.get(e);if(f!==void 0){var h=Oy,g=e;switch(e){case"keypress":if(Ha(n)===0)break e;case"keydown":case"keyup":h=EI;break;case"focusin":g="focus",h=sc;break;case"focusout":g="blur",h=sc;break;case"beforeblur":case"afterblur":h=sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=TI;break;case hT:case pT:case mT:h=mI;break;case gT:h=MI;break;case"scroll":h=cI;break;case"wheel":h=AI;break;case"copy":case"cut":case"paste":h=yI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=J0}var p=(t&4)!==0,v=!p&&e==="scroll",m=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,m!==null&&(_=mo(y,m),_!=null&&p.push(bo(y,_,x)))),v)break;y=y.return}0<p.length&&(f=new h(f,g,null,n,c),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==rg&&(g=n.relatedTarget||n.fromElement)&&(Ur(g)||g[Gn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Ur(g):null,g!==null&&(v=ci(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(p=Z0,_="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=J0,_="onPointerLeave",m="onPointerEnter",y="pointer"),v=h==null?f:Ni(h),x=g==null?f:Ni(g),f=new p(_,y+"leave",h,n,c),f.target=v,f.relatedTarget=x,_=null,Ur(c)===u&&(p=new p(m,y+"enter",g,n,c),p.target=x,p.relatedTarget=v,_=p),v=_,h&&g)t:{for(p=h,m=g,y=0,x=p;x;x=vi(x))y++;for(x=0,_=m;_;_=vi(_))x++;for(;0<y-x;)p=vi(p),y--;for(;0<x-y;)m=vi(m),x--;for(;y--;){if(p===m||m!==null&&p===m.alternate)break t;p=vi(p),m=vi(m)}p=null}else p=null;h!==null&&cw(d,f,h,p,!1),g!==null&&v!==null&&cw(d,v,g,p,!0)}}e:{if(f=u?Ni(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var b=qI;else if(nw(f))if(lT)b=BI;else{b=$I;var C=FI}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=VI);if(b&&(b=b(e,u))){aT(d,b,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Qm(f,"number",f.value)}switch(C=u?Ni(u):window,e){case"focusin":(nw(C)||C.contentEditable==="true")&&(ki=C,cg=u,ro=null);break;case"focusout":ro=cg=ki=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,aw(d,n,c);break;case"selectionchange":if(HI)break;case"keydown":case"keyup":aw(d,n,c)}var k;if(Fy)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ci?sT(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(iT&&n.locale!=="ko"&&(Ci||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ci&&(k=rT()):(mr=c,Ly="value"in mr?mr.value:mr.textContent,Ci=!0)),C=pl(u,T),0<C.length&&(T=new Q0(T,e,null,n,c),d.push({event:T,listeners:C}),k?T.data=k:(k=oT(n),k!==null&&(T.data=k)))),(k=II?jI(e,n):DI(e,n))&&(u=pl(u,"onBeforeInput"),0<u.length&&(c=new Q0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}vT(d,t)})}function bo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mo(e,n),s!=null&&r.unshift(bo(e,s,i)),s=mo(e,t),s!=null&&r.push(bo(e,s,i))),e=e.return}return r}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cw(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=mo(n,s),l!=null&&o.unshift(bo(n,l,a))):i||(l=mo(n,s),l!=null&&o.push(bo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YI=/\r\n?/g,XI=/\u0000|\uFFFD/g;function dw(e){return(typeof e=="string"?e:""+e).replace(YI,`
`).replace(XI,"")}function xa(e,t,n){if(t=dw(t),dw(e)!==t&&n)throw Error(U(425))}function ml(){}var fg=null,hg=null;function pg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,ZI=typeof clearTimeout=="function"?clearTimeout:void 0,fw=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof fw<"u"?function(e){return fw.resolve(null).then(e).catch(JI)}:mg;function JI(e){setTimeout(function(){throw e})}function hc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vo(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),_n="__reactFiber$"+fs,So="__reactProps$"+fs,Gn="__reactContainer$"+fs,gg="__reactEvents$"+fs,ej="__reactListeners$"+fs,tj="__reactHandles$"+fs;function Ur(e){var t=e[_n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gn]||n[_n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hw(e);e!==null;){if(n=e[_n])return n;e=hw(e)}return t}e=n,n=e.parentNode}return null}function Go(e){return e=e[_n]||e[Gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ru(e){return e[So]||null}var yg=[],Mi=-1;function Ir(e){return{current:e}}function _e(e){0>Mi||(e.current=yg[Mi],yg[Mi]=null,Mi--)}function ye(e,t){Mi++,yg[Mi]=e.current,e.current=t}var Nr={},dt=Ir(Nr),St=Ir(!1),ni=Nr;function Zi(e,t){var n=e.type.contextTypes;if(!n)return Nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Et(e){return e=e.childContextTypes,e!=null}function gl(){_e(St),_e(dt)}function pw(e,t,n){if(dt.current!==Nr)throw Error(U(168));ye(dt,t),ye(St,n)}function xT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,F2(e)||"Unknown",i));return Ae({},n,r)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,ni=dt.current,ye(dt,e),ye(St,St.current),!0}function mw(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=xT(e,t,ni),r.__reactInternalMemoizedMergedChildContext=e,_e(St),_e(dt),ye(dt,e)):_e(St),ye(St,n)}var jn=null,iu=!1,pc=!1;function _T(e){jn===null?jn=[e]:jn.push(e)}function nj(e){iu=!0,_T(e)}function jr(){if(!pc&&jn!==null){pc=!0;var e=0,t=pe;try{var n=jn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jn=null,iu=!1}catch(i){throw jn!==null&&(jn=jn.slice(e+1)),Gk(Ry,jr),i}finally{pe=t,pc=!1}}return null}var Pi=[],Ai=0,vl=null,wl=0,Ut=[],Ht=0,ri=null,Ln=1,On="";function Fr(e,t){Pi[Ai++]=wl,Pi[Ai++]=vl,vl=e,wl=t}function bT(e,t,n){Ut[Ht++]=Ln,Ut[Ht++]=On,Ut[Ht++]=ri,ri=e;var r=Ln;e=On;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var s=32-dn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ln=1<<32-dn(t)+i|n<<i|r,On=s+e}else Ln=1<<s|n<<i|r,On=e}function Vy(e){e.return!==null&&(Fr(e,1),bT(e,1,0))}function By(e){for(;e===vl;)vl=Pi[--Ai],Pi[Ai]=null,wl=Pi[--Ai],Pi[Ai]=null;for(;e===ri;)ri=Ut[--Ht],Ut[Ht]=null,On=Ut[--Ht],Ut[Ht]=null,Ln=Ut[--Ht],Ut[Ht]=null}var Rt=null,At=null,Ce=!1,un=null;function ST(e,t){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,At=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ri!==null?{id:Ln,overflow:On}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rt=e,At=null,!0):!1;default:return!1}}function vg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wg(e){if(Ce){var t=At;if(t){var n=t;if(!gw(e,t)){if(vg(e))throw Error(U(418));t=xr(n.nextSibling);var r=Rt;t&&gw(e,t)?ST(r,n):(e.flags=e.flags&-4097|2,Ce=!1,Rt=e)}}else{if(vg(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ce=!1,Rt=e}}}function yw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function _a(e){if(e!==Rt)return!1;if(!Ce)return yw(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pg(e.type,e.memoizedProps)),t&&(t=At)){if(vg(e))throw ET(),Error(U(418));for(;t;)ST(e,t),t=xr(t.nextSibling)}if(yw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){At=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}At=null}}else At=Rt?xr(e.stateNode.nextSibling):null;return!0}function ET(){for(var e=At;e;)e=xr(e.nextSibling)}function Qi(){At=Rt=null,Ce=!1}function zy(e){un===null?un=[e]:un.push(e)}var rj=Jn.ReactCurrentBatchConfig;function Ts(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vw(e){var t=e._init;return t(e._payload)}function CT(e){function t(m,y){if(e){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Er(m,y),m.index=0,m.sibling=null,m}function s(m,y,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,x,_){return y===null||y.tag!==6?(y=_c(x,m.mode,_),y.return=m,y):(y=i(y,x),y.return=m,y)}function l(m,y,x,_){var b=x.type;return b===Ei?c(m,y,x.props.children,_,x.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ar&&vw(b)===y.type)?(_=i(y,x.props),_.ref=Ts(m,y,x),_.return=m,_):(_=Qa(x.type,x.key,x.props,null,m.mode,_),_.ref=Ts(m,y,x),_.return=m,_)}function u(m,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=bc(x,m.mode,_),y.return=m,y):(y=i(y,x.children||[]),y.return=m,y)}function c(m,y,x,_,b){return y===null||y.tag!==7?(y=Qr(x,m.mode,_,b),y.return=m,y):(y=i(y,x),y.return=m,y)}function d(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=_c(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case da:return x=Qa(y.type,y.key,y.props,null,m.mode,x),x.ref=Ts(m,null,y),x.return=m,x;case Si:return y=bc(y,m.mode,x),y.return=m,y;case ar:var _=y._init;return d(m,_(y._payload),x)}if(qs(y)||bs(y))return y=Qr(y,m.mode,x,null),y.return=m,y;ba(m,y)}return null}function f(m,y,x,_){var b=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:a(m,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case da:return x.key===b?l(m,y,x,_):null;case Si:return x.key===b?u(m,y,x,_):null;case ar:return b=x._init,f(m,y,b(x._payload),_)}if(qs(x)||bs(x))return b!==null?null:c(m,y,x,_,null);ba(m,x)}return null}function h(m,y,x,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(x)||null,a(y,m,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case da:return m=m.get(_.key===null?x:_.key)||null,l(y,m,_,b);case Si:return m=m.get(_.key===null?x:_.key)||null,u(y,m,_,b);case ar:var C=_._init;return h(m,y,x,C(_._payload),b)}if(qs(_)||bs(_))return m=m.get(x)||null,c(y,m,_,b,null);ba(y,_)}return null}function g(m,y,x,_){for(var b=null,C=null,k=y,T=y=0,M=null;k!==null&&T<x.length;T++){k.index>T?(M=k,k=null):M=k.sibling;var A=f(m,k,x[T],_);if(A===null){k===null&&(k=M);break}e&&k&&A.alternate===null&&t(m,k),y=s(A,y,T),C===null?b=A:C.sibling=A,C=A,k=M}if(T===x.length)return n(m,k),Ce&&Fr(m,T),b;if(k===null){for(;T<x.length;T++)k=d(m,x[T],_),k!==null&&(y=s(k,y,T),C===null?b=k:C.sibling=k,C=k);return Ce&&Fr(m,T),b}for(k=r(m,k);T<x.length;T++)M=h(k,m,T,x[T],_),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?T:M.key),y=s(M,y,T),C===null?b=M:C.sibling=M,C=M);return e&&k.forEach(function(I){return t(m,I)}),Ce&&Fr(m,T),b}function p(m,y,x,_){var b=bs(x);if(typeof b!="function")throw Error(U(150));if(x=b.call(x),x==null)throw Error(U(151));for(var C=b=null,k=y,T=y=0,M=null,A=x.next();k!==null&&!A.done;T++,A=x.next()){k.index>T?(M=k,k=null):M=k.sibling;var I=f(m,k,A.value,_);if(I===null){k===null&&(k=M);break}e&&k&&I.alternate===null&&t(m,k),y=s(I,y,T),C===null?b=I:C.sibling=I,C=I,k=M}if(A.done)return n(m,k),Ce&&Fr(m,T),b;if(k===null){for(;!A.done;T++,A=x.next())A=d(m,A.value,_),A!==null&&(y=s(A,y,T),C===null?b=A:C.sibling=A,C=A);return Ce&&Fr(m,T),b}for(k=r(m,k);!A.done;T++,A=x.next())A=h(k,m,T,A.value,_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?T:A.key),y=s(A,y,T),C===null?b=A:C.sibling=A,C=A);return e&&k.forEach(function(B){return t(m,B)}),Ce&&Fr(m,T),b}function v(m,y,x,_){if(typeof x=="object"&&x!==null&&x.type===Ei&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case da:e:{for(var b=x.key,C=y;C!==null;){if(C.key===b){if(b=x.type,b===Ei){if(C.tag===7){n(m,C.sibling),y=i(C,x.props.children),y.return=m,m=y;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ar&&vw(b)===C.type){n(m,C.sibling),y=i(C,x.props),y.ref=Ts(m,C,x),y.return=m,m=y;break e}n(m,C);break}else t(m,C);C=C.sibling}x.type===Ei?(y=Qr(x.props.children,m.mode,_,x.key),y.return=m,m=y):(_=Qa(x.type,x.key,x.props,null,m.mode,_),_.ref=Ts(m,y,x),_.return=m,m=_)}return o(m);case Si:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(m,y.sibling),y=i(y,x.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=bc(x,m.mode,_),y.return=m,m=y}return o(m);case ar:return C=x._init,v(m,y,C(x._payload),_)}if(qs(x))return g(m,y,x,_);if(bs(x))return p(m,y,x,_);ba(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,x),y.return=m,m=y):(n(m,y),y=_c(x,m.mode,_),y.return=m,m=y),o(m)):n(m,y)}return v}var Ji=CT(!0),kT=CT(!1),xl=Ir(null),_l=null,Ri=null,Uy=null;function Hy(){Uy=Ri=_l=null}function Gy(e){var t=xl.current;_e(xl),e._currentValue=t}function xg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hi(e,t){_l=e,Uy=Ri=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Xt(e){var t=e._currentValue;if(Uy!==e)if(e={context:e,memoizedValue:t,next:null},Ri===null){if(_l===null)throw Error(U(308));Ri=e,_l.dependencies={lanes:0,firstContext:e}}else Ri=Ri.next=e;return t}var Hr=null;function Wy(e){Hr===null?Hr=[e]:Hr.push(e)}function TT(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Wy(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wn(e,r)}function Wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var lr=!1;function Ky(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wn(e,n)}return i=r.interleaved,i===null?(t.next=t,Wy(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wn(e,n)}function Ga(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}function ww(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bl(e,t,n,r){var i=e.updateQueue;lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,p=a;switch(f=t,h=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=Ae({},d,f);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);si|=o,e.lanes=o,e.memoizedState=d}}function xw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Wo={},En=Ir(Wo),Eo=Ir(Wo),Co=Ir(Wo);function Gr(e){if(e===Wo)throw Error(U(174));return e}function Yy(e,t){switch(ye(Co,t),ye(Eo,e),ye(En,Wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eg(t,e)}_e(En),ye(En,t)}function es(){_e(En),_e(Eo),_e(Co)}function MT(e){Gr(Co.current);var t=Gr(En.current),n=eg(t,e.type);t!==n&&(ye(Eo,e),ye(En,n))}function Xy(e){Eo.current===e&&(_e(En),_e(Eo))}var Ne=Ir(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mc=[];function Zy(){for(var e=0;e<mc.length;e++)mc[e]._workInProgressVersionPrimary=null;mc.length=0}var Wa=Jn.ReactCurrentDispatcher,gc=Jn.ReactCurrentBatchConfig,ii=0,Pe=null,Ve=null,We=null,El=!1,io=!1,ko=0,ij=0;function ot(){throw Error(U(321))}function Qy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pn(e[n],t[n]))return!1;return!0}function Jy(e,t,n,r,i,s){if(ii=s,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wa.current=e===null||e.memoizedState===null?lj:uj,e=n(r,i),io){s=0;do{if(io=!1,ko=0,25<=s)throw Error(U(301));s+=1,We=Ve=null,t.updateQueue=null,Wa.current=cj,e=n(r,i)}while(io)}if(Wa.current=Cl,t=Ve!==null&&Ve.next!==null,ii=0,We=Ve=Pe=null,El=!1,t)throw Error(U(300));return e}function ev(){var e=ko!==0;return ko=0,e}function xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function Zt(){if(Ve===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=We===null?Pe.memoizedState:We.next;if(t!==null)We=t,Ve=e;else{if(e===null)throw Error(U(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function To(e,t){return typeof t=="function"?t(e):t}function yc(e){var t=Zt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ve,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ii&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Pe.lanes|=c,si|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,pn(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Pe.lanes|=s,si|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vc(e){var t=Zt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);pn(s,t.memoizedState)||(_t=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function PT(){}function AT(e,t){var n=Pe,r=Zt(),i=t(),s=!pn(r.memoizedState,i);if(s&&(r.memoizedState=i,_t=!0),r=r.queue,tv(jT.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,No(9,IT.bind(null,n,r,i,t),void 0,null),Ke===null)throw Error(U(349));ii&30||RT(n,t,i)}return i}function RT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function IT(e,t,n,r){t.value=n,t.getSnapshot=r,DT(t)&&LT(e)}function jT(e,t,n){return n(function(){DT(t)&&LT(e)})}function DT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pn(e,n)}catch{return!0}}function LT(e){var t=Wn(e,1);t!==null&&fn(t,e,1,-1)}function _w(e){var t=xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=aj.bind(null,Pe,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function OT(){return Zt().memoizedState}function Ka(e,t,n,r){var i=xn();Pe.flags|=e,i.memoizedState=No(1|t,n,void 0,r===void 0?null:r)}function su(e,t,n,r){var i=Zt();r=r===void 0?null:r;var s=void 0;if(Ve!==null){var o=Ve.memoizedState;if(s=o.destroy,r!==null&&Qy(r,o.deps)){i.memoizedState=No(t,n,s,r);return}}Pe.flags|=e,i.memoizedState=No(1|t,n,s,r)}function bw(e,t){return Ka(8390656,8,e,t)}function tv(e,t){return su(2048,8,e,t)}function qT(e,t){return su(4,2,e,t)}function FT(e,t){return su(4,4,e,t)}function $T(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VT(e,t,n){return n=n!=null?n.concat([e]):null,su(4,4,$T.bind(null,t,e),n)}function nv(){}function BT(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zT(e,t){var n=Zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function UT(e,t,n){return ii&21?(pn(n,t)||(n=Yk(),Pe.lanes|=n,si|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n)}function sj(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=gc.transition;gc.transition={};try{e(!1),t()}finally{pe=n,gc.transition=r}}function HT(){return Zt().memoizedState}function oj(e,t,n){var r=Sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GT(e))WT(t,n);else if(n=TT(e,t,n,r),n!==null){var i=mt();fn(n,e,r,i),KT(n,t,r)}}function aj(e,t,n){var r=Sr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GT(e))WT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pn(a,o)){var l=t.interleaved;l===null?(i.next=i,Wy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=TT(e,t,i,r),n!==null&&(i=mt(),fn(n,e,r,i),KT(n,t,r))}}function GT(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function WT(e,t){io=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function KT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}var Cl={readContext:Xt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},lj={readContext:Xt,useCallback:function(e,t){return xn().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:bw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ka(4194308,4,$T.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ka(4,2,e,t)},useMemo:function(e,t){var n=xn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oj.bind(null,Pe,e),[r.memoizedState,e]},useRef:function(e){var t=xn();return e={current:e},t.memoizedState=e},useState:_w,useDebugValue:nv,useDeferredValue:function(e){return xn().memoizedState=e},useTransition:function(){var e=_w(!1),t=e[0];return e=sj.bind(null,e[1]),xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pe,i=xn();if(Ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ke===null)throw Error(U(349));ii&30||RT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,bw(jT.bind(null,r,s,e),[e]),r.flags|=2048,No(9,IT.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=xn(),t=Ke.identifierPrefix;if(Ce){var n=On,r=Ln;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ij++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uj={readContext:Xt,useCallback:BT,useContext:Xt,useEffect:tv,useImperativeHandle:VT,useInsertionEffect:qT,useLayoutEffect:FT,useMemo:zT,useReducer:yc,useRef:OT,useState:function(){return yc(To)},useDebugValue:nv,useDeferredValue:function(e){var t=Zt();return UT(t,Ve.memoizedState,e)},useTransition:function(){var e=yc(To)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:PT,useSyncExternalStore:AT,useId:HT,unstable_isNewReconciler:!1},cj={readContext:Xt,useCallback:BT,useContext:Xt,useEffect:tv,useImperativeHandle:VT,useInsertionEffect:qT,useLayoutEffect:FT,useMemo:zT,useReducer:vc,useRef:OT,useState:function(){return vc(To)},useDebugValue:nv,useDeferredValue:function(e){var t=Zt();return Ve===null?t.memoizedState=e:UT(t,Ve.memoizedState,e)},useTransition:function(){var e=vc(To)[0],t=Zt().memoizedState;return[e,t]},useMutableSource:PT,useSyncExternalStore:AT,useId:HT,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _g(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ou={isMounted:function(e){return(e=e._reactInternals)?ci(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),i=Sr(e),s=Vn(r,i);s.payload=t,n!=null&&(s.callback=n),t=_r(e,s,i),t!==null&&(fn(t,e,i,r),Ga(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),i=Sr(e),s=Vn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=_r(e,s,i),t!==null&&(fn(t,e,i,r),Ga(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=Sr(e),i=Vn(n,r);i.tag=2,t!=null&&(i.callback=t),t=_r(e,i,r),t!==null&&(fn(t,e,r,n),Ga(t,e,r))}};function Sw(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!xo(n,r)||!xo(i,s):!0}function YT(e,t,n){var r=!1,i=Nr,s=t.contextType;return typeof s=="object"&&s!==null?s=Xt(s):(i=Et(t)?ni:dt.current,r=t.contextTypes,s=(r=r!=null)?Zi(e,i):Nr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ou,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ew(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ou.enqueueReplaceState(t,t.state,null)}function bg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ky(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Xt(s):(s=Et(t)?ni:dt.current,i.context=Zi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_g(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ou.enqueueReplaceState(i,i.state,null),bl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=q2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dj=typeof WeakMap=="function"?WeakMap:Map;function XT(e,t,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Tl||(Tl=!0,Ig=r),Sg(e,t)},n}function ZT(e,t,n){n=Vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Sg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sg(e,t),typeof r!="function"&&(br===null?br=new Set([this]):br.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Cw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cj.bind(null,e,t,n),t.then(e,e))}function kw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var fj=Jn.ReactCurrentOwner,_t=!1;function pt(e,t,n,r){t.child=e===null?kT(t,null,n,r):Ji(t,e.child,n,r)}function Nw(e,t,n,r,i){n=n.render;var s=t.ref;return Hi(t,i),r=Jy(e,t,n,r,s,i),n=ev(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(Ce&&n&&Vy(t),t.flags|=1,pt(e,t,r,i),t.child)}function Mw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!cv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,QT(e,t,s,r,i)):(e=Qa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(o,r)&&e.ref===t.ref)return Kn(e,t,i)}return t.flags|=1,e=Er(s,r),e.ref=t.ref,e.return=t,t.child=e}function QT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(xo(s,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Kn(e,t,i)}return Eg(e,t,n,r,i)}function JT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ji,Mt),Mt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(ji,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(ji,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ye(ji,Mt),Mt|=r;return pt(e,t,i,n),t.child}function eN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eg(e,t,n,r,i){var s=Et(n)?ni:dt.current;return s=Zi(t,s),Hi(t,i),n=Jy(e,t,n,r,s,i),r=ev(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(Ce&&r&&Vy(t),t.flags|=1,pt(e,t,n,i),t.child)}function Pw(e,t,n,r,i){if(Et(n)){var s=!0;yl(t)}else s=!1;if(Hi(t,i),t.stateNode===null)Ya(e,t),YT(t,n,r),bg(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xt(u):(u=Et(n)?ni:dt.current,u=Zi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ew(t,o,r,u),lr=!1;var f=t.memoizedState;o.state=f,bl(t,r,o,i),l=t.memoizedState,a!==r||f!==l||St.current||lr?(typeof c=="function"&&(_g(t,n,c,r),l=t.memoizedState),(a=lr||Sw(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,NT(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:on(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=Et(n)?ni:dt.current,l=Zi(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ew(t,o,r,l),lr=!1,f=t.memoizedState,o.state=f,bl(t,r,o,i);var g=t.memoizedState;a!==d||f!==g||St.current||lr?(typeof h=="function"&&(_g(t,n,h,r),g=t.memoizedState),(u=lr||Sw(t,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cg(e,t,n,r,s,i)}function Cg(e,t,n,r,i,s){eN(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&mw(t,n,!1),Kn(e,t,s);r=t.stateNode,fj.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ji(t,e.child,null,s),t.child=Ji(t,null,a,s)):pt(e,t,a,s),t.memoizedState=r.state,i&&mw(t,n,!0),t.child}function tN(e){var t=e.stateNode;t.pendingContext?pw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pw(e,t.context,!1),Yy(e,t.containerInfo)}function Aw(e,t,n,r,i){return Qi(),zy(i),t.flags|=256,pt(e,t,n,r),t.child}var kg={dehydrated:null,treeContext:null,retryLane:0};function Tg(e){return{baseLanes:e,cachePool:null,transitions:null}}function nN(e,t,n){var r=t.pendingProps,i=Ne.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ye(Ne,i&1),e===null)return wg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uu(o,r,0,null),e=Qr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Tg(n),t.memoizedState=kg,e):rv(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hj(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Er(a,s):(s=Qr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=kg,r}return s=e.child,e=s.sibling,r=Er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rv(e,t){return t=uu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,n,r){return r!==null&&zy(r),Ji(t,e.child,null,n),e=rv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hj(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=wc(Error(U(422))),Sa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=uu({mode:"visible",children:r.children},i,0,null),s=Qr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ji(t,e.child,null,o),t.child.memoizedState=Tg(o),t.memoizedState=kg,s);if(!(t.mode&1))return Sa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=wc(s,r,void 0),Sa(e,t,o,r)}if(a=(o&e.childLanes)!==0,_t||a){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wn(e,i),fn(r,e,i,-1))}return uv(),r=wc(Error(U(421))),Sa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,At=xr(i.nextSibling),Rt=t,Ce=!0,un=null,e!==null&&(Ut[Ht++]=Ln,Ut[Ht++]=On,Ut[Ht++]=ri,Ln=e.id,On=e.overflow,ri=t),t=rv(t,r.children),t.flags|=4096,t)}function Rw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xg(e.return,t,n)}function xc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rN(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pt(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rw(e,n,t);else if(e.tag===19)Rw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xc(t,!0,n,null,s);break;case"together":xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ya(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),si|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pj(e,t,n){switch(t.tag){case 3:tN(t),Qi();break;case 5:MT(t);break;case 1:Et(t.type)&&yl(t);break;case 4:Yy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ye(xl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?nN(e,t,n):(ye(Ne,Ne.current&1),e=Kn(e,t,n),e!==null?e.sibling:null);ye(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rN(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,JT(e,t,n)}return Kn(e,t,n)}var iN,Ng,sN,oN;iN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ng=function(){};sN=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gr(En.current);var s=null;switch(n){case"input":i=Xm(e,i),r=Xm(e,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=Jm(e,i),r=Jm(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ml)}tg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ho.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ho.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};oN=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ns(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mj(e,t,n){var r=t.pendingProps;switch(By(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return Et(t.type)&&gl(),at(t),null;case 3:return r=t.stateNode,es(),_e(St),_e(dt),Zy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_a(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(Lg(un),un=null))),Ng(e,t),at(t),null;case 5:Xy(t);var i=Gr(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)sN(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return at(t),null}if(e=Gr(En.current),_a(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[_n]=t,r[So]=s,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<$s.length;i++)xe($s[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":V0(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":z0(r,s),xe("invalid",r)}tg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xa(r.textContent,a,e),i=["children",""+a]):ho.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":fa(r),B0(r,s,!0);break;case"textarea":fa(r),U0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ml)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_n]=t,e[So]=r,iN(e,t,!1,!1),t.stateNode=e;e:{switch(o=ng(n,r),n){case"dialog":xe("cancel",e),xe("close",e),i=r;break;case"iframe":case"object":case"embed":xe("load",e),i=r;break;case"video":case"audio":for(i=0;i<$s.length;i++)xe($s[i],e);i=r;break;case"source":xe("error",e),i=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),i=r;break;case"details":xe("toggle",e),i=r;break;case"input":V0(e,r),i=Xm(e,r),xe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),xe("invalid",e);break;case"textarea":z0(e,r),i=Jm(e,r),xe("invalid",e);break;default:i=r}tg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ok(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dk(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&po(e,l):typeof l=="number"&&po(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ho.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xe("scroll",e):l!=null&&Ty(e,s,l,o))}switch(n){case"input":fa(e),B0(e,r,!1);break;case"textarea":fa(e),U0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)oN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Gr(Co.current),Gr(En.current),_a(t)){if(r=t.stateNode,n=t.memoizedProps,r[_n]=t,(s=r.nodeValue!==n)&&(e=Rt,e!==null))switch(e.tag){case 3:xa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=t,t.stateNode=r}return at(t),null;case 13:if(_e(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&At!==null&&t.mode&1&&!(t.flags&128))ET(),Qi(),t.flags|=98560,s=!1;else if(s=_a(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[_n]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),s=!1}else un!==null&&(Lg(un),un=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Be===0&&(Be=3):uv())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return es(),Ng(e,t),e===null&&_o(t.stateNode.containerInfo),at(t),null;case 10:return Gy(t.type._context),at(t),null;case 17:return Et(t.type)&&gl(),at(t),null;case 19:if(_e(Ne),s=t.memoizedState,s===null)return at(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ns(s,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sl(e),o!==null){for(t.flags|=128,Ns(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&Le()>ns&&(t.flags|=128,r=!0,Ns(s,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ns(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return at(t),null}else 2*Le()-s.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,Ns(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Le(),t.sibling=null,n=Ne.current,ye(Ne,r?n&1|2:n&1),t):(at(t),null);case 22:case 23:return lv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mt&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function gj(e,t){switch(By(t),t.tag){case 1:return Et(t.type)&&gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),_e(St),_e(dt),Zy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xy(t),null;case 13:if(_e(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ne),null;case 4:return es(),null;case 10:return Gy(t.type._context),null;case 22:case 23:return lv(),null;case 24:return null;default:return null}}var Ea=!1,ut=!1,yj=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function Mg(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var Iw=!1;function vj(e,t){if(fg=fl,e=dT(),$y(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hg={focusedElem:e,selectionRange:n},fl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:on(t.type,p),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){Ie(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return g=Iw,Iw=!1,g}function so(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mg(t,n,s)}i=i.next}while(i!==r)}}function au(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function aN(e){var t=e.alternate;t!==null&&(e.alternate=null,aN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_n],delete t[So],delete t[gg],delete t[ej],delete t[tj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lN(e){return e.tag===5||e.tag===3||e.tag===4}function jw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ag(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ml));else if(r!==4&&(e=e.child,e!==null))for(Ag(e,t,n),e=e.sibling;e!==null;)Ag(e,t,n),e=e.sibling}function Rg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rg(e,t,n),e=e.sibling;e!==null;)Rg(e,t,n),e=e.sibling}var Je=null,an=!1;function rr(e,t,n){for(n=n.child;n!==null;)uN(e,t,n),n=n.sibling}function uN(e,t,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 5:ut||Ii(n,t);case 6:var r=Je,i=an;Je=null,rr(e,t,n),Je=r,an=i,Je!==null&&(an?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(an?(e=Je,n=n.stateNode,e.nodeType===8?hc(e.parentNode,n):e.nodeType===1&&hc(e,n),vo(e)):hc(Je,n.stateNode));break;case 4:r=Je,i=an,Je=n.stateNode.containerInfo,an=!0,rr(e,t,n),Je=r,an=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mg(n,t,o),i=i.next}while(i!==r)}rr(e,t,n);break;case 1:if(!ut&&(Ii(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,t,a)}rr(e,t,n);break;case 21:rr(e,t,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,rr(e,t,n),ut=r):rr(e,t,n);break;default:rr(e,t,n)}}function Dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yj),t.forEach(function(r){var i=Tj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,an=!1;break e;case 3:Je=a.stateNode.containerInfo,an=!0;break e;case 4:Je=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(Je===null)throw Error(U(160));uN(s,o,i),Je=null,an=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cN(t,e),t=t.sibling}function cN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),wn(e),r&4){try{so(3,e,e.return),au(3,e)}catch(p){Ie(e,e.return,p)}try{so(5,e,e.return)}catch(p){Ie(e,e.return,p)}}break;case 1:nn(t,e),wn(e),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(nn(t,e),wn(e),r&512&&n!==null&&Ii(n,n.return),e.flags&32){var i=e.stateNode;try{po(i,"")}catch(p){Ie(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Rk(i,s),ng(a,o);var u=ng(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Ok(i,d):c==="dangerouslySetInnerHTML"?Dk(i,d):c==="children"?po(i,d):Ty(i,c,d,u)}switch(a){case"input":Zm(i,s);break;case"textarea":Ik(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Vi(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Vi(i,!!s.multiple,s.defaultValue,!0):Vi(i,!!s.multiple,s.multiple?[]:"",!1))}i[So]=s}catch(p){Ie(e,e.return,p)}}break;case 6:if(nn(t,e),wn(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){Ie(e,e.return,p)}}break;case 3:if(nn(t,e),wn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(t.containerInfo)}catch(p){Ie(e,e.return,p)}break;case 4:nn(t,e),wn(e);break;case 13:nn(t,e),wn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ov=Le())),r&4&&Dw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(u=ut)||c,nn(t,e),ut=u):nn(t,e),wn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(K=e,c=e.child;c!==null;){for(d=K=c;K!==null;){switch(f=K,h=f.child,f.tag){case 0:case 11:case 14:case 15:so(4,f,f.return);break;case 1:Ii(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Ie(r,n,p)}}break;case 5:Ii(f,f.return);break;case 22:if(f.memoizedState!==null){Ow(d);continue}}h!==null?(h.return=f,K=h):Ow(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lk("display",o))}catch(p){Ie(e,e.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Ie(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nn(t,e),wn(e),r&4&&Dw(e);break;case 21:break;default:nn(t,e),wn(e)}}function wn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lN(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(po(i,""),r.flags&=-33);var s=jw(e);Rg(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jw(e);Ag(e,a,o);break;default:throw Error(U(161))}}catch(l){Ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wj(e,t,n){K=e,dN(e)}function dN(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ea;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ut;a=Ea;var u=ut;if(Ea=o,(ut=l)&&!u)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?qw(i):l!==null?(l.return=o,K=l):qw(i);for(;s!==null;)K=s,dN(s),s=s.sibling;K=i,Ea=a,ut=u}Lw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):Lw(e)}}function Lw(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||au(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:on(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xw(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ut||t.flags&512&&Pg(t)}catch(f){Ie(t,t.return,f)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Ow(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function qw(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(l){Ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ie(t,i,l)}}var s=t.return;try{Pg(t)}catch(l){Ie(t,s,l)}break;case 5:var o=t.return;try{Pg(t)}catch(l){Ie(t,o,l)}}}catch(l){Ie(t,t.return,l)}if(t===e){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var xj=Math.ceil,kl=Jn.ReactCurrentDispatcher,iv=Jn.ReactCurrentOwner,Yt=Jn.ReactCurrentBatchConfig,fe=0,Ke=null,qe=null,tt=0,Mt=0,ji=Ir(0),Be=0,Mo=null,si=0,lu=0,sv=0,oo=null,xt=null,ov=0,ns=1/0,In=null,Tl=!1,Ig=null,br=null,Ca=!1,gr=null,Nl=0,ao=0,jg=null,Xa=-1,Za=0;function mt(){return fe&6?Le():Xa!==-1?Xa:Xa=Le()}function Sr(e){return e.mode&1?fe&2&&tt!==0?tt&-tt:rj.transition!==null?(Za===0&&(Za=Yk()),Za):(e=pe,e!==0||(e=window.event,e=e===void 0?16:nT(e.type)),e):1}function fn(e,t,n,r){if(50<ao)throw ao=0,jg=null,Error(U(185));Uo(e,n,r),(!(fe&2)||e!==Ke)&&(e===Ke&&(!(fe&2)&&(lu|=n),Be===4&&fr(e,tt)),Ct(e,r),n===1&&fe===0&&!(t.mode&1)&&(ns=Le()+500,iu&&jr()))}function Ct(e,t){var n=e.callbackNode;rI(e,t);var r=dl(e,e===Ke?tt:0);if(r===0)n!==null&&W0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&W0(n),t===1)e.tag===0?nj(Fw.bind(null,e)):_T(Fw.bind(null,e)),QI(function(){!(fe&6)&&jr()}),n=null;else{switch(Xk(r)){case 1:n=Ry;break;case 4:n=Wk;break;case 16:n=cl;break;case 536870912:n=Kk;break;default:n=cl}n=wN(n,fN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fN(e,t){if(Xa=-1,Za=0,fe&6)throw Error(U(327));var n=e.callbackNode;if(Gi()&&e.callbackNode!==n)return null;var r=dl(e,e===Ke?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ml(e,r);else{t=r;var i=fe;fe|=2;var s=pN();(Ke!==e||tt!==t)&&(In=null,ns=Le()+500,Zr(e,t));do try{Sj();break}catch(a){hN(e,a)}while(!0);Hy(),kl.current=s,fe=i,qe!==null?t=0:(Ke=null,tt=0,t=Be)}if(t!==0){if(t===2&&(i=ag(e),i!==0&&(r=i,t=Dg(e,i))),t===1)throw n=Mo,Zr(e,0),fr(e,r),Ct(e,Le()),n;if(t===6)fr(e,r);else{if(i=e.current.alternate,!(r&30)&&!_j(i)&&(t=Ml(e,r),t===2&&(s=ag(e),s!==0&&(r=s,t=Dg(e,s))),t===1))throw n=Mo,Zr(e,0),fr(e,r),Ct(e,Le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:$r(e,xt,In);break;case 3:if(fr(e,r),(r&130023424)===r&&(t=ov+500-Le(),10<t)){if(dl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mg($r.bind(null,e,xt,In),t);break}$r(e,xt,In);break;case 4:if(fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-dn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xj(r/1960))-r,10<r){e.timeoutHandle=mg($r.bind(null,e,xt,In),r);break}$r(e,xt,In);break;case 5:$r(e,xt,In);break;default:throw Error(U(329))}}}return Ct(e,Le()),e.callbackNode===n?fN.bind(null,e):null}function Dg(e,t){var n=oo;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=Ml(e,t),e!==2&&(t=xt,xt=n,t!==null&&Lg(t)),e}function Lg(e){xt===null?xt=e:xt.push.apply(xt,e)}function _j(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~sv,t&=~lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dn(t),r=1<<n;e[n]=-1,t&=~r}}function Fw(e){if(fe&6)throw Error(U(327));Gi();var t=dl(e,0);if(!(t&1))return Ct(e,Le()),null;var n=Ml(e,t);if(e.tag!==0&&n===2){var r=ag(e);r!==0&&(t=r,n=Dg(e,r))}if(n===1)throw n=Mo,Zr(e,0),fr(e,t),Ct(e,Le()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,xt,In),Ct(e,Le()),null}function av(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(ns=Le()+500,iu&&jr())}}function oi(e){gr!==null&&gr.tag===0&&!(fe&6)&&Gi();var t=fe;fe|=1;var n=Yt.transition,r=pe;try{if(Yt.transition=null,pe=1,e)return e()}finally{pe=r,Yt.transition=n,fe=t,!(fe&6)&&jr()}}function lv(){Mt=ji.current,_e(ji)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZI(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(By(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gl();break;case 3:es(),_e(St),_e(dt),Zy();break;case 5:Xy(r);break;case 4:es();break;case 13:_e(Ne);break;case 19:_e(Ne);break;case 10:Gy(r.type._context);break;case 22:case 23:lv()}n=n.return}if(Ke=e,qe=e=Er(e.current,null),tt=Mt=t,Be=0,Mo=null,sv=lu=si=0,xt=oo=null,Hr!==null){for(t=0;t<Hr.length;t++)if(n=Hr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hr=null}return e}function hN(e,t){do{var n=qe;try{if(Hy(),Wa.current=Cl,El){for(var r=Pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}El=!1}if(ii=0,We=Ve=Pe=null,io=!1,ko=0,iv.current=null,n===null||n.return===null){Be=1,Mo=t,qe=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=kw(o);if(h!==null){h.flags&=-257,Tw(h,o,a,s,t),h.mode&1&&Cw(s,u,t),t=h,l=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(l),t.updateQueue=p}else g.add(l);break e}else{if(!(t&1)){Cw(s,u,t),uv();break e}l=Error(U(426))}}else if(Ce&&a.mode&1){var v=kw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Tw(v,o,a,s,t),zy(ts(l,a));break e}}s=l=ts(l,a),Be!==4&&(Be=2),oo===null?oo=[s]:oo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=XT(s,l,t);ww(s,m);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(br===null||!br.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=ZT(s,a,t);ww(s,_);break e}}s=s.return}while(s!==null)}gN(n)}catch(b){t=b,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(!0)}function pN(){var e=kl.current;return kl.current=Cl,e===null?Cl:e}function uv(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(si&268435455)&&!(lu&268435455)||fr(Ke,tt)}function Ml(e,t){var n=fe;fe|=2;var r=pN();(Ke!==e||tt!==t)&&(In=null,Zr(e,t));do try{bj();break}catch(i){hN(e,i)}while(!0);if(Hy(),fe=n,kl.current=r,qe!==null)throw Error(U(261));return Ke=null,tt=0,Be}function bj(){for(;qe!==null;)mN(qe)}function Sj(){for(;qe!==null&&!K2();)mN(qe)}function mN(e){var t=vN(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?gN(e):qe=t,iv.current=null}function gN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gj(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,qe=null;return}}else if(n=mj(n,t,Mt),n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Be===0&&(Be=5)}function $r(e,t,n){var r=pe,i=Yt.transition;try{Yt.transition=null,pe=1,Ej(e,t,n,r)}finally{Yt.transition=i,pe=r}return null}function Ej(e,t,n,r){do Gi();while(gr!==null);if(fe&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(iI(e,s),e===Ke&&(qe=Ke=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ca||(Ca=!0,wN(cl,function(){return Gi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yt.transition,Yt.transition=null;var o=pe;pe=1;var a=fe;fe|=4,iv.current=null,vj(e,n),cN(n,e),UI(hg),fl=!!fg,hg=fg=null,e.current=n,wj(n),Y2(),fe=a,pe=o,Yt.transition=s}else e.current=n;if(Ca&&(Ca=!1,gr=e,Nl=i),s=e.pendingLanes,s===0&&(br=null),Q2(n.stateNode),Ct(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tl)throw Tl=!1,e=Ig,Ig=null,e;return Nl&1&&e.tag!==0&&Gi(),s=e.pendingLanes,s&1?e===jg?ao++:(ao=0,jg=e):ao=0,jr(),null}function Gi(){if(gr!==null){var e=Xk(Nl),t=Yt.transition,n=pe;try{if(Yt.transition=null,pe=16>e?16:e,gr===null)var r=!1;else{if(e=gr,gr=null,Nl=0,fe&6)throw Error(U(331));var i=fe;for(fe|=4,K=e.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:so(8,c,s)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var f=c.sibling,h=c.return;if(aN(c),c===u){K=null;break}if(f!==null){f.return=h,K=f;break}K=h}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:so(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,K=m;break e}K=s.return}}var y=e.current;for(K=y;K!==null;){o=K;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,K=x;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:au(9,a)}}catch(b){Ie(a,a.return,b)}if(a===o){K=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,K=_;break e}K=a.return}}if(fe=i,jr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Jl,e)}catch{}r=!0}return r}finally{pe=n,Yt.transition=t}}return!1}function $w(e,t,n){t=ts(n,t),t=XT(e,t,1),e=_r(e,t,1),t=mt(),e!==null&&(Uo(e,1,t),Ct(e,t))}function Ie(e,t,n){if(e.tag===3)$w(e,e,n);else for(;t!==null;){if(t.tag===3){$w(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(br===null||!br.has(r))){e=ts(n,e),e=ZT(t,e,1),t=_r(t,e,1),e=mt(),t!==null&&(Uo(t,1,e),Ct(t,e));break}}t=t.return}}function Cj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(tt&n)===n&&(Be===4||Be===3&&(tt&130023424)===tt&&500>Le()-ov?Zr(e,0):sv|=n),Ct(e,t)}function yN(e,t){t===0&&(e.mode&1?(t=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):t=1);var n=mt();e=Wn(e,t),e!==null&&(Uo(e,t,n),Ct(e,n))}function kj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yN(e,n)}function Tj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),yN(e,n)}var vN;vN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)_t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _t=!1,pj(e,t,n);_t=!!(e.flags&131072)}else _t=!1,Ce&&t.flags&1048576&&bT(t,wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ya(e,t),e=t.pendingProps;var i=Zi(t,dt.current);Hi(t,n),i=Jy(null,t,r,e,i,n);var s=ev();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(r)?(s=!0,yl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ky(t),i.updater=ou,t.stateNode=i,i._reactInternals=t,bg(t,r,e,n),t=Cg(null,t,r,!0,s,n)):(t.tag=0,Ce&&s&&Vy(t),pt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ya(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Mj(r),e=on(r,e),i){case 0:t=Eg(null,t,r,e,n);break e;case 1:t=Pw(null,t,r,e,n);break e;case 11:t=Nw(null,t,r,e,n);break e;case 14:t=Mw(null,t,r,on(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Eg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Pw(e,t,r,i,n);case 3:e:{if(tN(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,i=s.element,NT(e,t),bl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ts(Error(U(423)),t),t=Aw(e,t,r,n,i);break e}else if(r!==i){i=ts(Error(U(424)),t),t=Aw(e,t,r,n,i);break e}else for(At=xr(t.stateNode.containerInfo.firstChild),Rt=t,Ce=!0,un=null,n=kT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qi(),r===i){t=Kn(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return MT(t),e===null&&wg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,pg(r,i)?o=null:s!==null&&pg(r,s)&&(t.flags|=32),eN(e,t),pt(e,t,o,n),t.child;case 6:return e===null&&wg(t),null;case 13:return nN(e,t,n);case 4:return Yy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ji(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Nw(e,t,r,i,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ye(xl,r._currentValue),r._currentValue=o,s!==null)if(pn(s.value,o)){if(s.children===i.children&&!St.current){t=Kn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xg(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xg(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hi(t,n),i=Xt(i),r=r(i),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,i=on(r,t.pendingProps),i=on(r.type,i),Mw(e,t,r,i,n);case 15:return QT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Ya(e,t),t.tag=1,Et(r)?(e=!0,yl(t)):e=!1,Hi(t,n),YT(t,r,i),bg(t,r,i,n),Cg(null,t,r,!0,e,n);case 19:return rN(e,t,n);case 22:return JT(e,t,n)}throw Error(U(156,t.tag))};function wN(e,t){return Gk(e,t)}function Nj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,r){return new Nj(e,t,n,r)}function cv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mj(e){if(typeof e=="function")return cv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===My)return 11;if(e===Py)return 14}return 2}function Er(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")cv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ei:return Qr(n.children,i,s,t);case Ny:o=8,i|=8;break;case Gm:return e=Wt(12,n,t,i|2),e.elementType=Gm,e.lanes=s,e;case Wm:return e=Wt(13,n,t,i),e.elementType=Wm,e.lanes=s,e;case Km:return e=Wt(19,n,t,i),e.elementType=Km,e.lanes=s,e;case Mk:return uu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tk:o=10;break e;case Nk:o=9;break e;case My:o=11;break e;case Py:o=14;break e;case ar:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Qr(e,t,n,r){return e=Wt(7,e,r,t),e.lanes=n,e}function uu(e,t,n,r){return e=Wt(22,e,r,t),e.elementType=Mk,e.lanes=n,e.stateNode={isHidden:!1},e}function _c(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function bc(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pj(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nc(0),this.expirationTimes=nc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dv(e,t,n,r,i,s,o,a,l){return e=new Pj(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ky(s),e}function Aj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Si,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xN(e){if(!e)return Nr;e=e._reactInternals;e:{if(ci(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Et(n))return xT(e,n,t)}return t}function _N(e,t,n,r,i,s,o,a,l){return e=dv(n,r,!0,e,i,s,o,a,l),e.context=xN(null),n=e.current,r=mt(),i=Sr(n),s=Vn(r,i),s.callback=t??null,_r(n,s,i),e.current.lanes=i,Uo(e,i,r),Ct(e,r),e}function cu(e,t,n,r){var i=t.current,s=mt(),o=Sr(i);return n=xN(n),t.context===null?t.context=n:t.pendingContext=n,t=Vn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(i,t,o),e!==null&&(fn(e,i,o,s),Ga(e,i,o)),o}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fv(e,t){Vw(e,t),(e=e.alternate)&&Vw(e,t)}function Rj(){return null}var bN=typeof reportError=="function"?reportError:function(e){console.error(e)};function hv(e){this._internalRoot=e}du.prototype.render=hv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));cu(e,t,null,null)};du.prototype.unmount=hv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oi(function(){cu(null,e,null,null)}),t[Gn]=null}};function du(e){this._internalRoot=e}du.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dr.length&&t!==0&&t<dr[n].priority;n++);dr.splice(n,0,e),n===0&&tT(e)}};function pv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bw(){}function Ij(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Pl(o);s.call(u)}}var o=_N(t,r,e,0,null,!1,!1,"",Bw);return e._reactRootContainer=o,e[Gn]=o.current,_o(e.nodeType===8?e.parentNode:e),oi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Pl(l);a.call(u)}}var l=dv(e,0,!1,null,null,!1,!1,"",Bw);return e._reactRootContainer=l,e[Gn]=l.current,_o(e.nodeType===8?e.parentNode:e),oi(function(){cu(t,l,n,r)}),l}function hu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Pl(o);a.call(l)}}cu(t,o,e,i)}else o=Ij(n,t,e,i,r);return Pl(o)}Zk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Iy(t,n|1),Ct(t,Le()),!(fe&6)&&(ns=Le()+500,jr()))}break;case 13:oi(function(){var r=Wn(e,1);if(r!==null){var i=mt();fn(r,e,1,i)}}),fv(e,1)}};jy=function(e){if(e.tag===13){var t=Wn(e,134217728);if(t!==null){var n=mt();fn(t,e,134217728,n)}fv(e,134217728)}};Qk=function(e){if(e.tag===13){var t=Sr(e),n=Wn(e,t);if(n!==null){var r=mt();fn(n,e,t,r)}fv(e,t)}};Jk=function(){return pe};eT=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};ig=function(e,t,n){switch(t){case"input":if(Zm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ru(r);if(!i)throw Error(U(90));Ak(r),Zm(r,i)}}}break;case"textarea":Ik(e,n);break;case"select":t=n.value,t!=null&&Vi(e,!!n.multiple,t,!1)}};$k=av;Vk=oi;var jj={usingClientEntryPoint:!1,Events:[Go,Ni,ru,qk,Fk,av]},Ms={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dj={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uk(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Jl=ka.inject(Dj),Sn=ka}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jj;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pv(t))throw Error(U(200));return Aj(e,t,null,n)};Ot.createRoot=function(e,t){if(!pv(e))throw Error(U(299));var n=!1,r="",i=bN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=dv(e,1,!1,null,null,n,!1,r,i),e[Gn]=t.current,_o(e.nodeType===8?e.parentNode:e),new hv(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Uk(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return oi(e)};Ot.hydrate=function(e,t,n){if(!fu(t))throw Error(U(200));return hu(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!pv(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=_N(t,null,e,1,n??null,i,!1,s,o),e[Gn]=t.current,_o(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new du(t)};Ot.render=function(e,t,n){if(!fu(t))throw Error(U(200));return hu(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!fu(e))throw Error(U(40));return e._reactRootContainer?(oi(function(){hu(null,null,e,!1,function(){e._reactRootContainer=null,e[Gn]=null})}),!0):!1};Ot.unstable_batchedUpdates=av;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fu(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return hu(e,t,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function SN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SN)}catch(e){console.error(e)}}SN(),Sk.exports=Ot;var Lj=Sk.exports,zw=Lj;Um.createRoot=zw.createRoot,Um.hydrateRoot=zw.hydrateRoot;const Oj=()=>w.jsxs("svg",{className:"logo-mark",width:"54",height:"54",viewBox:"0 0 120 120",role:"img","aria-label":"Agent Director logo",children:[w.jsx("rect",{x:"8",y:"8",width:"104",height:"104",rx:"18",className:"logo-frame"}),w.jsx("rect",{x:"24",y:"28",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-a"}),w.jsx("rect",{x:"24",y:"52",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-b"}),w.jsx("rect",{x:"24",y:"76",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-c"}),w.jsx("circle",{cx:"96",cy:"36",r:"6",className:"logo-node logo-node-a"}),w.jsx("circle",{cx:"96",cy:"60",r:"6",className:"logo-node logo-node-b"}),w.jsx("circle",{cx:"96",cy:"84",r:"6",className:"logo-node logo-node-c"})]});function qj({trace:e,traces:t=[],selectedTraceId:n,onSelectTrace:r,onReload:i,onStartTour:s,onToggleStory:o,onOpenPalette:a,onToggleExplain:l,explainMode:u=!1,storyActive:c=!1}){return w.jsxs("header",{className:"header","data-help":!0,"data-help-indicator":!0,"data-tour":"header","data-help-title":"Mission control","data-help-body":"Trace identity, status, and live controls live here. Use Story, Guide, or Explain to orient new viewers.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"header-title",children:[w.jsxs("div",{className:"header-logo",children:[w.jsx(Oj,{}),w.jsx("span",{children:"Agent Director"})]}),w.jsx("div",{className:"header-tagline",children:"Cinematic trace intelligence for agent runs."}),w.jsxs("div",{className:"header-meta",children:[w.jsxs("span",{className:"header-run",children:["Run: ",(e==null?void 0:e.id)??"loading"]}),t.length>0?w.jsx("select",{className:"trace-select",value:n??(e==null?void 0:e.id)??"","aria-label":"Select trace",onChange:d=>r==null?void 0:r(d.target.value),"data-help":!0,"data-help-title":"Trace selector","data-help-body":"Switch between available runs to compare different sessions.","data-help-placement":"bottom",children:t.map(d=>w.jsxs("option",{value:d.id,children:[d.name," (",d.id,")"]},d.id))}):null,w.jsx("span",{className:`status-pill status-${(e==null?void 0:e.status)??"loading"}`,children:(e==null?void 0:e.status)??"loading"}),e!=null&&e.replay?w.jsxs("span",{className:"header-replay",title:`Replay from ${e.branchPointStepId??"unknown step"}`,children:["Replay: ",e.replay.strategy]}):null,w.jsxs("span",{className:"header-wall",children:["Wall: ",(e==null?void 0:e.metadata.wallTimeMs)??0,"ms"]})]})]}),w.jsxs("div",{className:"header-actions",children:[w.jsx("button",{className:`ghost-button ${c?"active":""}`,type:"button",onClick:o,"aria-pressed":c,"aria-label":"Toggle story mode","data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough for demos.","data-help-placement":"bottom",children:"Story"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:s,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk through the interface step by step.","data-help-placement":"bottom",children:"Guide"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:a,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search and trigger any action instantly.","data-help-placement":"bottom",children:"Command"}),w.jsx("button",{className:`ghost-button ${u?"active":""}`,type:"button",onClick:l,"aria-pressed":u,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Hover any control to see contextual guidance.","data-help-placement":"bottom",children:"Explain"}),w.jsx("button",{className:"ghost-button",onClick:i,type:"button","aria-label":"Refresh traces",title:"Refresh traces","data-help":!0,"data-help-title":"Refresh","data-help-body":"Reload traces from the data store.","data-help-placement":"bottom",children:"Refresh"}),null]})]})}function Fj({insights:e,onSelectStep:t,onJumpToBottleneck:n,onJumpToError:r}){var c,d;if(!e)return null;const i=e.timing,s=e.ioWarnings??[],o=e.concurrency,a=e.retryPatterns,l=e.costByTool??{},u=e.costByModel??{};return w.jsxs("section",{className:"insight-strip","data-help":!0,"data-help-indicator":!0,"data-tour":"insights","data-help-title":"Run insights","data-help-body":"Fast diagnostics for latency, cost, errors, and concurrency. Click chips to jump into the trace.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Top latency","data-help-body":"Largest steps by duration; jump straight to the slowest.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Top latency"}),w.jsxs("div",{className:"insight-items",children:[e.topLatencySteps.map(f=>w.jsxs("button",{className:"insight-chip",type:"button",title:`Jump to ${f.name}`,onClick:()=>t==null?void 0:t(f.stepId),children:[f.name," (",f.durationMs,"ms)"]},f.stepId)),e.topLatencySteps.length>0?w.jsx("button",{className:"insight-chip",type:"button",onClick:n,title:"Jump to longest step",children:"Jump to bottleneck"}):null]})]}),w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by type","data-help-body":"Aggregated spend by step class.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Cost by type"}),w.jsx("div",{className:"insight-items",children:Object.entries(e.costByType).map(([f,h])=>w.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}),Object.keys(l).length?w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by tool","data-help-body":"Top tools by total spend.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Cost by tool"}),w.jsx("div",{className:"insight-items",children:Object.entries(l).sort((f,h)=>h[1]-f[1]).slice(0,3).map(([f,h])=>w.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}):null,w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Errors & retries","data-help-body":"Instant visibility into failed or retried steps.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Errors / retries"}),w.jsxs("div",{className:"insight-items",children:[w.jsxs("span",{className:"insight-chip",children:["Errors: ",e.errors]}),w.jsxs("span",{className:"insight-chip",children:["Retries: ",e.retries]}),e.errors>0?w.jsx("button",{className:"insight-chip",type:"button",onClick:r,title:"Jump to first error",children:"Jump to first error"}):null,(c=a==null?void 0:a.topRetries)!=null&&c.length?w.jsxs("span",{className:"insight-chip",title:`Retry rate ${(a.retryRate*100).toFixed(1)}%`,children:["Top retries: ",a.topRetries.length]}):null]})]}),w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Wall vs work","data-help-body":"Wall time vs summed work to show parallelism.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Wall vs work"}),w.jsxs("div",{className:"insight-items",children:[w.jsxs("span",{className:"insight-chip",title:"Wall clock duration",children:["Wall: ",e.wallTimeMs,"ms"]}),w.jsxs("span",{className:"insight-chip",title:"Sum of step durations",children:["Work: ",e.workTimeMs,"ms"]}),e.criticalPathMs!=null?w.jsxs("span",{className:"insight-chip",title:"Longest parent-child chain",children:["Critical: ",e.criticalPathMs,"ms"]}):null]})]}),w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Health","data-help-body":"Timing and I/O anomalies detected in the trace.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Health"}),w.jsxs("div",{className:"insight-items",children:[i!=null&&i.degraded?w.jsx("span",{className:"insight-chip insight-warning",title:i.issues.join(" "),children:"Timing degraded"}):w.jsx("span",{className:"insight-chip",children:"Timing OK"}),s.length>0?w.jsxs("span",{className:"insight-chip insight-warning",title:s.map(f=>f.message).join(" "),children:["IO warnings: ",s.length]}):w.jsx("span",{className:"insight-chip",children:"IO OK"})]})]}),(d=o==null?void 0:o.buckets)!=null&&d.length?w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Parallelism","data-help-body":"How many steps ran concurrently over time.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Parallelism"}),w.jsx("div",{className:"insight-items",children:w.jsx("div",{className:"insight-heatmap",title:`Peak concurrency: ${o.peak}`,children:o.buckets.map((f,h)=>w.jsx("span",{className:"heatmap-bar",style:{height:`${Math.max(20,f.active/Math.max(1,o.peak)*48)}px`},title:`Bucket ${h+1}: ${f.active} active`},`${f.startMs}-${f.endMs}`))})})]}):null,Object.keys(u).length?w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Model cost","data-help-body":"Spend by model family.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Model cost"}),w.jsx("div",{className:"insight-items",children:Object.entries(u).map(([f,h])=>w.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}):null]})}const $j=["all","llm_call","tool_call","decision","handoff","guardrail"];function Vj({query:e,typeFilter:t,onQueryChange:n,onTypeFilterChange:r}){return w.jsxs("div",{className:"search-bar",children:[w.jsx("input",{className:"search-input",placeholder:"Search steps, tools, previews...","aria-label":"Search steps",value:e,onChange:i=>n(i.target.value),"data-help":!0,"data-help-title":"Search","data-help-body":"Filter steps by name, tool, or payload preview. Great for fast recall.","data-help-placement":"bottom"}),w.jsx("select",{className:"search-select",value:t,"aria-label":"Filter by step type",onChange:i=>r(i.target.value),"data-help":!0,"data-help-title":"Type filter","data-help-body":"Narrow the timeline to a specific class of steps (LLM, tool, decision, handoff).","data-help-placement":"bottom",children:$j.map(i=>w.jsx("option",{value:i,children:i},i))})]})}function pu(e,t,n){const r=Date.parse(e),i=n.map(c=>Date.parse(c.endedAt??c.startedAt)).filter(c=>Number.isFinite(c)),s=t?Date.parse(t):i.length?Math.max(...i):r,o=Math.max(1,s-r),a=n.map(c=>{const d=Math.max(0,Date.parse(c.startedAt)-r),f=Math.max(d,Date.parse(c.endedAt??c.startedAt)-r);return{stepId:c.id,startMs:d,endMs:f}}).sort((c,d)=>c.startMs-d.startMs||c.endMs-d.endMs),l=[],u=[];for(const c of a){let d=l.findIndex(f=>f<=c.startMs);d===-1?(d=l.length,l.push(c.endMs)):l[d]=c.endMs,u.push({stepId:c.stepId,startMs:c.startMs,endMs:c.endMs,lane:d,xPct:c.startMs/o*100,wPct:Math.max(.75,(c.endMs-c.startMs)/o*100)})}return{wallTimeMs:o,intervals:u,laneCount:l.length}}function Bj(e){var g;const n=e.steps.map(p=>({stepId:p.id,name:p.name,durationMs:p.durationMs??0})).sort((p,v)=>v.durationMs-p.durationMs).slice(0,3),r={},i={};for(const p of e.steps)((g=p.metrics)==null?void 0:g.costUsd)!=null&&(r[p.type]=(r[p.type]??0)+p.metrics.costUsd,p.type==="tool_call"&&(i[p.name]=(i[p.name]??0)+p.metrics.costUsd));const s=e.steps.filter(p=>p.status==="failed").length,o=e.steps.filter(p=>!!p.retryOfStepId).length,a=e.metadata.wallTimeMs,l=e.metadata.workTimeMs??e.steps.reduce((p,v)=>p+(v.durationMs??0),0),u=zj(e),c=Uj(e.steps),d=Hj(e.steps),f=Gj(e),h=Wj(e.steps);return{topLatencySteps:n,costByType:r,costByTool:i,costByModel:{[e.metadata.modelId]:e.metadata.totalCostUsd??0},errors:s,retries:o,wallTimeMs:a,workTimeMs:l,timing:u,ioWarnings:c,criticalPathMs:d,concurrency:f,retryPatterns:h}}function EN(e){var n;const t=(n=e.metrics)==null?void 0:n.costUsd;return t==null?null:`$${t.toFixed(3)}`}function Dn(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function zj(e){const t=Dn(e.startedAt),n=Dn(e.endedAt??void 0),r=[],i=[],s=[];return t==null&&s.push("Trace start time missing or invalid."),e.steps.forEach(o=>{const a=Dn(o.startedAt),l=Dn(o.endedAt??o.startedAt);if(a==null||l==null){r.push(o.id);return}if(l<a){i.push(o.id);return}t!=null&&a<t&&i.push(o.id),n!=null&&l>n&&i.push(o.id)}),r.length&&s.push(`Missing timestamps on ${r.length} steps.`),i.length&&s.push(`Timestamp skew detected on ${i.length} steps.`),{degraded:!!(r.length||i.length||t==null),issues:s,missingStepIds:r,skewedStepIds:i}}function Uj(e){const t=new Map;e.forEach(s=>{s.type==="tool_call"&&s.toolCallId&&t.set(s.toolCallId,s)});const n=new Set,r=new Set,i=[];return e.forEach(s=>{s.type!=="llm_call"||!s.io||((s.io.emittedToolCallIds??[]).forEach(o=>{n.add(o),t.has(o)||i.push({kind:"missing_tool_step",message:`Emitted toolCallId ${o} has no tool step.`,stepId:s.id,toolCallId:o})}),(s.io.consumedToolCallIds??[]).forEach(o=>{r.add(o),t.has(o)||i.push({kind:"missing_tool_step",message:`Consumed toolCallId ${o} has no tool step.`,stepId:s.id,toolCallId:o}),n.has(o)||i.push({kind:"consume_without_emit",message:`Consumed toolCallId ${o} without emission.`,stepId:s.id,toolCallId:o})}))}),t.forEach((s,o)=>{n.has(o)||i.push({kind:"unemitted_tool",message:`Tool step ${s.id} has toolCallId ${o} never emitted.`,stepId:s.id,toolCallId:o}),r.has(o)||i.push({kind:"unconsumed_tool",message:`Tool step ${s.id} has toolCallId ${o} never consumed.`,stepId:s.id,toolCallId:o})}),i}function Hj(e){const t=new Map,n=new Map,r=[];e.forEach(o=>{if(t.set(o.id,o.durationMs??0),o.parentStepId){const a=n.get(o.parentStepId)??[];a.push(o.id),n.set(o.parentStepId,a)}else r.push(o.id)});const i=new Map,s=o=>{if(i.has(o))return i.get(o)??0;const l=(n.get(o)??[]).reduce((c,d)=>Math.max(c,s(d)),0),u=(t.get(o)??0)+l;return i.set(o,u),u};return r.length?Math.max(...r.map(o=>s(o))):0}function Gj(e){const t=Dn(e.startedAt);if(t==null)return{buckets:[],peak:0};const n=Dn(e.endedAt??void 0)??Math.max(...e.steps.map(l=>Dn(l.endedAt??l.startedAt)??t),t),r=Math.max(1,n-t),i=12,s=Math.max(1,Math.floor(r/i)),o=[];let a=0;for(let l=0;l<i;l+=1){const u=t+l*s,c=u+s;let d=0;e.steps.forEach(f=>{const h=Dn(f.startedAt),g=Dn(f.endedAt??f.startedAt);h==null||g==null||g>=u&&h<=c&&(d+=1)}),a=Math.max(a,d),o.push({startMs:l*s,endMs:(l+1)*s,active:d})}return{buckets:o,peak:a}}function Wj(e){const t={};e.forEach(i=>{i.retryOfStepId&&(t[i.retryOfStepId]=(t[i.retryOfStepId]??0)+1)});const n=Object.values(t).reduce((i,s)=>i+s,0),r=Object.entries(t).sort((i,s)=>s[1]-i[1]).slice(0,3);return{totalRetries:n,retryRate:e.length?n/e.length:0,topRetries:r.map(([i,s])=>({stepId:i,count:s}))}}const Kj={llm_call:{label:"LLM",icon:"LLM",description:"Model call"},tool_call:{label:"TOOL",icon:"TOOL",description:"Tool call"},decision:{label:"DEC",icon:"DEC",description:"Decision"},handoff:{label:"HAND",icon:"HAND",description:"Handoff"},guardrail:{label:"GUARD",icon:"GUARD",description:"Guardrail"}};function Yj(e){return Kj[e]}function mv({type:e,size:t="sm",showLabel:n=!1}){const r=Yj(e);return w.jsxs("span",{className:`step-badge step-badge-${e} step-badge-${t}`,title:r.description,children:[w.jsx("span",{className:"step-badge-icon",children:r.icon}),n?w.jsx("span",{className:"step-badge-label",children:r.label}):null]})}function CN({step:e,interval:t,playbackState:n,selected:r,onSelect:i,variant:s="base",diffStatus:o,disabled:a=!1,laneHeight:l=140}){var _,b,C,k,T,M;const u=EN(e),c=((_=e.preview)==null?void 0:_.subtitle)??((b=e.preview)==null?void 0:b.title)??"",d=((C=e.preview)==null?void 0:C.outputPreview)??((k=e.preview)==null?void 0:k.inputPreview)??"",f=o?`step-diff-${o}`:"",h=s==="ghost"?"step-ghost":"",g=t.wPct<8?"step-compact":"",p=e.type.replace("_"," ").toUpperCase(),v=((T=e.metrics)==null?void 0:T.tokensTotal)!=null?`${e.metrics.tokensTotal} tokens`:null,m=e.durationMs!=null?`${e.durationMs}ms`:null,y=[v,m,u].filter(Boolean).join("  "),x=`Click to inspect inputs/outputs and replay from this moment.${y?` ${y}.`:""}`;return w.jsxs("button",{type:"button",className:`step-card step-${e.type} step-${n} ${r?"step-selected":""} ${f} ${h} ${g}`,"data-step-id":e.id,"aria-label":`${e.name} (${e.type})`,"aria-pressed":r,"aria-hidden":s==="ghost",disabled:a,"data-help":!0,"data-help-title":`${e.name}  ${p}`,"data-help-body":x,"data-help-placement":"top",style:{left:`${t.xPct}%`,width:`${t.wPct}%`,top:`${t.lane*l}px`},onClick:()=>{a||i(e.id)},children:[w.jsxs("div",{className:"step-card-header",children:[w.jsxs("div",{className:"step-title-group",children:[w.jsx(mv,{type:e.type}),w.jsx("span",{className:"step-title",children:e.name})]}),w.jsx("span",{className:`status-pill status-${e.status}`,children:e.status})]}),c?w.jsx("div",{className:"step-subtitle",children:c}):null,w.jsxs("div",{className:"step-metrics",children:[((M=e.metrics)==null?void 0:M.tokensTotal)!=null?w.jsxs("span",{children:[e.metrics.tokensTotal," tok"]}):null,e.durationMs!=null?w.jsxs("span",{children:[e.durationMs,"ms"]}):null,u?w.jsx("span",{children:u}):null]}),d?w.jsx("div",{className:"step-preview",children:d}):null]})}function kN(e,t){return t<e.startMs?"future":t>e.endMs?"past":"active"}const Xj=140,Zj=132,Qj=96,Uw={llm_call:1,tool_call:2,decision:3,handoff:4,guardrail:5};function TN(e){return[...e].sort((t,n)=>(Uw[t.type]??9)-(Uw[n.type]??9))}function Og({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:i,playheadMs:s,windowRange:o,ghostTrace:a,diff:l,laneHeight:u=Xj,cardHeight:c=Zj,compactHeight:d=Qj}){const{intervals:f,laneCount:h}=pu(e.startedAt,e.endedAt,t),g=new Map(f.map(k=>[k.stepId,k])),p=TN(t),v=e.metadata.wallTimeMs||1,m=new Set((l==null?void 0:l.removedSteps)??[]),y=new Set((l==null?void 0:l.changedSteps)??[]),x=new Set(((l==null?void 0:l.changedPairs)??[]).map(k=>k.rightId)),_=new Set((l==null?void 0:l.addedSteps)??[]);let b=f;if(o){const k=o.endMs-o.startMs,T=Math.max(1e3,k*.15),M=Math.max(0,o.startMs-T),A=o.endMs+T;if(b=f.filter(I=>I.endMs>=M&&I.startMs<=A),n&&!b.some(I=>I.stepId===n)){const I=g.get(n);I&&(b=[...b,I])}}const C=new Set(b.map(k=>k.stepId));return w.jsx("div",{className:"timeline",style:{"--step-card-height":`${c}px`,"--step-compact-height":`${d}px`},children:w.jsxs("div",{className:"timeline-grid",style:{height:`${h*u}px`},"data-help":!0,"data-help-title":"Timeline lanes","data-help-body":"Each lane stacks overlapping steps; width reflects duration.","data-help-placement":"top",children:[w.jsx("div",{className:"playback-cursor",style:{left:`${i}%`}}),p.filter(k=>C.has(k.id)).map(k=>{const T=g.get(k.id);if(!T)return null;const M=kN(T,s);return w.jsx(CN,{step:k,interval:T,playbackState:M,selected:n===k.id,diffStatus:m.has(k.id)?"removed":y.has(k.id)?"changed":null,laneHeight:u,onSelect:r},k.id)}),a?w.jsx(Jj,{ghostTrace:a,baseWallTimeMs:v,playheadMs:s,windowRange:o,diffAdded:_,diffChanged:x,laneHeight:u}):null]})})}function Jj({ghostTrace:e,baseWallTimeMs:t,playheadMs:n,windowRange:r,diffAdded:i,diffChanged:s,laneHeight:o}){const{intervals:a,laneCount:l}=pu(e.startedAt,e.endedAt,e.steps),u=new Map(a.map(p=>[p.stepId,p])),c=e.metadata.wallTimeMs||1,d=n/t*c;let f=a;if(r){const p=r.endMs-r.startMs,v=Math.max(1e3,p*.15),m=c/t,y=Math.max(0,(r.startMs-v)*m),x=Math.min(c,(r.endMs+v)*m);f=a.filter(_=>_.endMs>=y&&_.startMs<=x)}const h=new Set(f.map(p=>p.stepId)),g=TN(e.steps);return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"ghost-lanes",style:{height:`${l*o}px`}}),g.filter(p=>h.has(p.id)).map(p=>{const v=u.get(p.id);if(!v)return null;const m=kN(v,d),y=i.has(p.id)?"added":s.has(p.id)?"changed":null;return w.jsx(CN,{step:p,interval:v,playbackState:m,selected:!1,diffStatus:y,variant:"ghost",disabled:!0,laneHeight:o,onSelect:()=>{}},`ghost-${p.id}`)})]})}function eD({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadMs:i,windowRange:s,timing:o,ghostTrace:a,diff:l}){const u=e.metadata.wallTimeMs||1,c=Math.min(100,Math.max(0,i/u*100));return w.jsxs("section",{className:"cinema-mode","aria-label":"Cinema mode",children:[o!=null&&o.degraded?w.jsxs("div",{className:"timing-banner",title:o.issues.join(" "),children:["Timing degraded: ",o.issues[0]??"Check timestamps."]}):null,w.jsx(Og,{trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:c,playheadMs:i,windowRange:s,ghostTrace:a,diff:l})]})}const tD=[.5,1,1.5,2,4];function Hw({playheadMs:e,wallTimeMs:t,isPlaying:n,speed:r,onToggle:i,onScrub:s,onSpeedChange:o}){const a=l=>{s(Number(l.target.value))};return w.jsxs("div",{className:"playback-controls",children:[w.jsx("button",{className:"ghost-button",type:"button",onClick:i,"aria-label":n?"Pause playback":"Play playback","data-help":!0,"data-help-title":"Playhead","data-help-body":"Start or pause the run to experience timing as it unfolded.","data-help-placement":"bottom",children:n?"Pause":"Play"}),w.jsx("input",{className:"playback-slider",type:"range",min:0,max:t,value:e,"aria-label":"Playback position",onChange:a,"data-help":!0,"data-help-title":"Scrub timeline","data-help-body":"Drag to jump to any moment in the run.","data-help-placement":"bottom"}),w.jsx("select",{className:"playback-speed",value:r,"aria-label":"Playback speed",onChange:l=>o(Number(l.target.value)),"data-help":!0,"data-help-title":"Speed","data-help-body":"Slow down to inspect or speed up to skim.","data-help-placement":"bottom",children:tD.map(l=>w.jsxs("option",{value:l,children:[l,"x"]},l))})]})}function nD(e,t,n,r=60){const{wallTimeMs:i,intervals:s}=pu(e,t,n),o=new Array(r).fill(0);if(!i)return{buckets:o,wallTimeMs:0};const a=i/r;return!Number.isFinite(a)||a<=0?{buckets:o,wallTimeMs:i}:(s.forEach(l=>{const u=Math.max(0,Math.floor(l.startMs/a)),c=Math.min(r-1,Math.floor(l.endMs/a));for(let d=u;d<=c;d+=1)o[d]+=1}),{buckets:o,wallTimeMs:i})}const Ps=5e3;function Gw(e,t,n){return Math.min(n,Math.max(t,e))}function rD({traceStart:e,traceEnd:t,steps:n,playheadMs:r,windowRange:i,windowed:s,spanMs:o,onSpanChange:a,onToggleWindowed:l,onScrub:u}){const{buckets:c,wallTimeMs:d}=nD(e,t,n,64),f=Math.max(1,...c),h=Gw(o,Ps,Math.max(Ps,d)),g=(i==null?void 0:i.startMs)??0,p=(i==null?void 0:i.endMs)??d,v=d?g/d*100:0,m=d?(p-g)/d*100:100,y=d?r/d*100:0,x=_=>{const b=_.currentTarget.getBoundingClientRect(),C=(_.clientX-b.left)/b.width,k=Gw(Math.round(C*d),0,d);u(k)};return w.jsxs("div",{className:"mini-timeline",children:[w.jsxs("div",{className:"mini-track",onClick:x,role:"presentation","data-help":!0,"data-help-title":"Density map","data-help-body":"A compact view of activity density. Click to jump the playhead.","data-help-placement":"top",children:[w.jsx("div",{className:"mini-bars",children:c.map((_,b)=>w.jsx("span",{className:"mini-bar",style:{height:`${_/f*100}%`}},`bucket-${b}`))}),w.jsx("div",{className:"mini-window",style:{left:`${v}%`,width:`${m}%`,opacity:s?1:.4}}),w.jsx("div",{className:"mini-playhead",style:{left:`${y}%`}})]}),w.jsxs("div",{className:"mini-controls",children:[w.jsx("label",{className:"mini-label",children:"Zoom"}),w.jsx("input",{type:"range",min:Ps,max:Math.max(Ps,d),value:h,"aria-label":"Timeline zoom",onChange:_=>{l(!0),a(Number(_.target.value))},"data-help":!0,"data-help-title":"Zoom window","data-help-body":"Tighten the window to focus on hotspots.","data-help-placement":"top"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>l(!s),title:"Toggle windowed playback",children:s?"Full":"Window"}),w.jsx("button",{className:"ghost-button",type:"button",title:"Reset zoom",onClick:()=>{l(!0),a(Math.min(Math.max(d*.2,Ps),6e4))},children:"Reset"})]})]})}const iD=[{keys:"Space",action:"Play / pause"},{keys:" / ",action:"Step boundary back / forward"},{keys:"Shift +  / ",action:"Jump to start / end"},{keys:"F",action:"Toggle Flow mode"},{keys:"I",action:"Toggle Inspector"},{keys:"S",action:"Story mode"},{keys:"E",action:"Explain mode"},{keys:"T",action:"Start tour"},{keys:"Cmd/Ctrl + K",action:"Open command palette"},{keys:"?",action:"Show shortcuts"},{keys:"Esc",action:"Close modal / inspector"}];function sD({open:e,onClose:t}){const n=S.useRef(null);if(S.useEffect(()=>{var i;e&&((i=n.current)==null||i.focus())},[e]),!e)return null;const r=i=>{var l;if(i.key==="Escape"){i.preventDefault(),t();return}if(i.key!=="Tab")return;const s=Array.from(i.currentTarget.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(s.length===0)return;const o=s.indexOf(document.activeElement),a=i.shiftKey?o<=0?s.length-1:o-1:(o+1)%s.length;(l=s[a])==null||l.focus(),i.preventDefault()};return w.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",onKeyDown:r,children:w.jsxs("div",{className:"modal",tabIndex:-1,children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("div",{className:"modal-title",id:"shortcuts-title",children:"Keyboard Shortcuts"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:t,ref:n,"aria-label":"Close shortcuts",children:"Close"})]}),w.jsx("div",{className:"modal-body",children:iD.map(i=>w.jsxs("div",{className:"modal-row",children:[w.jsx("span",{className:"modal-keys",children:i.keys}),w.jsx("span",{className:"modal-action",children:i.action})]},i.keys))})]})})}const oD=e=>e.trim().toLowerCase();function aD(e){const t=new Map;return e.forEach(n=>{var i;const r=n.group??"General";t.has(r)||t.set(r,[]),(i=t.get(r))==null||i.push(n)}),t}function Ww(e,t,n){var i;if(!e.length)return 0;let r=t;for(let s=0;s<e.length;s+=1)if(r=(r+n+e.length)%e.length,!((i=e[r])!=null&&i.disabled))return r;return t}function lD({open:e,onClose:t,actions:n}){var p,v;const[r,i]=S.useState(""),[s,o]=S.useState(0),a=S.useRef(null),l=S.useRef(null),u=S.useMemo(()=>{const m=oD(r);return m?n.filter(y=>[y.label,y.description,y.group,y.keys].filter(Boolean).join(" ").toLowerCase().includes(m)):n},[n,r]),c=S.useMemo(()=>aD(u),[u]);if(S.useEffect(()=>{if(!e)return;i(""),o(0);const m=window.setTimeout(()=>{var y;return(y=a.current)==null?void 0:y.focus()},0);return()=>window.clearTimeout(m)},[e]),S.useEffect(()=>{s>=u.length&&o(0)},[s,u.length]),!e)return null;const d=m=>{m.disabled||(m.onTrigger(),t())},f=m=>{var y,x;if(m.key==="Escape"){m.preventDefault(),t();return}if(m.key==="ArrowDown"){m.preventDefault(),o(_=>Ww(u,_,1));return}if(m.key==="ArrowUp"){m.preventDefault(),o(_=>Ww(u,_,-1));return}if(m.key==="Enter"){m.preventDefault();const _=u[s];_&&d(_);return}if(m.key==="Tab"){const _=Array.from(((y=l.current)==null?void 0:y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??[]);if(!_.length)return;const b=_.indexOf(document.activeElement),C=m.shiftKey?b<=0?_.length-1:b-1:(b+1)%_.length;(x=_[C])==null||x.focus(),m.preventDefault()}},h=(p=u[s])!=null&&p.id?`palette-option-${(v=u[s])==null?void 0:v.id}`:void 0;let g=-1;return w.jsx("div",{className:"modal-backdrop palette-backdrop",role:"dialog","aria-modal":"true","aria-label":"Command palette",onKeyDown:f,onMouseDown:m=>{m.target===m.currentTarget&&t()},children:w.jsxs("div",{className:"palette",ref:l,children:[w.jsxs("div",{className:"palette-header",children:[w.jsxs("div",{children:[w.jsx("div",{className:"palette-title",children:"Command palette"}),w.jsx("div",{className:"palette-subtitle",children:"Search actions, modes, and playbook steps."})]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:t,"aria-label":"Close command palette",children:"Close"})]}),w.jsx("input",{ref:a,className:"palette-input",value:r,onChange:m=>i(m.target.value),placeholder:"Type to filter actions","aria-label":"Search commands",role:"combobox","aria-expanded":"true","aria-controls":"command-palette-list","aria-activedescendant":h,"aria-autocomplete":"list"}),w.jsxs("div",{className:"palette-list",role:"listbox",id:"command-palette-list",children:[u.length===0?w.jsx("div",{className:"palette-empty",children:"No matching commands."}):null,Array.from(c.entries()).map(([m,y])=>w.jsxs("div",{className:"palette-group",children:[w.jsx("div",{className:"palette-group-title",children:m}),w.jsx("div",{className:"palette-group-list",children:y.map(x=>{g+=1;const _=g===s;return w.jsxs("button",{id:`palette-option-${x.id}`,className:`palette-item ${_?"active":""}`,type:"button",role:"option","aria-selected":_,onMouseEnter:()=>o(g),onClick:()=>d(x),disabled:x.disabled,children:[w.jsxs("div",{className:"palette-item-main",children:[w.jsx("div",{className:"palette-item-title",children:x.label}),x.description?w.jsx("div",{className:"palette-item-description",children:x.description}):null]}),x.keys?w.jsx("div",{className:"palette-item-keys",children:x.keys}):null]},x.id)})})]},m))]})]})})}function uD(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function cD({trace:e,mode:t,playheadMs:n,selectedStepId:r,compareTrace:i,collapsed:s,onToggleCollapsed:o,onModeChange:a,onSelectStep:l,onJumpToBottleneck:u,onReplay:c,onStartTour:d}){var T;const f=e.steps??[],h=uD(f),g=r??(h==null?void 0:h.id)??((T=f[0])==null?void 0:T.id)??null,p=t==="cinema"||n>0,v=!!r,m=!!i,y=[p,v,m].filter(Boolean).length,x=[p,v,m].findIndex(M=>!M),_=x===-1?2:x,b=[0,1,2].map(M=>[p,v,m][M]?"done":M===_?"active":"next"),C=[{id:"observe",title:"Act I: Observe",summary:"Scrub the timeline to feel the pacing, bottlenecks, and tool choreography.",status:b[0],actionLabel:"Enter cinema",action:()=>a("cinema"),tasks:[{label:"Scrub the timeline",done:n>0},{label:"Stay in Cinema mode",done:t==="cinema"}]},{id:"inspect",title:"Act II: Inspect",summary:"Open the most expensive or failed step and read the payload with context.",status:b[1],actionLabel:h?"Jump to bottleneck":"Select first step",action:()=>{if(r){a("cinema");return}if(h){u();return}g&&(l(g),a("cinema"))},disabled:!g,tasks:[{label:"Open the Inspector",done:!!r},{label:"Jump to the bottleneck",done:!!(h&&r===h.id)}]},{id:"direct",title:"Act III: Direct",summary:"Replay from a decisive step, then compare flows and diffs side-by-side.",status:b[2],actionLabel:i?"Open compare":"Replay from step",action:()=>{if(i){a("compare");return}g&&c(g)},disabled:!g,tasks:[{label:"Replay from a step",done:!!i},{label:"Compare runs side-by-side",done:!!(i&&t==="compare")}]}],k=C[_];return s?w.jsxs("section",{className:"journey-panel journey-collapsed","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A guided path from observation to replay. Use it to show newcomers what to do first.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"journey-collapsed-main",children:[w.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),w.jsx("div",{className:"journey-collapsed-title",children:"From observe to direct"})]}),w.jsxs("div",{className:"journey-collapsed-actions",children:[w.jsxs("span",{className:"journey-progress-text",children:[y,"/3 complete"]}),k?w.jsxs("button",{className:"primary-button journey-next",type:"button",onClick:k.action,disabled:k.disabled,children:["Next: ",k.actionLabel]}):null,d?w.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Tour"}):null,w.jsx("button",{className:"primary-button journey-expand",type:"button",onClick:o,children:"Expand"})]})]}):w.jsxs("section",{className:"journey-panel","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A three-act flow that teaches the story: observe, inspect, direct. Each act jumps to the right place.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"journey-head",children:[w.jsxs("div",{children:[w.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),w.jsx("h2",{className:"journey-title",children:"Cut a perfect take in three acts."}),w.jsx("p",{className:"journey-subtitle",children:"Trace the performance, interrogate the moment, then direct a better run."})]}),w.jsxs("div",{className:"journey-head-actions",children:[d?w.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Start tour"}):null,w.jsx("button",{className:"ghost-button",type:"button",onClick:o,children:"Collapse"})]})]}),w.jsx("div",{className:"journey-track",children:C.map((M,A)=>{var I;return w.jsxs("div",{className:"journey-card","data-status":M.status,children:[w.jsxs("div",{className:"journey-card-top",children:[w.jsxs("span",{className:"journey-index",children:["0",A+1]}),w.jsx("span",{className:"journey-status",children:M.status})]}),w.jsx("h3",{className:"journey-card-title",children:M.title}),w.jsx("p",{className:"journey-card-body",children:M.summary}),(I=M.tasks)!=null&&I.length?w.jsx("ul",{className:"journey-tasks",children:M.tasks.map(B=>w.jsxs("li",{className:`journey-task ${B.done?"done":""}`,children:[w.jsx("span",{className:"journey-task-icon","aria-hidden":"true",children:B.done?"":""}),w.jsx("span",{children:B.label})]},B.label))}):null,w.jsx("button",{className:"primary-button journey-action",type:"button",onClick:M.action,disabled:M.disabled,children:M.actionLabel})]},M.id)})}),w.jsxs("div",{className:"journey-footer",children:[w.jsxs("div",{children:[w.jsx("div",{className:"journey-progress-label",children:"Progress"}),w.jsx("div",{className:"journey-progress",children:w.jsx("span",{className:"journey-progress-bar",style:{width:`${y/3*100}%`}})})]}),w.jsx("div",{className:"journey-footnote",children:"Tip: Use Flow to spot fan-out, Compare to validate your changes."})]})]})}function dD(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function fD({trace:e,mode:t,selectedStepId:n,onModeChange:r,onSelectStep:i,onJumpToBottleneck:s,onReplay:o}){var d;const a=e.steps??[],l=dD(a),u=n??(l==null?void 0:l.id)??((d=a[0])==null?void 0:d.id)??null,c=e.metadata.wallTimeMs??0;return w.jsxs("aside",{className:"inspector inspector-empty","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Select a step to open detailed payloads, redaction controls, and replay actions.","data-help-placement":"left",children:[w.jsx("div",{className:"inspector-header",children:w.jsxs("div",{children:[w.jsx("div",{className:"inspector-title",children:"Director's notes"}),w.jsx("div",{className:"inspector-subtitle",children:"Select a step to open deep inspection."})]})}),w.jsxs("div",{className:"inspector-section",children:[w.jsx("div",{className:"inspector-section-title",children:"Run summary"}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Steps"}),w.jsx("span",{children:a.length})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Wall time"}),w.jsxs("span",{children:[c,"ms"]})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Status"}),w.jsx("span",{children:e.status})]})]}),w.jsxs("div",{className:"inspector-section",children:[w.jsx("div",{className:"inspector-section-title",children:"Next actions"}),w.jsxs("div",{className:"director-actions",children:[w.jsx("button",{className:"primary-button",type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Open cinema","data-help-body":"Jump straight into the timeline.","data-help-placement":"right",children:"Open cinema"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Open flow","data-help-body":"See the dependency graph of the run.","data-help-placement":"right",children:"Switch to flow"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{if(!n){if(l){s();return}u&&i(u)}},disabled:!u||!!n,"data-help":!0,"data-help-title":"Jump to bottleneck","data-help-body":"Select the slowest step for inspection.","data-help-placement":"right",children:n?"Inspector open":l?"Jump to bottleneck":"Select first step"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>u&&o(u),disabled:!u,"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a replay from a decisive step.","data-help-placement":"right",children:"Replay from step"})]})]}),w.jsxs("div",{className:"inspector-section",children:[w.jsx("div",{className:"inspector-section-title",children:"Mode"}),w.jsxs("div",{className:"director-modes",children:[w.jsx("button",{className:`ghost-button ${t==="cinema"?"active":""}`,type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view for pacing and sequence.","data-help-placement":"right",children:"Cinema"}),w.jsx("button",{className:`ghost-button ${t==="flow"?"active":""}`,type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Graph view for dependencies.","data-help-placement":"right",children:"Flow"}),w.jsx("button",{className:"ghost-button",type:"button",disabled:!0,children:"Compare"})]})]})]})}const Sc=(e,t,n)=>Math.min(n,Math.max(t,e));function hD({steps:e,open:t,onClose:n,onComplete:r}){const[i,s]=S.useState(0),[o,a]=S.useState(null),[l,u]=S.useState(null),c=S.useRef(null),d=S.useRef(null),f=S.useMemo(()=>e[i],[e,i]),h=S.useCallback(()=>{if(!t)return;const v=document.querySelector(f.target);if(!v){d.current=null,a(null);return}d.current=v;const m=v.getBoundingClientRect();a(m)},[t,f.target]),g=S.useCallback(()=>{if(!o||!c.current){u(null);return}const v=c.current.offsetWidth,m=c.current.offsetHeight,y=16;let x=Sc(o.left+o.width/2-v/2,y,window.innerWidth-v-y),_=o.bottom+16;f.placement==="top"&&(_=o.top-m-16),f.placement==="left"&&(x=o.left-v-16,_=o.top+o.height/2-m/2),f.placement==="right"&&(x=o.right+16,_=o.top+o.height/2-m/2),_+m>window.innerHeight-y&&(_=o.top-m-16),_<y&&(_=o.bottom+16),x=Sc(x,y,window.innerWidth-v-y),_=Sc(_,y,window.innerHeight-m-y),u({top:_,left:x})},[f.placement,o]);if(S.useEffect(()=>{t&&s(0)},[t]),S.useEffect(()=>{if(!t)return;const v=document.querySelector(f.target);v&&v.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const m=window.requestAnimationFrame(()=>h());return()=>window.cancelAnimationFrame(m)},[t,f.target,h]),S.useLayoutEffect(()=>{g()},[o,g,f.title]),S.useEffect(()=>{if(!t)return;const v=()=>{h(),g()};return window.addEventListener("resize",v),window.addEventListener("scroll",v,!0),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",v,!0)}},[t,h,g]),!t||!f)return null;const p=o?{top:o.top-6,left:o.left-6,width:o.width+12,height:o.height+12}:void 0;return w.jsxs("div",{className:"tour-overlay",role:"dialog","aria-modal":"true","aria-label":"Guided tour",children:[w.jsx("div",{className:"tour-backdrop",onClick:n}),o?w.jsx("div",{className:"tour-spotlight",style:p}):null,w.jsxs("div",{className:`tour-card ${l?"tour-card-anchored":""}`,ref:c,style:l??void 0,children:[w.jsxs("div",{className:"tour-step",children:["Step ",i+1," of ",e.length]}),w.jsx("div",{className:"tour-title",children:f.title}),w.jsx("p",{className:"tour-body",children:f.body}),w.jsxs("div",{className:"tour-actions",children:[w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>s(v=>Math.max(0,v-1)),disabled:i===0,children:"Back"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:n,children:"Skip"}),i===e.length-1?w.jsx("button",{className:"primary-button",type:"button",onClick:r,children:"Finish tour"}):w.jsx("button",{className:"primary-button",type:"button",onClick:()=>s(v=>v+1),children:"Next"})]})]})]})}const Kw=(e,t,n)=>Math.min(n,Math.max(t,e));function pD({enabled:e}){const[t,n]=S.useState(null),[r,i]=S.useState(null),s=S.useRef(null),o=S.useRef(null),a=S.useCallback(()=>{const u=s.current;if(!u){n(null);return}const c=u.getBoundingClientRect(),d=u.dataset.helpTitle??"Context",f=u.dataset.helpBody??"",h=u.dataset.helpPlacement??"right";n({rect:c,title:d,body:f,placement:h})},[]);S.useEffect(()=>{if(!e){s.current=null,n(null);return}const u=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");if(!p){s.current||n(null);return}s.current!==p&&(s.current=p,a())},c=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");p&&(s.current=p,a())},d=g=>{var v;const p=g.relatedTarget;(v=p==null?void 0:p.closest)!=null&&v.call(p,"[data-help]")||(s.current=null,n(null))},f=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");if(!p){s.current=null,n(null);return}s.current=p,a()},h=()=>{s.current&&a()};return window.addEventListener("mousemove",u),window.addEventListener("focusin",c),window.addEventListener("focusout",d),window.addEventListener("pointerdown",f),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("focusin",c),window.removeEventListener("focusout",d),window.removeEventListener("pointerdown",f),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,a]);const l=S.useCallback(()=>{if(!t||!o.current){i(null);return}const u=12,c=o.current.offsetWidth,d=o.current.offsetHeight,{rect:f,placement:h}=t;let g=f.right+16,p=f.top+f.height/2-d/2;h==="left"&&(g=f.left-c-16,p=f.top+f.height/2-d/2),h==="top"&&(g=f.left+f.width/2-c/2,p=f.top-d-16),h==="bottom"&&(g=f.left+f.width/2-c/2,p=f.bottom+16),g=Kw(g,u,window.innerWidth-c-u),p=Kw(p,u,window.innerHeight-d-u),i({left:g,top:p})},[t]);return S.useLayoutEffect(()=>{l()},[l]),!e||!t?null:w.jsxs("div",{className:"help-overlay","aria-hidden":"true",children:[w.jsx("div",{className:"help-highlight",style:{top:t.rect.top-6,left:t.rect.left-6,width:t.rect.width+12,height:t.rect.height+12}}),w.jsxs("div",{className:"help-bubble",ref:o,style:r??void 0,"data-placement":t.placement,children:[w.jsx("div",{className:"help-title",children:t.title}),w.jsx("div",{className:"help-body",children:t.body})]})]})}const mD=2800;function gD({onComplete:e,onStartTour:t,onStartStory:n}){S.useEffect(()=>{const s=window.setTimeout(()=>e(),mD);return()=>window.clearTimeout(s)},[e]);const r=()=>{t==null||t(),e()},i=()=>{n==null||n(),e()};return w.jsx("div",{className:"intro-overlay",role:"dialog","aria-modal":"true","aria-label":"Agent Director intro",children:w.jsxs("div",{className:"intro-card",children:[w.jsx("div",{className:"intro-scan"}),w.jsx("div",{className:"intro-title",children:"Agent Director"}),w.jsx("div",{className:"intro-tagline",children:"Watch your agent think. Then direct it."}),w.jsxs("div",{className:"intro-steps",children:[w.jsxs("div",{className:"intro-step",children:[w.jsx("div",{className:"intro-step-label",children:"Observe"}),w.jsx("div",{className:"intro-step-body",children:"Scrub the timeline to feel pacing and parallelism."})]}),w.jsxs("div",{className:"intro-step",children:[w.jsx("div",{className:"intro-step-label",children:"Inspect"}),w.jsx("div",{className:"intro-step-body",children:"Open the bottleneck to read payloads and costs."})]}),w.jsxs("div",{className:"intro-step",children:[w.jsx("div",{className:"intro-step-label",children:"Direct"}),w.jsx("div",{className:"intro-step-body",children:"Replay from a decisive step and compare runs."})]})]}),w.jsxs("div",{className:"intro-grid",children:[w.jsx("span",{}),w.jsx("span",{}),w.jsx("span",{}),w.jsx("span",{})]}),w.jsxs("div",{className:"intro-actions",children:[w.jsx("button",{className:"primary-button",type:"button",onClick:r,children:"Start guided tour"}),n?w.jsx("button",{className:"ghost-button",type:"button",onClick:i,children:"Play story mode"}):null,w.jsx("button",{className:"ghost-button",type:"button",onClick:e,children:"Skip intro"})]})]})})}function yD({explainMode:e,storyActive:t,onStartTour:n,onStartStory:r,onToggleExplain:i,onDismiss:s}){return w.jsxs("section",{className:"hero-ribbon","aria-label":"Director briefing","data-help":!0,"data-help-indicator":!0,"data-help-title":"Director briefing","data-help-body":"Start the tour, play story mode, or enable explain to learn the interface instantly.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"hero-ribbon-top",children:[w.jsx("span",{className:"hero-eyebrow",children:"Director briefing"}),w.jsx("button",{className:"ghost-button hero-dismiss",type:"button",onClick:s,children:"Dismiss"})]}),w.jsx("div",{className:"hero-title",children:"Observe. Inspect. Direct."}),w.jsx("div",{className:"hero-subtitle",children:"A cinematic control room for agent traces. See time, read structure, then replay with confidence."}),w.jsxs("div",{className:"hero-pills",children:[w.jsx("span",{className:"hero-pill","data-tone":"observe",children:"Observe"}),w.jsx("span",{className:"hero-pill","data-tone":"inspect",children:"Inspect"}),w.jsx("span",{className:"hero-pill","data-tone":"direct",children:"Direct"})]}),w.jsxs("div",{className:"hero-actions",children:[w.jsx("button",{className:"primary-button",type:"button",onClick:n,children:"Start guided tour"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:r,disabled:t,children:t?"Story running":"Play story mode"}),w.jsxs("button",{className:`ghost-button ${e?"active":""}`,type:"button",onClick:i,"aria-pressed":e,children:["Explain ",e?"On":"Off"]})]})]})}function vD({mode:e,isPlaying:t,storyActive:n,explainMode:r,hidden:i=!1,open:s,onToggleOpen:o,onTogglePlay:a,onStartStory:l,onStopStory:u,onStartTour:c,onOpenPalette:d,onShowShortcuts:f,onToggleExplain:h,onJumpToBottleneck:g}){if(i)return null;const p=t?"Pause":"Play",v=n?"Stop story":"Story mode";return s?w.jsxs("aside",{className:"quick-actions","aria-label":"Quick actions","data-help":!0,"data-help-indicator":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Launch story mode, open the command palette, or jump to the bottleneck instantly.","data-help-placement":"left",children:[w.jsxs("div",{className:"quick-actions-header",children:[w.jsxs("div",{children:[w.jsx("div",{className:"quick-actions-title",children:"Quick actions"}),w.jsx("div",{className:"quick-actions-subtitle",children:"Pin demo controls close at hand."})]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:o,"aria-label":"Collapse quick actions",children:"Collapse"})]}),w.jsxs("button",{className:`quick-action ${t?"active":""}`,type:"button",onClick:a,"aria-label":p,"data-help":!0,"data-help-title":"Play or pause","data-help-body":"Start or stop playback from anywhere.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:p}),w.jsx("span",{className:"quick-action-meta",children:e==="flow"?"Cinema":"Space"})]}),w.jsxs("button",{className:`quick-action ${n?"active":""}`,type:"button",onClick:n?u:l,"aria-label":v,"data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough of the run.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:v}),w.jsx("span",{className:"quick-action-meta",children:"S"})]}),w.jsxs("button",{className:"quick-action",type:"button",onClick:d,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search every action and jump instantly.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Command"}),w.jsx("span",{className:"quick-action-meta",children:"Cmd+K"})]}),w.jsxs("button",{className:"quick-action",type:"button",onClick:c,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk the interface with a curated tour.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Tour"}),w.jsx("span",{className:"quick-action-meta",children:"Guide"})]}),w.jsxs("button",{className:`quick-action ${r?"active":""}`,type:"button",onClick:h,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Toggle contextual overlays for every control.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Explain"}),w.jsx("span",{className:"quick-action-meta",children:r?"On":"Off"})]}),w.jsxs("button",{className:"quick-action",type:"button",onClick:g,"aria-label":"Jump to bottleneck","data-help":!0,"data-help-title":"Bottleneck jump","data-help-body":"Focus instantly on the slowest step.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Bottleneck"}),w.jsx("span",{className:"quick-action-meta",children:"Latency"})]}),w.jsxs("button",{className:"quick-action",type:"button",onClick:f,"aria-label":"Show shortcuts","data-help":!0,"data-help-title":"Shortcuts","data-help-body":"See the full keyboard map.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Shortcuts"}),w.jsx("span",{className:"quick-action-meta",children:"?"})]})]}):w.jsxs("button",{className:"quick-actions-toggle",type:"button",onClick:o,"aria-label":"Open quick actions","aria-expanded":"false","data-help":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Open the dock to access demos, shortcuts, and instant actions.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-actions-toggle-label",children:"Actions"}),w.jsx("span",{className:"quick-actions-toggle-meta",children:"Dock"})]})}function wD({active:e,label:t,step:n,total:r,onStop:i,onRestart:s}){if(!e)return null;const o=r>0?(n+1)/r*100:0;return w.jsxs("div",{className:"story-banner",role:"status","aria-live":"polite",children:[w.jsxs("div",{className:"story-banner-main",children:[w.jsx("div",{className:"story-banner-title",children:"Story mode"}),w.jsx("div",{className:"story-banner-step",children:t})]}),w.jsxs("div",{className:"story-banner-actions",children:[w.jsxs("span",{className:"story-banner-count",children:[Math.min(n+1,r),"/",r]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:s,children:"Restart"}),w.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Stop"})]}),w.jsx("div",{className:"story-banner-progress",children:w.jsx("span",{style:{width:`${o}%`}})})]})}function rt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=rt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var NN={exports:{}},MN={},PN={exports:{}},AN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=S;function xD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _D=typeof Object.is=="function"?Object.is:xD,bD=rs.useState,SD=rs.useEffect,ED=rs.useLayoutEffect,CD=rs.useDebugValue;function kD(e,t){var n=t(),r=bD({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return ED(function(){i.value=n,i.getSnapshot=t,Ec(i)&&s({inst:i})},[e,n,t]),SD(function(){return Ec(i)&&s({inst:i}),e(function(){Ec(i)&&s({inst:i})})},[e]),CD(n),n}function Ec(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_D(e,n)}catch{return!0}}function TD(e,t){return t()}var ND=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?TD:kD;AN.useSyncExternalStore=rs.useSyncExternalStore!==void 0?rs.useSyncExternalStore:ND;PN.exports=AN;var MD=PN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=S,PD=MD;function AD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RD=typeof Object.is=="function"?Object.is:AD,ID=PD.useSyncExternalStore,jD=mu.useRef,DD=mu.useEffect,LD=mu.useMemo,OD=mu.useDebugValue;MN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=jD(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=LD(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var g=o.value;if(i(g,h))return d=g}return d=h}if(g=d,RD(c,h))return g;var p=r(h);return i!==void 0&&i(g,p)?(c=h,g):(c=h,d=p)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=ID(e,s[0],s[1]);return DD(function(){o.hasValue=!0,o.value=a},[a]),OD(a),a};NN.exports=MN;var qD=NN.exports;const FD=xy(qD),$D={},Yw=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{($D?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},VD=e=>e?Yw(e):Yw,{useDebugValue:BD}=q,{useSyncExternalStoreWithSelector:zD}=FD,UD=e=>e;function RN(e,t=UD,n){const r=zD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return BD(r),r}const Xw=(e,t)=>{const n=VD(e),r=(i,s=t)=>RN(n,i,s);return Object.assign(r,n),r},HD=(e,t)=>e?Xw(e,t):Xw;function Ye(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var GD={value:()=>{}};function gu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ja(n)}function Ja(e){this._=e}function WD(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ja.prototype=gu.prototype={constructor:Ja,on:function(e,t){var n=this._,r=WD(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=KD(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Zw(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Zw(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ja(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function KD(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Zw(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=GD,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var qg="http://www.w3.org/1999/xhtml";const Qw={svg:"http://www.w3.org/2000/svg",xhtml:qg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Qw.hasOwnProperty(t)?{space:Qw[t],local:e}:e}function YD(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===qg&&t.documentElement.namespaceURI===qg?t.createElement(e):t.createElementNS(n,e)}}function XD(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function IN(e){var t=yu(e);return(t.local?XD:YD)(t)}function ZD(){}function gv(e){return e==null?ZD:function(){return this.querySelector(e)}}function QD(e){typeof e!="function"&&(e=gv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Dt(r,this._parents)}function JD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function eL(){return[]}function jN(e){return e==null?eL:function(){return this.querySelectorAll(e)}}function tL(e){return function(){return JD(e.apply(this,arguments))}}function nL(e){typeof e=="function"?e=tL(e):e=jN(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new Dt(r,i)}function DN(e){return function(){return this.matches(e)}}function LN(e){return function(t){return t.matches(e)}}var rL=Array.prototype.find;function iL(e){return function(){return rL.call(this.children,e)}}function sL(){return this.firstElementChild}function oL(e){return this.select(e==null?sL:iL(typeof e=="function"?e:LN(e)))}var aL=Array.prototype.filter;function lL(){return Array.from(this.children)}function uL(e){return function(){return aL.call(this.children,e)}}function cL(e){return this.selectAll(e==null?lL:uL(typeof e=="function"?e:LN(e)))}function dL(e){typeof e!="function"&&(e=DN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Dt(r,this._parents)}function ON(e){return new Array(e.length)}function fL(){return new Dt(this._enter||this._groups.map(ON),this._parents)}function Al(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Al.prototype={constructor:Al,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function hL(e){return function(){return e}}function pL(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new Al(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function mL(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new Al(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function gL(e){return e.__data__}function yL(e,t){if(!arguments.length)return Array.from(this,gL);var n=t?mL:pL,r=this._parents,i=this._groups;typeof e!="function"&&(e=hL(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,h=vL(e.call(c,c&&c.__data__,u,r)),g=h.length,p=a[u]=new Array(g),v=o[u]=new Array(g),m=l[u]=new Array(f);n(c,d,p,v,m,h,t);for(var y=0,x=0,_,b;y<g;++y)if(_=p[y]){for(y>=x&&(x=y+1);!(b=v[x])&&++x<g;);_._next=b||null}}return o=new Dt(o,r),o._enter=a,o._exit=l,o}function vL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wL(){return new Dt(this._exit||this._groups.map(ON),this._parents)}function xL(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function _L(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,g=0;g<d;++g)(h=u[g]||c[g])&&(f[g]=h);for(;l<i;++l)a[l]=n[l];return new Dt(a,this._parents)}function bL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function SL(e){e||(e=EL);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new Dt(i,this._parents).order()}function EL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function CL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kL(){return Array.from(this)}function TL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function NL(){let e=0;for(const t of this)++e;return e}function ML(){return!this.node()}function PL(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function AL(e){return function(){this.removeAttribute(e)}}function RL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IL(e,t){return function(){this.setAttribute(e,t)}}function jL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function LL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function OL(e,t){var n=yu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?RL:AL:typeof t=="function"?n.local?LL:DL:n.local?jL:IL)(n,t))}function qN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qL(e){return function(){this.style.removeProperty(e)}}function FL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function $L(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function VL(e,t,n){return arguments.length>1?this.each((t==null?qL:typeof t=="function"?$L:FL)(e,t,n??"")):is(this.node(),e)}function is(e,t){return e.style.getPropertyValue(t)||qN(e).getComputedStyle(e,null).getPropertyValue(t)}function BL(e){return function(){delete this[e]}}function zL(e,t){return function(){this[e]=t}}function UL(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function HL(e,t){return arguments.length>1?this.each((t==null?BL:typeof t=="function"?UL:zL)(e,t)):this.node()[e]}function FN(e){return e.trim().split(/^|\s+/)}function yv(e){return e.classList||new $N(e)}function $N(e){this._node=e,this._names=FN(e.getAttribute("class")||"")}$N.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function VN(e,t){for(var n=yv(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function BN(e,t){for(var n=yv(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function GL(e){return function(){VN(this,e)}}function WL(e){return function(){BN(this,e)}}function KL(e,t){return function(){(t.apply(this,arguments)?VN:BN)(this,e)}}function YL(e,t){var n=FN(e+"");if(arguments.length<2){for(var r=yv(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?KL:t?GL:WL)(n,t))}function XL(){this.textContent=""}function ZL(e){return function(){this.textContent=e}}function QL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function JL(e){return arguments.length?this.each(e==null?XL:(typeof e=="function"?QL:ZL)(e)):this.node().textContent}function eO(){this.innerHTML=""}function tO(e){return function(){this.innerHTML=e}}function nO(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function rO(e){return arguments.length?this.each(e==null?eO:(typeof e=="function"?nO:tO)(e)):this.node().innerHTML}function iO(){this.nextSibling&&this.parentNode.appendChild(this)}function sO(){return this.each(iO)}function oO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function aO(){return this.each(oO)}function lO(e){var t=typeof e=="function"?e:IN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function uO(){return null}function cO(e,t){var n=typeof e=="function"?e:IN(e),r=t==null?uO:typeof t=="function"?t:gv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function dO(){var e=this.parentNode;e&&e.removeChild(this)}function fO(){return this.each(dO)}function hO(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pO(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mO(e){return this.select(e?pO:hO)}function gO(e){return arguments.length?this.property("__data__",e):this.node().__data__}function yO(e){return function(t){e.call(this,t,this.__data__)}}function vO(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function wO(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function xO(e,t,n){return function(){var r=this.__on,i,s=yO(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function _O(e,t,n){var r=vO(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?xO:wO,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function zN(e,t,n){var r=qN(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bO(e,t){return function(){return zN(this,e,t)}}function SO(e,t){return function(){return zN(this,e,t.apply(this,arguments))}}function EO(e,t){return this.each((typeof t=="function"?SO:bO)(e,t))}function*CO(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var UN=[null];function Dt(e,t){this._groups=e,this._parents=t}function Ko(){return new Dt([[document.documentElement]],UN)}function kO(){return this}Dt.prototype=Ko.prototype={constructor:Dt,select:QD,selectAll:nL,selectChild:oL,selectChildren:cL,filter:dL,data:yL,enter:fL,exit:wL,join:xL,merge:_L,selection:kO,order:bL,sort:SL,call:CL,nodes:kL,node:TL,size:NL,empty:ML,each:PL,attr:OL,style:VL,property:HL,classed:YL,text:JL,html:rO,raise:sO,lower:aO,append:lO,insert:cO,remove:fO,clone:mO,datum:gO,on:_O,dispatch:EO,[Symbol.iterator]:CO};function Gt(e){return typeof e=="string"?new Dt([[document.querySelector(e)]],[document.documentElement]):new Dt([[e]],UN)}function TO(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ln(e,t){if(e=TO(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const NO={passive:!1},Po={capture:!0,passive:!1};function Cc(e){e.stopImmediatePropagation()}function Wi(e){e.preventDefault(),e.stopImmediatePropagation()}function HN(e){var t=e.document.documentElement,n=Gt(e).on("dragstart.drag",Wi,Po);"onselectstart"in t?n.on("selectstart.drag",Wi,Po):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function GN(e,t){var n=e.document.documentElement,r=Gt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Wi,Po),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ta=e=>()=>e;function Fg(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Fg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function MO(e){return!e.ctrlKey&&!e.button}function PO(){return this.parentNode}function AO(e,t){return t??{x:e.x,y:e.y}}function RO(){return navigator.maxTouchPoints||"ontouchstart"in this}function IO(){var e=MO,t=PO,n=AO,r=RO,i={},s=gu("start","drag","end"),o=0,a,l,u,c,d=0;function f(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",m,NO).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,b){if(!(c||!e.call(this,_,b))){var C=x(this,t.call(this,_,b),_,b,"mouse");C&&(Gt(_.view).on("mousemove.drag",g,Po).on("mouseup.drag",p,Po),HN(_.view),Cc(_),u=!1,a=_.clientX,l=_.clientY,C("start",_))}}function g(_){if(Wi(_),!u){var b=_.clientX-a,C=_.clientY-l;u=b*b+C*C>d}i.mouse("drag",_)}function p(_){Gt(_.view).on("mousemove.drag mouseup.drag",null),GN(_.view,u),Wi(_),i.mouse("end",_)}function v(_,b){if(e.call(this,_,b)){var C=_.changedTouches,k=t.call(this,_,b),T=C.length,M,A;for(M=0;M<T;++M)(A=x(this,k,_,b,C[M].identifier,C[M]))&&(Cc(_),A("start",_,C[M]))}}function m(_){var b=_.changedTouches,C=b.length,k,T;for(k=0;k<C;++k)(T=i[b[k].identifier])&&(Wi(_),T("drag",_,b[k]))}function y(_){var b=_.changedTouches,C=b.length,k,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<C;++k)(T=i[b[k].identifier])&&(Cc(_),T("end",_,b[k]))}function x(_,b,C,k,T,M){var A=s.copy(),I=ln(M||C,b),B,V,E;if((E=n.call(_,new Fg("beforestart",{sourceEvent:C,target:f,identifier:T,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:A}),k))!=null)return B=E.x-I[0]||0,V=E.y-I[1]||0,function D(R,L,P){var N=I,j;switch(R){case"start":i[T]=D,j=o++;break;case"end":delete i[T],--o;case"drag":I=ln(P||L,b),j=o;break}A.call(R,_,new Fg(R,{sourceEvent:L,subject:E,target:f,identifier:T,active:j,x:I[0]+B,y:I[1]+V,dx:I[0]-N[0],dy:I[1]-N[1],dispatch:A}),k)}}return f.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Ta(!!_),f):e},f.container=function(_){return arguments.length?(t=typeof _=="function"?_:Ta(_),f):t},f.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Ta(_),f):n},f.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Ta(!!_),f):r},f.on=function(){var _=s.on.apply(s,arguments);return _===s?f:_},f.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,f):Math.sqrt(d)},f}function vv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function WN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yo(){}var Ao=.7,Rl=1/Ao,Ki="\\s*([+-]?\\d+)\\s*",Ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jO=/^#([0-9a-f]{3,8})$/,DO=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),LO=new RegExp(`^rgb\\(${Cn},${Cn},${Cn}\\)$`),OO=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Ro}\\)$`),qO=new RegExp(`^rgba\\(${Cn},${Cn},${Cn},${Ro}\\)$`),FO=new RegExp(`^hsl\\(${Ro},${Cn},${Cn}\\)$`),$O=new RegExp(`^hsla\\(${Ro},${Cn},${Cn},${Ro}\\)$`),Jw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vv(Yo,Io,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ex,formatHex:ex,formatHex8:VO,formatHsl:BO,formatRgb:tx,toString:tx});function ex(){return this.rgb().formatHex()}function VO(){return this.rgb().formatHex8()}function BO(){return KN(this).formatHsl()}function tx(){return this.rgb().formatRgb()}function Io(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jO.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nx(t):n===3?new bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Na(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Na(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DO.exec(e))?new bt(t[1],t[2],t[3],1):(t=LO.exec(e))?new bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OO.exec(e))?Na(t[1],t[2],t[3],t[4]):(t=qO.exec(e))?Na(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=FO.exec(e))?sx(t[1],t[2]/100,t[3]/100,1):(t=$O.exec(e))?sx(t[1],t[2]/100,t[3]/100,t[4]):Jw.hasOwnProperty(e)?nx(Jw[e]):e==="transparent"?new bt(NaN,NaN,NaN,0):null}function nx(e){return new bt(e>>16&255,e>>8&255,e&255,1)}function Na(e,t,n,r){return r<=0&&(e=t=n=NaN),new bt(e,t,n,r)}function zO(e){return e instanceof Yo||(e=Io(e)),e?(e=e.rgb(),new bt(e.r,e.g,e.b,e.opacity)):new bt}function $g(e,t,n,r){return arguments.length===1?zO(e):new bt(e,t,n,r??1)}function bt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vv(bt,$g,WN(Yo,{brighter(e){return e=e==null?Rl:Math.pow(Rl,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ao:Math.pow(Ao,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bt(Jr(this.r),Jr(this.g),Jr(this.b),Il(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rx,formatHex:rx,formatHex8:UO,formatRgb:ix,toString:ix}));function rx(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}`}function UO(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}${Wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function ix(){const e=Il(this.opacity);return`${e===1?"rgb(":"rgba("}${Jr(this.r)}, ${Jr(this.g)}, ${Jr(this.b)}${e===1?")":`, ${e})`}`}function Il(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wr(e){return e=Jr(e),(e<16?"0":"")+e.toString(16)}function sx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cn(e,t,n,r)}function KN(e){if(e instanceof cn)return new cn(e.h,e.s,e.l,e.opacity);if(e instanceof Yo||(e=Io(e)),!e)return new cn;if(e instanceof cn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new cn(o,a,l,e.opacity)}function HO(e,t,n,r){return arguments.length===1?KN(e):new cn(e,t,n,r??1)}function cn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vv(cn,HO,WN(Yo,{brighter(e){return e=e==null?Rl:Math.pow(Rl,e),new cn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ao:Math.pow(Ao,e),new cn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new bt(kc(e>=240?e-240:e+120,i,r),kc(e,i,r),kc(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cn(ox(this.h),Ma(this.s),Ma(this.l),Il(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Il(this.opacity);return`${e===1?"hsl(":"hsla("}${ox(this.h)}, ${Ma(this.s)*100}%, ${Ma(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ox(e){return e=(e||0)%360,e<0?e+360:e}function Ma(e){return Math.max(0,Math.min(1,e||0))}function kc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const YN=e=>()=>e;function GO(e,t){return function(n){return e+n*t}}function WO(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function KO(e){return(e=+e)==1?XN:function(t,n){return n-t?WO(t,n,e):YN(isNaN(t)?n:t)}}function XN(e,t){var n=t-e;return n?GO(e,n):YN(isNaN(e)?t:e)}const ax=function e(t){var n=KO(t);function r(i,s){var o=n((i=$g(i)).r,(s=$g(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=XN(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function ur(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Vg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tc=new RegExp(Vg.source,"g");function YO(e){return function(){return e}}function XO(e){return function(t){return e(t)+""}}function ZO(e,t){var n=Vg.lastIndex=Tc.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Vg.exec(e))&&(i=Tc.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ur(r,i)})),n=Tc.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?XO(l[0].x):YO(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var lx=180/Math.PI,Bg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ZN(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*lx,skewX:Math.atan(l)*lx,scaleX:o,scaleY:a}}var Pa;function QO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Bg:ZN(t.a,t.b,t.c,t.d,t.e,t.f)}function JO(e){return e==null||(Pa||(Pa=document.createElementNS("http://www.w3.org/2000/svg","g")),Pa.setAttribute("transform",e),!(e=Pa.transform.baseVal.consolidate()))?Bg:(e=e.matrix,ZN(e.a,e.b,e.c,e.d,e.e,e.f))}function QN(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,g){if(u!==d||c!==f){var p=h.push("translate(",null,t,null,n);g.push({i:p-4,x:ur(u,d)},{i:p-2,x:ur(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ur(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ur(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,g){if(u!==d||c!==f){var p=h.push(i(h)+"scale(",null,",",null,")");g.push({i:p-4,x:ur(u,d)},{i:p-2,x:ur(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var g=-1,p=f.length,v;++g<p;)d[(v=f[g]).i]=v.x(h);return d.join("")}}}var e3=QN(QO,"px, ","px)","deg)"),t3=QN(JO,", ",")",")"),n3=1e-12;function ux(e){return((e=Math.exp(e))+1/e)/2}function r3(e){return((e=Math.exp(e))-1/e)/2}function i3(e){return((e=Math.exp(2*e))-1)/(e+1)}const s3=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],h=c-a,g=d-l,p=h*h+g*g,v,m;if(p<n3)m=Math.log(f/u)/t,v=function(k){return[a+k*h,l+k*g,u*Math.exp(t*k*m)]};else{var y=Math.sqrt(p),x=(f*f-u*u+r*p)/(2*u*n*y),_=(f*f-u*u-r*p)/(2*f*n*y),b=Math.log(Math.sqrt(x*x+1)-x),C=Math.log(Math.sqrt(_*_+1)-_);m=(C-b)/t,v=function(k){var T=k*m,M=ux(b),A=u/(n*y)*(M*i3(t*T+b)-r3(b));return[a+A*h,l+A*g,u*M/ux(t*T+b)]}}return v.duration=m*1e3*t/Math.SQRT2,v}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var ss=0,Vs=0,As=0,JN=1e3,jl,Bs,Dl=0,ai=0,vu=0,jo=typeof performance=="object"&&performance.now?performance:Date,eM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wv(){return ai||(eM(o3),ai=jo.now()+vu)}function o3(){ai=0}function Ll(){this._call=this._time=this._next=null}Ll.prototype=tM.prototype={constructor:Ll,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wv():+n)+(t==null?0:+t),!this._next&&Bs!==this&&(Bs?Bs._next=this:jl=this,Bs=this),this._call=e,this._time=n,zg()},stop:function(){this._call&&(this._call=null,this._time=1/0,zg())}};function tM(e,t,n){var r=new Ll;return r.restart(e,t,n),r}function a3(){wv(),++ss;for(var e=jl,t;e;)(t=ai-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ss}function cx(){ai=(Dl=jo.now())+vu,ss=Vs=0;try{a3()}finally{ss=0,u3(),ai=0}}function l3(){var e=jo.now(),t=e-Dl;t>JN&&(vu-=t,Dl=e)}function u3(){for(var e,t=jl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:jl=n);Bs=e,zg(r)}function zg(e){if(!ss){Vs&&(Vs=clearTimeout(Vs));var t=e-ai;t>24?(e<1/0&&(Vs=setTimeout(cx,e-jo.now()-vu)),As&&(As=clearInterval(As))):(As||(Dl=jo.now(),As=setInterval(l3,JN)),ss=1,eM(cx))}}function dx(e,t,n){var r=new Ll;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var c3=gu("start","end","cancel","interrupt"),d3=[],nM=0,fx=1,Ug=2,el=3,hx=4,Hg=5,tl=6;function wu(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;f3(e,n,{name:t,index:r,group:i,on:c3,tween:d3,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:nM})}function xv(e,t){var n=mn(e,t);if(n.state>nM)throw new Error("too late; already scheduled");return n}function Nn(e,t){var n=mn(e,t);if(n.state>el)throw new Error("too late; already running");return n}function mn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function f3(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=tM(s,0,n.time);function s(u){n.state=fx,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,h;if(n.state!==fx)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===el)return dx(o);h.state===hx?(h.state=tl,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=tl,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(dx(function(){n.state===el&&(n.state=hx,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Ug,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ug){for(n.state=el,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Hg,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===Hg&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=tl,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function nl(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Ug&&r.state<Hg,r.state=tl,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function h3(e){return this.each(function(){nl(this,e)})}function p3(e,t){var n,r;return function(){var i=Nn(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function m3(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Nn(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function g3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=mn(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?p3:m3)(n,e,t))}function _v(e,t,n){var r=e._id;return e.each(function(){var i=Nn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return mn(i,r).value[t]}}function rM(e,t){var n;return(typeof t=="number"?ur:t instanceof Io?ax:(n=Io(t))?(t=n,ax):ZO)(e,t)}function y3(e){return function(){this.removeAttribute(e)}}function v3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w3(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function x3(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function _3(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function b3(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function S3(e,t){var n=yu(e),r=n==="transform"?t3:rM;return this.attrTween(e,typeof t=="function"?(n.local?b3:_3)(n,r,_v(this,"attr."+e,t)):t==null?(n.local?v3:y3)(n):(n.local?x3:w3)(n,r,t))}function E3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function C3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function k3(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&C3(e,s)),n}return i._value=t,i}function T3(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&E3(e,s)),n}return i._value=t,i}function N3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=yu(e);return this.tween(n,(r.local?k3:T3)(r,t))}function M3(e,t){return function(){xv(this,e).delay=+t.apply(this,arguments)}}function P3(e,t){return t=+t,function(){xv(this,e).delay=t}}function A3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?M3:P3)(t,e)):mn(this.node(),t).delay}function R3(e,t){return function(){Nn(this,e).duration=+t.apply(this,arguments)}}function I3(e,t){return t=+t,function(){Nn(this,e).duration=t}}function j3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?R3:I3)(t,e)):mn(this.node(),t).duration}function D3(e,t){if(typeof t!="function")throw new Error;return function(){Nn(this,e).ease=t}}function L3(e){var t=this._id;return arguments.length?this.each(D3(t,e)):mn(this.node(),t).ease}function O3(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Nn(this,e).ease=n}}function q3(e){if(typeof e!="function")throw new Error;return this.each(O3(this._id,e))}function F3(e){typeof e!="function"&&(e=DN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Yn(r,this._parents,this._name,this._id)}function $3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new Yn(o,this._parents,this._name,this._id)}function V3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function B3(e,t,n){var r,i,s=V3(t)?xv:Nn;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function z3(e,t){var n=this._id;return arguments.length<2?mn(this.node(),n).on.on(e):this.each(B3(n,e,t))}function U3(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function H3(){return this.on("end.remove",U3(this._id))}function G3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gv(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,wu(u[f],t,n,f,u,mn(c,n)));return new Yn(s,this._parents,t,n)}function W3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jN(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,g=mn(c,n),p=0,v=f.length;p<v;++p)(h=f[p])&&wu(h,t,n,p,f,g);s.push(f),o.push(c)}return new Yn(s,o,t,n)}var K3=Ko.prototype.constructor;function Y3(){return new K3(this._groups,this._parents)}function X3(e,t){var n,r,i;return function(){var s=is(this,e),o=(this.style.removeProperty(e),is(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function iM(e){return function(){this.style.removeProperty(e)}}function Z3(e,t,n){var r,i=n+"",s;return function(){var o=is(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function Q3(e,t,n){var r,i,s;return function(){var o=is(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),is(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function J3(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=Nn(this,e),u=l.on,c=l.value[s]==null?a||(a=iM(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function eq(e,t,n){var r=(e+="")=="transform"?e3:rM;return t==null?this.styleTween(e,X3(e,r)).on("end.style."+e,iM(e)):typeof t=="function"?this.styleTween(e,Q3(e,r,_v(this,"style."+e,t))).each(J3(this._id,e)):this.styleTween(e,Z3(e,r,t),n).on("end.style."+e,null)}function tq(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function nq(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&tq(e,o,n)),r}return s._value=t,s}function rq(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,nq(e,t,n??""))}function iq(e){return function(){this.textContent=e}}function sq(e){return function(){var t=e(this);this.textContent=t??""}}function oq(e){return this.tween("text",typeof e=="function"?sq(_v(this,"text",e)):iq(e==null?"":e+""))}function aq(e){return function(t){this.textContent=e.call(this,t)}}function lq(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&aq(i)),t}return r._value=e,r}function uq(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lq(e))}function cq(){for(var e=this._name,t=this._id,n=sM(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=mn(l,t);wu(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Yn(r,this._parents,e,n)}function dq(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=Nn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var fq=0;function Yn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function sM(){return++fq}var An=Ko.prototype;Yn.prototype={constructor:Yn,select:G3,selectAll:W3,selectChild:An.selectChild,selectChildren:An.selectChildren,filter:F3,merge:$3,selection:Y3,transition:cq,call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:z3,attr:S3,attrTween:N3,style:eq,styleTween:rq,text:oq,textTween:uq,remove:H3,tween:g3,delay:A3,duration:j3,ease:L3,easeVarying:q3,end:dq,[Symbol.iterator]:An[Symbol.iterator]};function hq(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pq={time:null,delay:0,duration:250,ease:hq};function mq(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function gq(e){var t,n;e instanceof Yn?(t=e._id,e=e._name):(t=sM(),(n=pq).time=wv(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&wu(l,e,t,u,o,n||mq(l,t));return new Yn(r,this._parents,e,t)}Ko.prototype.interrupt=h3;Ko.prototype.transition=gq;const Aa=e=>()=>e;function yq(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function qn(e,t,n){this.k=e,this.x=t,this.y=n}qn.prototype={constructor:qn,scale:function(e){return e===1?this:new qn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new qn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bn=new qn(1,0,0);qn.prototype;function Nc(e){e.stopImmediatePropagation()}function Rs(e){e.preventDefault(),e.stopImmediatePropagation()}function vq(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function wq(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function px(){return this.__zoom||Bn}function xq(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _q(){return navigator.maxTouchPoints||"ontouchstart"in this}function bq(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function oM(){var e=vq,t=wq,n=bq,r=xq,i=_q,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=s3,u=gu("start","zoom","end"),c,d,f,h=500,g=150,p=0,v=10;function m(E){E.property("__zoom",px).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(E,D,R,L){var P=E.selection?E.selection():E;P.property("__zoom",px),E!==P?b(E,D,R,L):P.interrupt().each(function(){C(this,arguments).event(L).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},m.scaleBy=function(E,D,R,L){m.scaleTo(E,function(){var P=this.__zoom.k,N=typeof D=="function"?D.apply(this,arguments):D;return P*N},R,L)},m.scaleTo=function(E,D,R,L){m.transform(E,function(){var P=t.apply(this,arguments),N=this.__zoom,j=R==null?_(P):typeof R=="function"?R.apply(this,arguments):R,F=N.invert(j),$=typeof D=="function"?D.apply(this,arguments):D;return n(x(y(N,$),j,F),P,o)},R,L)},m.translateBy=function(E,D,R,L){m.transform(E,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),o)},null,L)},m.translateTo=function(E,D,R,L,P){m.transform(E,function(){var N=t.apply(this,arguments),j=this.__zoom,F=L==null?_(N):typeof L=="function"?L.apply(this,arguments):L;return n(Bn.translate(F[0],F[1]).scale(j.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof R=="function"?-R.apply(this,arguments):-R),N,o)},L,P)};function y(E,D){return D=Math.max(s[0],Math.min(s[1],D)),D===E.k?E:new qn(D,E.x,E.y)}function x(E,D,R){var L=D[0]-R[0]*E.k,P=D[1]-R[1]*E.k;return L===E.x&&P===E.y?E:new qn(E.k,L,P)}function _(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function b(E,D,R,L){E.on("start.zoom",function(){C(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(L).end()}).tween("zoom",function(){var P=this,N=arguments,j=C(P,N).event(L),F=t.apply(P,N),$=R==null?_(F):typeof R=="function"?R.apply(P,N):R,O=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),z=P.__zoom,W=typeof D=="function"?D.apply(P,N):D,Q=l(z.invert($).concat(O/z.k),W.invert($).concat(O/W.k));return function(te){if(te===1)te=W;else{var ue=Q(te),se=O/ue[2];te=new qn(se,$[0]-ue[0]*se,$[1]-ue[1]*se)}j.zoom(null,te)}})}function C(E,D,R){return!R&&E.__zooming||new k(E,D)}function k(E,D){this.that=E,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,D),this.taps=0}k.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,D){return this.mouse&&E!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var D=Gt(this.that).datum();u.call(E,this.that,new yq(E,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),D)}};function T(E,...D){if(!e.apply(this,arguments))return;var R=C(this,D).event(E),L=this.__zoom,P=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,r.apply(this,arguments)))),N=ln(E);if(R.wheel)(R.mouse[0][0]!==N[0]||R.mouse[0][1]!==N[1])&&(R.mouse[1]=L.invert(R.mouse[0]=N)),clearTimeout(R.wheel);else{if(L.k===P)return;R.mouse=[N,L.invert(N)],nl(this),R.start()}Rs(E),R.wheel=setTimeout(j,g),R.zoom("mouse",n(x(y(L,P),R.mouse[0],R.mouse[1]),R.extent,o));function j(){R.wheel=null,R.end()}}function M(E,...D){if(f||!e.apply(this,arguments))return;var R=E.currentTarget,L=C(this,D,!0).event(E),P=Gt(E.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",O,!0),N=ln(E,R),j=E.clientX,F=E.clientY;HN(E.view),Nc(E),L.mouse=[N,this.__zoom.invert(N)],nl(this),L.start();function $(z){if(Rs(z),!L.moved){var W=z.clientX-j,Q=z.clientY-F;L.moved=W*W+Q*Q>p}L.event(z).zoom("mouse",n(x(L.that.__zoom,L.mouse[0]=ln(z,R),L.mouse[1]),L.extent,o))}function O(z){P.on("mousemove.zoom mouseup.zoom",null),GN(z.view,L.moved),Rs(z),L.event(z).end()}}function A(E,...D){if(e.apply(this,arguments)){var R=this.__zoom,L=ln(E.changedTouches?E.changedTouches[0]:E,this),P=R.invert(L),N=R.k*(E.shiftKey?.5:2),j=n(x(y(R,N),L,P),t.apply(this,D),o);Rs(E),a>0?Gt(this).transition().duration(a).call(b,j,L,E):Gt(this).call(m.transform,j,L,E)}}function I(E,...D){if(e.apply(this,arguments)){var R=E.touches,L=R.length,P=C(this,D,E.changedTouches.length===L).event(E),N,j,F,$;for(Nc(E),j=0;j<L;++j)F=R[j],$=ln(F,this),$=[$,this.__zoom.invert($),F.identifier],P.touch0?!P.touch1&&P.touch0[2]!==$[2]&&(P.touch1=$,P.taps=0):(P.touch0=$,N=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),N&&(P.taps<2&&(d=$[0],c=setTimeout(function(){c=null},h)),nl(this),P.start())}}function B(E,...D){if(this.__zooming){var R=C(this,D).event(E),L=E.changedTouches,P=L.length,N,j,F,$;for(Rs(E),N=0;N<P;++N)j=L[N],F=ln(j,this),R.touch0&&R.touch0[2]===j.identifier?R.touch0[0]=F:R.touch1&&R.touch1[2]===j.identifier&&(R.touch1[0]=F);if(j=R.that.__zoom,R.touch1){var O=R.touch0[0],z=R.touch0[1],W=R.touch1[0],Q=R.touch1[1],te=(te=W[0]-O[0])*te+(te=W[1]-O[1])*te,ue=(ue=Q[0]-z[0])*ue+(ue=Q[1]-z[1])*ue;j=y(j,Math.sqrt(te/ue)),F=[(O[0]+W[0])/2,(O[1]+W[1])/2],$=[(z[0]+Q[0])/2,(z[1]+Q[1])/2]}else if(R.touch0)F=R.touch0[0],$=R.touch0[1];else return;R.zoom("touch",n(x(j,F,$),R.extent,o))}}function V(E,...D){if(this.__zooming){var R=C(this,D).event(E),L=E.changedTouches,P=L.length,N,j;for(Nc(E),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),N=0;N<P;++N)j=L[N],R.touch0&&R.touch0[2]===j.identifier?delete R.touch0:R.touch1&&R.touch1[2]===j.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(j=ln(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<v)){var F=Gt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return m.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Aa(+E),m):r},m.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Aa(!!E),m):e},m.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:Aa(!!E),m):i},m.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Aa([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),m):t},m.scaleExtent=function(E){return arguments.length?(s[0]=+E[0],s[1]=+E[1],m):[s[0],s[1]]},m.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(E){return arguments.length?(n=E,m):n},m.duration=function(E){return arguments.length?(a=+E,m):a},m.interpolate=function(E){return arguments.length?(l=E,m):l},m.on=function(){var E=u.on.apply(u,arguments);return E===u?m:E},m.clickDistance=function(E){return arguments.length?(p=(E=+E)*E,m):Math.sqrt(p)},m.tapDistance=function(E){return arguments.length?(v=+E,m):v},m}const xu=S.createContext(null),Sq=xu.Provider,Xn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},aM=Xn.error001();function ve(e,t){const n=S.useContext(xu);if(n===null)throw new Error(aM);return RN(n,e,t)}const ze=()=>{const e=S.useContext(xu);if(e===null)throw new Error(aM);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Eq=e=>e.userSelectionActive?"none":"all";function bv({position:e,children:t,className:n,style:r,...i}){const s=ve(Eq),o=`${e}`.split("-");return q.createElement("div",{className:rt(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i},t)}function Cq({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:q.createElement(bv,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},q.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const kq=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const d=S.useRef(null),[f,h]=S.useState({x:0,y:0,width:0,height:0}),g=rt(["react-flow__edge-textwrapper",u]);return S.useEffect(()=>{if(d.current){const p=d.current.getBBox();h({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n>"u"||!n?null:q.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:g,visibility:f.width?"visible":"hidden",...c},i&&q.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),q.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),l)};var Tq=S.memo(kq);const Sv=e=>({width:e.offsetWidth,height:e.offsetHeight}),os=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ev=(e={x:0,y:0},t)=>({x:os(e.x,t[0][0],t[1][0]),y:os(e.y,t[0][1],t[1][1])}),mx=(e,t,n)=>e<t?os(Math.abs(e-t),1,50)/50:e>n?-os(Math.abs(e-n),1,50)/50:0,lM=(e,t)=>{const n=mx(e.x,35,t.width-35)*20,r=mx(e.y,35,t.height-35)*20;return[n,r]},uM=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},cM=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Do=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),dM=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),gx=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Nq=(e,t)=>dM(cM(Do(e),Do(t))),Gg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Mq=e=>Kt(e.width)&&Kt(e.height)&&Kt(e.x)&&Kt(e.y),Kt=e=>!isNaN(e)&&isFinite(e),je=Symbol.for("internals"),fM=["Enter"," ","Escape"],Pq=(e,t)=>{},Aq=e=>"nativeEvent"in e;function Wg(e){var i,s;const t=Aq(e)?e.nativeEvent:e,n=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const hM=e=>"clientX"in e,Cr=(e,t)=>{var s,o;const n=hM(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Ol=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Xo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h=20})=>q.createElement(q.Fragment,null,q.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),h&&q.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Kt(n)&&Kt(r)?q.createElement(Tq,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Xo.displayName="BaseEdge";function Is(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(s=>s.id===e);i&&n(r,{...i})}}function pM({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function mM({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,u=t*.125+s*.375+a*.375+r*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}var li;(function(e){e.Strict="strict",e.Loose="loose"})(li||(li={}));var Kr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Kr||(Kr={}));var Lo;(function(e){e.Partial="partial",e.Full="full"})(Lo||(Lo={}));var hr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(hr||(hr={}));var ql;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ql||(ql={}));var J;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(J||(J={}));function yx({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===J.Left||e===J.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function gM({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:i,targetPosition:s=J.Top}){const[o,a]=yx({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=yx({pos:s,x1:r,y1:i,x2:e,y2:t}),[c,d,f,h]=mM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${i}`,c,d,f,h]}const Cv=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=J.Bottom,targetPosition:s=J.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:p})=>{const[v,m,y]=gM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return q.createElement(Xo,{path:v,labelX:m,labelY:y,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:p})});Cv.displayName="SimpleBezierEdge";const vx={[J.Left]:{x:-1,y:0},[J.Right]:{x:1,y:0},[J.Top]:{x:0,y:-1},[J.Bottom]:{x:0,y:1}},Rq=({source:e,sourcePosition:t=J.Bottom,target:n})=>t===J.Left||t===J.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},wx=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Iq({source:e,sourcePosition:t=J.Bottom,target:n,targetPosition:r=J.Top,center:i,offset:s}){const o=vx[t],a=vx[r],l={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=Rq({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let h=[],g,p;const v={x:0,y:0},m={x:0,y:0},[y,x,_,b]=pM({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){g=i.x??y,p=i.y??x;const k=[{x:g,y:l.y},{x:g,y:u.y}],T=[{x:l.x,y:p},{x:u.x,y:p}];o[d]===f?h=d==="x"?k:T:h=d==="x"?T:k}else{const k=[{x:l.x,y:u.y}],T=[{x:u.x,y:l.y}];if(d==="x"?h=o.x===f?T:k:h=o.y===f?k:T,t===r){const V=Math.abs(e[d]-n[d]);if(V<=s){const E=Math.min(s-1,s-V);o[d]===f?v[d]=(l[d]>e[d]?-1:1)*E:m[d]=(u[d]>n[d]?-1:1)*E}}if(t!==r){const V=d==="x"?"y":"x",E=o[d]===a[V],D=l[V]>u[V],R=l[V]<u[V];(o[d]===1&&(!E&&D||E&&R)||o[d]!==1&&(!E&&R||E&&D))&&(h=d==="x"?k:T)}const M={x:l.x+v.x,y:l.y+v.y},A={x:u.x+m.x,y:u.y+m.y},I=Math.max(Math.abs(M.x-h[0].x),Math.abs(A.x-h[0].x)),B=Math.max(Math.abs(M.y-h[0].y),Math.abs(A.y-h[0].y));I>=B?(g=(M.x+A.x)/2,p=h[0].y):(g=h[0].x,p=(M.y+A.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...h,{x:u.x+m.x,y:u.y+m.y},n],g,p,_,b]}function jq(e,t,n,r){const i=Math.min(wx(e,t)/2,wx(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Kg({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:i,targetPosition:s=J.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[c,d,f,h,g]=Iq({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[c.reduce((v,m,y)=>{let x="";return y>0&&y<c.length-1?x=jq(c[y-1],m,c[y+1],o):x=`${y===0?"M":"L"}${m.x} ${m.y}`,v+=x,v},""),d,f,h,g]}const _u=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:d=J.Bottom,targetPosition:f=J.Top,markerEnd:h,markerStart:g,pathOptions:p,interactionWidth:v})=>{const[m,y,x]=Kg({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return q.createElement(Xo,{path:m,labelX:y,labelY:x,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:h,markerStart:g,interactionWidth:v})});_u.displayName="SmoothStepEdge";const kv=S.memo(e=>{var t;return q.createElement(_u,{...e,pathOptions:S.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});kv.displayName="StepEdge";function Dq({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=pM({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const Tv=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h})=>{const[g,p,v]=Dq({sourceX:e,sourceY:t,targetX:n,targetY:r});return q.createElement(Xo,{path:g,labelX:p,labelY:v,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h})});Tv.displayName="StraightEdge";function Ra(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function xx({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case J.Left:return[t-Ra(t-r,s),n];case J.Right:return[t+Ra(r-t,s),n];case J.Top:return[t,n-Ra(n-i,s)];case J.Bottom:return[t,n+Ra(i-n,s)]}}function yM({sourceX:e,sourceY:t,sourcePosition:n=J.Bottom,targetX:r,targetY:i,targetPosition:s=J.Top,curvature:o=.25}){const[a,l]=xx({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,c]=xx({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[d,f,h,g]=mM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,d,f,h,g]}const Fl=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=J.Bottom,targetPosition:s=J.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,pathOptions:p,interactionWidth:v})=>{const[m,y,x]=yM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:p==null?void 0:p.curvature});return q.createElement(Xo,{path:m,labelX:y,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:v})});Fl.displayName="BezierEdge";const Nv=S.createContext(null),Lq=Nv.Provider;Nv.Consumer;const Oq=()=>S.useContext(Nv),qq=e=>"id"in e&&"source"in e&&"target"in e,Fq=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Yg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,$q=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Vq=(e,t)=>{if(!e.source||!e.target)return t;let n;return qq(e)?n={...e}:n={...e,id:Fq(e)},$q(n,t)?t:t.concat(n)},Xg=({x:e,y:t},[n,r,i],s,[o,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},vM=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),ei=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},bu=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:s,y:o}=ei(i,t).positionAbsolute;return cM(r,Do({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return dM(n)},wM=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:h=!0,hidden:g=!1}=c;if(o&&!h||g)return!1;const{positionAbsolute:p}=ei(c,a),v={x:p.x,y:p.y,width:d||0,height:f||0},m=Gg(l,v),y=typeof d>"u"||typeof f>"u"||d===null||f===null,x=s&&m>0,_=(d||0)*(f||0);(y||x||m>=_||c.dragging)&&u.push(c)}),u},xM=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},_M=(e,t,n,r,i,s=.1)=>{const o=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(o,a),u=os(l,r,i),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,h=n/2-d*u;return{x:f,y:h,zoom:u}},Vr=(e,t=0)=>e.transition().duration(t);function _x(e,t,n,r){return(t[n]||[]).reduce((i,s)=>{var o,a;return`${e.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function Bq(e,t,n,r,i,s){const{x:o,y:a}=Cr(e),u=t.elementsFromPoint(o,a).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const p=Mv(void 0,u),v=u.getAttribute("data-handleid"),m=s({nodeId:g,id:v,type:p});if(m){const y=i.find(x=>x.nodeId===g&&x.type===p&&x.id===v);return{handle:{id:v,type:p,nodeId:g,x:(y==null?void 0:y.x)||n.x,y:(y==null?void 0:y.y)||n.y},validHandleResult:m}}}}let c=[],d=1/0;if(i.forEach(g=>{const p=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(p<=r){const v=s(g);p<=d&&(p<d?c=[{handle:g,validHandleResult:v}]:p===d&&c.push({handle:g,validHandleResult:v}),d=p)}}),!c.length)return{handle:null,validHandleResult:bM()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:g})=>g.isValid),h=c.some(({handle:g})=>g.type==="target");return c.find(({handle:g,validHandleResult:p})=>h?g.type==="target":f?p.isValid:!0)||c[0]}const zq={source:null,target:null,sourceHandle:null,targetHandle:null},bM=()=>({handleDomNode:null,isValid:!1,connection:zq,endHandle:null});function SM(e,t,n,r,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...bM(),handleDomNode:l};if(l){const c=Mv(void 0,l),d=l.getAttribute("data-nodeid"),f=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),g=l.classList.contains("connectableend"),p={source:a?d:n,sourceHandle:a?f:r,target:a?n:d,targetHandle:a?r:f};u.connection=p,h&&g&&(t===li.Strict?a&&c==="source"||!a&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=s(p))}return u}function Uq({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,s)=>{if(s[je]){const{handleBounds:o}=s[je];let a=[],l=[];o&&(a=_x(s,o,"source",`${t}-${n}-${r}`),l=_x(s,o,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Mv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Mc(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Hq(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function EM({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=uM(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:h,connectionRadius:g,onConnectStart:p,panBy:v,getNodes:m,cancelConnection:y}=s();let x=0,_;const{x:b,y:C}=Cr(e),k=c==null?void 0:c.elementFromPoint(b,C),T=Mv(l,k),M=f==null?void 0:f.getBoundingClientRect();if(!M||!T)return;let A,I=Cr(e,M),B=!1,V=null,E=!1,D=null;const R=Uq({nodes:m(),nodeId:n,handleId:t,handleType:T}),L=()=>{if(!h)return;const[j,F]=lM(I,M);v({x:j,y:F}),x=requestAnimationFrame(L)};o({connectionPosition:I,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:T,connectionStartHandle:{nodeId:n,handleId:t,type:T},connectionEndHandle:null}),p==null||p(e,{nodeId:n,handleId:t,handleType:T});function P(j){const{transform:F}=s();I=Cr(j,M);const{handle:$,validHandleResult:O}=Bq(j,c,Xg(I,F,!1,[1,1]),g,R,z=>SM(z,d,n,t,i?"target":"source",a,c));if(_=$,B||(L(),B=!0),D=O.handleDomNode,V=O.connection,E=O.isValid,o({connectionPosition:_&&E?vM({x:_.x,y:_.y},F):I,connectionStatus:Hq(!!_,E),connectionEndHandle:O.endHandle}),!_&&!E&&!D)return Mc(A);V.source!==V.target&&D&&(Mc(A),A=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",E),D.classList.toggle("react-flow__handle-valid",E))}function N(j){var F,$;(_||D)&&V&&E&&(r==null||r(V)),($=(F=s()).onConnectEnd)==null||$.call(F,j),l&&(u==null||u(j)),Mc(A),y(),cancelAnimationFrame(x),B=!1,E=!1,V=null,D=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",N),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",N)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",N),c.addEventListener("touchmove",P),c.addEventListener("touchend",N)}const bx=()=>!0,Gq=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Wq=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},CM=S.forwardRef(({type:e="source",position:t=J.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...f},h)=>{var M,A;const g=o||null,p=e==="target",v=ze(),m=Oq(),{connectOnClick:y,noPanClassName:x}=ve(Gq,Ye),{connecting:_,clickConnecting:b}=ve(Wq(m,g,e),Ye);m||(A=(M=v.getState()).onError)==null||A.call(M,"010",Xn.error010());const C=I=>{const{defaultEdgeOptions:B,onConnect:V,hasDefaultEdges:E}=v.getState(),D={...B,...I};if(E){const{edges:R,setEdges:L}=v.getState();L(Vq(D,R))}V==null||V(D),a==null||a(D)},k=I=>{if(!m)return;const B=hM(I);i&&(B&&I.button===0||!B)&&EM({event:I,handleId:g,nodeId:m,onConnect:C,isTarget:p,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||bx}),B?c==null||c(I):d==null||d(I)},T=I=>{const{onClickConnectStart:B,onClickConnectEnd:V,connectionClickStartHandle:E,connectionMode:D,isValidConnection:R}=v.getState();if(!m||!E&&!i)return;if(!E){B==null||B(I,{nodeId:m,handleId:g,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:g}});return}const L=uM(I.target),P=n||R||bx,{connection:N,isValid:j}=SM({nodeId:m,id:g,type:e},D,E.nodeId,E.handleId||null,E.type,P,L);j&&C(N),V==null||V(I),v.setState({connectionClickStartHandle:null})};return q.createElement("div",{"data-handleid":g,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${g}-${e}`,className:rt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!p,target:p,connectable:r,connectablestart:i,connectableend:s,connecting:b,connectionindicator:r&&(i&&!_||s&&_)}]),onMouseDown:k,onTouchStart:k,onClick:y?T:void 0,ref:h,...f},l)});CM.displayName="Handle";var $l=S.memo(CM);const kM=({data:e,isConnectable:t,targetPosition:n=J.Top,sourcePosition:r=J.Bottom})=>q.createElement(q.Fragment,null,q.createElement($l,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,q.createElement($l,{type:"source",position:r,isConnectable:t}));kM.displayName="DefaultNode";var Zg=S.memo(kM);const TM=({data:e,isConnectable:t,sourcePosition:n=J.Bottom})=>q.createElement(q.Fragment,null,e==null?void 0:e.label,q.createElement($l,{type:"source",position:n,isConnectable:t}));TM.displayName="InputNode";var NM=S.memo(TM);const MM=({data:e,isConnectable:t,targetPosition:n=J.Top})=>q.createElement(q.Fragment,null,q.createElement($l,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);MM.displayName="OutputNode";var PM=S.memo(MM);const Pv=()=>null;Pv.displayName="GroupNode";const Kq=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ia=e=>e.id;function Yq(e,t){return Ye(e.selectedNodes.map(Ia),t.selectedNodes.map(Ia))&&Ye(e.selectedEdges.map(Ia),t.selectedEdges.map(Ia))}const AM=S.memo(({onSelectionChange:e})=>{const t=ze(),{selectedNodes:n,selectedEdges:r}=ve(Kq,Yq);return S.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[n,r,e]),null});AM.displayName="SelectionListener";const Xq=e=>!!e.onSelectionChange;function Zq({onSelectionChange:e}){const t=ve(Xq);return e||t?q.createElement(AM,{onSelectionChange:e}):null}const Qq=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function wi(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ie(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Jq=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:h,elevateNodesOnSelect:g,minZoom:p,maxZoom:v,nodeExtent:m,onNodesChange:y,onEdgesChange:x,elementsSelectable:_,connectionMode:b,snapGrid:C,snapToGrid:k,translateExtent:T,connectOnClick:M,defaultEdgeOptions:A,fitView:I,fitViewOptions:B,onNodesDelete:V,onEdgesDelete:E,onNodeDrag:D,onNodeDragStart:R,onNodeDragStop:L,onSelectionDrag:P,onSelectionDragStart:N,onSelectionDragStop:j,noPanClassName:F,nodeOrigin:$,rfId:O,autoPanOnConnect:z,autoPanOnNodeDrag:W,onError:Q,connectionRadius:te,isValidConnection:ue,nodeDragThreshold:se})=>{const{setNodes:oe,setEdges:Se,setDefaultNodesAndEdges:Ee,setMinZoom:$e,setMaxZoom:ce,setTranslateExtent:G,setNodeExtent:Te,reset:X}=ve(Qq,Ye),Y=ze();return S.useEffect(()=>{const ge=r==null?void 0:r.map(ft=>({...ft,...A}));return Ee(n,ge),()=>{X()}},[]),ie("defaultEdgeOptions",A,Y.setState),ie("connectionMode",b,Y.setState),ie("onConnect",i,Y.setState),ie("onConnectStart",s,Y.setState),ie("onConnectEnd",o,Y.setState),ie("onClickConnectStart",a,Y.setState),ie("onClickConnectEnd",l,Y.setState),ie("nodesDraggable",u,Y.setState),ie("nodesConnectable",c,Y.setState),ie("nodesFocusable",d,Y.setState),ie("edgesFocusable",f,Y.setState),ie("edgesUpdatable",h,Y.setState),ie("elementsSelectable",_,Y.setState),ie("elevateNodesOnSelect",g,Y.setState),ie("snapToGrid",k,Y.setState),ie("snapGrid",C,Y.setState),ie("onNodesChange",y,Y.setState),ie("onEdgesChange",x,Y.setState),ie("connectOnClick",M,Y.setState),ie("fitViewOnInit",I,Y.setState),ie("fitViewOnInitOptions",B,Y.setState),ie("onNodesDelete",V,Y.setState),ie("onEdgesDelete",E,Y.setState),ie("onNodeDrag",D,Y.setState),ie("onNodeDragStart",R,Y.setState),ie("onNodeDragStop",L,Y.setState),ie("onSelectionDrag",P,Y.setState),ie("onSelectionDragStart",N,Y.setState),ie("onSelectionDragStop",j,Y.setState),ie("noPanClassName",F,Y.setState),ie("nodeOrigin",$,Y.setState),ie("rfId",O,Y.setState),ie("autoPanOnConnect",z,Y.setState),ie("autoPanOnNodeDrag",W,Y.setState),ie("onError",Q,Y.setState),ie("connectionRadius",te,Y.setState),ie("isValidConnection",ue,Y.setState),ie("nodeDragThreshold",se,Y.setState),wi(e,oe),wi(t,Se),wi(p,$e),wi(v,ce),wi(T,G),wi(m,Te),null},Sx={display:"none"},eF={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},RM="react-flow__node-desc",IM="react-flow__edge-desc",tF="react-flow__aria-live",nF=e=>e.ariaLiveMessage;function rF({rfId:e}){const t=ve(nF);return q.createElement("div",{id:`${tF}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:eF},t)}function iF({rfId:e,disableKeyboardA11y:t}){return q.createElement(q.Fragment,null,q.createElement("div",{id:`${RM}-${e}`,style:Sx},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),q.createElement("div",{id:`${IM}-${e}`,style:Sx},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&q.createElement(rF,{rfId:e}))}var Oo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=S.useState(!1),i=S.useRef(!1),s=S.useRef(new Set([])),[o,a]=S.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return S.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Wg(h))return!1;const p=Cx(h.code,a);s.current.add(h[p]),Ex(o,s.current,!1)&&(h.preventDefault(),r(!0))},d=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Wg(h))return!1;const p=Cx(h.code,a);Ex(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[p]),h.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function Ex(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Cx(e,t){return t.includes(e)?"code":"key"}function jM(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),o=ei(s,r);return jM(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[je])==null?void 0:a.z)??0)>(n.z??0)?((l=s[je])==null?void 0:l.z)??0:n.z??0},r)}function DM(e,t,n){e.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:a,z:l}=jM(r,e,{...r.position,z:((s=r[je])==null?void 0:s.z)??0},t);r.positionAbsolute={x:o,y:a},r[je].z=l,n!=null&&n[r.id]&&(r[je].isParent=!0)}})}function Pc(e,t,n,r){const i=new Map,s={},o=r?1e3:0;return e.forEach(a=>{var h;const l=(Kt(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(s[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,je,{enumerable:!1,value:{handleBounds:f||(h=u==null?void 0:u[je])==null?void 0:h.handleBounds,z:l}}),i.set(a.id,c)}),DM(i,n,s),i}function LM(e,t={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(a&&l&&(f||!t.initial)){const g=n().filter(v=>{var y;const m=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return(y=t.nodes)!=null&&y.length?m&&t.nodes.some(x=>x.id===v.id):m}),p=g.every(v=>v.width&&v.height);if(g.length>0&&p){const v=bu(g,d),{x:m,y,zoom:x}=_M(v,r,i,t.minZoom??s,t.maxZoom??o,t.padding??.1),_=Bn.translate(m,y).scale(x);return typeof t.duration=="number"&&t.duration>0?a.transform(Vr(l,t.duration),_):a.transform(l,_),!0}}return!1}function sF(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[je]:r[je],selected:n.selected})}),new Map(t)}function oF(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function ja({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:sF(e,i)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:oF(t,s)}),a==null||a(t))}const xi=()=>{},aF={zoomIn:xi,zoomOut:xi,zoomTo:xi,getZoom:()=>1,setViewport:xi,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:xi,fitBounds:xi,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},lF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),uF=()=>{const e=ze(),{d3Zoom:t,d3Selection:n}=ve(lF,Ye);return S.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Vr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Vr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(Vr(n,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=e.getState().transform,u=Bn.translate(i.x??o,i.y??a).scale(i.zoom??l);t.transform(Vr(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,o]=e.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>LM(e.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,d=a/2-i*c,f=l/2-s*c,h=Bn.translate(d,f).scale(c);t.transform(Vr(n,o==null?void 0:o.duration),h)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=_M(i,o,a,l,u,(s==null?void 0:s.padding)??.1),h=Bn.translate(c,d).scale(f);t.transform(Vr(n,s==null?void 0:s.duration),h)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Xg(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return Xg(d,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=e.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),u=vM(i,s);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:aF,[t,n])};function Av(){const e=uF(),t=ze(),n=S.useCallback(()=>t.getState().getNodes().map(p=>({...p})),[]),r=S.useCallback(p=>t.getState().nodeInternals.get(p),[]),i=S.useCallback(()=>{const{edges:p=[]}=t.getState();return p.map(v=>({...v}))},[]),s=S.useCallback(p=>{const{edges:v=[]}=t.getState();return v.find(m=>m.id===p)},[]),o=S.useCallback(p=>{const{getNodes:v,setNodes:m,hasDefaultNodes:y,onNodesChange:x}=t.getState(),_=v(),b=typeof p=="function"?p(_):p;if(y)m(b);else if(x){const C=b.length===0?_.map(k=>({type:"remove",id:k.id})):b.map(k=>({item:k,type:"reset"}));x(C)}},[]),a=S.useCallback(p=>{const{edges:v=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:x}=t.getState(),_=typeof p=="function"?p(v):p;if(y)m(_);else if(x){const b=_.length===0?v.map(C=>({type:"remove",id:C.id})):_.map(C=>({item:C,type:"reset"}));x(b)}},[]),l=S.useCallback(p=>{const v=Array.isArray(p)?p:[p],{getNodes:m,setNodes:y,hasDefaultNodes:x,onNodesChange:_}=t.getState();if(x){const C=[...m(),...v];y(C)}else if(_){const b=v.map(C=>({item:C,type:"add"}));_(b)}},[]),u=S.useCallback(p=>{const v=Array.isArray(p)?p:[p],{edges:m=[],setEdges:y,hasDefaultEdges:x,onEdgesChange:_}=t.getState();if(x)y([...m,...v]);else if(_){const b=v.map(C=>({item:C,type:"add"}));_(b)}},[]),c=S.useCallback(()=>{const{getNodes:p,edges:v=[],transform:m}=t.getState(),[y,x,_]=m;return{nodes:p().map(b=>({...b})),edges:v.map(b=>({...b})),viewport:{x:y,y:x,zoom:_}}},[]),d=S.useCallback(({nodes:p,edges:v})=>{const{nodeInternals:m,getNodes:y,edges:x,hasDefaultNodes:_,hasDefaultEdges:b,onNodesDelete:C,onEdgesDelete:k,onNodesChange:T,onEdgesChange:M}=t.getState(),A=(p||[]).map(D=>D.id),I=(v||[]).map(D=>D.id),B=y().reduce((D,R)=>{const L=R.parentNode||R.parentId,P=!A.includes(R.id)&&L&&D.find(j=>j.id===L);return(typeof R.deletable=="boolean"?R.deletable:!0)&&(A.includes(R.id)||P)&&D.push(R),D},[]),V=x.filter(D=>typeof D.deletable=="boolean"?D.deletable:!0),E=V.filter(D=>I.includes(D.id));if(B||E){const D=xM(B,V),R=[...E,...D],L=R.reduce((P,N)=>(P.includes(N.id)||P.push(N.id),P),[]);if((b||_)&&(b&&t.setState({edges:x.filter(P=>!L.includes(P.id))}),_&&(B.forEach(P=>{m.delete(P.id)}),t.setState({nodeInternals:new Map(m)}))),L.length>0&&(k==null||k(R),M&&M(L.map(P=>({id:P,type:"remove"})))),B.length>0&&(C==null||C(B),T)){const P=B.map(N=>({id:N.id,type:"remove"}));T(P)}}},[]),f=S.useCallback(p=>{const v=Mq(p),m=v?null:t.getState().nodeInternals.get(p.id);return!v&&!m?[null,null,v]:[v?p:gx(m),m,v]},[]),h=S.useCallback((p,v=!0,m)=>{const[y,x,_]=f(p);return y?(m||t.getState().getNodes()).filter(b=>{if(!_&&(b.id===x.id||!b.positionAbsolute))return!1;const C=gx(b),k=Gg(C,y);return v&&k>0||k>=y.width*y.height}):[]},[]),g=S.useCallback((p,v,m=!0)=>{const[y]=f(p);if(!y)return!1;const x=Gg(y,v);return m&&x>0||x>=y.width*y.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:g}),[e,n,r,i,s,o,a,l,u,c,d,h,g])}const cF={actInsideInputWithModifier:!1};var dF=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ze(),{deleteElements:r}=Av(),i=Oo(e,cF),s=Oo(t);S.useEffect(()=>{if(i){const{edges:o,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=o.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),S.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function fF(e){const t=ze();S.useEffect(()=>{let n;const r=()=>{var s,o;if(!e.current)return;const i=Sv(e.current);(i.height===0||i.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Xn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Rv={position:"absolute",width:"100%",height:"100%",top:0,left:0},hF=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Da=e=>({x:e.x,y:e.y,zoom:e.k}),_i=(e,t)=>e.target.closest(`.${t}`),kx=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Tx=e=>{const t=e.ctrlKey&&Ol()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},pF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),mF=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Kr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:g,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:m=!0,children:y,noWheelClassName:x,noPanClassName:_})=>{const b=S.useRef(),C=ze(),k=S.useRef(!1),T=S.useRef(!1),M=S.useRef(null),A=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:B,d3ZoomHandler:V,userSelectionActive:E}=ve(pF,Ye),D=Oo(v),R=S.useRef(0),L=S.useRef(!1),P=S.useRef();return fF(M),S.useEffect(()=>{if(M.current){const N=M.current.getBoundingClientRect(),j=oM().scaleExtent([g,p]).translateExtent(h),F=Gt(M.current).call(j),$=Bn.translate(f.x,f.y).scale(os(f.zoom,g,p)),O=[[0,0],[N.width,N.height]],z=j.constrain()($,O,h);j.transform(F,z),j.wheelDelta(Tx),C.setState({d3Zoom:j,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[z.x,z.y,z.k],domNode:M.current.closest(".react-flow")})}},[]),S.useEffect(()=>{B&&I&&(o&&!D&&!E?B.on("wheel.zoom",N=>{if(_i(N,x))return!1;N.preventDefault(),N.stopImmediatePropagation();const j=B.property("__zoom").k||1;if(N.ctrlKey&&s){const ue=ln(N),se=Tx(N),oe=j*Math.pow(2,se);I.scaleTo(B,oe,ue,N);return}const F=N.deltaMode===1?20:1;let $=l===Kr.Vertical?0:N.deltaX*F,O=l===Kr.Horizontal?0:N.deltaY*F;!Ol()&&N.shiftKey&&l!==Kr.Vertical&&($=N.deltaY*F,O=0),I.translateBy(B,-($/j)*a,-(O/j)*a,{internal:!0});const z=Da(B.property("__zoom")),{onViewportChangeStart:W,onViewportChange:Q,onViewportChangeEnd:te}=C.getState();clearTimeout(P.current),L.current||(L.current=!0,t==null||t(N,z),W==null||W(z)),L.current&&(e==null||e(N,z),Q==null||Q(z),P.current=setTimeout(()=>{n==null||n(N,z),te==null||te(z),L.current=!1},150))},{passive:!1}):typeof V<"u"&&B.on("wheel.zoom",function(N,j){if(!m&&N.type==="wheel"&&!N.ctrlKey||_i(N,x))return null;N.preventDefault(),V.call(this,N,j)},{passive:!1}))},[E,o,l,B,I,V,D,s,m,x,t,e,n]),S.useEffect(()=>{I&&I.on("start",N=>{var $,O;if(!N.sourceEvent||N.sourceEvent.internal)return null;R.current=($=N.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:j}=C.getState(),F=Da(N.transform);k.current=!0,A.current=F,((O=N.sourceEvent)==null?void 0:O.type)==="mousedown"&&C.setState({paneDragging:!0}),j==null||j(F),t==null||t(N.sourceEvent,F)})},[I,t]),S.useEffect(()=>{I&&(E&&!k.current?I.on("zoom",null):E||I.on("zoom",N=>{var F;const{onViewportChange:j}=C.getState();if(C.setState({transform:[N.transform.x,N.transform.y,N.transform.k]}),T.current=!!(r&&kx(d,R.current??0)),(e||j)&&!((F=N.sourceEvent)!=null&&F.internal)){const $=Da(N.transform);j==null||j($),e==null||e(N.sourceEvent,$)}}))},[E,I,e,d,r]),S.useEffect(()=>{I&&I.on("end",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;const{onViewportChangeEnd:j}=C.getState();if(k.current=!1,C.setState({paneDragging:!1}),r&&kx(d,R.current??0)&&!T.current&&r(N.sourceEvent),T.current=!1,(n||j)&&hF(A.current,N.transform)){const F=Da(N.transform);A.current=F,clearTimeout(b.current),b.current=setTimeout(()=>{j==null||j(F),n==null||n(N.sourceEvent,F)},o?150:0)}})},[I,o,d,n,r]),S.useEffect(()=>{I&&I.filter(N=>{const j=D||i,F=s&&N.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&N.button===1&&N.type==="mousedown"&&(_i(N,"react-flow__node")||_i(N,"react-flow__edge")))return!0;if(!d&&!j&&!o&&!u&&!s||E||!u&&N.type==="dblclick"||_i(N,x)&&N.type==="wheel"||_i(N,_)&&(N.type!=="wheel"||o&&N.type==="wheel"&&!D)||!s&&N.ctrlKey&&N.type==="wheel"||!j&&!o&&!F&&N.type==="wheel"||!d&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(d)&&!d.includes(N.button)&&N.type==="mousedown")return!1;const $=Array.isArray(d)&&d.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&$})},[E,I,i,s,o,u,d,c,D]),q.createElement("div",{className:"react-flow__renderer",ref:M,style:Rv},y)},gF=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function yF(){const{userSelectionActive:e,userSelectionRect:t}=ve(gF,Ye);return e&&t?q.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Nx(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function vF(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const s=e.filter(a=>a.id===i.id);if(s.length===0)return r.push(i),r;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&Nx(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&Nx(r,o);break}case"remove":return r}return r.push(o),r},n)}function wF(e,t){return vF(e,t)}const cr=(e,t)=>({id:e,type:"select",selected:t});function Di(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(cr(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(cr(r.id,!1))),n},[])}const Ac=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},xF=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),OM=S.memo(({isSelecting:e,selectionMode:t=Lo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=S.useRef(null),h=ze(),g=S.useRef(0),p=S.useRef(0),v=S.useRef(),{userSelectionActive:m,elementsSelectable:y,dragging:x}=ve(xF,Ye),_=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,p.current=0},b=V=>{s==null||s(V),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=V=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){V.preventDefault();return}o==null||o(V)},k=a?V=>a(V):void 0,T=V=>{const{resetSelectedElements:E,domNode:D}=h.getState();if(v.current=D==null?void 0:D.getBoundingClientRect(),!y||!e||V.button!==0||V.target!==f.current||!v.current)return;const{x:R,y:L}=Cr(V,v.current);E(),h.setState({userSelectionRect:{width:0,height:0,startX:R,startY:L,x:R,y:L}}),r==null||r(V)},M=V=>{const{userSelectionRect:E,nodeInternals:D,edges:R,transform:L,onNodesChange:P,onEdgesChange:N,nodeOrigin:j,getNodes:F}=h.getState();if(!e||!v.current||!E)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=Cr(V,v.current),O=E.startX??0,z=E.startY??0,W={...E,x:$.x<O?$.x:O,y:$.y<z?$.y:z,width:Math.abs($.x-O),height:Math.abs($.y-z)},Q=F(),te=wM(D,W,L,t===Lo.Partial,!0,j),ue=xM(te,R).map(oe=>oe.id),se=te.map(oe=>oe.id);if(g.current!==se.length){g.current=se.length;const oe=Di(Q,se);oe.length&&(P==null||P(oe))}if(p.current!==ue.length){p.current=ue.length;const oe=Di(R,ue);oe.length&&(N==null||N(oe))}h.setState({userSelectionRect:W})},A=V=>{if(V.button!==0)return;const{userSelectionRect:E}=h.getState();!m&&E&&V.target===f.current&&(b==null||b(V)),h.setState({nodesSelectionActive:g.current>0}),_(),i==null||i(V)},I=V=>{m&&(h.setState({nodesSelectionActive:g.current>0}),i==null||i(V)),_()},B=y&&(e||m);return q.createElement("div",{className:rt(["react-flow__pane",{dragging:x,selection:e}]),onClick:B?void 0:Ac(b,f),onContextMenu:Ac(C,f),onWheel:Ac(k,f),onMouseEnter:B?void 0:l,onMouseDown:B?T:void 0,onMouseMove:B?M:u,onMouseUp:B?A:void 0,onMouseLeave:B?I:c,ref:f,style:Rv},d,q.createElement(yF,null))});OM.displayName="Pane";function qM(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:qM(r,t):!1}function Mx(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function _F(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!qM(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function bF(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function FM(e,t,n,r,i=[0,0],s){const o=bF(e,e.extent||r);let a=o;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:f,y:h}=ei(d,i).positionAbsolute;a=d&&Kt(f)&&Kt(h)&&Kt(d.width)&&Kt(d.height)?[[f+e.width*i[0],h+e.height*i[1]],[f+d.width-e.width+e.width*i[0],h+d.height-e.height+e.height*i[1]]]:a}else s==null||s("005",Xn.error005()),a=o;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:f,y:h}=ei(d,i).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+h],[e.extent[1][0]+f,e.extent[1][1]+h]]}let u={x:0,y:0};if(l){const d=n.get(l);u=ei(d,i).positionAbsolute}const c=a&&a!=="parent"?Ev(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Rc({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Px=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...Sv(l)}})};function js(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Qg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",Xn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function SF(){const e=ze();return S.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function Ic(e){return(t,n,r)=>e==null?void 0:e(t,r)}function $M({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=ze(),[l,u]=S.useState(!1),c=S.useRef([]),d=S.useRef({x:null,y:null}),f=S.useRef(0),h=S.useRef(null),g=S.useRef({x:0,y:0}),p=S.useRef(null),v=S.useRef(!1),m=S.useRef(!1),y=S.useRef(!1),x=SF();return S.useEffect(()=>{if(e!=null&&e.current){const _=Gt(e.current),b=({x:T,y:M})=>{const{nodeInternals:A,onNodeDrag:I,onSelectionDrag:B,updateNodePositions:V,nodeExtent:E,snapGrid:D,snapToGrid:R,nodeOrigin:L,onError:P}=a.getState();d.current={x:T,y:M};let N=!1,j={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&E){const $=bu(c.current,L);j=Do($)}if(c.current=c.current.map($=>{const O={x:T-$.distance.x,y:M-$.distance.y};R&&(O.x=D[0]*Math.round(O.x/D[0]),O.y=D[1]*Math.round(O.y/D[1]));const z=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];c.current.length>1&&E&&!$.extent&&(z[0][0]=$.positionAbsolute.x-j.x+E[0][0],z[1][0]=$.positionAbsolute.x+($.width??0)-j.x2+E[1][0],z[0][1]=$.positionAbsolute.y-j.y+E[0][1],z[1][1]=$.positionAbsolute.y+($.height??0)-j.y2+E[1][1]);const W=FM($,O,A,z,L,P);return N=N||$.position.x!==W.position.x||$.position.y!==W.position.y,$.position=W.position,$.positionAbsolute=W.positionAbsolute,$}),!N)return;V(c.current,!0,!0),u(!0);const F=i?I:Ic(B);if(F&&p.current){const[$,O]=Rc({nodeId:i,dragItems:c.current,nodeInternals:A});F(p.current,$,O)}},C=()=>{if(!h.current)return;const[T,M]=lM(g.current,h.current);if(T!==0||M!==0){const{transform:A,panBy:I}=a.getState();d.current.x=(d.current.x??0)-T/A[2],d.current.y=(d.current.y??0)-M/A[2],I({x:T,y:M})&&b(d.current)}f.current=requestAnimationFrame(C)},k=T=>{var L;const{nodeInternals:M,multiSelectionActive:A,nodesDraggable:I,unselectNodesAndEdges:B,onNodeDragStart:V,onSelectionDragStart:E}=a.getState();m.current=!0;const D=i?V:Ic(E);(!o||!s)&&!A&&i&&((L=M.get(i))!=null&&L.selected||B()),i&&s&&o&&Qg({id:i,store:a,nodeRef:e});const R=x(T);if(d.current=R,c.current=_F(M,I,R,i),D&&c.current){const[P,N]=Rc({nodeId:i,dragItems:c.current,nodeInternals:M});D(T.sourceEvent,P,N)}};if(t)_.on(".drag",null);else{const T=IO().on("start",M=>{const{domNode:A,nodeDragThreshold:I}=a.getState();I===0&&k(M),y.current=!1;const B=x(M);d.current=B,h.current=(A==null?void 0:A.getBoundingClientRect())||null,g.current=Cr(M.sourceEvent,h.current)}).on("drag",M=>{var V,E;const A=x(M),{autoPanOnNodeDrag:I,nodeDragThreshold:B}=a.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!v.current&&m.current&&I&&(v.current=!0,C()),!m.current){const D=A.xSnapped-(((V=d==null?void 0:d.current)==null?void 0:V.x)??0),R=A.ySnapped-(((E=d==null?void 0:d.current)==null?void 0:E.y)??0);Math.sqrt(D*D+R*R)>B&&k(M)}(d.current.x!==A.xSnapped||d.current.y!==A.ySnapped)&&c.current&&m.current&&(p.current=M.sourceEvent,g.current=Cr(M.sourceEvent,h.current),b(A))}}).on("end",M=>{if(!(!m.current||y.current)&&(u(!1),v.current=!1,m.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:A,nodeInternals:I,onNodeDragStop:B,onSelectionDragStop:V}=a.getState(),E=i?B:Ic(V);if(A(c.current,!1,!1),E){const[D,R]=Rc({nodeId:i,dragItems:c.current,nodeInternals:I});E(M.sourceEvent,D,R)}}}).filter(M=>{const A=M.target;return!M.button&&(!n||!Mx(A,`.${n}`,e))&&(!r||Mx(A,r,e))});return _.call(T),()=>{_.on(".drag",null)}}}},[e,t,n,r,s,a,i,o,x]),l}function VM(){const e=ze();return S.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),d=o().filter(y=>y.selected&&(y.draggable||c&&typeof y.draggable>"u")),f=a?l[0]:5,h=a?l[1]:5,g=n.isShiftPressed?4:1,p=n.x*f*g,v=n.y*h*g,m=d.map(y=>{if(y.positionAbsolute){const x={x:y.positionAbsolute.x+p,y:y.positionAbsolute.y+v};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:_,position:b}=FM(y,x,r,i,void 0,u);y.position=b,y.positionAbsolute=_}return y});s(m,!0,!1)},[])}const Yi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ds=e=>{const t=({id:n,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onContextMenu:g,onDoubleClick:p,style:v,className:m,isDraggable:y,isSelectable:x,isConnectable:_,isFocusable:b,selectNodesOnDrag:C,sourcePosition:k,targetPosition:T,hidden:M,resizeObserver:A,dragHandle:I,zIndex:B,isParent:V,noDragClassName:E,noPanClassName:D,initialized:R,disableKeyboardA11y:L,ariaLabel:P,rfId:N,hasHandleBounds:j})=>{const F=ze(),$=S.useRef(null),O=S.useRef(null),z=S.useRef(k),W=S.useRef(T),Q=S.useRef(r),te=x||y||c||d||f||h,ue=VM(),se=js(n,F.getState,d),oe=js(n,F.getState,f),Se=js(n,F.getState,h),Ee=js(n,F.getState,g),$e=js(n,F.getState,p),ce=X=>{const{nodeDragThreshold:Y}=F.getState();if(x&&(!C||!y||Y>0)&&Qg({id:n,store:F,nodeRef:$}),c){const ge=F.getState().nodeInternals.get(n);ge&&c(X,{...ge})}},G=X=>{if(!Wg(X)&&!L)if(fM.includes(X.key)&&x){const Y=X.key==="Escape";Qg({id:n,store:F,unselect:Y,nodeRef:$})}else y&&u&&Object.prototype.hasOwnProperty.call(Yi,X.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${X.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),ue({x:Yi[X.key].x,y:Yi[X.key].y,isShiftPressed:X.shiftKey}))};S.useEffect(()=>()=>{O.current&&(A==null||A.unobserve(O.current),O.current=null)},[]),S.useEffect(()=>{if($.current&&!M){const X=$.current;(!R||!j||O.current!==X)&&(O.current&&(A==null||A.unobserve(O.current)),A==null||A.observe(X),O.current=X)}},[M,R,j]),S.useEffect(()=>{const X=Q.current!==r,Y=z.current!==k,ge=W.current!==T;$.current&&(X||Y||ge)&&(X&&(Q.current=r),Y&&(z.current=k),ge&&(W.current=T),F.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,k,T]);const Te=$M({nodeRef:$,disabled:M||!y,noDragClassName:E,handleSelector:I,nodeId:n,isSelectable:x,selectNodesOnDrag:C});return M?null:q.createElement("div",{className:rt(["react-flow__node",`react-flow__node-${r}`,{[D]:y},m,{selected:u,selectable:x,parent:V,dragging:Te}]),ref:$,style:{zIndex:B,transform:`translate(${a}px,${l}px)`,pointerEvents:te?"all":"none",visibility:R?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:se,onMouseMove:oe,onMouseLeave:Se,onContextMenu:Ee,onClick:ce,onDoubleClick:$e,onKeyDown:b?G:void 0,tabIndex:b?0:void 0,role:b?"button":void 0,"aria-describedby":L?void 0:`${RM}-${N}`,"aria-label":P},q.createElement(Lq,{value:n},q.createElement(e,{id:n,data:i,type:r,xPos:s,yPos:o,selected:u,isConnectable:_,sourcePosition:k,targetPosition:T,dragging:Te,dragHandle:I,zIndex:B})))};return t.displayName="NodeWrapper",S.memo(t)};const EF=e=>{const t=e.getNodes().filter(n=>n.selected);return{...bu(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function CF({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ze(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:u}=ve(EF,Ye),c=VM(),d=S.useRef(null);if(S.useEffect(()=>{var g;n||(g=d.current)==null||g.focus({preventScroll:!0})},[n]),$M({nodeRef:d}),u||!i||!s)return null;const f=e?g=>{const p=r.getState().getNodes().filter(v=>v.selected);e(g,p)}:void 0,h=g=>{Object.prototype.hasOwnProperty.call(Yi,g.key)&&c({x:Yi[g.key].x,y:Yi[g.key].y,isShiftPressed:g.shiftKey})};return q.createElement("div",{className:rt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},q.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s,top:a,left:o}}))}var kF=S.memo(CF);const TF=e=>e.nodesSelectionActive,BM=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:g,onSelectionEnd:p,multiSelectionKeyCode:v,panActivationKeyCode:m,zoomActivationKeyCode:y,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:b,panOnScroll:C,panOnScrollSpeed:k,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:A,defaultViewport:I,translateExtent:B,minZoom:V,maxZoom:E,preventScrolling:D,onSelectionContextMenu:R,noWheelClassName:L,noPanClassName:P,disableKeyboardA11y:N})=>{const j=ve(TF),F=Oo(d),$=Oo(m),O=$||A,z=$||C,W=F||f&&O!==!0;return dF({deleteKeyCode:a,multiSelectionKeyCode:v}),q.createElement(mF,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:b,panOnScroll:z,panOnScrollSpeed:k,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:!F&&O,defaultViewport:I,translateExtent:B,minZoom:V,maxZoom:E,zoomActivationKeyCode:y,preventScrolling:D,noWheelClassName:L,noPanClassName:P},q.createElement(OM,{onSelectionStart:g,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:O,isSelecting:!!W,selectionMode:h},e,j&&q.createElement(kF,{onSelectionContextMenu:R,noPanClassName:P,disableKeyboardA11y:N})))};BM.displayName="FlowRenderer";var NF=S.memo(BM);function MF(e){return ve(S.useCallback(n=>e?wM(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function PF(e){const t={input:Ds(e.input||NM),default:Ds(e.default||Zg),output:Ds(e.output||PM),group:Ds(e.group||Pv)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=Ds(e[s]||Zg),i),n);return{...t,...r}}const AF=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},RF=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),zM=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:o}=ve(RF,Ye),a=MF(e.onlyRenderVisibleElements),l=S.useRef(),u=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(f)});return l.current=c,c},[]);return S.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),q.createElement("div",{className:"react-flow__nodes",style:Rv},a.map(c=>{var b,C,k;let d=c.type||"default";e.nodeTypes[d]||(o==null||o("003",Xn.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),g=!!(c.selectable||i&&typeof c.selectable>"u"),p=!!(c.connectable||n&&typeof c.connectable>"u"),v=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?Ev(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,y=(m==null?void 0:m.x)??0,x=(m==null?void 0:m.y)??0,_=AF({x:y,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return q.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||J.Bottom,targetPosition:c.targetPosition||J.Top,hidden:c.hidden,xPos:y,yPos:x,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:g,isConnectable:p,isFocusable:v,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((b=c[je])==null?void 0:b.z)??0,isParent:!!((C=c[je])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((k=c[je])!=null&&k.handleBounds)})}))};zM.displayName="NodeRenderer";var IF=S.memo(zM);const jF=(e,t,n)=>n===J.Left?e-t:n===J.Right?e+t:e,DF=(e,t,n)=>n===J.Top?e-t:n===J.Bottom?e+t:e,Ax="react-flow__edgeupdater",Rx=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>q.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:rt([Ax,`${Ax}-${a}`]),cx:jF(t,r,e),cy:DF(n,r,e),r,stroke:"transparent",fill:"transparent"}),LF=()=>!0;var bi=e=>{const t=({id:n,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,style:v,source:m,target:y,sourceX:x,sourceY:_,targetX:b,targetY:C,sourcePosition:k,targetPosition:T,elementsSelectable:M,hidden:A,sourceHandleId:I,targetHandleId:B,onContextMenu:V,onMouseEnter:E,onMouseMove:D,onMouseLeave:R,reconnectRadius:L,onReconnect:P,onReconnectStart:N,onReconnectEnd:j,markerEnd:F,markerStart:$,rfId:O,ariaLabel:z,isFocusable:W,isReconnectable:Q,pathOptions:te,interactionWidth:ue,disableKeyboardA11y:se})=>{const oe=S.useRef(null),[Se,Ee]=S.useState(!1),[$e,ce]=S.useState(!1),G=ze(),Te=S.useMemo(()=>`url('#${Yg($,O)}')`,[$,O]),X=S.useMemo(()=>`url('#${Yg(F,O)}')`,[F,O]);if(A)return null;const Y=me=>{var Nt;const{edges:Ze,addSelectedEdges:Oe,unselectNodesAndEdges:de,multiSelectionActive:tn}=G.getState(),He=Ze.find(Vt=>Vt.id===n);He&&(M&&(G.setState({nodesSelectionActive:!1}),He.selected&&tn?(de({nodes:[],edges:[He]}),(Nt=oe.current)==null||Nt.blur()):Oe([n])),o&&o(me,He))},ge=Is(n,G.getState,a),ft=Is(n,G.getState,V),Ft=Is(n,G.getState,E),Ue=Is(n,G.getState,D),we=Is(n,G.getState,R),Xe=(me,Ze)=>{if(me.button!==0)return;const{edges:Oe,isValidConnection:de}=G.getState(),tn=Ze?y:m,He=(Ze?B:I)||null,Nt=Ze?"target":"source",Vt=de||LF,Pn=Ze,Or=Oe.find(wt=>wt.id===n);ce(!0),N==null||N(me,Or,Nt);const xs=wt=>{ce(!1),j==null||j(wt,Or,Nt)};EM({event:me,handleId:He,nodeId:tn,onConnect:wt=>P==null?void 0:P(Or,wt),isTarget:Pn,getState:G.getState,setState:G.setState,isValidConnection:Vt,edgeUpdaterType:Nt,onReconnectEnd:xs})},vt=me=>Xe(me,!0),en=me=>Xe(me,!1),Tt=()=>Ee(!0),ht=()=>Ee(!1),$t=!M&&!o,it=me=>{var Ze;if(!se&&fM.includes(me.key)&&M){const{unselectNodesAndEdges:Oe,addSelectedEdges:de,edges:tn}=G.getState();me.key==="Escape"?((Ze=oe.current)==null||Ze.blur(),Oe({edges:[tn.find(Nt=>Nt.id===n)]})):de([n])}};return q.createElement("g",{className:rt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:$t,updating:Se}]),onClick:Y,onDoubleClick:ge,onContextMenu:ft,onMouseEnter:Ft,onMouseMove:Ue,onMouseLeave:we,onKeyDown:W?it:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":z===null?void 0:z||`Edge from ${m} to ${y}`,"aria-describedby":W?`${IM}-${O}`:void 0,ref:oe},!$e&&q.createElement(e,{id:n,source:m,target:y,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,data:s,style:v,sourceX:x,sourceY:_,targetX:b,targetY:C,sourcePosition:k,targetPosition:T,sourceHandleId:I,targetHandleId:B,markerStart:Te,markerEnd:X,pathOptions:te,interactionWidth:ue}),Q&&q.createElement(q.Fragment,null,(Q==="source"||Q===!0)&&q.createElement(Rx,{position:k,centerX:x,centerY:_,radius:L,onMouseDown:vt,onMouseEnter:Tt,onMouseOut:ht,type:"source"}),(Q==="target"||Q===!0)&&q.createElement(Rx,{position:T,centerX:b,centerY:C,radius:L,onMouseDown:en,onMouseEnter:Tt,onMouseOut:ht,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function OF(e){const t={default:bi(e.default||Fl),straight:bi(e.bezier||Tv),step:bi(e.step||kv),smoothstep:bi(e.step||_u),simplebezier:bi(e.simplebezier||Cv)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=bi(e[s]||Fl),i),n);return{...t,...r}}function Ix(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case J.Top:return{x:r+s/2,y:i};case J.Right:return{x:r+s,y:i+o/2};case J.Bottom:return{x:r+s/2,y:i+o};case J.Left:return{x:r,y:i+o/2}}}function jx(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const qF=(e,t,n,r,i,s)=>{const o=Ix(n,e,t),a=Ix(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function FF({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Do({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function Dx(e){var r,i,s,o,a;const t=((r=e==null?void 0:e[je])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const $F=[{level:0,isMaxLevel:!0,edges:[]}];function VF(e,t,n=!1){let r=-1;const i=e.reduce((o,a)=>{var c,d;const l=Kt(a.zIndex);let u=l?a.zIndex:0;if(n){const f=t.get(a.target),h=t.get(a.source),g=a.selected||(f==null?void 0:f.selected)||(h==null?void 0:h.selected),p=Math.max(((c=h==null?void 0:h[je])==null?void 0:c.z)||0,((d=f==null?void 0:f[je])==null?void 0:d.z)||0,1e3);u=(l?a.zIndex:0)+(g?p:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?$F:s}function BF(e,t,n){const r=ve(S.useCallback(i=>e?i.edges.filter(s=>{const o=t.get(s.source),a=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&FF({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return VF(r,t,n)}const zF=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),UF=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Lx={[ql.Arrow]:zF,[ql.ArrowClosed]:UF};function HF(e){const t=ze();return S.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(Lx,e)?Lx[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Xn.error009(e)),null)},[e])}const GF=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=HF(t);return l?q.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},q.createElement(l,{color:n,strokeWidth:o})):null},WF=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=Yg(o,t);r.includes(a)||(i.push({id:a,color:o.color||e,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},UM=({defaultColor:e,rfId:t})=>{const n=ve(S.useCallback(WF({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return q.createElement("defs",null,n.map(r=>q.createElement(GF,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};UM.displayName="MarkerDefinitions";var KF=S.memo(UM);const YF=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),HM=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:p,children:v,disableKeyboardA11y:m})=>{const{edgesFocusable:y,edgesUpdatable:x,elementsSelectable:_,width:b,height:C,connectionMode:k,nodeInternals:T,onError:M}=ve(YF,Ye),A=BF(t,T,n);return b?q.createElement(q.Fragment,null,A.map(({level:I,edges:B,isMaxLevel:V})=>q.createElement("svg",{key:I,style:{zIndex:I},width:b,height:C,className:"react-flow__edges react-flow__container"},V&&q.createElement(KF,{defaultColor:e,rfId:r}),q.createElement("g",null,B.map(E=>{const[D,R,L]=Dx(T.get(E.source)),[P,N,j]=Dx(T.get(E.target));if(!L||!j)return null;let F=E.type||"default";i[F]||(M==null||M("011",Xn.error011(F)),F="default");const $=i[F]||i.default,O=k===li.Strict?N.target:(N.target??[]).concat(N.source??[]),z=jx(R.source,E.sourceHandle),W=jx(O,E.targetHandle),Q=(z==null?void 0:z.position)||J.Bottom,te=(W==null?void 0:W.position)||J.Top,ue=!!(E.focusable||y&&typeof E.focusable>"u"),se=E.reconnectable||E.updatable,oe=typeof f<"u"&&(se||x&&typeof se>"u");if(!z||!W)return M==null||M("008",Xn.error008(z,E)),null;const{sourceX:Se,sourceY:Ee,targetX:$e,targetY:ce}=qF(D,z,Q,P,W,te);return q.createElement($,{key:E.id,id:E.id,className:rt([E.className,s]),type:F,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:Se,sourceY:Ee,targetX:$e,targetY:ce,sourcePosition:Q,targetPosition:te,elementsSelectable:_,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:p,rfId:r,ariaLabel:E.ariaLabel,isFocusable:ue,isReconnectable:oe,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:m})})))),v):null};HM.displayName="EdgeRenderer";var XF=S.memo(HM);const ZF=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function QF({children:e}){const t=ve(ZF);return q.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function JF(e){const t=Av(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const e$={[J.Left]:J.Right,[J.Right]:J.Left,[J.Top]:J.Bottom,[J.Bottom]:J.Top},GM=({nodeId:e,handleType:t,style:n,type:r=hr.Bezier,CustomComponent:i,connectionStatus:s})=>{var C,k,T;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:c}=ve(S.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Ye),d=(C=o==null?void 0:o[je])==null?void 0:C.handleBounds;let f=d==null?void 0:d[t];if(c===li.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!f)return null;const h=a?f.find(M=>M.id===a):f[0],g=h?h.x+h.width/2:(o.width??0)/2,p=h?h.y+h.height/2:o.height??0,v=(((k=o.positionAbsolute)==null?void 0:k.x)??0)+g,m=(((T=o.positionAbsolute)==null?void 0:T.y)??0)+p,y=h==null?void 0:h.position,x=y?e$[y]:null;if(!y||!x)return null;if(i)return q.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:v,fromY:m,toX:l,toY:u,fromPosition:y,toPosition:x,connectionStatus:s});let _="";const b={sourceX:v,sourceY:m,sourcePosition:y,targetX:l,targetY:u,targetPosition:x};return r===hr.Bezier?[_]=yM(b):r===hr.Step?[_]=Kg({...b,borderRadius:0}):r===hr.SmoothStep?[_]=Kg(b):r===hr.SimpleBezier?[_]=gM(b):_=`M${v},${m} ${l},${u}`,q.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};GM.displayName="ConnectionLine";const t$=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function n$({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:u}=ve(t$,Ye);return!(i&&s&&a&&o)?null:q.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},q.createElement("g",{className:rt(["react-flow__connection",u])},q.createElement(GM,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Ox(e,t){return S.useRef(null),ze(),S.useMemo(()=>t(e),[e])}const WM=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:g,onSelectionStart:p,onSelectionEnd:v,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:x,connectionLineContainerStyle:_,selectionKeyCode:b,selectionOnDrag:C,selectionMode:k,multiSelectionKeyCode:T,panActivationKeyCode:M,zoomActivationKeyCode:A,deleteKeyCode:I,onlyRenderVisibleElements:B,elementsSelectable:V,selectNodesOnDrag:E,defaultViewport:D,translateExtent:R,minZoom:L,maxZoom:P,preventScrolling:N,defaultMarkerColor:j,zoomOnScroll:F,zoomOnPinch:$,panOnScroll:O,panOnScrollSpeed:z,panOnScrollMode:W,zoomOnDoubleClick:Q,panOnDrag:te,onPaneClick:ue,onPaneMouseEnter:se,onPaneMouseMove:oe,onPaneMouseLeave:Se,onPaneScroll:Ee,onPaneContextMenu:$e,onEdgeContextMenu:ce,onEdgeMouseEnter:G,onEdgeMouseMove:Te,onEdgeMouseLeave:X,onReconnect:Y,onReconnectStart:ge,onReconnectEnd:ft,reconnectRadius:Ft,noDragClassName:Ue,noWheelClassName:we,noPanClassName:Xe,elevateEdgesOnSelect:vt,disableKeyboardA11y:en,nodeOrigin:Tt,nodeExtent:ht,rfId:$t})=>{const it=Ox(e,PF),me=Ox(t,OF);return JF(s),q.createElement(NF,{onPaneClick:ue,onPaneMouseEnter:se,onPaneMouseMove:oe,onPaneMouseLeave:Se,onPaneContextMenu:$e,onPaneScroll:Ee,deleteKeyCode:I,selectionKeyCode:b,selectionOnDrag:C,selectionMode:k,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:T,panActivationKeyCode:M,zoomActivationKeyCode:A,elementsSelectable:V,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:$,zoomOnDoubleClick:Q,panOnScroll:O,panOnScrollSpeed:z,panOnScrollMode:W,panOnDrag:te,defaultViewport:D,translateExtent:R,minZoom:L,maxZoom:P,onSelectionContextMenu:g,preventScrolling:N,noDragClassName:Ue,noWheelClassName:we,noPanClassName:Xe,disableKeyboardA11y:en},q.createElement(QF,null,q.createElement(XF,{edgeTypes:me,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:ce,onEdgeMouseEnter:G,onEdgeMouseMove:Te,onEdgeMouseLeave:X,onReconnect:Y,onReconnectStart:ge,onReconnectEnd:ft,reconnectRadius:Ft,defaultMarkerColor:j,noPanClassName:Xe,elevateEdgesOnSelect:!!vt,disableKeyboardA11y:en,rfId:$t},q.createElement(n$,{style:y,type:m,component:x,containerStyle:_})),q.createElement("div",{className:"react-flow__edgelabel-renderer"}),q.createElement(IF,{nodeTypes:it,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,selectNodesOnDrag:E,onlyRenderVisibleElements:B,noPanClassName:Xe,noDragClassName:Ue,disableKeyboardA11y:en,nodeOrigin:Tt,nodeExtent:ht,rfId:$t})))};WM.displayName="GraphView";var r$=S.memo(WM);const Jg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ir={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Jg,nodeExtent:Jg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:li.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Pq,isValidConnection:void 0},i$=()=>HD((e,t)=>({...ir,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:Pc(n,r,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",o=i?Pc(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((p,v)=>{const m=i.get(v.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[je]:{...m[je],handleBounds:void 0}});else if(m){const y=Sv(v.nodeElement);!!(y.width&&y.height&&(m.width!==y.width||m.height!==y.height||v.forceUpdate))&&(i.set(m.id,{...m,[je]:{...m[je],handleBounds:{source:Px(".source",v.nodeElement,f,u),target:Px(".target",v.nodeElement,f,u)}},...y}),p.push({id:m.id,type:"dimensions",dimensions:y}))}return p},[]);DM(i,u);const g=o||s&&!o&&LM(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:g}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const u=wF(n,a()),c=Pc(u,i,o,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>cr(l,!0)):(o=Di(s(),n),a=Di(i,[])),ja({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>cr(l,!0)):(o=Di(i,n),a=Di(s(),[])),ja({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=t(),o=n||s(),a=r||i,l=o.map(c=>(c.selected=!1,cr(c.id,!1))),u=a.map(c=>cr(c.id,!1));ja({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(a=>a.selected).map(a=>cr(a.id,!1)),o=n.filter(a=>a.selected).map(a=>cr(a.id,!1));ja({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Ev(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=Bn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,s]],d=o==null?void 0:o.constrain()(u,c,l);return o.transform(a,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:ir.connectionNodeId,connectionHandleId:ir.connectionHandleId,connectionHandleType:ir.connectionHandleType,connectionStatus:ir.connectionStatus,connectionStartHandle:ir.connectionStartHandle,connectionEndHandle:ir.connectionEndHandle}),reset:()=>e({...ir})}),Object.is),KM=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=i$()),q.createElement(Sq,{value:t.current},e)};KM.displayName="ReactFlowProvider";const YM=({children:e})=>S.useContext(xu)?q.createElement(q.Fragment,null,e):q.createElement(KM,null,e);YM.displayName="ReactFlowWrapper";const s$={input:NM,default:Zg,output:PM,group:Pv},o$={default:Fl,straight:Tv,step:kv,smoothstep:_u,simplebezier:Cv},a$=[0,0],l$=[15,15],u$={x:0,y:0,zoom:1},c$={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},XM=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=s$,edgeTypes:o=o$,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:g,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:b,onNodeDoubleClick:C,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:M,onNodesDelete:A,onEdgesDelete:I,onSelectionChange:B,onSelectionDragStart:V,onSelectionDrag:E,onSelectionDragStop:D,onSelectionContextMenu:R,onSelectionStart:L,onSelectionEnd:P,connectionMode:N=li.Strict,connectionLineType:j=hr.Bezier,connectionLineStyle:F,connectionLineComponent:$,connectionLineContainerStyle:O,deleteKeyCode:z="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:Q=!1,selectionMode:te=Lo.Full,panActivationKeyCode:ue="Space",multiSelectionKeyCode:se=Ol()?"Meta":"Control",zoomActivationKeyCode:oe=Ol()?"Meta":"Control",snapToGrid:Se=!1,snapGrid:Ee=l$,onlyRenderVisibleElements:$e=!1,selectNodesOnDrag:ce=!0,nodesDraggable:G,nodesConnectable:Te,nodesFocusable:X,nodeOrigin:Y=a$,edgesFocusable:ge,edgesUpdatable:ft,elementsSelectable:Ft,defaultViewport:Ue=u$,minZoom:we=.5,maxZoom:Xe=2,translateExtent:vt=Jg,preventScrolling:en=!0,nodeExtent:Tt,defaultMarkerColor:ht="#b1b1b7",zoomOnScroll:$t=!0,zoomOnPinch:it=!0,panOnScroll:me=!1,panOnScrollSpeed:Ze=.5,panOnScrollMode:Oe=Kr.Free,zoomOnDoubleClick:de=!0,panOnDrag:tn=!0,onPaneClick:He,onPaneMouseEnter:Nt,onPaneMouseMove:Vt,onPaneMouseLeave:Pn,onPaneScroll:Or,onPaneContextMenu:xs,children:_s,onEdgeContextMenu:wt,onEdgeDoubleClick:oa,onEdgeMouseEnter:Wu,onEdgeMouseMove:Ku,onEdgeMouseLeave:Yu,onEdgeUpdate:aa,onEdgeUpdateStart:H,onEdgeUpdateEnd:Z,onReconnect:le,onReconnectStart:Ge,onReconnectEnd:yi,reconnectRadius:st=10,edgeUpdaterRadius:Qe=10,onNodesChange:nr,onEdgesChange:vn,noDragClassName:la="nodrag",noWheelClassName:WR="nowheel",noPanClassName:R0="nopan",fitView:KR=!1,fitViewOptions:YR,connectOnClick:XR=!0,attributionPosition:ZR,proOptions:QR,defaultEdgeOptions:JR,elevateNodesOnSelect:e2=!0,elevateEdgesOnSelect:t2=!1,disableKeyboardA11y:I0=!1,autoPanOnConnect:n2=!0,autoPanOnNodeDrag:r2=!0,connectionRadius:i2=20,isValidConnection:s2,onError:o2,style:a2,id:j0,nodeDragThreshold:l2,...u2},c2)=>{const Xu=j0||"1";return q.createElement("div",{...u2,style:{...a2,...c$},ref:c2,className:rt(["react-flow",i]),"data-testid":"rf__wrapper",id:j0},q.createElement(YM,null,q.createElement(r$,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:b,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:o,connectionLineType:j,connectionLineStyle:F,connectionLineComponent:$,connectionLineContainerStyle:O,selectionKeyCode:W,selectionOnDrag:Q,selectionMode:te,deleteKeyCode:z,multiSelectionKeyCode:se,panActivationKeyCode:ue,zoomActivationKeyCode:oe,onlyRenderVisibleElements:$e,selectNodesOnDrag:ce,defaultViewport:Ue,translateExtent:vt,minZoom:we,maxZoom:Xe,preventScrolling:en,zoomOnScroll:$t,zoomOnPinch:it,zoomOnDoubleClick:de,panOnScroll:me,panOnScrollSpeed:Ze,panOnScrollMode:Oe,panOnDrag:tn,onPaneClick:He,onPaneMouseEnter:Nt,onPaneMouseMove:Vt,onPaneMouseLeave:Pn,onPaneScroll:Or,onPaneContextMenu:xs,onSelectionContextMenu:R,onSelectionStart:L,onSelectionEnd:P,onEdgeContextMenu:wt,onEdgeDoubleClick:oa,onEdgeMouseEnter:Wu,onEdgeMouseMove:Ku,onEdgeMouseLeave:Yu,onReconnect:le??aa,onReconnectStart:Ge??H,onReconnectEnd:yi??Z,reconnectRadius:st??Qe,defaultMarkerColor:ht,noDragClassName:la,noWheelClassName:WR,noPanClassName:R0,elevateEdgesOnSelect:t2,rfId:Xu,disableKeyboardA11y:I0,nodeOrigin:Y,nodeExtent:Tt}),q.createElement(Jq,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:g,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:m,nodesDraggable:G,nodesConnectable:Te,nodesFocusable:X,edgesFocusable:ge,edgesUpdatable:ft,elementsSelectable:Ft,elevateNodesOnSelect:e2,minZoom:we,maxZoom:Xe,nodeExtent:Tt,onNodesChange:nr,onEdgesChange:vn,snapToGrid:Se,snapGrid:Ee,connectionMode:N,translateExtent:vt,connectOnClick:XR,defaultEdgeOptions:JR,fitView:KR,fitViewOptions:YR,onNodesDelete:A,onEdgesDelete:I,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:M,onSelectionDrag:E,onSelectionDragStart:V,onSelectionDragStop:D,noPanClassName:R0,nodeOrigin:Y,rfId:Xu,autoPanOnConnect:n2,autoPanOnNodeDrag:r2,onError:o2,connectionRadius:i2,isValidConnection:s2,nodeDragThreshold:l2}),q.createElement(Zq,{onSelectionChange:B}),_s,q.createElement(Cq,{proOptions:QR,position:ZR}),q.createElement(iF,{rfId:Xu,disableKeyboardA11y:I0})))});XM.displayName="ReactFlow";const ZM=({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:h})=>{const{background:g,backgroundColor:p}=s||{},v=o||g||p;return q.createElement("rect",{className:rt(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:v,stroke:a,strokeWidth:l,shapeRendering:d,onClick:f?m=>f(m,e):void 0})};ZM.displayName="MiniMapNode";var d$=S.memo(ZM);const f$=e=>e.nodeOrigin,h$=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),jc=e=>e instanceof Function?e:()=>e;function p$({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=d$,onClick:o}){const a=ve(h$,Ye),l=ve(f$),u=jc(t),c=jc(e),d=jc(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return q.createElement(q.Fragment,null,a.map(h=>{const{x:g,y:p}=ei(h,l).positionAbsolute;return q.createElement(s,{key:h.id,x:g,y:p,width:h.width,height:h.height,style:h.style,selected:h.selected,className:d(h),color:u(h),borderRadius:r,strokeColor:c(h),strokeWidth:i,shapeRendering:f,onClick:o,id:h.id})}))}var m$=S.memo(p$);const g$=200,y$=150,v$=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?Nq(bu(t,e.nodeOrigin),n):n,rfId:e.rfId}},w$="react-flow__minimap-desc";function QM({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:h,pannable:g=!1,zoomable:p=!1,ariaLabel:v="React Flow mini map",inversePan:m=!1,zoomStep:y=10,offsetScale:x=5}){const _=ze(),b=S.useRef(null),{boundingRect:C,viewBB:k,rfId:T}=ve(v$,Ye),M=(e==null?void 0:e.width)??g$,A=(e==null?void 0:e.height)??y$,I=C.width/M,B=C.height/A,V=Math.max(I,B),E=V*M,D=V*A,R=x*V,L=C.x-(E-C.width)/2-R,P=C.y-(D-C.height)/2-R,N=E+R*2,j=D+R*2,F=`${w$}-${T}`,$=S.useRef(0);$.current=V,S.useEffect(()=>{if(b.current){const W=Gt(b.current),Q=se=>{const{transform:oe,d3Selection:Se,d3Zoom:Ee}=_.getState();if(se.sourceEvent.type!=="wheel"||!Se||!Ee)return;const $e=-se.sourceEvent.deltaY*(se.sourceEvent.deltaMode===1?.05:se.sourceEvent.deltaMode?1:.002)*y,ce=oe[2]*Math.pow(2,$e);Ee.scaleTo(Se,ce)},te=se=>{const{transform:oe,d3Selection:Se,d3Zoom:Ee,translateExtent:$e,width:ce,height:G}=_.getState();if(se.sourceEvent.type!=="mousemove"||!Se||!Ee)return;const Te=$.current*Math.max(1,oe[2])*(m?-1:1),X={x:oe[0]-se.sourceEvent.movementX*Te,y:oe[1]-se.sourceEvent.movementY*Te},Y=[[0,0],[ce,G]],ge=Bn.translate(X.x,X.y).scale(oe[2]),ft=Ee.constrain()(ge,Y,$e);Ee.transform(Se,ft)},ue=oM().on("zoom",g?te:null).on("zoom.wheel",p?Q:null);return W.call(ue),()=>{W.on("zoom",null)}}},[g,p,m,y]);const O=f?W=>{const Q=ln(W);f(W,{x:Q[0],y:Q[1]})}:void 0,z=h?(W,Q)=>{const te=_.getState().nodeInternals.get(Q);h(W,te)}:void 0;return q.createElement(bv,{position:d,style:e,className:rt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},q.createElement("svg",{width:M,height:A,viewBox:`${L} ${P} ${N} ${j}`,role:"img","aria-labelledby":F,ref:b,onClick:O},v&&q.createElement("title",{id:F},v),q.createElement(m$,{onClick:z,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),q.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-R},${P-R}h${N+R*2}v${j+R*2}h${-N-R*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}QM.displayName="MiniMap";var x$=S.memo(QM);function _$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},q.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function b$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},q.createElement("path",{d:"M0 0h32v4.2H0z"}))}function S$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},q.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function E$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function C$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const zs=({children:e,className:t,...n})=>q.createElement("button",{type:"button",className:rt(["react-flow__controls-button",t]),...n},e);zs.displayName="ControlButton";const k$=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),JM=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left"})=>{const f=ze(),[h,g]=S.useState(!1),{isInteractive:p,minZoomReached:v,maxZoomReached:m}=ve(k$,Ye),{zoomIn:y,zoomOut:x,fitView:_}=Av();if(S.useEffect(()=>{g(!0)},[]),!h)return null;const b=()=>{y(),s==null||s()},C=()=>{x(),o==null||o()},k=()=>{_(i),a==null||a()},T=()=>{f.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),l==null||l(!p)};return q.createElement(bv,{className:rt(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&q.createElement(q.Fragment,null,q.createElement(zs,{onClick:b,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},q.createElement(_$,null)),q.createElement(zs,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},q.createElement(b$,null))),n&&q.createElement(zs,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view"},q.createElement(S$,null)),r&&q.createElement(zs,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity"},p?q.createElement(C$,null):q.createElement(E$,null)),c)};JM.displayName="Controls";var T$=S.memo(JM),hn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(hn||(hn={}));function N$({color:e,dimensions:t,lineWidth:n}){return q.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function M$({color:e,radius:t}){return q.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const P$={[hn.Dots]:"#91919a",[hn.Lines]:"#eee",[hn.Cross]:"#e2e2e2"},A$={[hn.Dots]:1,[hn.Lines]:1,[hn.Cross]:6},R$=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function eP({id:e,variant:t=hn.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const u=S.useRef(null),{transform:c,patternId:d}=ve(R$,Ye),f=o||P$[t],h=r||A$[t],g=t===hn.Dots,p=t===hn.Cross,v=Array.isArray(n)?n:[n,n],m=[v[0]*c[2]||1,v[1]*c[2]||1],y=h*c[2],x=p?[y,y]:m,_=g?[y/s,y/s]:[x[0]/s,x[1]/s];return q.createElement("svg",{className:rt(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},q.createElement("pattern",{id:d+e,x:c[0]%m[0],y:c[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},g?q.createElement(M$,{color:f,radius:y/s}):q.createElement(N$,{dimensions:x,color:f,lineWidth:i})),q.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}eP.displayName="Background";var I$=S.memo(eP);function rl(e){const t=new Map;for(const r of e)r.type==="tool_call"&&r.toolCallId&&t.set(r.toolCallId,r.id);const n=[];for(const r of e)if(!(r.type!=="llm_call"||!r.io)){for(const i of r.io.emittedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_emit_${r.id}_${s}`,source:r.id,target:s,kind:"io",toolCallId:i})}for(const i of r.io.consumedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_consume_${s}_${r.id}`,source:s,target:r.id,kind:"io",toolCallId:i})}}return n}function Iv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dc,qx;function j$(){if(qx)return Dc;qx=1;function e(){this.__data__=[],this.size=0}return Dc=e,Dc}var Lc,Fx;function hs(){if(Fx)return Lc;Fx=1;function e(t,n){return t===n||t!==t&&n!==n}return Lc=e,Lc}var Oc,$x;function Su(){if($x)return Oc;$x=1;var e=hs();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Oc=t,Oc}var qc,Vx;function D$(){if(Vx)return qc;Vx=1;var e=Su(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return qc=r,qc}var Fc,Bx;function L$(){if(Bx)return Fc;Bx=1;var e=Su();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Fc=t,Fc}var $c,zx;function O$(){if(zx)return $c;zx=1;var e=Su();function t(n){return e(this.__data__,n)>-1}return $c=t,$c}var Vc,Ux;function q$(){if(Ux)return Vc;Ux=1;var e=Su();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Vc=t,Vc}var Bc,Hx;function Eu(){if(Hx)return Bc;Hx=1;var e=j$(),t=D$(),n=L$(),r=O$(),i=q$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Bc=s,Bc}var zc,Gx;function F$(){if(Gx)return zc;Gx=1;var e=Eu();function t(){this.__data__=new e,this.size=0}return zc=t,zc}var Uc,Wx;function $$(){if(Wx)return Uc;Wx=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Uc=e,Uc}var Hc,Kx;function V$(){if(Kx)return Hc;Kx=1;function e(t){return this.__data__.get(t)}return Hc=e,Hc}var Gc,Yx;function B$(){if(Yx)return Gc;Yx=1;function e(t){return this.__data__.has(t)}return Gc=e,Gc}var Wc,Xx;function tP(){if(Xx)return Wc;Xx=1;var e=typeof ua=="object"&&ua&&ua.Object===Object&&ua;return Wc=e,Wc}var Kc,Zx;function gn(){if(Zx)return Kc;Zx=1;var e=tP(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Kc=n,Kc}var Yc,Qx;function ps(){if(Qx)return Yc;Qx=1;var e=gn(),t=e.Symbol;return Yc=t,Yc}var Xc,Jx;function z$(){if(Jx)return Xc;Jx=1;var e=ps(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(a?o[i]=l:delete o[i]),c}return Xc=s,Xc}var Zc,e1;function U$(){if(e1)return Zc;e1=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Zc=n,Zc}var Qc,t1;function di(){if(t1)return Qc;t1=1;var e=ps(),t=z$(),n=U$(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return Qc=o,Qc}var Jc,n1;function Qt(){if(n1)return Jc;n1=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Jc=e,Jc}var ed,r1;function Zo(){if(r1)return ed;r1=1;var e=di(),t=Qt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==s}return ed=o,ed}var td,i1;function H$(){if(i1)return td;i1=1;var e=gn(),t=e["__core-js_shared__"];return td=t,td}var nd,s1;function G$(){if(s1)return nd;s1=1;var e=H$(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return nd=n,nd}var rd,o1;function nP(){if(o1)return rd;o1=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return rd=n,rd}var id,a1;function W$(){if(a1)return id;a1=1;var e=Zo(),t=G$(),n=Qt(),r=nP(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?c:s;return h.test(r(f))}return id=d,id}var sd,l1;function K$(){if(l1)return sd;l1=1;function e(t,n){return t==null?void 0:t[n]}return sd=e,sd}var od,u1;function fi(){if(u1)return od;u1=1;var e=W$(),t=K$();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return od=n,od}var ad,c1;function jv(){if(c1)return ad;c1=1;var e=fi(),t=gn(),n=e(t,"Map");return ad=n,ad}var ld,d1;function Cu(){if(d1)return ld;d1=1;var e=fi(),t=e(Object,"create");return ld=t,ld}var ud,f1;function Y$(){if(f1)return ud;f1=1;var e=Cu();function t(){this.__data__=e?e(null):{},this.size=0}return ud=t,ud}var cd,h1;function X$(){if(h1)return cd;h1=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return cd=e,cd}var dd,p1;function Z$(){if(p1)return dd;p1=1;var e=Cu(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return dd=i,dd}var fd,m1;function Q$(){if(m1)return fd;m1=1;var e=Cu(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return fd=r,fd}var hd,g1;function J$(){if(g1)return hd;g1=1;var e=Cu(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return hd=n,hd}var pd,y1;function eV(){if(y1)return pd;y1=1;var e=Y$(),t=X$(),n=Z$(),r=Q$(),i=J$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,pd=s,pd}var md,v1;function tV(){if(v1)return md;v1=1;var e=eV(),t=Eu(),n=jv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return md=r,md}var gd,w1;function nV(){if(w1)return gd;w1=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return gd=e,gd}var yd,x1;function ku(){if(x1)return yd;x1=1;var e=nV();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return yd=t,yd}var vd,_1;function rV(){if(_1)return vd;_1=1;var e=ku();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return vd=t,vd}var wd,b1;function iV(){if(b1)return wd;b1=1;var e=ku();function t(n){return e(this,n).get(n)}return wd=t,wd}var xd,S1;function sV(){if(S1)return xd;S1=1;var e=ku();function t(n){return e(this,n).has(n)}return xd=t,xd}var _d,E1;function oV(){if(E1)return _d;E1=1;var e=ku();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return _d=t,_d}var bd,C1;function Dv(){if(C1)return bd;C1=1;var e=tV(),t=rV(),n=iV(),r=sV(),i=oV();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,bd=s,bd}var Sd,k1;function aV(){if(k1)return Sd;k1=1;var e=Eu(),t=jv(),n=Dv(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return Sd=i,Sd}var Ed,T1;function Tu(){if(T1)return Ed;T1=1;var e=Eu(),t=F$(),n=$$(),r=V$(),i=B$(),s=aV();function o(a){var l=this.__data__=new e(a);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,Ed=o,Ed}var Cd,N1;function Lv(){if(N1)return Cd;N1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Cd=e,Cd}var kd,M1;function rP(){if(M1)return kd;M1=1;var e=fi(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return kd=t,kd}var Td,P1;function Nu(){if(P1)return Td;P1=1;var e=rP();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Td=t,Td}var Nd,A1;function Mu(){if(A1)return Nd;A1=1;var e=Nu(),t=hs(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&t(l,a))||a===void 0&&!(o in s))&&e(s,o,a)}return Nd=i,Nd}var Md,R1;function Qo(){if(R1)return Md;R1=1;var e=Mu(),t=Nu();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=o?o(s[c],r[c],c,s,r):void 0;d===void 0&&(d=r[c]),a?t(s,c,d):e(s,c,d)}return s}return Md=n,Md}var Pd,I1;function lV(){if(I1)return Pd;I1=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Pd=e,Pd}var Ad,j1;function Mn(){if(j1)return Ad;j1=1;function e(t){return t!=null&&typeof t=="object"}return Ad=e,Ad}var Rd,D1;function uV(){if(D1)return Rd;D1=1;var e=di(),t=Mn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Rd=r,Rd}var Id,L1;function Jo(){if(L1)return Id;L1=1;var e=uV(),t=Mn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Id=s,Id}var jd,O1;function Fe(){if(O1)return jd;O1=1;var e=Array.isArray;return jd=e,jd}var Us={exports:{}},Dd,q1;function cV(){if(q1)return Dd;q1=1;function e(){return!1}return Dd=e,Dd}Us.exports;var F1;function ms(){return F1||(F1=1,function(e,t){var n=gn(),r=cV(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Us,Us.exports)),Us.exports}var Ld,$1;function Pu(){if($1)return Ld;$1=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Ld=n,Ld}var Od,V1;function Ov(){if(V1)return Od;V1=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Od=t,Od}var qd,B1;function dV(){if(B1)return qd;B1=1;var e=di(),t=Ov(),n=Mn(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",g="[object String]",p="[object WeakMap]",v="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",b="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",I={};I[y]=I[x]=I[_]=I[b]=I[C]=I[k]=I[T]=I[M]=I[A]=!0,I[r]=I[i]=I[v]=I[s]=I[m]=I[o]=I[a]=I[l]=I[u]=I[c]=I[d]=I[f]=I[h]=I[g]=I[p]=!1;function B(V){return n(V)&&t(V.length)&&!!I[e(V)]}return qd=B,qd}var Fd,z1;function Au(){if(z1)return Fd;z1=1;function e(t){return function(n){return t(n)}}return Fd=e,Fd}var Hs={exports:{}};Hs.exports;var U1;function qv(){return U1||(U1=1,function(e,t){var n=tP(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(Hs,Hs.exports)),Hs.exports}var $d,H1;function ea(){if(H1)return $d;H1=1;var e=dV(),t=Au(),n=qv(),r=n&&n.isTypedArray,i=r?t(r):e;return $d=i,$d}var Vd,G1;function iP(){if(G1)return Vd;G1=1;var e=lV(),t=Jo(),n=Fe(),r=ms(),i=Pu(),s=ea(),o=Object.prototype,a=o.hasOwnProperty;function l(u,c){var d=n(u),f=!d&&t(u),h=!d&&!f&&r(u),g=!d&&!f&&!h&&s(u),p=d||f||h||g,v=p?e(u.length,String):[],m=v.length;for(var y in u)(c||a.call(u,y))&&!(p&&(y=="length"||h&&(y=="offset"||y=="parent")||g&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,m)))&&v.push(y);return v}return Vd=l,Vd}var Bd,W1;function Ru(){if(W1)return Bd;W1=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Bd=t,Bd}var zd,K1;function sP(){if(K1)return zd;K1=1;function e(t,n){return function(r){return t(n(r))}}return zd=e,zd}var Ud,Y1;function fV(){if(Y1)return Ud;Y1=1;var e=sP(),t=e(Object.keys,Object);return Ud=t,Ud}var Hd,X1;function Fv(){if(X1)return Hd;X1=1;var e=Ru(),t=fV(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return Hd=i,Hd}var Gd,Z1;function er(){if(Z1)return Gd;Z1=1;var e=Zo(),t=Ov();function n(r){return r!=null&&t(r.length)&&!e(r)}return Gd=n,Gd}var Wd,Q1;function Dr(){if(Q1)return Wd;Q1=1;var e=iP(),t=Fv(),n=er();function r(i){return n(i)?e(i):t(i)}return Wd=r,Wd}var Kd,J1;function hV(){if(J1)return Kd;J1=1;var e=Qo(),t=Dr();function n(r,i){return r&&e(i,t(i),r)}return Kd=n,Kd}var Yd,e_;function pV(){if(e_)return Yd;e_=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Yd=e,Yd}var Xd,t_;function mV(){if(t_)return Xd;t_=1;var e=Qt(),t=Ru(),n=pV(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return Xd=s,Xd}var Zd,n_;function hi(){if(n_)return Zd;n_=1;var e=iP(),t=mV(),n=er();function r(i){return n(i)?e(i,!0):t(i)}return Zd=r,Zd}var Qd,r_;function gV(){if(r_)return Qd;r_=1;var e=Qo(),t=hi();function n(r,i){return r&&e(i,t(i),r)}return Qd=n,Qd}var Gs={exports:{}};Gs.exports;var i_;function oP(){return i_||(i_=1,function(e,t){var n=gn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=a?a(d):new u.constructor(d);return u.copy(f),f}e.exports=l}(Gs,Gs.exports)),Gs.exports}var Jd,s_;function aP(){if(s_)return Jd;s_=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Jd=e,Jd}var ef,o_;function lP(){if(o_)return ef;o_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return ef=e,ef}var tf,a_;function uP(){if(a_)return tf;a_=1;function e(){return[]}return tf=e,tf}var nf,l_;function $v(){if(l_)return nf;l_=1;var e=lP(),t=uP(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return nf=s,nf}var rf,u_;function yV(){if(u_)return rf;u_=1;var e=Qo(),t=$v();function n(r,i){return e(r,t(r),i)}return rf=n,rf}var sf,c_;function Vv(){if(c_)return sf;c_=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return sf=e,sf}var of,d_;function Iu(){if(d_)return of;d_=1;var e=sP(),t=e(Object.getPrototypeOf,Object);return of=t,of}var af,f_;function cP(){if(f_)return af;f_=1;var e=Vv(),t=Iu(),n=$v(),r=uP(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return af=s,af}var lf,h_;function vV(){if(h_)return lf;h_=1;var e=Qo(),t=cP();function n(r,i){return e(r,t(r),i)}return lf=n,lf}var uf,p_;function dP(){if(p_)return uf;p_=1;var e=Vv(),t=Fe();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return uf=n,uf}var cf,m_;function fP(){if(m_)return cf;m_=1;var e=dP(),t=$v(),n=Dr();function r(i){return e(i,n,t)}return cf=r,cf}var df,g_;function wV(){if(g_)return df;g_=1;var e=dP(),t=cP(),n=hi();function r(i){return e(i,n,t)}return df=r,df}var ff,y_;function xV(){if(y_)return ff;y_=1;var e=fi(),t=gn(),n=e(t,"DataView");return ff=n,ff}var hf,v_;function _V(){if(v_)return hf;v_=1;var e=fi(),t=gn(),n=e(t,"Promise");return hf=n,hf}var pf,w_;function hP(){if(w_)return pf;w_=1;var e=fi(),t=gn(),n=e(t,"Set");return pf=n,pf}var mf,x_;function bV(){if(x_)return mf;x_=1;var e=fi(),t=gn(),n=e(t,"WeakMap");return mf=n,mf}var gf,__;function gs(){if(__)return gf;__=1;var e=xV(),t=jv(),n=_V(),r=hP(),i=bV(),s=di(),o=nP(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),g=o(t),p=o(n),v=o(r),m=o(i),y=s;return(e&&y(new e(new ArrayBuffer(1)))!=f||t&&y(new t)!=a||n&&y(n.resolve())!=u||r&&y(new r)!=c||i&&y(new i)!=d)&&(y=function(x){var _=s(x),b=_==l?x.constructor:void 0,C=b?o(b):"";if(C)switch(C){case h:return f;case g:return a;case p:return u;case v:return c;case m:return d}return _}),gf=y,gf}var yf,b_;function SV(){if(b_)return yf;b_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return yf=n,yf}var vf,S_;function pP(){if(S_)return vf;S_=1;var e=gn(),t=e.Uint8Array;return vf=t,vf}var wf,E_;function Bv(){if(E_)return wf;E_=1;var e=pP();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return wf=t,wf}var xf,C_;function EV(){if(C_)return xf;C_=1;var e=Bv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return xf=t,xf}var _f,k_;function CV(){if(k_)return _f;k_=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return _f=t,_f}var bf,T_;function kV(){if(T_)return bf;T_=1;var e=ps(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return bf=r,bf}var Sf,N_;function mP(){if(N_)return Sf;N_=1;var e=Bv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Sf=t,Sf}var Ef,M_;function TV(){if(M_)return Ef;M_=1;var e=Bv(),t=EV(),n=CV(),r=kV(),i=mP(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",v="[object Float64Array]",m="[object Int8Array]",y="[object Int16Array]",x="[object Int32Array]",_="[object Uint8Array]",b="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]";function T(M,A,I){var B=M.constructor;switch(A){case h:return e(M);case s:case o:return new B(+M);case g:return t(M,I);case p:case v:case m:case y:case x:case _:case b:case C:case k:return i(M,I);case a:return new B;case l:case d:return new B(M);case u:return n(M);case c:return new B;case f:return r(M)}}return Ef=T,Ef}var Cf,P_;function gP(){if(P_)return Cf;P_=1;var e=Qt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return Cf=n,Cf}var kf,A_;function yP(){if(A_)return kf;A_=1;var e=gP(),t=Iu(),n=Ru();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return kf=r,kf}var Tf,R_;function NV(){if(R_)return Tf;R_=1;var e=gs(),t=Mn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Tf=r,Tf}var Nf,I_;function MV(){if(I_)return Nf;I_=1;var e=NV(),t=Au(),n=qv(),r=n&&n.isMap,i=r?t(r):e;return Nf=i,Nf}var Mf,j_;function PV(){if(j_)return Mf;j_=1;var e=gs(),t=Mn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Mf=r,Mf}var Pf,D_;function AV(){if(D_)return Pf;D_=1;var e=PV(),t=Au(),n=qv(),r=n&&n.isSet,i=r?t(r):e;return Pf=i,Pf}var Af,L_;function vP(){if(L_)return Af;L_=1;var e=Tu(),t=Lv(),n=Mu(),r=hV(),i=gV(),s=oP(),o=aP(),a=yV(),l=vV(),u=fP(),c=wV(),d=gs(),f=SV(),h=TV(),g=yP(),p=Fe(),v=ms(),m=MV(),y=Qt(),x=AV(),_=Dr(),b=hi(),C=1,k=2,T=4,M="[object Arguments]",A="[object Array]",I="[object Boolean]",B="[object Date]",V="[object Error]",E="[object Function]",D="[object GeneratorFunction]",R="[object Map]",L="[object Number]",P="[object Object]",N="[object RegExp]",j="[object Set]",F="[object String]",$="[object Symbol]",O="[object WeakMap]",z="[object ArrayBuffer]",W="[object DataView]",Q="[object Float32Array]",te="[object Float64Array]",ue="[object Int8Array]",se="[object Int16Array]",oe="[object Int32Array]",Se="[object Uint8Array]",Ee="[object Uint8ClampedArray]",$e="[object Uint16Array]",ce="[object Uint32Array]",G={};G[M]=G[A]=G[z]=G[W]=G[I]=G[B]=G[Q]=G[te]=G[ue]=G[se]=G[oe]=G[R]=G[L]=G[P]=G[N]=G[j]=G[F]=G[$]=G[Se]=G[Ee]=G[$e]=G[ce]=!0,G[V]=G[E]=G[O]=!1;function Te(X,Y,ge,ft,Ft,Ue){var we,Xe=Y&C,vt=Y&k,en=Y&T;if(ge&&(we=Ft?ge(X,ft,Ft,Ue):ge(X)),we!==void 0)return we;if(!y(X))return X;var Tt=p(X);if(Tt){if(we=f(X),!Xe)return o(X,we)}else{var ht=d(X),$t=ht==E||ht==D;if(v(X))return s(X,Xe);if(ht==P||ht==M||$t&&!Ft){if(we=vt||$t?{}:g(X),!Xe)return vt?l(X,i(we,X)):a(X,r(we,X))}else{if(!G[ht])return Ft?X:{};we=h(X,ht,Xe)}}Ue||(Ue=new e);var it=Ue.get(X);if(it)return it;Ue.set(X,we),x(X)?X.forEach(function(Oe){we.add(Te(Oe,Y,ge,Oe,X,Ue))}):m(X)&&X.forEach(function(Oe,de){we.set(de,Te(Oe,Y,ge,de,X,Ue))});var me=en?vt?c:u:vt?b:_,Ze=Tt?void 0:me(X);return t(Ze||X,function(Oe,de){Ze&&(de=Oe,Oe=X[de]),n(we,de,Te(Oe,Y,ge,de,X,Ue))}),we}return Af=Te,Af}var Rf,O_;function RV(){if(O_)return Rf;O_=1;var e=vP(),t=4;function n(r){return e(r,t)}return Rf=n,Rf}var If,q_;function zv(){if(q_)return If;q_=1;function e(t){return function(){return t}}return If=e,If}var jf,F_;function IV(){if(F_)return jf;F_=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++s];if(r(o[u],u,o)===!1)break}return n}}return jf=e,jf}var Df,$_;function Uv(){if($_)return Df;$_=1;var e=IV(),t=e();return Df=t,Df}var Lf,V_;function Hv(){if(V_)return Lf;V_=1;var e=Uv(),t=Dr();function n(r,i){return r&&e(r,i,t)}return Lf=n,Lf}var Of,B_;function jV(){if(B_)return Of;B_=1;var e=er();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return Of=t,Of}var qf,z_;function ju(){if(z_)return qf;z_=1;var e=Hv(),t=jV(),n=t(e);return qf=n,qf}var Ff,U_;function pi(){if(U_)return Ff;U_=1;function e(t){return t}return Ff=e,Ff}var $f,H_;function wP(){if(H_)return $f;H_=1;var e=pi();function t(n){return typeof n=="function"?n:e}return $f=t,$f}var Vf,G_;function xP(){if(G_)return Vf;G_=1;var e=Lv(),t=ju(),n=wP(),r=Fe();function i(s,o){var a=r(s)?e:t;return a(s,n(o))}return Vf=i,Vf}var Bf,W_;function _P(){return W_||(W_=1,Bf=xP()),Bf}var zf,K_;function DV(){if(K_)return zf;K_=1;var e=ju();function t(n,r){var i=[];return e(n,function(s,o,a){r(s,o,a)&&i.push(s)}),i}return zf=t,zf}var Uf,Y_;function LV(){if(Y_)return Uf;Y_=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Uf=t,Uf}var Hf,X_;function OV(){if(X_)return Hf;X_=1;function e(t){return this.__data__.has(t)}return Hf=e,Hf}var Gf,Z_;function bP(){if(Z_)return Gf;Z_=1;var e=Dv(),t=LV(),n=OV();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Gf=r,Gf}var Wf,Q_;function qV(){if(Q_)return Wf;Q_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Wf=e,Wf}var Kf,J_;function SP(){if(J_)return Kf;J_=1;function e(t,n){return t.has(n)}return Kf=e,Kf}var Yf,eb;function EP(){if(eb)return Yf;eb=1;var e=bP(),t=qV(),n=SP(),r=1,i=2;function s(o,a,l,u,c,d){var f=l&r,h=o.length,g=a.length;if(h!=g&&!(f&&g>h))return!1;var p=d.get(o),v=d.get(a);if(p&&v)return p==a&&v==o;var m=-1,y=!0,x=l&i?new e:void 0;for(d.set(o,a),d.set(a,o);++m<h;){var _=o[m],b=a[m];if(u)var C=f?u(b,_,m,a,o,d):u(_,b,m,o,a,d);if(C!==void 0){if(C)continue;y=!1;break}if(x){if(!t(a,function(k,T){if(!n(x,T)&&(_===k||c(_,k,l,u,d)))return x.push(T)})){y=!1;break}}else if(!(_===b||c(_,b,l,u,d))){y=!1;break}}return d.delete(o),d.delete(a),y}return Yf=s,Yf}var Xf,tb;function FV(){if(tb)return Xf;tb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return Xf=e,Xf}var Zf,nb;function Gv(){if(nb)return Zf;nb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Zf=e,Zf}var Qf,rb;function $V(){if(rb)return Qf;rb=1;var e=ps(),t=pP(),n=hs(),r=EP(),i=FV(),s=Gv(),o=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",g="[object Set]",p="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function b(C,k,T,M,A,I,B){switch(T){case y:if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case m:return!(C.byteLength!=k.byteLength||!I(new t(C),new t(k)));case l:case u:case f:return n(+C,+k);case c:return C.name==k.name&&C.message==k.message;case h:case p:return C==k+"";case d:var V=i;case g:var E=M&o;if(V||(V=s),C.size!=k.size&&!E)return!1;var D=B.get(C);if(D)return D==k;M|=a,B.set(C,k);var R=r(V(C),V(k),M,A,I,B);return B.delete(C),R;case v:if(_)return _.call(C)==_.call(k)}return!1}return Qf=b,Qf}var Jf,ib;function VV(){if(ib)return Jf;ib=1;var e=fP(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,u,c){var d=a&t,f=e(s),h=f.length,g=e(o),p=g.length;if(h!=p&&!d)return!1;for(var v=h;v--;){var m=f[v];if(!(d?m in o:r.call(o,m)))return!1}var y=c.get(s),x=c.get(o);if(y&&x)return y==o&&x==s;var _=!0;c.set(s,o),c.set(o,s);for(var b=d;++v<h;){m=f[v];var C=s[m],k=o[m];if(l)var T=d?l(k,C,m,o,s,c):l(C,k,m,s,o,c);if(!(T===void 0?C===k||u(C,k,a,l,c):T)){_=!1;break}b||(b=m=="constructor")}if(_&&!b){var M=s.constructor,A=o.constructor;M!=A&&"constructor"in s&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof A=="function"&&A instanceof A)&&(_=!1)}return c.delete(s),c.delete(o),_}return Jf=i,Jf}var eh,sb;function BV(){if(sb)return eh;sb=1;var e=Tu(),t=EP(),n=$V(),r=VV(),i=gs(),s=Fe(),o=ms(),a=ea(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function g(p,v,m,y,x,_){var b=s(p),C=s(v),k=b?c:i(p),T=C?c:i(v);k=k==u?d:k,T=T==u?d:T;var M=k==d,A=T==d,I=k==T;if(I&&o(p)){if(!o(v))return!1;b=!0,M=!1}if(I&&!M)return _||(_=new e),b||a(p)?t(p,v,m,y,x,_):n(p,v,k,m,y,x,_);if(!(m&l)){var B=M&&h.call(p,"__wrapped__"),V=A&&h.call(v,"__wrapped__");if(B||V){var E=B?p.value():p,D=V?v.value():v;return _||(_=new e),x(E,D,m,y,_)}}return I?(_||(_=new e),r(p,v,m,y,x,_)):!1}return eh=g,eh}var th,ob;function CP(){if(ob)return th;ob=1;var e=BV(),t=Mn();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return th=n,th}var nh,ab;function zV(){if(ab)return nh;ab=1;var e=Tu(),t=CP(),n=1,r=2;function i(s,o,a,l){var u=a.length,c=u,d=!l;if(s==null)return!c;for(s=Object(s);u--;){var f=a[u];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++u<c;){f=a[u];var h=f[0],g=s[h],p=f[1];if(d&&f[2]){if(g===void 0&&!(h in s))return!1}else{var v=new e;if(l)var m=l(g,p,h,s,o,v);if(!(m===void 0?t(p,g,n|r,l,v):m))return!1}}return!0}return nh=i,nh}var rh,lb;function kP(){if(lb)return rh;lb=1;var e=Qt();function t(n){return n===n&&!e(n)}return rh=t,rh}var ih,ub;function UV(){if(ub)return ih;ub=1;var e=kP(),t=Dr();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return ih=n,ih}var sh,cb;function TP(){if(cb)return sh;cb=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return sh=e,sh}var oh,db;function HV(){if(db)return oh;db=1;var e=zV(),t=UV(),n=TP();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return oh=r,oh}var ah,fb;function ys(){if(fb)return ah;fb=1;var e=di(),t=Mn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return ah=r,ah}var lh,hb;function Wv(){if(hb)return lh;hb=1;var e=Fe(),t=ys(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return lh=i,lh}var uh,pb;function GV(){if(pb)return uh;pb=1;var e=Dv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,uh=n,uh}var ch,mb;function WV(){if(mb)return ch;mb=1;var e=GV(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return ch=n,ch}var dh,gb;function KV(){if(gb)return dh;gb=1;var e=WV(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,u){s.push(l?u.replace(n,"$1"):a||o)}),s});return dh=r,dh}var fh,yb;function Du(){if(yb)return fh;yb=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return fh=e,fh}var hh,vb;function YV(){if(vb)return hh;vb=1;var e=ps(),t=Du(),n=Fe(),r=ys(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return hh=o,hh}var ph,wb;function NP(){if(wb)return ph;wb=1;var e=YV();function t(n){return n==null?"":e(n)}return ph=t,ph}var mh,xb;function Lu(){if(xb)return mh;xb=1;var e=Fe(),t=Wv(),n=KV(),r=NP();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return mh=i,mh}var gh,_b;function ta(){if(_b)return gh;_b=1;var e=ys();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return gh=t,gh}var yh,bb;function Ou(){if(bb)return yh;bb=1;var e=Lu(),t=ta();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return yh=n,yh}var vh,Sb;function XV(){if(Sb)return vh;Sb=1;var e=Ou();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return vh=t,vh}var wh,Eb;function ZV(){if(Eb)return wh;Eb=1;function e(t,n){return t!=null&&n in Object(t)}return wh=e,wh}var xh,Cb;function MP(){if(Cb)return xh;Cb=1;var e=Lu(),t=Jo(),n=Fe(),r=Pu(),i=Ov(),s=ta();function o(a,l,u){l=e(l,a);for(var c=-1,d=l.length,f=!1;++c<d;){var h=s(l[c]);if(!(f=a!=null&&u(a,h)))break;a=a[h]}return f||++c!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(h,d)&&(n(a)||t(a)))}return xh=o,xh}var _h,kb;function PP(){if(kb)return _h;kb=1;var e=ZV(),t=MP();function n(r,i){return r!=null&&t(r,i,e)}return _h=n,_h}var bh,Tb;function QV(){if(Tb)return bh;Tb=1;var e=CP(),t=XV(),n=PP(),r=Wv(),i=kP(),s=TP(),o=ta(),a=1,l=2;function u(c,d){return r(c)&&i(d)?s(o(c),d):function(f){var h=t(f,c);return h===void 0&&h===d?n(f,c):e(d,h,a|l)}}return bh=u,bh}var Sh,Nb;function AP(){if(Nb)return Sh;Nb=1;function e(t){return function(n){return n==null?void 0:n[t]}}return Sh=e,Sh}var Eh,Mb;function JV(){if(Mb)return Eh;Mb=1;var e=Ou();function t(n){return function(r){return e(r,n)}}return Eh=t,Eh}var Ch,Pb;function eB(){if(Pb)return Ch;Pb=1;var e=AP(),t=JV(),n=Wv(),r=ta();function i(s){return n(s)?e(r(s)):t(s)}return Ch=i,Ch}var kh,Ab;function tr(){if(Ab)return kh;Ab=1;var e=HV(),t=QV(),n=pi(),r=Fe(),i=eB();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return kh=s,kh}var Th,Rb;function RP(){if(Rb)return Th;Rb=1;var e=lP(),t=DV(),n=tr(),r=Fe();function i(s,o){var a=r(s)?e:t;return a(s,n(o,3))}return Th=i,Th}var Nh,Ib;function tB(){if(Ib)return Nh;Ib=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Nh=n,Nh}var Mh,jb;function IP(){if(jb)return Mh;jb=1;var e=tB(),t=MP();function n(r,i){return r!=null&&t(r,i,e)}return Mh=n,Mh}var Ph,Db;function nB(){if(Db)return Ph;Db=1;var e=Fv(),t=gs(),n=Jo(),r=Fe(),i=er(),s=ms(),o=Ru(),a=ea(),l="[object Map]",u="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||s(h)||a(h)||n(h)))return!h.length;var g=t(h);if(g==l||g==u)return!h.size;if(o(h))return!e(h).length;for(var p in h)if(d.call(h,p))return!1;return!0}return Ph=f,Ph}var Ah,Lb;function jP(){if(Lb)return Ah;Lb=1;function e(t){return t===void 0}return Ah=e,Ah}var Rh,Ob;function DP(){if(Ob)return Rh;Ob=1;var e=ju(),t=er();function n(r,i){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return Rh=n,Rh}var Ih,qb;function LP(){if(qb)return Ih;qb=1;var e=Du(),t=tr(),n=DP(),r=Fe();function i(s,o){var a=r(s)?e:n;return a(s,t(o,3))}return Ih=i,Ih}var jh,Fb;function rB(){if(Fb)return jh;Fb=1;function e(t,n,r,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(r=t[++s]);++s<o;)r=n(r,t[s],s,t);return r}return jh=e,jh}var Dh,$b;function iB(){if($b)return Dh;$b=1;function e(t,n,r,i,s){return s(t,function(o,a,l){r=i?(i=!1,o):n(r,o,a,l)}),r}return Dh=e,Dh}var Lh,Vb;function OP(){if(Vb)return Lh;Vb=1;var e=rB(),t=ju(),n=tr(),r=iB(),i=Fe();function s(o,a,l){var u=i(o)?e:r,c=arguments.length<3;return u(o,n(a,4),l,c,t)}return Lh=s,Lh}var Oh,Bb;function sB(){if(Bb)return Oh;Bb=1;var e=di(),t=Fe(),n=Mn(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return Oh=i,Oh}var qh,zb;function oB(){if(zb)return qh;zb=1;var e=AP(),t=e("length");return qh=t,qh}var Fh,Ub;function aB(){if(Ub)return Fh;Ub=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+e+i+s+"]");function l(u){return a.test(u)}return Fh=l,Fh}var $h,Hb;function lB(){if(Hb)return $h;Hb=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",p="["+s+"]?",v="(?:"+h+"(?:"+[c,d,f].join("|")+")"+p+g+")*",m=p+g+v,y="(?:"+[c+a+"?",a,d,f,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+y+m,"g");function _(b){for(var C=x.lastIndex=0;x.test(b);)++C;return C}return $h=_,$h}var Vh,Gb;function uB(){if(Gb)return Vh;Gb=1;var e=oB(),t=aB(),n=lB();function r(i){return t(i)?n(i):e(i)}return Vh=r,Vh}var Bh,Wb;function cB(){if(Wb)return Bh;Wb=1;var e=Fv(),t=gs(),n=er(),r=sB(),i=uB(),s="[object Map]",o="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==s||u==o?l.size:e(l).length}return Bh=a,Bh}var zh,Kb;function dB(){if(Kb)return zh;Kb=1;var e=Lv(),t=gP(),n=Hv(),r=tr(),i=Iu(),s=Fe(),o=ms(),a=Zo(),l=Qt(),u=ea();function c(d,f,h){var g=s(d),p=g||o(d)||u(d);if(f=r(f,4),h==null){var v=d&&d.constructor;p?h=g?new v:[]:l(d)?h=a(v)?t(i(d)):{}:h={}}return(p?e:n)(d,function(m,y,x){return f(h,m,y,x)}),h}return zh=c,zh}var Uh,Yb;function fB(){if(Yb)return Uh;Yb=1;var e=ps(),t=Jo(),n=Fe(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return Uh=i,Uh}var Hh,Xb;function Kv(){if(Xb)return Hh;Xb=1;var e=Vv(),t=fB();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=t),a||(a=[]);++l<u;){var c=r[l];i>0&&s(c)?i>1?n(c,i-1,s,o,a):e(a,c):o||(a[a.length]=c)}return a}return Hh=n,Hh}var Gh,Zb;function hB(){if(Zb)return Gh;Zb=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Gh=e,Gh}var Wh,Qb;function qP(){if(Qb)return Wh;Qb=1;var e=hB(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=t(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=o[a];return c[i]=s(u),e(r,this,c)}}return Wh=n,Wh}var Kh,Jb;function pB(){if(Jb)return Kh;Jb=1;var e=zv(),t=rP(),n=pi(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Kh=r,Kh}var Yh,eS;function mB(){if(eS)return Yh;eS=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=t-(a-o);if(o=a,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Yh=r,Yh}var Xh,tS;function FP(){if(tS)return Xh;tS=1;var e=pB(),t=mB(),n=t(e);return Xh=n,Xh}var Zh,nS;function qu(){if(nS)return Zh;nS=1;var e=pi(),t=qP(),n=FP();function r(i,s){return n(t(i,s,e),i+"")}return Zh=r,Zh}var Qh,rS;function $P(){if(rS)return Qh;rS=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return Qh=e,Qh}var Jh,iS;function gB(){if(iS)return Jh;iS=1;function e(t){return t!==t}return Jh=e,Jh}var ep,sS;function yB(){if(sS)return ep;sS=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return ep=e,ep}var tp,oS;function vB(){if(oS)return tp;oS=1;var e=$P(),t=gB(),n=yB();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return tp=r,tp}var np,aS;function wB(){if(aS)return np;aS=1;var e=vB();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return np=t,np}var rp,lS;function xB(){if(lS)return rp;lS=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return rp=e,rp}var ip,uS;function _B(){if(uS)return ip;uS=1;function e(){}return ip=e,ip}var sp,cS;function bB(){if(cS)return sp;cS=1;var e=hP(),t=_B(),n=Gv(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return sp=i,sp}var op,dS;function SB(){if(dS)return op;dS=1;var e=bP(),t=wB(),n=xB(),r=SP(),i=bB(),s=Gv(),o=200;function a(l,u,c){var d=-1,f=t,h=l.length,g=!0,p=[],v=p;if(c)g=!1,f=n;else if(h>=o){var m=u?null:i(l);if(m)return s(m);g=!1,f=r,v=new e}else v=u?[]:p;e:for(;++d<h;){var y=l[d],x=u?u(y):y;if(y=c||y!==0?y:0,g&&x===x){for(var _=v.length;_--;)if(v[_]===x)continue e;u&&v.push(x),p.push(y)}else f(v,x,c)||(v!==p&&v.push(x),p.push(y))}return p}return op=a,op}var ap,fS;function VP(){if(fS)return ap;fS=1;var e=er(),t=Mn();function n(r){return t(r)&&e(r)}return ap=n,ap}var lp,hS;function EB(){if(hS)return lp;hS=1;var e=Kv(),t=qu(),n=SB(),r=VP(),i=t(function(s){return n(e(s,1,r,!0))});return lp=i,lp}var up,pS;function CB(){if(pS)return up;pS=1;var e=Du();function t(n,r){return e(r,function(i){return n[i]})}return up=t,up}var cp,mS;function BP(){if(mS)return cp;mS=1;var e=CB(),t=Dr();function n(r){return r==null?[]:e(r,t(r))}return cp=n,cp}var dp,gS;function Jt(){if(gS)return dp;gS=1;var e;if(typeof Iv=="function")try{e={clone:RV(),constant:zv(),each:_P(),filter:RP(),has:IP(),isArray:Fe(),isEmpty:nB(),isFunction:Zo(),isUndefined:jP(),keys:Dr(),map:LP(),reduce:OP(),size:cB(),transform:dB(),union:EB(),values:BP()}}catch{}return e||(e=window._),dp=e,dp}var fp,yS;function Yv(){if(yS)return fp;yS=1;var e=Jt();fp=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,h=this;return e.each(c,function(g){f.length>1?h.setNode(g,d):h.setNode(g)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){d.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(p,v){c(v)&&d.setNode(v,p)}),e.each(this._edgeObjs,function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,f.edge(p))});var h={};function g(p){var v=f.parent(p);return v===void 0||d.hasNode(v)?(h[p]=v,v):v in h?h[v]:g(v)}return this._isCompound&&e.each(d.nodes(),function(p){d.setParent(p,g(p))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,h=arguments;return e.reduce(c,function(g,p){return h.length>1?f.setEdge(g,p,d):f.setEdge(g,p),p}),this},i.prototype.setEdge=function(){var c,d,f,h,g=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(c=p.v,d=p.w,f=p.name,arguments.length===2&&(h=arguments[1],g=!0)):(c=p,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var v=a(this._isDirected,c,d,f);if(e.has(this._edgeLabels,v))return g&&(this._edgeLabels[v]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[v]=g?h:this._defaultEdgeLabelFn(c,d,f);var m=l(this._isDirected,c,d,f);return c=m.v,d=m.w,Object.freeze(m),this._edgeObjs[v]=m,s(this._preds[d],c),s(this._sucs[c],d),this._in[d][v]=m,this._out[c][v]=m,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f),g=this._edgeObjs[h];return g&&(c=g.v,d=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var h=e.values(f);return d?e.filter(h,function(g){return g.v===d}):h}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var h=e.values(f);return d?e.filter(h,function(g){return g.w===d}):h}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function s(c,d){c[d]?c[d]++:c[d]=1}function o(c,d){--c[d]||delete c[d]}function a(c,d,f,h){var g=""+d,p=""+f;if(!c&&g>p){var v=g;g=p,p=v}return g+r+p+r+(e.isUndefined(h)?t:h)}function l(c,d,f,h){var g=""+d,p=""+f;if(!c&&g>p){var v=g;g=p,p=v}var m={v:g,w:p};return h&&(m.name=h),m}function u(c,d){return a(c,d.v,d.w,d.name)}return fp}var hp,vS;function kB(){return vS||(vS=1,hp="2.1.8"),hp}var pp,wS;function TB(){return wS||(wS=1,pp={Graph:Yv(),version:kB()}),pp}var mp,xS;function NB(){if(xS)return mp;xS=1;var e=Jt(),t=Yv();mp={write:n,read:s};function n(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:i(o)};return e.isUndefined(o.graph())||(a.value=e.clone(o.graph())),a}function r(o){return e.map(o.nodes(),function(a){var l=o.node(a),u=o.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(o){return e.map(o.edges(),function(a){var l=o.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function s(o){var a=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(o.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return mp}var gp,_S;function MB(){if(_S)return gp;_S=1;var e=Jt();gp=t;function t(n){var r={},i=[],s;function o(a){e.has(r,a)||(r[a]=!0,s.push(a),e.each(n.successors(a),o),e.each(n.predecessors(a),o))}return e.each(n.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return gp}var yp,bS;function zP(){if(bS)return yp;bS=1;var e=Jt();yp=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r},yp}var vp,SS;function UP(){if(SS)return vp;SS=1;var e=Jt(),t=zP();vp=r;var n=e.constant(1);function r(s,o,a,l){return i(s,String(o),a||n,l||function(u){return s.outEdges(u)})}function i(s,o,a,l){var u={},c=new t,d,f,h=function(g){var p=g.v!==d?g.v:g.w,v=u[p],m=a(g),y=f.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+m);y<v.distance&&(v.distance=y,v.predecessor=d,c.decrease(p,y))};for(s.nodes().forEach(function(g){var p=g===o?0:Number.POSITIVE_INFINITY;u[g]={distance:p},c.add(g,p)});c.size()>0&&(d=c.removeMin(),f=u[d],f.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(h);return u}return vp}var wp,ES;function PB(){if(ES)return wp;ES=1;var e=UP(),t=Jt();wp=n;function n(r,i,s){return t.transform(r.nodes(),function(o,a){o[a]=e(r,a,i,s)},{})}return wp}var xp,CS;function HP(){if(CS)return xp;CS=1;var e=Jt();xp=t;function t(n){var r=0,i=[],s={},o=[];function a(l){var u=s[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(f){e.has(s,f)?s[f].onStack&&(u.lowlink=Math.min(u.lowlink,s[f].index)):(a(f),u.lowlink=Math.min(u.lowlink,s[f].lowlink))}),u.lowlink===u.index){var c=[],d;do d=i.pop(),s[d].onStack=!1,c.push(d);while(l!==d);o.push(c)}}return n.nodes().forEach(function(l){e.has(s,l)||a(l)}),o}return xp}var _p,kS;function AB(){if(kS)return _p;kS=1;var e=Jt(),t=HP();_p=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return _p}var bp,TS;function RB(){if(TS)return bp;TS=1;var e=Jt();bp=n;var t=e.constant(1);function n(i,s,o){return r(i,s||t,o||function(a){return i.outEdges(a)})}function r(i,s,o){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(c){var d=c.v===u?c.w:c.v,f=s(c);a[u][d]={distance:f,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(d){var f=a[d];l.forEach(function(h){var g=f[u],p=c[h],v=f[h],m=g.distance+p.distance;m<v.distance&&(v.distance=m,v.predecessor=p.predecessor)})})}),a}return bp}var Sp,NS;function GP(){if(NS)return Sp;NS=1;var e=Jt();Sp=t,t.CycleException=n;function t(r){var i={},s={},o=[];function a(l){if(e.has(s,l))throw new n;e.has(i,l)||(s[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete s[l],o.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,Sp}var Ep,MS;function IB(){if(MS)return Ep;MS=1;var e=GP();Ep=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Ep}var Cp,PS;function WP(){if(PS)return Cp;PS=1;var e=Jt();Cp=t;function t(r,i,s){e.isArray(i)||(i=[i]);var o=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,s==="post",l,o,a)}),a}function n(r,i,s,o,a,l){e.has(o,i)||(o[i]=!0,s||l.push(i),e.each(a(i),function(u){n(r,u,s,o,a,l)}),s&&l.push(i))}return Cp}var kp,AS;function jB(){if(AS)return kp;AS=1;var e=WP();kp=t;function t(n,r){return e(n,r,"post")}return kp}var Tp,RS;function DB(){if(RS)return Tp;RS=1;var e=WP();Tp=t;function t(n,r){return e(n,r,"pre")}return Tp}var Np,IS;function LB(){if(IS)return Np;IS=1;var e=Jt(),t=Yv(),n=zP();Np=r;function r(i,s){var o=new t,a={},l=new n,u;function c(f){var h=f.v===u?f.w:f.v,g=l.priority(h);if(g!==void 0){var p=s(f);p<g&&(a[h]=u,l.decrease(h,p))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(f){l.add(f,Number.POSITIVE_INFINITY),o.setNode(f)}),l.decrease(i.nodes()[0],0);for(var d=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))o.setEdge(u,a[u]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(u).forEach(c)}return o}return Np}var Mp,jS;function OB(){return jS||(jS=1,Mp={components:MB(),dijkstra:UP(),dijkstraAll:PB(),findCycles:AB(),floydWarshall:RB(),isAcyclic:IB(),postorder:jB(),preorder:DB(),prim:LB(),tarjan:HP(),topsort:GP()}),Mp}var Pp,DS;function qB(){if(DS)return Pp;DS=1;var e=TB();return Pp={Graph:e.Graph,json:NB(),alg:OB(),version:e.version},Pp}var Vl;if(typeof Iv=="function")try{Vl=qB()}catch{}Vl||(Vl=window.graphlib);var yn=Vl,Ap,LS;function FB(){if(LS)return Ap;LS=1;var e=vP(),t=1,n=4;function r(i){return e(i,t|n)}return Ap=r,Ap}var Rp,OS;function Fu(){if(OS)return Rp;OS=1;var e=hs(),t=er(),n=Pu(),r=Qt();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?t(a)&&n(o,a.length):l=="string"&&o in a)?e(a[o],s):!1}return Rp=i,Rp}var Ip,qS;function $B(){if(qS)return Ip;qS=1;var e=qu(),t=hs(),n=Fu(),r=hi(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,l){a=Object(a);var u=-1,c=l.length,d=c>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(c=1);++u<c;)for(var f=l[u],h=r(f),g=-1,p=h.length;++g<p;){var v=h[g],m=a[v];(m===void 0||t(m,i[v])&&!s.call(a,v))&&(a[v]=f[v])}return a});return Ip=o,Ip}var jp,FS;function VB(){if(FS)return jp;FS=1;var e=tr(),t=er(),n=Dr();function r(i){return function(s,o,a){var l=Object(s);if(!t(s)){var u=e(o,3);s=n(s),o=function(d){return u(l[d],d,l)}}var c=i(s,o,a);return c>-1?l[u?s[c]:c]:void 0}}return jp=r,jp}var Dp,$S;function BB(){if($S)return Dp;$S=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Dp=t,Dp}var Lp,VS;function zB(){if(VS)return Lp;VS=1;var e=BB(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Lp=n,Lp}var Op,BS;function UB(){if(BS)return Op;BS=1;var e=zB(),t=Qt(),n=ys(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=s.test(u);return d||o.test(u)?a(u.slice(2),d?2:8):i.test(u)?r:+u}return Op=l,Op}var qp,zS;function KP(){if(zS)return qp;zS=1;var e=UB(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return qp=r,qp}var Fp,US;function HB(){if(US)return Fp;US=1;var e=KP();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Fp=t,Fp}var $p,HS;function GB(){if(HS)return $p;HS=1;var e=$P(),t=tr(),n=HB(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(s,t(o,3),u)}return $p=i,$p}var Vp,GS;function WB(){if(GS)return Vp;GS=1;var e=VB(),t=GB(),n=e(t);return Vp=n,Vp}var Bp,WS;function YP(){if(WS)return Bp;WS=1;var e=Kv();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Bp=t,Bp}var zp,KS;function KB(){if(KS)return zp;KS=1;var e=Uv(),t=wP(),n=hi();function r(i,s){return i==null?i:e(i,t(s),n)}return zp=r,zp}var Up,YS;function YB(){if(YS)return Up;YS=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Up=e,Up}var Hp,XS;function XB(){if(XS)return Hp;XS=1;var e=Nu(),t=Hv(),n=tr();function r(i,s){var o={};return s=n(s,3),t(i,function(a,l,u){e(o,l,s(a,l,u))}),o}return Hp=r,Hp}var Gp,ZS;function Xv(){if(ZS)return Gp;ZS=1;var e=ys();function t(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return Gp=t,Gp}var Wp,QS;function ZB(){if(QS)return Wp;QS=1;function e(t,n){return t>n}return Wp=e,Wp}var Kp,JS;function QB(){if(JS)return Kp;JS=1;var e=Xv(),t=ZB(),n=pi();function r(i){return i&&i.length?e(i,n,t):void 0}return Kp=r,Kp}var Yp,eE;function XP(){if(eE)return Yp;eE=1;var e=Nu(),t=hs();function n(r,i,s){(s!==void 0&&!t(r[i],s)||s===void 0&&!(i in r))&&e(r,i,s)}return Yp=n,Yp}var Xp,tE;function JB(){if(tE)return Xp;tE=1;var e=di(),t=Iu(),n=Mn(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==l}return Xp=u,Xp}var Zp,nE;function ZP(){if(nE)return Zp;nE=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Zp=e,Zp}var Qp,rE;function e4(){if(rE)return Qp;rE=1;var e=Qo(),t=hi();function n(r){return e(r,t(r))}return Qp=n,Qp}var Jp,iE;function t4(){if(iE)return Jp;iE=1;var e=XP(),t=oP(),n=mP(),r=aP(),i=yP(),s=Jo(),o=Fe(),a=VP(),l=ms(),u=Zo(),c=Qt(),d=JB(),f=ea(),h=ZP(),g=e4();function p(v,m,y,x,_,b,C){var k=h(v,y),T=h(m,y),M=C.get(T);if(M){e(v,y,M);return}var A=b?b(k,T,y+"",v,m,C):void 0,I=A===void 0;if(I){var B=o(T),V=!B&&l(T),E=!B&&!V&&f(T);A=T,B||V||E?o(k)?A=k:a(k)?A=r(k):V?(I=!1,A=t(T,!0)):E?(I=!1,A=n(T,!0)):A=[]:d(T)||s(T)?(A=k,s(k)?A=g(k):(!c(k)||u(k))&&(A=i(T))):I=!1}I&&(C.set(T,A),_(A,T,x,b,C),C.delete(T)),e(v,y,A)}return Jp=p,Jp}var em,sE;function n4(){if(sE)return em;sE=1;var e=Tu(),t=XP(),n=Uv(),r=t4(),i=Qt(),s=hi(),o=ZP();function a(l,u,c,d,f){l!==u&&n(u,function(h,g){if(f||(f=new e),i(h))r(l,u,g,c,a,d,f);else{var p=d?d(o(l,g),h,g+"",l,u,f):void 0;p===void 0&&(p=h),t(l,g,p)}},s)}return em=a,em}var tm,oE;function r4(){if(oE)return tm;oE=1;var e=qu(),t=Fu();function n(r){return e(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var c=s[o];c&&r(i,c,o,l)}return i})}return tm=n,tm}var nm,aE;function i4(){if(aE)return nm;aE=1;var e=n4(),t=r4(),n=t(function(r,i,s){e(r,i,s)});return nm=n,nm}var rm,lE;function QP(){if(lE)return rm;lE=1;function e(t,n){return t<n}return rm=e,rm}var im,uE;function s4(){if(uE)return im;uE=1;var e=Xv(),t=QP(),n=pi();function r(i){return i&&i.length?e(i,n,t):void 0}return im=r,im}var sm,cE;function o4(){if(cE)return sm;cE=1;var e=Xv(),t=tr(),n=QP();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return sm=r,sm}var om,dE;function a4(){if(dE)return om;dE=1;var e=gn(),t=function(){return e.Date.now()};return om=t,om}var am,fE;function l4(){if(fE)return am;fE=1;var e=Mu(),t=Lu(),n=Pu(),r=Qt(),i=ta();function s(o,a,l,u){if(!r(o))return o;a=t(a,o);for(var c=-1,d=a.length,f=d-1,h=o;h!=null&&++c<d;){var g=i(a[c]),p=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return o;if(c!=f){var v=h[g];p=u?u(v,g,h):void 0,p===void 0&&(p=r(v)?v:n(a[c+1])?[]:{})}e(h,g,p),h=h[g]}return o}return am=s,am}var lm,hE;function u4(){if(hE)return lm;hE=1;var e=Ou(),t=l4(),n=Lu();function r(i,s,o){for(var a=-1,l=s.length,u={};++a<l;){var c=s[a],d=e(i,c);o(d,c)&&t(u,n(c,i),d)}return u}return lm=r,lm}var um,pE;function c4(){if(pE)return um;pE=1;var e=u4(),t=PP();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return um=n,um}var cm,mE;function d4(){if(mE)return cm;mE=1;var e=YP(),t=qP(),n=FP();function r(i){return n(t(i,void 0,e),i+"")}return cm=r,cm}var dm,gE;function f4(){if(gE)return dm;gE=1;var e=c4(),t=d4(),n=t(function(r,i){return r==null?{}:e(r,i)});return dm=n,dm}var fm,yE;function h4(){if(yE)return fm;yE=1;var e=Math.ceil,t=Math.max;function n(r,i,s,o){for(var a=-1,l=t(e((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return fm=n,fm}var hm,vE;function p4(){if(vE)return hm;vE=1;var e=h4(),t=Fu(),n=KP();function r(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),e(s,o,a,i)}}return hm=r,hm}var pm,wE;function m4(){if(wE)return pm;wE=1;var e=p4(),t=e();return pm=t,pm}var mm,xE;function g4(){if(xE)return mm;xE=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return mm=e,mm}var gm,_E;function y4(){if(_E)return gm;_E=1;var e=ys();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,d=e(r);if(!u&&!d&&!a&&n>r||a&&l&&c&&!u&&!d||s&&l&&c||!i&&c||!o)return 1;if(!s&&!a&&!d&&n<r||d&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!c)return-1}return 0}return gm=t,gm}var ym,bE;function v4(){if(bE)return ym;bE=1;var e=y4();function t(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var c=e(o[s],a[s]);if(c){if(s>=u)return c;var d=i[s];return c*(d=="desc"?-1:1)}}return n.index-r.index}return ym=t,ym}var vm,SE;function w4(){if(SE)return vm;SE=1;var e=Du(),t=Ou(),n=tr(),r=DP(),i=g4(),s=Au(),o=v4(),a=pi(),l=Fe();function u(c,d,f){d.length?d=e(d,function(p){return l(p)?function(v){return t(v,p.length===1?p[0]:p)}:p}):d=[a];var h=-1;d=e(d,s(n));var g=r(c,function(p,v,m){var y=e(d,function(x){return x(p)});return{criteria:y,index:++h,value:p}});return i(g,function(p,v){return o(p,v,f)})}return vm=u,vm}var wm,EE;function x4(){if(EE)return wm;EE=1;var e=Kv(),t=w4(),n=qu(),r=Fu(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return wm=i,wm}var xm,CE;function _4(){if(CE)return xm;CE=1;var e=NP(),t=0;function n(r){var i=++t;return e(r)+i}return xm=n,xm}var _m,kE;function b4(){if(kE)return _m;kE=1;function e(t,n,r){for(var i=-1,s=t.length,o=n.length,a={};++i<s;){var l=i<o?n[i]:void 0;r(a,t[i],l)}return a}return _m=e,_m}var bm,TE;function S4(){if(TE)return bm;TE=1;var e=Mu(),t=b4();function n(r,i){return t(r||[],i||[],e)}return bm=n,bm}var Bl;if(typeof Iv=="function")try{Bl={cloneDeep:FB(),constant:zv(),defaults:$B(),each:_P(),filter:RP(),find:WB(),flatten:YP(),forEach:xP(),forIn:KB(),has:IP(),isUndefined:jP(),last:YB(),map:LP(),mapValues:XB(),max:QB(),merge:i4(),min:s4(),minBy:o4(),now:a4(),pick:f4(),range:m4(),reduce:OP(),sortBy:x4(),uniqueId:_4(),values:BP(),zipObject:S4()}}catch{}Bl||(Bl=window._);var ke=Bl,E4=$u;function $u(){var e={};e._next=e._prev=e,this._sentinel=e}$u.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return JP(t),t};$u.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&JP(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};$u.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,C4)),n=n._prev;return"["+e.join(", ")+"]"};function JP(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function C4(e,t){if(e!=="_next"&&e!=="_prev")return t}var Fn=ke,k4=yn.Graph,T4=E4,N4=P4,M4=Fn.constant(1);function P4(e,t){if(e.nodeCount()<=1)return[];var n=R4(e,t||M4),r=A4(n.graph,n.buckets,n.zeroIdx);return Fn.flatten(Fn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function A4(e,t,n){for(var r=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)Sm(e,t,n,o);for(;o=i.dequeue();)Sm(e,t,n,o);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(o=t[a].dequeue(),o){r=r.concat(Sm(e,t,n,o,!0));break}}}return r}function Sm(e,t,n,r,i){var s=i?[]:void 0;return Fn.forEach(e.inEdges(r.v),function(o){var a=e.edge(o),l=e.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=a,ey(t,n,l)}),Fn.forEach(e.outEdges(r.v),function(o){var a=e.edge(o),l=o.w,u=e.node(l);u.in-=a,ey(t,n,u)}),e.removeNode(r.v),s}function R4(e,t){var n=new k4,r=0,i=0;Fn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),Fn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var s=Fn.range(i+r+3).map(function(){return new T4}),o=r+1;return Fn.forEach(n.nodes(),function(a){ey(s,o,n.node(a))}),{graph:n,buckets:s,zeroIdx:o}}function ey(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Yr=ke,I4=N4,j4={run:D4,undo:O4};function D4(e){var t=e.graph().acyclicer==="greedy"?I4(e,n(e)):L4(e);Yr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Yr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function L4(e){var t=[],n={},r={};function i(s){Yr.has(r,s)||(r[s]=!0,n[s]=!0,Yr.forEach(e.outEdges(s),function(o){Yr.has(n,o.w)?t.push(o):i(o.w)}),delete n[s])}return Yr.forEach(e.nodes(),i),t}function O4(e){Yr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var he=ke,eA=yn.Graph,kt={addDummyNode:tA,simplify:q4,asNonCompoundGraph:F4,successorWeights:$4,predecessorWeights:V4,intersectRect:B4,buildLayerMatrix:z4,normalizeRanks:U4,removeEmptyRanks:H4,addBorderNode:G4,maxRank:nA,partition:W4,time:K4,notime:Y4};function tA(e,t,n,r){var i;do i=he.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function q4(e){var t=new eA().setGraph(e.graph());return he.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),he.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function F4(e){var t=new eA({multigraph:e.isMultigraph()}).setGraph(e.graph());return he.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),he.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function $4(e){var t=he.map(e.nodes(),function(n){var r={};return he.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return he.zipObject(e.nodes(),t)}function V4(e){var t=he.map(e.nodes(),function(n){var r={};return he.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return he.zipObject(e.nodes(),t)}function B4(e,t){var n=e.x,r=e.y,i=t.x-n,s=t.y-r,o=e.width/2,a=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=a*i/s,u=a):(i<0&&(o=-o),l=o,u=o*s/i),{x:n+l,y:r+u}}function z4(e){var t=he.map(he.range(nA(e)+1),function(){return[]});return he.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;he.isUndefined(i)||(t[i][r.order]=n)}),t}function U4(e){var t=he.min(he.map(e.nodes(),function(n){return e.node(n).rank}));he.forEach(e.nodes(),function(n){var r=e.node(n);he.has(r,"rank")&&(r.rank-=t)})}function H4(e){var t=he.min(he.map(e.nodes(),function(s){return e.node(s).rank})),n=[];he.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;n[o]||(n[o]=[]),n[o].push(s)});var r=0,i=e.graph().nodeRankFactor;he.forEach(n,function(s,o){he.isUndefined(s)&&o%i!==0?--r:r&&he.forEach(s,function(a){e.node(a).rank+=r})})}function G4(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),tA(e,"border",i,t)}function nA(e){return he.max(he.map(e.nodes(),function(t){var n=e.node(t).rank;if(!he.isUndefined(n))return n}))}function W4(e,t){var n={lhs:[],rhs:[]};return he.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function K4(e,t){var n=he.now();try{return t()}finally{console.log(e+" time: "+(he.now()-n)+"ms")}}function Y4(e,t){return t()}var rA=ke,X4=kt,Z4={run:Q4,undo:ez};function Q4(e){e.graph().dummyChains=[],rA.forEach(e.edges(),function(t){J4(e,t)})}function J4(e,t){var n=t.v,r=e.node(n).rank,i=t.w,s=e.node(i).rank,o=t.name,a=e.edge(t),l=a.labelRank;if(s!==r+1){e.removeEdge(t);var u,c,d;for(d=0,++r;r<s;++d,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=X4.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},o),d===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},o)}}function ez(e){rA.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var La=ke,Vu={longestPath:tz,slack:nz};function tz(e){var t={};function n(r){var i=e.node(r);if(La.has(t,r))return i.rank;t[r]=!0;var s=La.min(La.map(e.outEdges(r),function(o){return n(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}La.forEach(e.sources(),n)}function nz(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var zl=ke,rz=yn.Graph,Ul=Vu.slack,iA=iz;function iz(e){var t=new rz({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,s;sz(t,e)<r;)i=oz(t,e),s=t.hasNode(i.v)?Ul(e,i):-Ul(e,i),az(t,e,s);return t}function sz(e,t){function n(r){zl.forEach(t.nodeEdges(r),function(i){var s=i.v,o=r===s?i.w:s;!e.hasNode(o)&&!Ul(t,i)&&(e.setNode(o,{}),e.setEdge(r,o,{}),n(o))})}return zl.forEach(e.nodes(),n),e.nodeCount()}function oz(e,t){return zl.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ul(t,n)})}function az(e,t,n){zl.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Zn=ke,lz=iA,uz=Vu.slack,cz=Vu.longestPath,dz=yn.alg.preorder,fz=yn.alg.postorder,hz=kt.simplify,pz=mi;mi.initLowLimValues=Qv;mi.initCutValues=Zv;mi.calcCutValue=sA;mi.leaveEdge=aA;mi.enterEdge=lA;mi.exchangeEdges=uA;function mi(e){e=hz(e),cz(e);var t=lz(e);Qv(t),Zv(t,e);for(var n,r;n=aA(t);)r=lA(t,e,n),uA(t,e,n,r)}function Zv(e,t){var n=fz(e,e.nodes());n=n.slice(0,n.length-1),Zn.forEach(n,function(r){mz(e,t,r)})}function mz(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=sA(e,t,n)}function sA(e,t,n){var r=e.node(n),i=r.parent,s=!0,o=t.edge(n,i),a=0;return o||(s=!1,o=t.edge(i,n)),a=o.weight,Zn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var d=u===s,f=t.edge(l).weight;if(a+=d?f:-f,yz(e,n,c)){var h=e.edge(n,c).cutvalue;a+=d?-h:h}}}),a}function Qv(e,t){arguments.length<2&&(t=e.nodes()[0]),oA(e,{},1,t)}function oA(e,t,n,r,i){var s=n,o=e.node(r);return t[r]=!0,Zn.forEach(e.neighbors(r),function(a){Zn.has(t,a)||(n=oA(e,t,n,a,r))}),o.low=s,o.lim=n++,i?o.parent=i:delete o.parent,n}function aA(e){return Zn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function lA(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),o=e.node(i),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var u=Zn.filter(t.edges(),function(c){return l===NE(e,e.node(c.v),a)&&l!==NE(e,e.node(c.w),a)});return Zn.minBy(u,function(c){return uz(t,c)})}function uA(e,t,n,r){var i=n.v,s=n.w;e.removeEdge(i,s),e.setEdge(r.v,r.w,{}),Qv(e),Zv(e,t),gz(e,t)}function gz(e,t){var n=Zn.find(e.nodes(),function(i){return!t.node(i).parent}),r=dz(e,n);r=r.slice(1),Zn.forEach(r,function(i){var s=e.node(i).parent,o=t.edge(i,s),a=!1;o||(o=t.edge(s,i),a=!0),t.node(i).rank=t.node(s).rank+(a?o.minlen:-o.minlen)})}function yz(e,t,n){return e.hasEdge(t,n)}function NE(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var vz=Vu,cA=vz.longestPath,wz=iA,xz=pz,_z=bz;function bz(e){switch(e.graph().ranker){case"network-simplex":ME(e);break;case"tight-tree":Ez(e);break;case"longest-path":Sz(e);break;default:ME(e)}}var Sz=cA;function Ez(e){cA(e),wz(e)}function ME(e){xz(e)}var ty=ke,Cz=kz;function kz(e){var t=Nz(e);ty.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,s=Tz(e,t,i.v,i.w),o=s.path,a=s.lca,l=0,u=o[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=o[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<o.length-1&&e.node(u=o[l+1]).minRank<=r.rank;)l++;u=o[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function Tz(e,t,n,r){var i=[],s=[],o=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>o||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function Nz(e){var t={},n=0;function r(i){var s=n;ty.forEach(e.children(i),r),t[i]={low:s,lim:n++}}return ty.forEach(e.children(),r),t}var $n=ke,ny=kt,Mz={run:Pz,cleanup:Iz};function Pz(e){var t=ny.addDummyNode(e,"root",{},"_root"),n=Az(e),r=$n.max($n.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,$n.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=Rz(e)+1;$n.forEach(e.children(),function(o){dA(e,t,i,s,r,n,o)}),e.graph().nodeRankFactor=i}function dA(e,t,n,r,i,s,o){var a=e.children(o);if(!a.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=ny.addBorderNode(e,"_bt"),u=ny.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(l,o),c.borderTop=l,e.setParent(u,o),c.borderBottom=u,$n.forEach(a,function(d){dA(e,t,n,r,i,s,d);var f=e.node(d),h=f.borderTop?f.borderTop:d,g=f.borderBottom?f.borderBottom:d,p=f.borderTop?r:2*r,v=h!==g?1:i-s[o]+1;e.setEdge(l,h,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(g,u,{weight:p,minlen:v,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:i+s[o]})}function Az(e){var t={};function n(r,i){var s=e.children(r);s&&s.length&&$n.forEach(s,function(o){n(o,i+1)}),t[r]=i}return $n.forEach(e.children(),function(r){n(r,1)}),t}function Rz(e){return $n.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function Iz(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,$n.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Em=ke,jz=kt,Dz=Lz;function Lz(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Em.forEach(r,t),Em.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)PE(e,"borderLeft","_bl",n,i,s),PE(e,"borderRight","_br",n,i,s)}}Em.forEach(e.children(),t)}function PE(e,t,n,r,i,s){var o={width:0,height:0,rank:s,borderType:t},a=i[t][s-1],l=jz.addDummyNode(e,"border",o,n);i[t][s]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var bn=ke,Oz={adjust:qz,undo:Fz};function qz(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&fA(e)}function Fz(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&$z(e),(t==="lr"||t==="rl")&&(Vz(e),fA(e))}function fA(e){bn.forEach(e.nodes(),function(t){AE(e.node(t))}),bn.forEach(e.edges(),function(t){AE(e.edge(t))})}function AE(e){var t=e.width;e.width=e.height,e.height=t}function $z(e){bn.forEach(e.nodes(),function(t){Cm(e.node(t))}),bn.forEach(e.edges(),function(t){var n=e.edge(t);bn.forEach(n.points,Cm),bn.has(n,"y")&&Cm(n)})}function Cm(e){e.y=-e.y}function Vz(e){bn.forEach(e.nodes(),function(t){km(e.node(t))}),bn.forEach(e.edges(),function(t){var n=e.edge(t);bn.forEach(n.points,km),bn.has(n,"x")&&km(n)})}function km(e){var t=e.x;e.x=e.y,e.y=t}var Rn=ke,Bz=zz;function zz(e){var t={},n=Rn.filter(e.nodes(),function(a){return!e.children(a).length}),r=Rn.max(Rn.map(n,function(a){return e.node(a).rank})),i=Rn.map(Rn.range(r+1),function(){return[]});function s(a){if(!Rn.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),Rn.forEach(e.successors(a),s)}}var o=Rn.sortBy(n,function(a){return e.node(a).rank});return Rn.forEach(o,s),i}var sr=ke,Uz=Hz;function Hz(e,t){for(var n=0,r=1;r<t.length;++r)n+=Gz(e,t[r-1],t[r]);return n}function Gz(e,t,n){for(var r=sr.zipObject(n,sr.map(n,function(u,c){return c})),i=sr.flatten(sr.map(t,function(u){return sr.sortBy(sr.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var o=2*s-1;s-=1;var a=sr.map(new Array(o),function(){return 0}),l=0;return sr.forEach(i.forEach(function(u){var c=u.pos+s;a[c]+=u.weight;for(var d=0;c>0;)c%2&&(d+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*d})),l}var RE=ke,Wz=Kz;function Kz(e,t){return RE.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=RE.reduce(r,function(s,o){var a=e.edge(o),l=e.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var Pt=ke,Yz=Xz;function Xz(e,t){var n={};Pt.forEach(e,function(i,s){var o=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};Pt.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Pt.forEach(t.edges(),function(i){var s=n[i.v],o=n[i.w];!Pt.isUndefined(s)&&!Pt.isUndefined(o)&&(o.indegree++,s.out.push(n[i.w]))});var r=Pt.filter(n,function(i){return!i.indegree});return Zz(r)}function Zz(e){var t=[];function n(s){return function(o){o.merged||(Pt.isUndefined(o.barycenter)||Pt.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&Qz(s,o)}}function r(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),Pt.forEach(i.in.reverse(),n(i)),Pt.forEach(i.out,r(i))}return Pt.map(Pt.filter(t,function(s){return!s.merged}),function(s){return Pt.pick(s,["vs","i","barycenter","weight"])})}function Qz(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Ws=ke,Jz=kt,e5=t5;function t5(e,t){var n=Jz.partition(e,function(c){return Ws.has(c,"barycenter")}),r=n.lhs,i=Ws.sortBy(n.rhs,function(c){return-c.i}),s=[],o=0,a=0,l=0;r.sort(n5(!!t)),l=IE(s,i,l),Ws.forEach(r,function(c){l+=c.vs.length,s.push(c.vs),o+=c.barycenter*c.weight,a+=c.weight,l=IE(s,i,l)});var u={vs:Ws.flatten(s,!0)};return a&&(u.barycenter=o/a,u.weight=a),u}function IE(e,t,n){for(var r;t.length&&(r=Ws.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function n5(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var pr=ke,r5=Wz,i5=Yz,s5=e5,o5=hA;function hA(e,t,n,r){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(i=pr.filter(i,function(g){return g!==o&&g!==a}));var u=r5(e,i);pr.forEach(u,function(g){if(e.children(g.v).length){var p=hA(e,g.v,n,r);l[g.v]=p,pr.has(p,"barycenter")&&l5(g,p)}});var c=i5(u,n);a5(c,l);var d=s5(c,r);if(o&&(d.vs=pr.flatten([o,d.vs,a],!0),e.predecessors(o).length)){var f=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(a)[0]);pr.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function a5(e,t){pr.forEach(e,function(n){n.vs=pr.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function l5(e,t){pr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ks=ke,u5=yn.Graph,c5=d5;function d5(e,t,n){var r=f5(e),i=new u5({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return e.node(s)});return Ks.forEach(e.nodes(),function(s){var o=e.node(s),a=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||r),Ks.forEach(e[n](s),function(l){var u=l.v===s?l.w:l.v,c=i.edge(u,s),d=Ks.isUndefined(c)?0:c.weight;i.setEdge(u,s,{weight:e.edge(l).weight+d})}),Ks.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function f5(e){for(var t;e.hasNode(t=Ks.uniqueId("_root")););return t}var h5=ke,p5=m5;function m5(e,t,n){var r={},i;h5.forEach(n,function(s){for(var o=e.parent(s),a,l;o;){if(a=e.parent(o),a?(l=r[a],r[a]=o):(l=i,i=o),l&&l!==o){t.setEdge(l,o);return}o=a}})}var kr=ke,g5=Bz,y5=Uz,v5=o5,w5=c5,x5=p5,_5=yn.Graph,jE=kt,b5=S5;function S5(e){var t=jE.maxRank(e),n=DE(e,kr.range(1,t+1),"inEdges"),r=DE(e,kr.range(t-1,-1,-1),"outEdges"),i=g5(e);LE(e,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){E5(a%2?n:r,a%4>=2),i=jE.buildLayerMatrix(e);var u=y5(e,i);u<s&&(l=0,o=kr.cloneDeep(i),s=u)}LE(e,o)}function DE(e,t,n){return kr.map(t,function(r){return w5(e,r,n)})}function E5(e,t){var n=new _5;kr.forEach(e,function(r){var i=r.graph().root,s=v5(r,i,n,t);kr.forEach(s.vs,function(o,a){r.node(o).order=a}),x5(r,n,s.vs)})}function LE(e,t){kr.forEach(t,function(n){kr.forEach(n,function(r,i){e.node(r).order=i})})}var ne=ke,C5=yn.Graph,k5=kt,T5={positionX:q5};function N5(e,t){var n={};function r(i,s){var o=0,a=0,l=i.length,u=ne.last(s);return ne.forEach(s,function(c,d){var f=P5(e,c),h=f?e.node(f).order:l;(f||c===u)&&(ne.forEach(s.slice(a,d+1),function(g){ne.forEach(e.predecessors(g),function(p){var v=e.node(p),m=v.order;(m<o||h<m)&&!(v.dummy&&e.node(g).dummy)&&pA(n,p,g)})}),a=d+1,o=h)}),s}return ne.reduce(t,r),n}function M5(e,t){var n={};function r(s,o,a,l,u){var c;ne.forEach(ne.range(o,a),function(d){c=s[d],e.node(c).dummy&&ne.forEach(e.predecessors(c),function(f){var h=e.node(f);h.dummy&&(h.order<l||h.order>u)&&pA(n,f,c)})})}function i(s,o){var a=-1,l,u=0;return ne.forEach(o,function(c,d){if(e.node(c).dummy==="border"){var f=e.predecessors(c);f.length&&(l=e.node(f[0]).order,r(o,u,d,a,l),u=d,a=l)}r(o,u,o.length,l,s.length)}),o}return ne.reduce(t,i),n}function P5(e,t){if(e.node(t).dummy)return ne.find(e.predecessors(t),function(n){return e.node(n).dummy})}function pA(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function A5(e,t,n){if(t>n){var r=t;t=n,n=r}return ne.has(e[t],n)}function R5(e,t,n,r){var i={},s={},o={};return ne.forEach(t,function(a){ne.forEach(a,function(l,u){i[l]=l,s[l]=l,o[l]=u})}),ne.forEach(t,function(a){var l=-1;ne.forEach(a,function(u){var c=r(u);if(c.length){c=ne.sortBy(c,function(p){return o[p]});for(var d=(c.length-1)/2,f=Math.floor(d),h=Math.ceil(d);f<=h;++f){var g=c[f];s[u]===u&&l<o[g]&&!A5(n,u,g)&&(s[g]=u,s[u]=i[u]=i[g],l=o[g])}}})}),{root:i,align:s}}function I5(e,t,n,r,i){var s={},o=j5(e,t,n,i),a=i?"borderLeft":"borderRight";function l(d,f){for(var h=o.nodes(),g=h.pop(),p={};g;)p[g]?d(g):(p[g]=!0,h.push(g),h=h.concat(f(g))),g=h.pop()}function u(d){s[d]=o.inEdges(d).reduce(function(f,h){return Math.max(f,s[h.v]+o.edge(h))},0)}function c(d){var f=o.outEdges(d).reduce(function(g,p){return Math.min(g,s[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=e.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(s[d]=Math.max(s[d],f))}return l(u,o.predecessors.bind(o)),l(c,o.successors.bind(o)),ne.forEach(r,function(d){s[d]=s[n[d]]}),s}function j5(e,t,n,r){var i=new C5,s=e.graph(),o=F5(s.nodesep,s.edgesep,r);return ne.forEach(t,function(a){var l;ne.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var d=n[l],f=i.edge(d,c);i.setEdge(d,c,Math.max(o(e,u,l),f||0))}l=u})}),i}function D5(e,t){return ne.minBy(ne.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ne.forIn(n,function(s,o){var a=$5(e,o)/2;r=Math.max(s+a,r),i=Math.min(s-a,i)}),r-i})}function L5(e,t){var n=ne.values(t),r=ne.min(n),i=ne.max(n);ne.forEach(["u","d"],function(s){ne.forEach(["l","r"],function(o){var a=s+o,l=e[a],u;if(l!==t){var c=ne.values(l);u=o==="l"?r-ne.min(c):i-ne.max(c),u&&(e[a]=ne.mapValues(l,function(d){return d+u}))}})})}function O5(e,t){return ne.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ne.sortBy(ne.map(e,r));return(i[1]+i[2])/2})}function q5(e){var t=k5.buildLayerMatrix(e),n=ne.merge(N5(e,t),M5(e,t)),r={},i;ne.forEach(["u","d"],function(o){i=o==="u"?t:ne.values(t).reverse(),ne.forEach(["l","r"],function(a){a==="r"&&(i=ne.map(i,function(d){return ne.values(d).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),u=R5(e,i,n,l),c=I5(e,i,u.root,u.align,a==="r");a==="r"&&(c=ne.mapValues(c,function(d){return-d})),r[o+a]=c})});var s=D5(e,r);return L5(r,s),O5(r,e.graph().align)}function F5(e,t,n){return function(r,i,s){var o=r.node(i),a=r.node(s),l=0,u;if(l+=o.width/2,ne.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(o.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,ne.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function $5(e,t){return e.node(t).width}var Ys=ke,mA=kt,V5=T5.positionX,B5=z5;function z5(e){e=mA.asNonCompoundGraph(e),U5(e),Ys.forEach(V5(e),function(t,n){e.node(n).x=t})}function U5(e){var t=mA.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Ys.forEach(t,function(i){var s=Ys.max(Ys.map(i,function(o){return e.node(o).height}));Ys.forEach(i,function(o){e.node(o).y=r+s/2}),r+=s+n})}var re=ke,OE=j4,qE=Z4,H5=_z,G5=kt.normalizeRanks,W5=Cz,K5=kt.removeEmptyRanks,FE=Mz,Y5=Dz,$E=Oz,X5=b5,Z5=B5,Mr=kt,Q5=yn.Graph,J5=e6;function e6(e,t){var n=t&&t.debugTiming?Mr.time:Mr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return d6(e)});n("  runLayout",function(){t6(r,n)}),n("  updateInputGraph",function(){n6(e,r)})})}function t6(e,t){t("    makeSpaceForEdgeLabels",function(){f6(e)}),t("    removeSelfEdges",function(){_6(e)}),t("    acyclic",function(){OE.run(e)}),t("    nestingGraph.run",function(){FE.run(e)}),t("    rank",function(){H5(Mr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){h6(e)}),t("    removeEmptyRanks",function(){K5(e)}),t("    nestingGraph.cleanup",function(){FE.cleanup(e)}),t("    normalizeRanks",function(){G5(e)}),t("    assignRankMinMax",function(){p6(e)}),t("    removeEdgeLabelProxies",function(){m6(e)}),t("    normalize.run",function(){qE.run(e)}),t("    parentDummyChains",function(){W5(e)}),t("    addBorderSegments",function(){Y5(e)}),t("    order",function(){X5(e)}),t("    insertSelfEdges",function(){b6(e)}),t("    adjustCoordinateSystem",function(){$E.adjust(e)}),t("    position",function(){Z5(e)}),t("    positionSelfEdges",function(){S6(e)}),t("    removeBorderNodes",function(){x6(e)}),t("    normalize.undo",function(){qE.undo(e)}),t("    fixupEdgeLabelCoords",function(){v6(e)}),t("    undoCoordinateSystem",function(){$E.undo(e)}),t("    translateGraph",function(){g6(e)}),t("    assignNodeIntersects",function(){y6(e)}),t("    reversePoints",function(){w6(e)}),t("    acyclic.undo",function(){OE.undo(e)})}function n6(e,t){re.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),re.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,re.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var r6=["nodesep","edgesep","ranksep","marginx","marginy"],i6={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},s6=["acyclicer","ranker","rankdir","align"],o6=["width","height"],a6={width:0,height:0},l6=["minlen","weight","width","height","labeloffset"],u6={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},c6=["labelpos"];function d6(e){var t=new Q5({multigraph:!0,compound:!0}),n=Nm(e.graph());return t.setGraph(re.merge({},i6,Tm(n,r6),re.pick(n,s6))),re.forEach(e.nodes(),function(r){var i=Nm(e.node(r));t.setNode(r,re.defaults(Tm(i,o6),a6)),t.setParent(r,e.parent(r))}),re.forEach(e.edges(),function(r){var i=Nm(e.edge(r));t.setEdge(r,re.merge({},u6,Tm(i,l6),re.pick(i,c6)))}),t}function f6(e){var t=e.graph();t.ranksep/=2,re.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function h6(e){re.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-r.rank)/2+r.rank,e:t};Mr.addDummyNode(e,"edge-proxy",s,"_ep")}})}function p6(e){var t=0;re.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=re.max(t,r.maxRank))}),e.graph().maxRank=t}function m6(e){re.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function g6(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,a=s.marginy||0;function l(u){var c=u.x,d=u.y,f=u.width,h=u.height;t=Math.min(t,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,d-h/2),i=Math.max(i,d+h/2)}re.forEach(e.nodes(),function(u){l(e.node(u))}),re.forEach(e.edges(),function(u){var c=e.edge(u);re.has(c,"x")&&l(c)}),t-=o,r-=a,re.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),re.forEach(e.edges(),function(u){var c=e.edge(u);re.forEach(c.points,function(d){d.x-=t,d.y-=r}),re.has(c,"x")&&(c.x-=t),re.has(c,"y")&&(c.y-=r)}),s.width=n-t+o,s.height=i-r+a}function y6(e){re.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),s,o;n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=i,o=r),n.points.unshift(Mr.intersectRect(r,s)),n.points.push(Mr.intersectRect(i,o))})}function v6(e){re.forEach(e.edges(),function(t){var n=e.edge(t);if(re.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function w6(e){re.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function x6(e){re.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),s=e.node(re.last(n.borderLeft)),o=e.node(re.last(n.borderRight));n.width=Math.abs(o.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),re.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function _6(e){re.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function b6(e){var t=Mr.buildLayerMatrix(e);re.forEach(t,function(n){var r=0;re.forEach(n,function(i,s){var o=e.node(i);o.order=s+r,re.forEach(o.selfEdges,function(a){Mr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++r,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function S6(e){re.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,s=r.y,o=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}function Tm(e,t){return re.mapValues(re.pick(e,t),Number)}function Nm(e){var t={};return re.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Oa=ke,E6=kt,C6=yn.Graph,k6={debugOrdering:T6};function T6(e){var t=E6.buildLayerMatrix(e),n=new C6({compound:!0,multigraph:!0}).setGraph({});return Oa.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Oa.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Oa.forEach(t,function(r,i){var s="layer"+i;n.setNode(s,{rank:"same"}),Oa.reduce(r,function(o,a){return n.setEdge(o,a,{style:"invis"}),a})}),n}var N6="0.8.5",M6={graphlib:yn,layout:J5,debug:k6,util:{time:kt.time,notime:kt.notime},version:N6};const VE=xy(M6),BE=new Map;function P6(e,t){const n=e.map(i=>i.id).join("|"),r=t.map(i=>`${i.source}->${i.target}`).join("|");return`${e.length}:${t.length}:${n}:${r}`}function ry(e,t,n){if(n){const r=P6(e,t),i=BE.get(n);if(i&&i.signature===r)return i.layout;const s=zE(e,t);return BE.set(n,{signature:r,layout:s}),s}return zE(e,t)}function zE(e,t){if(e.length>2500){const r=Math.ceil(Math.sqrt(e.length));return e.map((i,s)=>{const o=Math.floor(s/r),a=s%r;return{id:i.id,position:{x:a*260,y:o*160}}})}const n=new VE.graphlib.Graph;return n.setGraph({rankdir:"LR",nodesep:48,ranksep:80}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:220,height:120})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),VE.layout(n),e.map(r=>{const i=n.node(r.id);return{id:r.id,position:{x:i.x-i.width/2,y:i.y-i.height/2}}})}function A6(e,t,n=200){const r=e.zoom||1,i=(0-e.x)/r-n,s=(0-e.y)/r-n,o=(t.width-e.x)/r+n,a=(t.height-e.y)/r+n;return{minX:i,minY:s,maxX:o,maxY:a}}function R6(e,t,n,r=200){if(n.width<=0||n.height<=0)return e;const i=A6(t,n,r);return e.filter(s=>{const o=s.x,a=s.y,l=s.x+s.width,u=s.y+s.height;return!(l<i.minX||o>i.maxX||u<i.minY||a>i.maxY)})}function Jv(e,t){const n=I6(e,t),r=new Set(n.map(d=>d.leftId)),i=new Set(n.map(d=>d.rightId)),s=t.steps.filter(d=>!i.has(d.id)).map(d=>d.id),o=e.steps.filter(d=>!r.has(d.id)).map(d=>d.id),a=n.filter(d=>{const f=e.steps.find(g=>g.id===d.leftId),h=t.steps.find(g=>g.id===d.rightId);return!f||!h?!1:UE(f)!==UE(h)}),l=a.map(d=>d.leftId),u=(t.metadata.totalCostUsd??0)-(e.metadata.totalCostUsd??0),c=t.metadata.wallTimeMs-e.metadata.wallTimeMs;return{addedSteps:s,removedSteps:o,changedSteps:l,changedPairs:a,alignedSteps:n,costDeltaUsd:u,wallTimeDeltaMs:c}}function I6(e,t){const n=[],r=new Set(e.steps.map(c=>c.id)),i=new Set(t.steps.map(c=>c.id));Array.from(r).forEach(c=>{i.has(c)&&(n.push({leftId:c,rightId:c}),r.delete(c),i.delete(c))});const s=new Map;t.steps.forEach(c=>{c.toolCallId&&s.set(c.toolCallId,c.id)}),e.steps.forEach(c=>{if(!c.toolCallId)return;const d=s.get(c.toolCallId);d&&i.has(d)&&(n.push({leftId:c.id,rightId:d}),r.delete(c.id),i.delete(d))});const o=WE(e),a=WE(t),l=j6(e,t),u={};return i.forEach(c=>{const d=a.get(c);if(!d)return;const f=HE(d.step);f&&(u[f]||(u[f]=[]),u[f].push(c))}),Object.values(u).forEach(c=>{c.sort((d,f)=>{var h,g;return(((h=a.get(d))==null?void 0:h.startMs)??0)-(((g=a.get(f))==null?void 0:g.startMs)??0)})}),Array.from(r).forEach(c=>{var g;const d=o.get(c);if(!d)return;const f=HE(d.step);if(!f||!((g=u[f])!=null&&g.length))return;const h=D6(d,u[f],a,l);h&&(n.push({leftId:c,rightId:h}),r.delete(c),i.delete(h),u[f]=u[f].filter(p=>p!==h))}),n}function UE(e){var r,i;const t=((r=e.preview)==null?void 0:r.outputPreview)??null,n=((i=e.metrics)==null?void 0:i.costUsd)??null;return`${e.status}|${t??""}|${n??""}`}function HE(e){return e.type?`${e.type}:${e.name??""}`:null}function GE(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function WE(e){const t=GE(e.startedAt),n=new Map;return e.steps.forEach(r=>{const i=GE(r.startedAt),s=t!=null&&i!=null?i-t:null;n.set(r.id,{step:r,startMs:s})}),n}function j6(e,t){const n=Math.max(e.metadata.wallTimeMs,t.metadata.wallTimeMs,1);return Math.max(1e3,Math.min(5e3,Math.round(n*.1)))}function D6(e,t,n,r){const i=e.startMs;if(i==null)return null;let s=null,o=r+1;return t.forEach(a=>{const l=n.get(a);if(!l||l.startMs==null)return;const u=Math.abs(l.startMs-i);u<o&&(o=u,s=a)}),o<=r?s:null}function L6({layers:e,onChange:t}){return w.jsxs("div",{className:"edge-toggles",children:[w.jsxs("label",{title:"Parent/child span edges","data-help":!0,"data-help-title":"Structure edges","data-help-body":"Shows parent-child spans to reveal hierarchy.","data-help-placement":"top",children:[w.jsx("input",{type:"checkbox",checked:e.structure,onChange:n=>t({...e,structure:n.target.checked})}),"Structure"]}),w.jsxs("label",{title:"Chronological sequence edges","data-help":!0,"data-help-title":"Sequence edges","data-help-body":"Shows chronological ordering of steps.","data-help-placement":"top",children:[w.jsx("input",{type:"checkbox",checked:e.sequence,onChange:n=>t({...e,sequence:n.target.checked})}),"Sequence"]}),w.jsxs("label",{title:"Tool call I/O binding edges","data-help":!0,"data-help-title":"I/O edges","data-help-body":"Connects tool calls to their inputs and outputs.","data-help-placement":"top",children:[w.jsx("input",{type:"checkbox",checked:e.io,onChange:n=>t({...e,io:n.target.checked})}),"I/O Binding"]})]})}function O6({data:e}){var c,d,f,h;const t=e.step,n=EN(t),r=e.diffStatus?`diff-${e.diffStatus}`:"",i=e.ghost?"ghost-node":"",s=t.type.replace("_"," ").toUpperCase(),o=((c=t.metrics)==null?void 0:c.tokensTotal)!=null?`${t.metrics.tokensTotal} tokens`:null,a=t.durationMs!=null?`${t.durationMs}ms`:null,l=[o,a,n].filter(Boolean).join("  "),u=`Click to inspect or replay this step.${l?` ${l}.`:""}`;return w.jsxs("div",{className:`flow-node step-${t.type} ${r} ${i}`,"data-help":!0,"data-help-title":`${t.name}  ${s}`,"data-help-body":u,"data-help-placement":"right",children:[w.jsxs("div",{className:"flow-node-header",children:[w.jsxs("div",{className:"flow-node-title",children:[w.jsx(mv,{type:t.type}),w.jsx("span",{children:t.name})]}),w.jsx("span",{className:`status-pill status-${t.status}`,children:t.status})]}),w.jsx("div",{className:"flow-node-preview",children:((d=t.preview)==null?void 0:d.outputPreview)??((f=t.preview)==null?void 0:f.inputPreview)}),w.jsxs("div",{className:"flow-node-metrics",children:[((h=t.metrics)==null?void 0:h.tokensTotal)!=null?w.jsxs("span",{children:[t.metrics.tokensTotal," tok"]}):null,t.durationMs!=null?w.jsxs("span",{children:[t.durationMs,"ms"]}):null,n?w.jsx("span",{children:n}):null]})]})}const q6={stepNode:O6},F6={structure:!0,sequence:!1,io:!0};function Mm(e){return e.filter(t=>t.parentStepId).map(t=>({id:`structure_${t.parentStepId}_${t.id}`,source:t.parentStepId,target:t.id,kind:"structure"}))}function Pm(e){const t=[...e].sort((r,i)=>r.index-i.index),n=[];for(let r=1;r<t.length;r+=1)n.push({id:`sequence_${t[r-1].id}_${t[r].id}`,source:t[r-1].id,target:t[r].id,kind:"sequence"});return n}function $6({steps:e,onSelectStep:t,selectedStepId:n,baseTrace:r,compareTrace:i,compareSteps:s=[],overlayEnabled:o,onToggleOverlay:a}){var F,$;const[l,u]=S.useState(F6),[c,d]=S.useState(e.length>500),[f,h]=S.useState({x:0,y:0,zoom:1}),g=S.useRef(null),p=S.useRef(f),v=S.useRef(null);S.useEffect(()=>{e.length<=500&&d(!1)},[e.length]),S.useEffect(()=>()=>{v.current&&cancelAnimationFrame(v.current)},[]);const m=S.useMemo(()=>{const O=Mm(e),z=Pm(e),W=rl(e),Q=[];return l.structure&&Q.push(...O),l.sequence&&Q.push(...z),l.io&&Q.push(...W),Q},[e,l]),y=S.useMemo(()=>{const O=Mm(e),z=Pm(e),W=rl(e);return[...O,...z,...W]},[e]),x=S.useMemo(()=>ry(e,y.map(O=>({source:O.source,target:O.target})),r.id),[e,y,r.id]),_=S.useMemo(()=>i?Jv(r,i):null,[r,i]),b=S.useMemo(()=>new Set((_==null?void 0:_.addedSteps)??[]),[_]),C=S.useMemo(()=>new Set((_==null?void 0:_.changedSteps)??[]),[_]),k=S.useMemo(()=>new Set((_==null?void 0:_.removedSteps)??[]),[_]),T=new Map(x.map(O=>[O.id,O.position])),M=e.map(O=>({id:O.id,type:"stepNode",position:T.get(O.id)??{x:0,y:0},data:{step:O,diffStatus:C.has(O.id)?"changed":k.has(O.id)?"removed":null,ghost:!1}})),A=M.map(O=>({id:O.id,x:O.position.x,y:O.position.y,width:220,height:120})),I={width:((F=g.current)==null?void 0:F.clientWidth)??0,height:(($=g.current)==null?void 0:$.clientHeight)??0},B=new Map(M.map(O=>[O.id,O]));let V=c?R6(A,f,I,300).map(O=>B.get(O.id)):[...M];const E=new Set(V.filter(Boolean).map(O=>O.id));if(n&&!E.has(n)){const O=B.get(n);O&&(E.add(O.id),V=[...V,O])}const D=m.filter(O=>E.has(O.source)&&E.has(O.target)).map(O=>({id:O.id,source:O.source,target:O.target,type:"smoothstep",animated:O.kind==="io",style:O.kind==="io"?{stroke:"var(--accent-io)",strokeWidth:2}:O.kind==="sequence"?{stroke:"var(--accent-sequence)",strokeDasharray:"6 6"}:{stroke:"var(--accent-structure)"}})),R=V.filter(Boolean).map(O=>({...O})),L=S.useMemo(()=>{if(!i)return[];const O=Mm(i.steps),z=Pm(i.steps),W=rl(i.steps);return[...O,...z,...W]},[i]),P=S.useMemo(()=>i?ry(i.steps,L.map(O=>({source:O.source,target:O.target})),i.id):[],[i,L]),N=S.useMemo(()=>new Map(P.map(O=>[O.id,O.position])),[P]),j=S.useMemo(()=>!i||!o?[]:s.filter(O=>b.has(O.id)).map(O=>({id:`ghost-${O.id}`,type:"stepNode",position:N.get(O.id)??{x:0,y:0},data:{step:O,diffStatus:"added",ghost:!0}})),[i,s,N,b,o]);return w.jsxs("div",{className:"flow-mode",children:[w.jsxs("div",{className:"flow-controls","data-help":!0,"data-help-title":"Flow controls","data-help-body":"Toggle edge layers and windowing for high-density graphs.","data-help-placement":"bottom",children:[w.jsx(L6,{layers:l,onChange:u}),e.length>500?w.jsxs("label",{className:"toggle",title:"Window nodes based on viewport for large graphs","data-help":!0,"data-help-title":"Windowed flow","data-help-body":"Limits the graph to the visible region for performance.","data-help-placement":"bottom",children:[w.jsx("input",{type:"checkbox",checked:c,onChange:()=>d(O=>!O)}),"Windowed"]}):null,i?w.jsxs("button",{className:"ghost-button",type:"button",onClick:a,title:"Show or hide ghost overlay from replay","data-help":!0,"data-help-title":"Overlay diff","data-help-body":"Layer the replay on top to see what changed.","data-help-placement":"bottom",children:[o?"Hide overlay":"Show overlay"," (",(_==null?void 0:_.addedSteps.length)??0,"/",(_==null?void 0:_.removedSteps.length)??0,"/",(_==null?void 0:_.changedSteps.length)??0,")"]}):null]}),w.jsx("div",{className:"flow-canvas",ref:g,"data-help":!0,"data-help-indicator":!0,"data-help-title":"Flow canvas","data-help-body":"A spatial map of step dependencies. Click nodes to inspect.","data-help-placement":"top",children:w.jsxs(XM,{nodes:o?[...R,...j]:R,edges:D,nodeTypes:q6,onNodeClick:(O,z)=>{const W=z.id.startsWith("ghost-")?z.id.replace("ghost-",""):z.id;t(W)},onMove:(O,z)=>{p.current=z,!v.current&&(v.current=requestAnimationFrame(()=>{h(p.current),v.current=null}))},fitView:!0,children:[w.jsx(x$,{nodeColor:O=>{switch(O.data.step.type){case"llm_call":return"var(--accent-llm)";case"tool_call":return"var(--accent-tool)";case"decision":return"var(--accent-decision)";case"handoff":return"var(--accent-handoff)";case"guardrail":return"var(--accent-guardrail)";default:return"var(--accent-structure)"}},maskColor:"rgba(15, 17, 21, 0.6)"}),w.jsx(I$,{gap:20}),w.jsx(T$,{position:"bottom-right"})]})})]})}function V6({steps:e,onSelectStep:t,selectedStepId:n,baseTrace:r,compareTrace:i,compareSteps:s,overlayEnabled:o,onToggleOverlay:a}){return w.jsx("section",{className:"flow-mode-wrapper","aria-label":"Flow mode",children:w.jsx($6,{steps:e,selectedStepId:n,onSelectStep:t,baseTrace:r,compareTrace:i,compareSteps:s,overlayEnabled:o,onToggleOverlay:a})})}function B6(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(r)}function KE(e,t,n){return Math.min(n,Math.max(t,e))}function z6({baseTrace:e,compareTrace:t,playheadMs:n,onExit:r,safeExport:i}){const s=Jv(e,t),o=e.metadata.wallTimeMs||1,a=t.metadata.wallTimeMs||1,l=KE(n/o*100,0,100),u=KE(n/a*100,0,100),c={generatedAt:new Date().toISOString(),base:{id:e.id,name:e.name,parentTraceId:e.parentTraceId,startedAt:e.startedAt,endedAt:e.endedAt},compare:{id:t.id,name:t.name,parentTraceId:t.parentTraceId,branchPointStepId:t.branchPointStepId,replay:t.replay,startedAt:t.startedAt,endedAt:t.endedAt},deltas:{added:s.addedSteps.length,removed:s.removedSteps.length,changed:s.changedSteps.length,costDeltaUsd:s.costDeltaUsd,wallTimeDeltaMs:s.wallTimeDeltaMs},alignment:s.alignedSteps,changedPairs:s.changedPairs,safeExport:!!i};return w.jsxs("section",{className:"compare-view","data-help":!0,"data-tour":"compare-view","data-help-title":"Compare runs","data-help-body":"Side-by-side playback showing deltas in steps, cost, and wall time after a replay.","data-help-placement":"top",children:[w.jsxs("div",{className:"compare-header",children:[w.jsxs("div",{children:[w.jsx("div",{className:"compare-title",children:"Compare Runs"}),w.jsxs("div",{className:"compare-subtitle",children:["+",s.addedSteps.length," steps, ",s.costDeltaUsd.toFixed(3)," USD, ",s.wallTimeDeltaMs,"ms"]})]}),w.jsxs("div",{className:"compare-actions",children:[w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>B6(`agent-director-diff-${e.id}-${t.id}.json`,c),title:"Export diff summary","data-help":!0,"data-help-title":"Export diff","data-help-body":"Download a JSON summary you can share or archive.","data-help-placement":"bottom",children:"Export diff"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:r,"data-help":!0,"data-help-title":"Exit compare","data-help-body":"Return to the primary run timeline.","data-help-placement":"bottom",children:"Exit compare"})]})]}),w.jsxs("div",{className:"compare-grid",children:[w.jsxs("div",{className:"compare-pane","data-help":!0,"data-help-title":"Base run","data-help-body":"Original timeline for baseline comparison.","data-help-placement":"top",children:[w.jsx("div",{className:"compare-pane-title",children:"Base run"}),w.jsx(Og,{trace:e,steps:e.steps,selectedStepId:null,onSelectStep:()=>{},playheadPct:l,playheadMs:n,windowRange:null,laneHeight:110,cardHeight:100,compactHeight:78})]}),w.jsxs("div",{className:"compare-pane","data-help":!0,"data-help-title":"Replay run","data-help-body":"Replay timeline to validate improvements.","data-help-placement":"top",children:[w.jsx("div",{className:"compare-pane-title",children:"Replay run"}),w.jsx(Og,{trace:t,steps:t.steps,selectedStepId:null,onSelectStep:()=>{},playheadPct:u,playheadMs:n,windowRange:null,laneHeight:110,cardHeight:100,compactHeight:78})]})]})]})}const U6="demo-trace-overlap-001",H6="Overlap + ToolCallId Demo",G6="2026-01-27T10:00:00.000Z",W6="2026-01-27T10:00:05.000Z",K6="completed",Y6={source:"openai_agents",agentName:"DemoAgent",modelId:"gpt-4o-2024-11-20",wallTimeMs:5e3,workTimeMs:7200,totalTokens:1400,totalCostUsd:.018},X6=[{id:"s1",index:0,type:"llm_call",name:"plan",startedAt:"2026-01-27T10:00:00.000Z",endedAt:"2026-01-27T10:00:01.000Z",durationMs:1e3,childStepIds:[],metrics:{tokensTotal:300,costUsd:.004},preview:{title:"LLM: plan",subtitle:"gpt-4o",outputPreview:"I'll fetch two sources..."},status:"completed"},{id:"s2",index:1,type:"llm_call",name:"call_tools",startedAt:"2026-01-27T10:00:01.000Z",endedAt:"2026-01-27T10:00:01.200Z",durationMs:200,childStepIds:[],metrics:{tokensTotal:120,costUsd:.002},preview:{title:"LLM: call tools",outputPreview:"Calling web_search + database_query"},io:{emittedToolCallIds:["tc-001","tc-002"]},status:"completed"},{id:"s3",index:2,type:"tool_call",name:"web_search",toolCallId:"tc-001",startedAt:"2026-01-27T10:00:01.200Z",endedAt:"2026-01-27T10:00:03.200Z",durationMs:2e3,childStepIds:[],metrics:{costUsd:0},preview:{title:"Tool: web_search",inputPreview:'{"q":"EU AI Act"}',outputPreview:"[3 results...]"},status:"completed"},{id:"s4",index:3,type:"tool_call",name:"database_query",toolCallId:"tc-002",startedAt:"2026-01-27T10:00:01.500Z",endedAt:"2026-01-27T10:00:02.700Z",durationMs:1200,childStepIds:[],preview:{title:"Tool: database_query",inputPreview:'{"sql":"SELECT..."}',outputPreview:'{"rows":42}'},status:"completed"},{id:"s5",index:4,type:"llm_call",name:"analyze",startedAt:"2026-01-27T10:00:03.200Z",endedAt:"2026-01-27T10:00:04.600Z",durationMs:1400,childStepIds:[],metrics:{tokensTotal:700,costUsd:.012},preview:{title:"LLM: analyze",outputPreview:"Synthesis based on tool outputs..."},io:{consumedToolCallIds:["tc-001","tc-002"]},status:"completed"}],gA={id:U6,name:H6,startedAt:G6,endedAt:W6,status:K6,metadata:Y6,steps:X6},Z6=new Map,Q6=new Map;async function J6(){return[gA]}async function e8(e){return{trace:gA}}async function yA(e,t,n,r=[],i=!1){return null}async function t8(e,t,n){await yA(e,t,"redacted",[],n)}function n8(){Z6.clear(),Q6.clear()}async function r8(e,t,n,r,i){return i?i8(i,t,n,r):null}function i8(e,t,n,r){var g;const i=JSON.parse(JSON.stringify(e)),s=6e4,o=Date.parse("2024-01-01T00:00:00.000Z"),a=Date.parse(e.endedAt??e.startedAt??""),u=(Number.isNaN(a)?o:a)+s,c=new Date(u);i.id=`${e.id}-replay-${u}`,i.parentTraceId=e.id,i.branchPointStepId=t,i.replay={strategy:n,modifiedStepId:t,modifications:r,createdAt:c.toISOString()};const d=p=>{if(!p)return p;const v=Date.parse(p);return Number.isNaN(v)?p:new Date(v+s).toISOString()};i.startedAt=d(i.startedAt)??i.startedAt,i.endedAt=d(i.endedAt);const f=new Set,h=((g=i.steps.find(p=>p.id===t))==null?void 0:g.index)??-1;return i.steps.forEach(p=>{p.index>h&&f.add(p.id)}),i.steps=i.steps.map(p=>{var m;const v={...p};if(v.startedAt=d(p.startedAt)??p.startedAt,v.endedAt=d(p.endedAt),p.id===t){const y=((m=p.preview)==null?void 0:m.outputPreview)??"";v.preview={...p.preview,outputPreview:`${y} (modified)`.trim()}}return f.has(p.id)&&(v.status="pending",v.endedAt=null,v.durationMs=void 0,v.metrics=void 0,v.preview={...p.preview,outputPreview:"[invalidated for replay]"}),v}),i}function s8(e){return JSON.stringify(e,null,2)}function o8({traceId:e,step:t,safeExport:n,onClose:r,onReplay:i}){var g,p;const[s,o]=S.useState(null),[a,l]=S.useState("redacted"),[u,c]=S.useState([]);if(S.useEffect(()=>{c([]),l("redacted")},[t==null?void 0:t.id,n]),S.useEffect(()=>{if(!t)return;let v=!0;return(async()=>{const y=n?"redacted":a,x=await yA(e,t.id,y,y==="redacted"?u:[],n);v&&o(x)})(),()=>{v=!1}},[e,t,a,n,u]),!t)return null;const d=s==null?void 0:s.redaction,f=(d==null?void 0:d.fieldsRedacted)??[],h=(d==null?void 0:d.revealedFields)??[];return w.jsxs("aside",{className:"inspector","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Deep dive into a single step: payloads, redaction, metrics, and replay.","data-help-placement":"left",children:[w.jsxs("div",{className:"inspector-header",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"inspector-title",children:[w.jsx(mv,{type:t.type,size:"md",showLabel:!0}),w.jsx("span",{children:t.name}),w.jsx("span",{className:`status-pill status-${t.status}`,children:t.status})]}),w.jsx("div",{className:"inspector-subtitle",children:t.type})]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:r,"aria-label":"Close inspector",children:"Close"})]}),w.jsxs("div",{className:"inspector-section",children:[w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Status"}),w.jsx("span",{children:t.status})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Duration"}),w.jsxs("span",{children:[t.durationMs??0,"ms"]})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Tokens"}),w.jsx("span",{children:((g=t.metrics)==null?void 0:g.tokensTotal)??"-"})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Cost"}),w.jsx("span",{children:((p=t.metrics)==null?void 0:p.costUsd)!=null?`$${t.metrics.costUsd.toFixed(3)}`:"-"})]})]}),w.jsxs("div",{className:"inspector-section",children:[w.jsx("div",{className:"inspector-section-title",children:"Payload"}),w.jsxs("div",{className:"inspector-controls",children:[w.jsxs("label",{title:n?"Safe export enabled: raw view disabled.":"Toggle raw payload view.","data-help":!0,"data-help-title":"Raw payload","data-help-body":"Switch between redacted and raw payloads when Safe export is off.","data-help-placement":"top",children:[w.jsx("input",{type:"checkbox",checked:a==="raw",disabled:n,onChange:v=>l(v.target.checked?"raw":"redacted")}),"Reveal raw (dangerous)"]}),w.jsx("button",{className:"ghost-button",type:"button","aria-label":"Copy payload JSON",onClick:async()=>{s&&await navigator.clipboard.writeText(JSON.stringify(s.data,null,2))},"data-help":!0,"data-help-title":"Copy JSON","data-help-body":"Copy the payload to your clipboard.","data-help-placement":"top",children:"Copy JSON"}),u.length>0&&a==="redacted"?w.jsx("button",{className:"ghost-button",type:"button","aria-label":"Reset revealed fields",onClick:()=>c([]),"data-help":!0,"data-help-title":"Reset reveals","data-help-body":"Re-hide any fields you temporarily revealed.","data-help-placement":"top",children:"Reset reveals"}):null]}),w.jsx("pre",{className:"inspector-json",children:s?s8(s.data):"Loading..."}),f.length>0?w.jsxs("div",{className:"inspector-redaction",children:["Redacted fields:",w.jsx("ul",{children:f.map(v=>{const m=!n&&a==="redacted";return w.jsxs("li",{children:[v.path," (",v.kind,")",m?w.jsx("button",{className:"ghost-button",type:"button","aria-label":`Reveal ${v.path}`,onClick:()=>c(y=>y.includes(v.path)?y:[...y,v.path]),children:"Reveal"}):null]},v.path)})}),h.length>0?w.jsxs("div",{className:"inspector-revealed",children:["Revealed:",w.jsx("ul",{children:h.map(v=>w.jsxs("li",{children:[v.path," (",v.kind,")"]},v.path))})]}):null]}):null]}),w.jsx("div",{className:"inspector-section",children:w.jsx("button",{className:"primary-button",type:"button",onClick:()=>i(t.id),"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a new run starting from this step.","data-help-placement":"top",children:"Replay from this step"})})]})}const vA=S.createContext({});function a8(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const e0=S.createContext(null),wA=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function l8(e=!0){const t=S.useContext(e0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=S.useId();S.useEffect(()=>{e&&i(s)},[e]);const o=S.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const t0=typeof window<"u",u8=t0?S.useLayoutEffect:S.useEffect,It=e=>e;let xA=It;function n0(e){let t;return()=>(t===void 0&&(t=e()),t)}const as=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},zn=e=>e*1e3,Un=e=>e/1e3,c8={useManualTiming:!1};function d8(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,c=!1,d=!1)=>{const h=d&&r?t:n;return c&&s.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const qa=["read","resolveKeyframes","update","preRender","render","postRender"],f8=40;function _A(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=qa.reduce((m,y)=>(m[y]=d8(s),m),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:f}=o,h=()=>{const m=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(m-i.timestamp,f8),1),i.timestamp=m,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:qa.reduce((m,y)=>{const x=o[y];return m[y]=(_,b=!1,C=!1)=>(n||g(),x.schedule(_,b,C)),m},{}),cancel:m=>{for(let y=0;y<qa.length;y++)o[qa[y]].cancel(m)},state:i,steps:o}}const{schedule:be,cancel:Pr,state:et,steps:Am}=_A(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0),bA=S.createContext({strict:!1}),YE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ls={};for(const e in YE)ls[e]={isEnabled:t=>YE[e].some(n=>!!t[n])};function h8(e){for(const t in e)ls[t]={...ls[t],...e[t]}}const p8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||p8.has(e)}let SA=e=>!Hl(e);function m8(e){e&&(SA=t=>t.startsWith("on")?!Hl(t):e(t))}try{m8(require("@emotion/is-prop-valid").default)}catch{}function g8(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(SA(i)||n===!0&&Hl(i)||!t&&!Hl(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function y8(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Bu=S.createContext({});function qo(e){return typeof e=="string"||Array.isArray(e)}function zu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const r0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i0=["initial",...r0];function Uu(e){return zu(e.animate)||i0.some(t=>qo(e[t]))}function EA(e){return!!(Uu(e)||e.variants)}function v8(e,t){if(Uu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||qo(n)?n:void 0,animate:qo(r)?r:void 0}}return e.inherit!==!1?t:{}}function w8(e){const{initial:t,animate:n}=v8(e,S.useContext(Bu));return S.useMemo(()=>({initial:t,animate:n}),[XE(t),XE(n)])}function XE(e){return Array.isArray(e)?e.join(" "):e}const x8=Symbol.for("motionComponentSymbol");function Li(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _8(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Li(n)&&(n.current=r))},[t])}const s0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b8="framerAppearId",CA="data-"+s0(b8),{schedule:o0}=_A(queueMicrotask,!1),kA=S.createContext({});function S8(e,t,n,r,i){var s,o;const{visualElement:a}=S.useContext(Bu),l=S.useContext(bA),u=S.useContext(e0),c=S.useContext(wA).reducedMotion,d=S.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,h=S.useContext(kA);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&E8(d.current,n,i,h);const g=S.useRef(!1);S.useInsertionEffect(()=>{f&&g.current&&f.update(n,u)});const p=n[CA],v=S.useRef(!!p&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return u8(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),o0.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,p)}),v.current=!1))}),f}function E8(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:TA(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Li(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function TA(e){if(e)return e.options.allowProjection!==!1?e.projection:TA(e.parent)}function C8({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&h8(e);function a(u,c){let d;const f={...S.useContext(wA),...u,layoutId:k8(u)},{isStatic:h}=f,g=w8(u),p=r(u,h);if(!h&&t0){T8();const v=N8(f);d=v.MeasureLayout,g.visualElement=S8(i,p,f,t,v.ProjectionNode)}return w.jsxs(Bu.Provider,{value:g,children:[d&&g.visualElement?w.jsx(d,{visualElement:g.visualElement,...f}):null,n(i,u,_8(p,g.visualElement,c),p,h,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=S.forwardRef(a);return l[x8]=i,l}function k8({layoutId:e}){const t=S.useContext(vA).id;return t&&e!==void 0?t+"-"+e:e}function T8(e,t){S.useContext(bA).strict}function N8(e){const{drag:t,layout:n}=ls;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const M8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function a0(e){return typeof e!="string"||e.includes("-")?!1:!!(M8.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZE(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function l0(e,t,n,r){if(typeof t=="function"){const[i,s]=ZE(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=ZE(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const iy=e=>Array.isArray(e),P8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),A8=e=>iy(e)?e[e.length-1]||0:e,ct=e=>!!(e&&e.getVelocity);function il(e){const t=ct(e)?e.get():e;return P8(t)?t.toValue():t}function R8({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:I8(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const NA=e=>(t,n)=>{const r=S.useContext(Bu),i=S.useContext(e0),s=()=>R8(e,t,r,i);return n?s():a8(s)};function I8(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=il(s[f]);let{initial:o,animate:a}=e;const l=Uu(e),u=EA(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!zu(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const g=l0(e,f[h]);if(g){const{transitionEnd:p,transition:v,...m}=g;for(const y in m){let x=m[y];if(Array.isArray(x)){const _=c?x.length-1:0;x=x[_]}x!==null&&(i[y]=x)}for(const y in p)i[y]=p[y]}}}return i}const vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(vs),MA=e=>t=>typeof t=="string"&&t.startsWith(e),PA=MA("--"),j8=MA("var(--"),u0=e=>j8(e)?D8.test(e.split("/*")[0].trim()):!1,D8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,AA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qn=(e,t,n)=>n>t?t:n<e?e:n,ws={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fo={...ws,transform:e=>Qn(0,1,e)},Fa={...ws,default:1},na=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),or=na("deg"),kn=na("%"),ee=na("px"),L8=na("vh"),O8=na("vw"),QE={...kn,parse:e=>kn.parse(e)/100,transform:e=>kn.transform(e*100)},q8={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee},F8={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:Fa,scaleX:Fa,scaleY:Fa,scaleZ:Fa,skew:or,skewX:or,skewY:or,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:Fo,originX:QE,originY:QE,originZ:ee},JE={...ws,transform:Math.round},c0={...q8,...F8,zIndex:JE,size:ee,fillOpacity:Fo,strokeOpacity:Fo,numOctaves:JE},$8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V8=vs.length;function B8(e,t,n){let r="",i=!0;for(let s=0;s<V8;s++){const o=vs[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=AA(a,c0[o]);if(!l){i=!1;const c=$8[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function d0(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(gi.has(l)){o=!0;continue}else if(PA(l)){i[l]=u;continue}else{const c=AA(u,c0[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=B8(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const z8={offset:"stroke-dashoffset",array:"stroke-dasharray"},U8={offset:"strokeDashoffset",array:"strokeDasharray"};function H8(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?z8:U8;e[s.offset]=ee.transform(-r);const o=ee.transform(t),a=ee.transform(n);e[s.array]=`${o} ${a}`}function eC(e,t,n){return typeof e=="string"?e:ee.transform(t+n*e)}function G8(e,t,n){const r=eC(t,e.x,e.width),i=eC(n,e.y,e.height);return`${r} ${i}`}function f0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d){if(d0(e,u,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h,dimensions:g}=e;f.transform&&(g&&(h.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=G8(g,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&H8(f,o,a,l,!1)}const h0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),RA=()=>({...h0(),attrs:{}}),p0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IA(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const jA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DA(e,t,n,r){IA(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(jA.has(i)?i:s0(i),t.attrs[i])}const Gl={};function W8(e){Object.assign(Gl,e)}function LA(e,{layout:t,layoutId:n}){return gi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gl[e]||e==="opacity")}function m0(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(ct(i[o])||t.style&&ct(t.style[o])||LA(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function OA(e,t,n){const r=m0(e,t,n);for(const i in e)if(ct(e[i])||ct(t[i])){const s=vs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function K8(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const tC=["x","y","width","height","cx","cy","r"],Y8={useVisualState:NA({scrapeMotionValuesFromProps:OA,createRenderState:RA,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(gi.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<tC.length;a++){const l=tC[a];e[l]!==t[l]&&(o=!0)}o&&be.read(()=>{K8(n,r),be.render(()=>{f0(r,i,p0(n.tagName),e.transformTemplate),DA(n,r)})})}})},X8={useVisualState:NA({scrapeMotionValuesFromProps:m0,createRenderState:h0})};function qA(e,t,n){for(const r in t)!ct(t[r])&&!LA(r,n)&&(e[r]=t[r])}function Z8({transformTemplate:e},t){return S.useMemo(()=>{const n=h0();return d0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Q8(e,t){const n=e.style||{},r={};return qA(r,n,e),Object.assign(r,Z8(e,t)),r}function J8(e,t){const n={},r=Q8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function eU(e,t,n,r){const i=S.useMemo(()=>{const s=RA();return f0(s,t,p0(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};qA(s,e.style,e),i.style={...s,...i.style}}return i}function tU(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(a0(n)?eU:J8)(r,s,o,n),u=g8(r,typeof n=="string",e),c=n!==S.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=S.useMemo(()=>ct(d)?d.get():d,[d]);return S.createElement(n,{...c,children:f})}}function nU(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...a0(r)?Y8:X8,preloadedFeatures:e,useRender:tU(i),createVisualElement:t,Component:r};return C8(o)}}function FA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Hu(e,t,n){const r=e.getProps();return l0(r,t,n!==void 0?n:r.custom,e)}const rU=n0(()=>window.ScrollTimeline!==void 0);class iU{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(rU()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sU extends iU{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function g0(e,t){return e?e[t]||e.default||e:void 0}const sy=2e4;function $A(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<sy;)t+=n,r=e.next(t);return t>=sy?1/0:t}function y0(e){return typeof e=="function"}function nC(e,t){e.timeline=t,e.onfinish=null}const v0=e=>Array.isArray(e)&&typeof e[0]=="number",oU={linearEasing:void 0};function aU(e,t){const n=n0(e);return()=>{var r;return(r=oU[t])!==null&&r!==void 0?r:n()}}const Wl=aU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),VA=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(as(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function BA(e){return!!(typeof e=="function"&&Wl()||!e||typeof e=="string"&&(e in oy||Wl())||v0(e)||Array.isArray(e)&&e.every(BA))}const Xs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,oy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xs([0,.65,.55,1]),circOut:Xs([.55,0,1,.45]),backIn:Xs([.31,.01,.66,-.59]),backOut:Xs([.33,1.53,.69,.99])};function zA(e,t){if(e)return typeof e=="function"&&Wl()?VA(e,t):v0(e)?Xs(e):Array.isArray(e)?e.map(n=>zA(n,t)||oy.easeOut):oy[e]}const sn={x:!1,y:!1};function UA(){return sn.x||sn.y}function lU(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function HA(e,t){const n=lU(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function rC(e){return t=>{t.pointerType==="touch"||UA()||e(t)}}function uU(e,t,n={}){const[r,i,s]=HA(e,n),o=rC(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const c=rC(d=>{u(d),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const GA=(e,t)=>t?e===t?!0:GA(e,t.parentElement):!1,w0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,cU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dU(e){return cU.has(e.tagName)||e.tabIndex!==-1}const Zs=new WeakSet;function iC(e){return t=>{t.key==="Enter"&&e(t)}}function Rm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=iC(()=>{if(Zs.has(n))return;Rm(n,"down");const i=iC(()=>{Rm(n,"up")}),s=()=>Rm(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function sC(e){return w0(e)&&!UA()}function hU(e,t,n={}){const[r,i,s]=HA(e,n),o=a=>{const l=a.currentTarget;if(!sC(a)||Zs.has(l))return;Zs.add(l);const u=t(a),c=(h,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!sC(h)||!Zs.has(l))&&(Zs.delete(l),typeof u=="function"&&u(h,{success:g}))},d=h=>{c(h,n.useGlobalTarget||GA(l,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{!dU(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>fU(u,i),i)}),s}function pU(e){return e==="x"||e==="y"?sn[e]?null:(sn[e]=!0,()=>{sn[e]=!1}):sn.x||sn.y?null:(sn.x=sn.y=!0,()=>{sn.x=sn.y=!1})}const WA=new Set(["width","height","top","left","right","bottom",...vs]);let sl;function mU(){sl=void 0}const Tn={now:()=>(sl===void 0&&Tn.set(et.isProcessing||c8.useManualTiming?et.timestamp:performance.now()),sl),set:e=>{sl=e,queueMicrotask(mU)}};function x0(e,t){e.indexOf(t)===-1&&e.push(t)}function _0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class b0{constructor(){this.subscriptions=[]}add(t){return x0(this.subscriptions,t),()=>_0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function KA(e,t){return t?e*(1e3/t):0}const oC=30,gU=e=>!isNaN(parseFloat(e));class yU{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Tn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new b0);const r=this.events[t].add(n);return t==="change"?()=>{r(),be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,oC);return KA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(e,t){return new yU(e,t)}function vU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$o(n))}function wU(e,t){const n=Hu(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=A8(s[o]);vU(e,o,a)}}function xU(e){return!!(ct(e)&&e.add)}function ay(e,t){const n=e.getValue("willChange");if(xU(n))return n.add(t)}function YA(e){return e.props[CA]}const XA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_U=1e-7,bU=12;function SU(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=XA(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>_U&&++a<bU);return o}function ra(e,t,n,r){if(e===t&&n===r)return It;const i=s=>SU(s,0,1,e,n);return s=>s===0||s===1?s:XA(i(s),t,r)}const ZA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,QA=e=>t=>1-e(1-t),JA=ra(.33,1.53,.69,.99),S0=QA(JA),eR=ZA(S0),tR=e=>(e*=2)<1?.5*S0(e):.5*(2-Math.pow(2,-10*(e-1))),E0=e=>1-Math.sin(Math.acos(e)),nR=QA(E0),rR=ZA(E0),iR=e=>/^0[^.\s]+$/u.test(e);function EU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iR(e):!0}const lo=e=>Math.round(e*1e5)/1e5,C0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CU(e){return e==null}const kU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,k0=(e,t)=>n=>!!(typeof n=="string"&&kU.test(n)&&n.startsWith(e)||t&&!CU(n)&&Object.prototype.hasOwnProperty.call(n,t)),sR=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(C0);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},TU=e=>Qn(0,255,e),Im={...ws,transform:e=>Math.round(TU(e))},Xr={test:k0("rgb","red"),parse:sR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Im.transform(e)+", "+Im.transform(t)+", "+Im.transform(n)+", "+lo(Fo.transform(r))+")"};function NU(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ly={test:k0("#"),parse:NU,transform:Xr.transform},Oi={test:k0("hsl","hue"),parse:sR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+kn.transform(lo(t))+", "+kn.transform(lo(n))+", "+lo(Fo.transform(r))+")"},lt={test:e=>Xr.test(e)||ly.test(e)||Oi.test(e),parse:e=>Xr.test(e)?Xr.parse(e):Oi.test(e)?Oi.parse(e):ly.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Xr.transform(e):Oi.transform(e)},MU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(C0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(MU))===null||n===void 0?void 0:n.length)||0)>0}const oR="number",aR="color",AU="var",RU="var(",aC="${}",IU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(IU,l=>(lt.test(l)?(r.color.push(s),i.push(aR),n.push(lt.parse(l))):l.startsWith(RU)?(r.var.push(s),i.push(AU),n.push(l)):(r.number.push(s),i.push(oR),n.push(parseFloat(l))),++s,aC)).split(aC);return{values:n,split:a,indexes:r,types:i}}function lR(e){return Vo(e).values}function uR(e){const{split:t,types:n}=Vo(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===oR?s+=lo(i[o]):a===aR?s+=lt.transform(i[o]):s+=i[o]}return s}}const jU=e=>typeof e=="number"?0:e;function DU(e){const t=lR(e);return uR(e)(t.map(jU))}const Ar={test:PU,parse:lR,createTransformer:uR,getAnimatableNone:DU},LU=new Set(["brightness","contrast","saturate","opacity"]);function OU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(C0)||[];if(!r)return e;const i=n.replace(r,"");let s=LU.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const qU=/\b([a-z-]*)\(.*?\)/gu,uy={...Ar,getAnimatableNone:e=>{const t=e.match(qU);return t?t.map(OU).join(" "):e}},FU={...c0,color:lt,backgroundColor:lt,outlineColor:lt,fill:lt,stroke:lt,borderColor:lt,borderTopColor:lt,borderRightColor:lt,borderBottomColor:lt,borderLeftColor:lt,filter:uy,WebkitFilter:uy},T0=e=>FU[e];function cR(e,t){let n=T0(e);return n!==uy&&(n=Ar),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $U=new Set(["auto","none","0"]);function VU(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!$U.has(s)&&Vo(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=cR(n,i)}const lC=e=>e===ws||e===ee,uC=(e,t)=>parseFloat(e.split(", ")[t]),cC=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return uC(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?uC(s[1],e):0}},BU=new Set(["x","y","z"]),zU=vs.filter(e=>!BU.has(e));function UU(e){const t=[];return zU.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const us={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:cC(4,13),y:cC(5,14)};us.translateX=us.x;us.translateY=us.y;const ti=new Set;let cy=!1,dy=!1;function dR(){if(dy){const e=Array.from(ti).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=UU(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dy=!1,cy=!1,ti.forEach(e=>e.complete()),ti.clear()}function fR(){ti.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(dy=!0)})}function HU(){fR(),dR()}class N0{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ti.add(this),cy||(cy=!0,be.read(fR),be.resolveKeyframes(dR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ti.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ti.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const hR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),GU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WU(e){const t=GU.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function pR(e,t,n=1){const[r,i]=WU(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return hR(o)?parseFloat(o):o}return u0(i)?pR(i,t,n+1):i}const mR=e=>t=>t.test(e),KU={test:e=>e==="auto",parse:e=>e},gR=[ws,ee,kn,or,O8,L8,KU],dC=e=>gR.find(mR(e));class yR extends N0{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),u0(u))){const c=pR(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!WA.has(r)||t.length!==2)return;const[i,s]=t,o=dC(i),a=dC(s);if(o!==a)if(lC(o)&&lC(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)EU(t[i])&&r.push(i);r.length&&VU(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=us[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=us[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const fC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ar.test(e)||e==="0")&&!e.startsWith("url("));function YU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function XU(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=fC(i,t),a=fC(s,t);return!o||!a?!1:YU(e)||(n==="spring"||y0(n))&&r}const ZU=e=>e!==null;function Gu(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(ZU),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const QU=40;class vR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Tn.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>QU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HU(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Tn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!XU(t,r,i,s))if(o)this.options.duration=0;else{l&&l(Gu(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Me=(e,t,n)=>e+(t-e)*n;function jm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function JU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=jm(l,a,e+1/3),s=jm(l,a,e),o=jm(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Kl(e,t){return n=>n>0?t:e}const Dm=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},eH=[ly,Xr,Oi],tH=e=>eH.find(t=>t.test(e));function hC(e){const t=tH(e);if(!t)return!1;let n=t.parse(e);return t===Oi&&(n=JU(n)),n}const pC=(e,t)=>{const n=hC(e),r=hC(t);if(!n||!r)return Kl(e,t);const i={...n};return s=>(i.red=Dm(n.red,r.red,s),i.green=Dm(n.green,r.green,s),i.blue=Dm(n.blue,r.blue,s),i.alpha=Me(n.alpha,r.alpha,s),Xr.transform(i))},nH=(e,t)=>n=>t(e(n)),ia=(...e)=>e.reduce(nH),fy=new Set(["none","hidden"]);function rH(e,t){return fy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function iH(e,t){return n=>Me(e,t,n)}function M0(e){return typeof e=="number"?iH:typeof e=="string"?u0(e)?Kl:lt.test(e)?pC:aH:Array.isArray(e)?wR:typeof e=="object"?lt.test(e)?pC:sH:Kl}function wR(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>M0(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function sH(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=M0(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function oH(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const aH=(e,t)=>{const n=Ar.createTransformer(t),r=Vo(e),i=Vo(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?fy.has(e)&&!i.values.length||fy.has(t)&&!r.values.length?rH(e,t):ia(wR(oH(r,i),i.values),n):Kl(e,t)};function xR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Me(e,t,n):M0(e)(e,t)}const lH=5;function _R(e,t,n){const r=Math.max(t-lH,0);return KA(n-e(r),t-r)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lm=.001;function uH({duration:e=Re.duration,bounce:t=Re.bounce,velocity:n=Re.velocity,mass:r=Re.mass}){let i,s,o=1-t;o=Qn(Re.minDamping,Re.maxDamping,o),e=Qn(Re.minDuration,Re.maxDuration,Un(e)),o<1?(i=u=>{const c=u*o,d=c*e,f=c-n,h=hy(u,o),g=Math.exp(-d);return Lm-f/h*g},s=u=>{const d=u*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-d),p=hy(Math.pow(u,2),o);return(-i(u)+Lm>0?-1:1)*((f-h)*g)/p}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-Lm+c*d},s=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=dH(i,s,a);if(e=zn(e),isNaN(l))return{stiffness:Re.stiffness,damping:Re.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const cH=12;function dH(e,t,n){let r=n;for(let i=1;i<cH;i++)r=r-e(r)/t(r);return r}function hy(e,t){return e*Math.sqrt(1-t*t)}const fH=["duration","bounce"],hH=["stiffness","damping","mass"];function mC(e,t){return t.some(n=>e[n]!==void 0)}function pH(e){let t={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...e};if(!mC(e,hH)&&mC(e,fH))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Qn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Re.mass,stiffness:i,damping:s}}else{const n=uH(e);t={...t,...n,mass:Re.mass},t.isResolvedFromDuration=!0}return t}function bR(e=Re.visualDuration,t=Re.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=pH({...n,velocity:-Un(n.velocity||0)}),g=f||0,p=u/(2*Math.sqrt(l*c)),v=o-s,m=Un(Math.sqrt(l/c)),y=Math.abs(v)<5;r||(r=y?Re.restSpeed.granular:Re.restSpeed.default),i||(i=y?Re.restDelta.granular:Re.restDelta.default);let x;if(p<1){const b=hy(m,p);x=C=>{const k=Math.exp(-p*m*C);return o-k*((g+p*m*v)/b*Math.sin(b*C)+v*Math.cos(b*C))}}else if(p===1)x=b=>o-Math.exp(-m*b)*(v+(g+m*v)*b);else{const b=m*Math.sqrt(p*p-1);x=C=>{const k=Math.exp(-p*m*C),T=Math.min(b*C,300);return o-k*((g+p*m*v)*Math.sinh(T)+b*v*Math.cosh(T))/b}}const _={calculatedDuration:h&&d||null,next:b=>{const C=x(b);if(h)a.done=b>=d;else{let k=0;p<1&&(k=b===0?zn(g):_R(x,b,C));const T=Math.abs(k)<=r,M=Math.abs(o-C)<=i;a.done=T&&M}return a.value=a.done?o:C,a},toString:()=>{const b=Math.min($A(_),sy),C=VA(k=>_.next(b*k).value,b,30);return b+"ms "+C}};return _}function gC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},h=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let p=n*t;const v=d+p,m=o===void 0?v:o(v);m!==v&&(p=m-d);const y=T=>-p*Math.exp(-T/r),x=T=>m+y(T),_=T=>{const M=y(T),A=x(T);f.done=Math.abs(M)<=u,f.value=f.done?m:A};let b,C;const k=T=>{h(f.value)&&(b=T,C=bR({keyframes:[f.value,g(f.value)],velocity:_R(x,T,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:T=>{let M=!1;return!C&&b===void 0&&(M=!0,_(T),k(T)),b!==void 0&&T>=b?C.next(T-b):(!M&&_(T),f)}}}const mH=ra(.42,0,1,1),gH=ra(0,0,.58,1),SR=ra(.42,0,.58,1),yH=e=>Array.isArray(e)&&typeof e[0]!="number",vH={linear:It,easeIn:mH,easeInOut:SR,easeOut:gH,circIn:E0,circInOut:rR,circOut:nR,backIn:S0,backInOut:eR,backOut:JA,anticipate:tR},yC=e=>{if(v0(e)){xA(e.length===4);const[t,n,r,i]=e;return ra(t,n,r,i)}else if(typeof e=="string")return vH[e];return e};function wH(e,t,n){const r=[],i=n||xR,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||It:t;a=ia(l,a)}r.push(a)}return r}function xH(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(xA(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=wH(t,r,i),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=as(e[d],e[d+1],c);return a[d](f)};return n?c=>u(Qn(e[0],e[s-1],c)):u}function _H(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=as(0,t,r);e.push(Me(n,1,i))}}function bH(e){const t=[0];return _H(t,e.length-1),t}function SH(e,t){return e.map(n=>n*t)}function EH(e,t){return e.map(()=>t||SR).splice(0,e.length-1)}function Yl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=yH(r)?r.map(yC):yC(r),s={done:!1,value:t[0]},o=SH(n&&n.length===t.length?n:bH(t),e),a=xH(o,t,{ease:Array.isArray(i)?i:EH(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const CH=e=>{const t=({timestamp:n})=>e(n);return{start:()=>be.update(t,!0),stop:()=>Pr(t),now:()=>et.isProcessing?et.timestamp:Tn.now()}},kH={decay:gC,inertia:gC,tween:Yl,keyframes:Yl,spring:bR},TH=e=>e/100;class P0 extends vR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||N0,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=y0(n)?n:kH[n]||Yl;let l,u;a!==Yl&&typeof t[0]!="number"&&(l=ia(TH,xR(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});s==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=$A(c));const{calculatedDuration:d}=c,f=d+i,h=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:h,repeatType:g,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>c;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let x=this.currentTime,_=s;if(h){const T=Math.min(this.currentTime,c)/d;let M=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(g==="reverse"?(A=1-A,p&&(A-=p/d)):g==="mirror"&&(_=o)),x=Qn(0,1,A)*d}const b=y?{done:!1,value:l[0]}:_.next(x);a&&(b.value=a(b.value));let{done:C}=b;!y&&u!==null&&(C=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&i!==void 0&&(b.value=Gu(l,this.options,i)),v&&v(b.value),k&&this.finish(),b}get duration(){const{resolved:t}=this;return t?Un(t.calculatedDuration):0}get time(){return Un(this.currentTime)}set time(t){t=zn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Un(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=CH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const NH=new Set(["opacity","clipPath","filter","transform"]);function MH(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=zA(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const PH=n0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xl=10,AH=2e4;function RH(e){return y0(e.type)||e.type==="spring"||!BA(e.ease)}function IH(e,t){const n=new P0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<AH;)r=n.sample(s),i.push(r.value),s+=Xl;return{times:void 0,keyframes:i,duration:s-Xl,ease:"linear"}}const ER={anticipate:tR,backInOut:eR,circInOut:rR};function jH(e){return e in ER}class vC extends vR{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new yR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Wl()&&jH(s)&&(s=ER[s]),RH(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,element:g,...p}=this.options,v=IH(t,p);t=v.keyframes,t.length===1&&(t[1]=t[0]),r=v.duration,i=v.times,s=v.ease,o="keyframes"}const c=MH(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(nC(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;a.set(Gu(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Un(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Un(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=zn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return It;const{animation:r}=n;nC(r,t)}return It}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:f,...h}=this.options,g=new P0({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),p=zn(this.time);u.setWithVelocity(g.sample(p-Xl).value,g.sample(p).value,Xl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return PH()&&r&&NH.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const DH={type:"spring",stiffness:500,damping:25,restSpeed:10},LH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),OH={type:"keyframes",duration:.8},qH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FH=(e,{keyframes:t})=>t.length>2?OH:gi.has(e)?e.startsWith("scale")?LH(t[1]):DH:qH;function $H({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const A0=(e,t,n,r={},i,s)=>o=>{const a=g0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-zn(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};$H(a)||(c={...c,...FH(e,c)}),c.duration&&(c.duration=zn(c.duration)),c.repeatDelay&&(c.repeatDelay=zn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!s&&t.get()!==void 0){const f=Gu(c.keyframes,a);if(f!==void 0)return be.update(()=>{c.onUpdate(f),c.onComplete()}),new sU([])}return!s&&vC.supports(c)?new vC(c):new P0(c)};function VH({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function CR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,(s=e.latestValues[d])!==null&&s!==void 0?s:null),h=l[d];if(h===void 0||c&&VH(c,d))continue;const g={delay:n,...g0(o||{},d)};let p=!1;if(window.MotionHandoffAnimation){const m=YA(e);if(m){const y=window.MotionHandoffAnimation(m,d,be);y!==null&&(g.startTime=y,p=!0)}}ay(e,d),f.start(A0(d,f,h,e.shouldReduceMotion&&WA.has(d)?{type:!1}:g,e,p));const v=f.animation;v&&u.push(v)}return a&&Promise.all(u).then(()=>{be.update(()=>{a&&wU(e,a)})}),u}function py(e,t,n={}){var r;const i=Hu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(CR(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return BH(e,t,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function BH(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(zH).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(py(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function zH(e,t){return e.sortNodePosition(t)}function UH(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>py(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=py(e,t,n);else{const i=typeof t=="function"?Hu(e,t,n.custom):t;r=Promise.all(CR(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const HH=i0.length;function kR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?kR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<HH;n++){const r=i0[n],i=e.props[r];(qo(i)||i===!1)&&(t[r]=i)}return t}const GH=[...r0].reverse(),WH=r0.length;function KH(e){return t=>Promise.all(t.map(({animation:n,options:r})=>UH(e,n,r)))}function YH(e){let t=KH(e),n=wC(),r=!0;const i=l=>(u,c)=>{var d;const f=Hu(e,c,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:g,...p}=f;u={...u,...p,...g}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=kR(e.parent)||{},d=[],f=new Set;let h={},g=1/0;for(let v=0;v<WH;v++){const m=GH[v],y=n[m],x=u[m]!==void 0?u[m]:c[m],_=qo(x),b=m===l?y.isActive:null;b===!1&&(g=v);let C=x===c[m]&&x!==u[m]&&_;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...h},!y.isActive&&b===null||!x&&!y.prevProp||zu(x)||typeof x=="boolean")continue;const k=XH(y.prevProp,x);let T=k||m===l&&y.isActive&&!C&&_||v>g&&_,M=!1;const A=Array.isArray(x)?x:[x];let I=A.reduce(i(m),{});b===!1&&(I={});const{prevResolvedValues:B={}}=y,V={...B,...I},E=L=>{T=!0,f.has(L)&&(M=!0,f.delete(L)),y.needsAnimating[L]=!0;const P=e.getValue(L);P&&(P.liveStyle=!1)};for(const L in V){const P=I[L],N=B[L];if(h.hasOwnProperty(L))continue;let j=!1;iy(P)&&iy(N)?j=!FA(P,N):j=P!==N,j?P!=null?E(L):f.add(L):P!==void 0&&f.has(L)?E(L):y.protectedKeys[L]=!0}y.prevProp=x,y.prevResolvedValues=I,y.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(C&&k)||M)&&d.push(...A.map(L=>({animation:L,options:{type:m}})))}if(f.size){const v={};f.forEach(m=>{const y=e.getBaseTarget(m),x=e.getValue(m);x&&(x.liveStyle=!0),v[m]=y??null}),d.push({animation:v})}let p=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(d):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=wC(),r=!0}}}function XH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!FA(t,e):!1}function qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wC(){return{animate:qr(!0),whileInView:qr(),whileHover:qr(),whileTap:qr(),whileDrag:qr(),whileFocus:qr(),exit:qr()}}class Lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZH extends Lr{constructor(t){super(t),t.animationState||(t.animationState=YH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let QH=0;class JH extends Lr{constructor(){super(...arguments),this.id=QH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eG={animation:{Feature:ZH},exit:{Feature:JH}};function Bo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function sa(e){return{point:{x:e.pageX,y:e.pageY}}}const tG=e=>t=>w0(t)&&e(t,sa(t));function uo(e,t,n,r){return Bo(e,t,tG(n),r)}const xC=(e,t)=>Math.abs(e-t);function nG(e,t){const n=xC(e.x,t.x),r=xC(e.y,t.y);return Math.sqrt(n**2+r**2)}class TR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=qm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=nG(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=d,{timestamp:p}=et;this.history.push({...g,timestamp:p});const{onStart:v,onMove:m}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Om(f,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=qm(d.type==="pointercancel"?this.lastMoveEventInfo:Om(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,v),g&&g(d,v)},!w0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=sa(t),a=Om(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=et;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,qm(a,this.history)),this.removeListeners=ia(uo(this.contextWindow,"pointermove",this.handlePointerMove),uo(this.contextWindow,"pointerup",this.handlePointerUp),uo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pr(this.updatePoint)}}function Om(e,t){return t?{point:t(e.point)}:e}function _C(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qm({point:e},t){return{point:e,delta:_C(e,NR(t)),offset:_C(e,rG(t)),velocity:iG(t,.1)}}function rG(e){return e[0]}function NR(e){return e[e.length-1]}function iG(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=NR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>zn(t)));)n--;if(!r)return{x:0,y:0};const s=Un(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const MR=1e-4,sG=1-MR,oG=1+MR,PR=.01,aG=0-PR,lG=0+PR;function Lt(e){return e.max-e.min}function uG(e,t,n){return Math.abs(e-t)<=n}function bC(e,t,n,r=.5){e.origin=r,e.originPoint=Me(t.min,t.max,e.origin),e.scale=Lt(n)/Lt(t),e.translate=Me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sG&&e.scale<=oG||isNaN(e.scale))&&(e.scale=1),(e.translate>=aG&&e.translate<=lG||isNaN(e.translate))&&(e.translate=0)}function co(e,t,n,r){bC(e.x,t.x,n.x,r?r.originX:void 0),bC(e.y,t.y,n.y,r?r.originY:void 0)}function SC(e,t,n){e.min=n.min+t.min,e.max=e.min+Lt(t)}function cG(e,t,n){SC(e.x,t.x,n.x),SC(e.y,t.y,n.y)}function EC(e,t,n){e.min=t.min-n.min,e.max=e.min+Lt(t)}function fo(e,t,n){EC(e.x,t.x,n.x),EC(e.y,t.y,n.y)}function dG(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Me(n,e,r.max):Math.min(e,n)),e}function CC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function fG(e,{top:t,left:n,bottom:r,right:i}){return{x:CC(e.x,n,i),y:CC(e.y,t,r)}}function kC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hG(e,t){return{x:kC(e.x,t.x),y:kC(e.y,t.y)}}function pG(e,t){let n=.5;const r=Lt(e),i=Lt(t);return i>r?n=as(t.min,t.max-r,e.min):r>i&&(n=as(e.min,e.max-i,t.min)),Qn(0,1,n)}function mG(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const my=.35;function gG(e=my){return e===!1?e=0:e===!0&&(e=my),{x:TC(e,"left","right"),y:TC(e,"top","bottom")}}function TC(e,t,n){return{min:NC(e,t),max:NC(e,n)}}function NC(e,t){return typeof e=="number"?e:e[t]||0}const MC=()=>({translate:0,scale:1,origin:0,originPoint:0}),qi=()=>({x:MC(),y:MC()}),PC=()=>({min:0,max:0}),De=()=>({x:PC(),y:PC()});function zt(e){return[e("x"),e("y")]}function AR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function yG({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vG(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fm(e){return e===void 0||e===1}function gy({scale:e,scaleX:t,scaleY:n}){return!Fm(e)||!Fm(t)||!Fm(n)}function Br(e){return gy(e)||RR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function RR(e){return AC(e.x)||AC(e.y)}function AC(e){return e&&e!=="0%"}function Zl(e,t,n){const r=e-n,i=t*r;return n+i}function RC(e,t,n,r,i){return i!==void 0&&(e=Zl(e,i,r)),Zl(e,n,r)+t}function yy(e,t=0,n=1,r,i){e.min=RC(e.min,t,n,r,i),e.max=RC(e.max,t,n,r,i)}function IR(e,{x:t,y:n}){yy(e.x,t.translate,t.scale,t.originPoint),yy(e.y,n.translate,n.scale,n.originPoint)}const IC=.999999999999,jC=1.0000000000001;function wG(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$i(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,IR(e,o)),r&&Br(s.latestValues)&&$i(e,s.latestValues))}t.x<jC&&t.x>IC&&(t.x=1),t.y<jC&&t.y>IC&&(t.y=1)}function Fi(e,t){e.min=e.min+t,e.max=e.max+t}function DC(e,t,n,r,i=.5){const s=Me(e.min,e.max,i);yy(e,t,n,s,r)}function $i(e,t){DC(e.x,t.x,t.scaleX,t.scale,t.originX),DC(e.y,t.y,t.scaleY,t.scale,t.originY)}function jR(e,t){return AR(vG(e.getBoundingClientRect(),t))}function xG(e,t,n){const r=jR(e,n),{scroll:i}=t;return i&&(Fi(r.x,i.offset.x),Fi(r.y,i.offset.y)),r}const DR=({current:e})=>e?e.ownerDocument.defaultView:null,_G=new WeakMap;class bG{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sa(c).point)},s=(c,d)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pU(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(v=>{let m=this.getAxisMotionValue(v).get()||0;if(kn.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(m=Lt(x)*(parseFloat(m)/100))}}this.originPoint[v]=m}),g&&be.postRender(()=>g(c,d)),ay(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(h&&this.currentDirection===null){this.currentDirection=SG(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),p&&p(c,d)},a=(c,d)=>this.stop(c,d),l=()=>zt(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new TR(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:DR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&be.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!$a(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=dG(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Li(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=fG(i.layoutBox,n):this.constraints=!1,this.elastic=gG(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mG(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Li(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=xG(r,i.root,this.visualElement.getTransformPagePoint());let o=hG(i.layout.layoutBox,s);if(n){const a=n(yG(o));this.hasMutatedConstraints=!!a,a&&(o=AR(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=zt(c=>{if(!$a(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ay(this.visualElement,t),r.start(A0(t,r,0,n,this.visualElement,!1))}stopAnimation(){zt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){zt(n=>{const{drag:r}=this.getProps();if(!$a(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Me(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Li(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=pG({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zt(o=>{if(!$a(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Me(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;_G.set(this.visualElement,this);const t=this.visualElement.current,n=uo(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Li(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),be.read(r);const o=Bo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(zt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=my,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function $a(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SG(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class EG extends Lr{constructor(t){super(t),this.removeGroupControls=It,this.removeListeners=It,this.controls=new bG(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const LC=e=>(t,n)=>{e&&be.postRender(()=>e(t,n))};class CG extends Lr{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(t){this.session=new TR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:LC(t),onStart:LC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&be.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=uo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ol={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ls={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=OC(e,t.target.x),r=OC(e,t.target.y);return`${n}% ${r}%`}},kG={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ar.parse(e);if(i.length>5)return r;const s=Ar.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=Me(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class TG extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;W8(NG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ol.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),o0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function LR(e){const[t,n]=l8(),r=S.useContext(vA);return w.jsx(TG,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(kA),isPresent:t,safeToRemove:n})}const NG={borderRadius:{...Ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ls,borderTopRightRadius:Ls,borderBottomLeftRadius:Ls,borderBottomRightRadius:Ls,boxShadow:kG};function MG(e,t,n){const r=ct(e)?e:$o(e);return r.start(A0("",r,t,n)),r.animation}function PG(e){return e instanceof SVGElement&&e.tagName!=="svg"}const AG=(e,t)=>e.depth-t.depth;class RG{constructor(){this.children=[],this.isDirty=!1}add(t){x0(this.children,t),this.isDirty=!0}remove(t){_0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AG),this.isDirty=!1,this.children.forEach(t)}}function IG(e,t){const n=Tn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Pr(r),e(s-t))};return be.read(r,!0),()=>Pr(r)}const OR=["TopLeft","TopRight","BottomLeft","BottomRight"],jG=OR.length,qC=e=>typeof e=="string"?parseFloat(e):e,FC=e=>typeof e=="number"||ee.test(e);function DG(e,t,n,r,i,s){i?(e.opacity=Me(0,n.opacity!==void 0?n.opacity:1,LG(r)),e.opacityExit=Me(t.opacity!==void 0?t.opacity:1,0,OG(r))):s&&(e.opacity=Me(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<jG;o++){const a=`border${OR[o]}Radius`;let l=$C(t,a),u=$C(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||FC(l)===FC(u)?(e[a]=Math.max(Me(qC(l),qC(u),r),0),(kn.test(u)||kn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Me(t.rotate||0,n.rotate||0,r))}function $C(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const LG=qR(0,.5,nR),OG=qR(.5,.95,It);function qR(e,t,n){return r=>r<e?0:r>t?1:n(as(e,t,r))}function VC(e,t){e.min=t.min,e.max=t.max}function Bt(e,t){VC(e.x,t.x),VC(e.y,t.y)}function BC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zC(e,t,n,r,i){return e-=t,e=Zl(e,1/n,r),i!==void 0&&(e=Zl(e,1/i,r)),e}function qG(e,t=0,n=1,r=.5,i,s=e,o=e){if(kn.test(t)&&(t=parseFloat(t),t=Me(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Me(s.min,s.max,r);e===s&&(a-=t),e.min=zC(e.min,t,n,a,i),e.max=zC(e.max,t,n,a,i)}function UC(e,t,[n,r,i],s,o){qG(e,t[n],t[r],t[i],t.scale,s,o)}const FG=["x","scaleX","originX"],$G=["y","scaleY","originY"];function HC(e,t,n,r){UC(e.x,t,FG,n?n.x:void 0,r?r.x:void 0),UC(e.y,t,$G,n?n.y:void 0,r?r.y:void 0)}function GC(e){return e.translate===0&&e.scale===1}function FR(e){return GC(e.x)&&GC(e.y)}function WC(e,t){return e.min===t.min&&e.max===t.max}function VG(e,t){return WC(e.x,t.x)&&WC(e.y,t.y)}function KC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $R(e,t){return KC(e.x,t.x)&&KC(e.y,t.y)}function YC(e){return Lt(e.x)/Lt(e.y)}function XC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class BG{constructor(){this.members=[]}add(t){x0(this.members,t),t.scheduleRender()}remove(t){if(_0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zG(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Qs=typeof window<"u"&&window.MotionDebug!==void 0,$m=["","X","Y","Z"],UG={visibility:"hidden"},ZC=1e3;let HG=0;function Vm(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function VR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=YA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",be,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&VR(r)}function BR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=HG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qs&&(zr.totalNodes=zr.resolvedTargetDeltas=zr.recalculatedProjection=0),this.nodes.forEach(KG),this.nodes.forEach(JG),this.nodes.forEach(e9),this.nodes.forEach(YG),Qs&&window.MotionDebug.record(zr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new RG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new b0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PG(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=IG(f,250),ol.hasAnimatedSinceResize&&(ol.hasAnimatedSinceResize=!1,this.nodes.forEach(JC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||s9,{onLayoutAnimationStart:v,onLayoutAnimationComplete:m}=c.getProps(),y=!this.targetLayout||!$R(this.targetLayout,g)||h,x=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const _={...g0(p,"layout"),onPlay:v,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||JC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QC);return}this.isUpdating||this.nodes.forEach(ZG),this.isUpdating=!1,this.nodes.forEach(QG),this.nodes.forEach(GG),this.nodes.forEach(WG),this.clearAllSnapshots();const a=Tn.now();et.delta=Qn(0,1e3/60,a-et.timestamp),et.timestamp=a,et.isProcessing=!0,Am.update.process(et),Am.preRender.process(et),Am.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XG),this.sharedNodes.forEach(n9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!FR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Br(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),o9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return De();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(a9))){const{scroll:c}=this.root;c&&(Fi(l.x,c.offset.x),Fi(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=De();if(Bt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Bt(l,o),Fi(l.x,d.offset.x),Fi(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=De();Bt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$i(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Br(c.latestValues)&&$i(l,c.latestValues)}return Br(this.latestValues)&&$i(l,this.latestValues),l}removeTransform(o){const a=De();Bt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Br(u.latestValues))continue;gy(u.latestValues)&&u.updateSnapshot();const c=De(),d=u.measurePageBox();Bt(c,d),HC(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Br(this.latestValues)&&HC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),fo(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),IR(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),fo(this.relativeTargetOrigin,this.target,h.target),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qs&&zr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gy(this.parent.latestValues)||RR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===et.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Bt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;wG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=De());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BC(this.prevProjectionDelta.x,this.projectionDelta.x),BC(this.prevProjectionDelta.y,this.projectionDelta.y)),co(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!XC(this.projectionDelta.x,this.prevProjectionDelta.x)||!XC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Qs&&zr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qi(),this.projectionDelta=qi(),this.projectionDeltaWithTransform=qi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=qi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=De(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,p=h!==g,v=this.getStack(),m=!v||v.members.length<=1,y=!!(p&&!m&&this.options.crossfade===!0&&!this.path.some(i9));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const b=_/1e3;ek(d.x,o.x,b),ek(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r9(this.relativeTarget,this.relativeTargetOrigin,f,b),x&&VG(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=De()),Bt(x,this.relativeTarget)),p&&(this.animationValues=c,DG(c,u,this.latestValues,b,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{ol.hasAnimatedSinceResize=!0,this.currentAnimation=MG(0,ZC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&zR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||De();const d=Lt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Lt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Bt(a,l),$i(a,c),co(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BG),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Vm("z",o,u,this.animationValues);for(let c=0;c<$m.length;c++)Vm(`rotate${$m[c]}`,o,u,this.animationValues),Vm(`skew${$m[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UG;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=il(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=il(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Br(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=zG(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:h,y:g}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in Gl){if(f[p]===void 0)continue;const{correct:v,applyTo:m}=Gl[p],y=u.transform==="none"?f[p]:v(f[p],d);if(m){const x=m.length;for(let _=0;_<x;_++)u[m[_]]=y}else u[p]=y}return this.options.layoutId&&(u.pointerEvents=d===this?il(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(QC),this.root.sharedNodes.clear()}}}function GG(e){e.updateLayout()}function WG(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?zt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Lt(f);f.min=r[d].min,f.max=f.min+h}):zR(s,n.layoutBox,r)&&zt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Lt(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=qi();co(a,r,n.layoutBox);const l=qi();o?co(l,e.applyTransform(i,!0),n.measuredBox):co(l,r,n.layoutBox);const u=!FR(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const g=De();fo(g,n.layoutBox,f.layoutBox);const p=De();fo(p,r,h.layoutBox),$R(g,p)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function KG(e){Qs&&zr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function YG(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function XG(e){e.clearSnapshot()}function QC(e){e.clearMeasurements()}function ZG(e){e.isLayoutDirty=!1}function QG(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function JC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function JG(e){e.resolveTargetDelta()}function e9(e){e.calcProjection()}function t9(e){e.resetSkewAndRotation()}function n9(e){e.removeLeadSnapshot()}function ek(e,t,n){e.translate=Me(t.translate,0,n),e.scale=Me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function tk(e,t,n,r){e.min=Me(t.min,n.min,r),e.max=Me(t.max,n.max,r)}function r9(e,t,n,r){tk(e.x,t.x,n.x,r),tk(e.y,t.y,n.y,r)}function i9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const s9={duration:.45,ease:[.4,0,.1,1]},nk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rk=nk("applewebkit/")&&!nk("chrome/")?Math.round:It;function ik(e){e.min=rk(e.min),e.max=rk(e.max)}function o9(e){ik(e.x),ik(e.y)}function zR(e,t,n){return e==="position"||e==="preserve-aspect"&&!uG(YC(t),YC(n),.2)}function a9(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const l9=BR({attachResizeListener:(e,t)=>Bo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bm={current:void 0},UR=BR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bm.current){const e=new l9({});e.mount(window),e.setOptions({layoutScroll:!0}),Bm.current=e}return Bm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),u9={pan:{Feature:CG},drag:{Feature:EG,ProjectionNode:UR,MeasureLayout:LR}};function sk(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&be.postRender(()=>s(t,sa(t)))}class c9 extends Lr{mount(){const{current:t}=this.node;t&&(this.unmount=uU(t,n=>(sk(this.node,n,"Start"),r=>sk(this.node,r,"End"))))}unmount(){}}class d9 extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ia(Bo(this.node.current,"focus",()=>this.onFocus()),Bo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ok(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&be.postRender(()=>s(t,sa(t)))}class f9 extends Lr{mount(){const{current:t}=this.node;t&&(this.unmount=hU(t,n=>(ok(this.node,n,"Start"),(r,{success:i})=>ok(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vy=new WeakMap,zm=new WeakMap,h9=e=>{const t=vy.get(e.target);t&&t(e)},p9=e=>{e.forEach(h9)};function m9({root:e,...t}){const n=e||document;zm.has(n)||zm.set(n,{});const r=zm.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(p9,{root:e,...t})),r[i]}function g9(e,t,n){const r=m9(t);return vy.set(e,n),r.observe(e),()=>{vy.delete(e),r.unobserve(e)}}const y9={some:0,all:1};class v9 extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:y9[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return g9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(w9(t,n))&&this.startObserver()}unmount(){}}function w9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const x9={inView:{Feature:v9},tap:{Feature:f9},focus:{Feature:d9},hover:{Feature:c9}},_9={layout:{ProjectionNode:UR,MeasureLayout:LR}},wy={current:null},HR={current:!1};function b9(){if(HR.current=!0,!!t0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wy.current=e.matches;e.addListener(t),t()}else wy.current=!1}const S9=[...gR,lt,Ar],E9=e=>S9.find(mR(e)),ak=new WeakMap;function C9(e,t,n){for(const r in t){const i=t[r],s=n[r];if(ct(i))e.addValue(r,i);else if(ct(s))e.addValue(r,$o(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,$o(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class k9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=N0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Tn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,be.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Uu(n),this.isVariantNode=EA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const g=f[h];l[h]!==void 0&&ct(g)&&g.set(l[h],!1)}}mount(t){this.current=t,ak.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),HR.current||b9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ak.delete(this.current),this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=gi.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ls){const n=ls[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lk.length;r++){const i=lk[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=C9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=$o(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(hR(i)||iR(i))?i=parseFloat(i):!E9(i)&&Ar.test(n)&&(i=cR(t,n)),this.setBaseTarget(t,ct(i)?i.get():i)),ct(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=l0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ct(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new b0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class GR extends k9{constructor(){super(...arguments),this.KeyframeResolver=yR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ct(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function T9(e){return window.getComputedStyle(e)}class N9 extends GR{constructor(){super(...arguments),this.type="html",this.renderInstance=IA}readValueFromInstance(t,n){if(gi.has(n)){const r=T0(n);return r&&r.default||0}else{const r=T9(t),i=(PA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return jR(t,n)}build(t,n,r){d0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return m0(t,n,r)}}class M9 extends GR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gi.has(n)){const r=T0(n);return r&&r.default||0}return n=jA.has(n)?n:s0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return OA(t,n,r)}build(t,n,r){f0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){DA(t,n,r,i)}mount(t){this.isSVGTag=p0(t.tagName),super.mount(t)}}const P9=(e,t)=>a0(e)?new M9(t):new N9(t,{allowProjection:e!==S.Fragment}),A9=nU({...eG,...x9,...u9,..._9},P9),R9=y8(A9);function I9({steps:e,fromRects:t,toRects:n,onComplete:r}){return S.useEffect(()=>{const i=window.setTimeout(r,550);return()=>window.clearTimeout(i)},[r]),w.jsx("div",{className:"morph-layer",children:e.map(i=>{var a;const s=t[i.id],o=n[i.id];return!s||!o?null:w.jsxs(R9.div,{className:`morph-card step-${i.type}`,initial:{left:s.left,top:s.top,width:s.width,height:s.height},animate:{left:o.left,top:o.top,width:o.width,height:o.height},transition:{duration:.5,ease:"easeInOut"},children:[w.jsx("div",{className:"morph-card-title",children:i.name}),w.jsx("div",{className:"morph-card-subtitle",children:((a=i.preview)==null?void 0:a.title)??i.type})]},i.id)})})}function j9({morph:e,onComplete:t,children:n}){return w.jsxs("div",{className:"morph-orchestrator",children:[n,e?w.jsx(I9,{steps:e.steps,fromRects:e.fromRects,toRects:e.toRects,onComplete:t}):null]})}function D9(){const[e,t]=S.useState(null),[n,r]=S.useState(null),[i,s]=S.useState(!0),[o,a]=S.useState(null),[l,u]=S.useState([]),[c,d]=S.useState(null),f=S.useCallback(async g=>{const p=await e8(),v=(p==null?void 0:p.trace)??null;t(v),r(v?(p==null?void 0:p.insights)??Bj(v):null)},[t,r]),h=S.useCallback(async()=>{var g;s(!0),a(null);try{const p=await J6();u(p);const v=((g=p[p.length-1])==null?void 0:g.id)??null,m=c??v;if(!m){t(null),r(null);return}if(!c||c!==m){d(m);return}await f(m)}catch(p){a(p instanceof Error?p.message:"Failed to load trace")}finally{s(!1)}},[c,f]);return S.useEffect(()=>{h()},[h]),S.useEffect(()=>{c&&(s(!0),f(c).catch(g=>{a(g instanceof Error?g.message:"Failed to load trace")}).finally(()=>s(!1)))},[c,f]),{trace:e,insights:n,loading:i,error:o,reload:h,traces:l,selectedTraceId:c,setSelectedTraceId:d}}function rn(e,t){const[n,r]=S.useState(()=>{if(typeof window>"u")return t;try{const i=window.localStorage.getItem(e);return i==null?t:JSON.parse(i)}catch{return t}});return S.useEffect(()=>{try{window.localStorage.setItem(e,JSON.stringify(n))}catch{}},[e,n]),[n,r]}function L9(e,t,n){const{intervals:r}=pu(e,t,n),i=new Set;return r.forEach(s=>{i.add(s.startMs),i.add(s.endMs)}),Array.from(i).sort((s,o)=>s-o)}function O9(e,t,n){if(!e.length)return null;if(n===1){for(const r of e)if(r>t+1)return r;return e[e.length-1]}for(let r=e.length-1;r>=0;r-=1){const i=e[r];if(i<t-1)return i}return e[0]}const uk=220,ck=120;function q9(e){return e.filter(t=>t.parentStepId).map(t=>({source:t.parentStepId,target:t.id}))}function F9(e){const t=[...e].sort((n,r)=>n.index-r.index);return t.slice(1).map((n,r)=>({source:t[r].id,target:n.id}))}function $9(e){const t={},n=e.getBoundingClientRect();return e.querySelectorAll(".step-card").forEach(i=>{const s=i.dataset.stepId;if(!s)return;const o=i.getBoundingClientRect();t[s]={left:o.left-n.left,top:o.top-n.top,width:o.width,height:o.height}}),t}function V9(e,t,n){const r=[...q9(e),...F9(e),...rl(e).map(g=>({source:g.source,target:g.target}))],i=ry(e,r,n),s=t.getBoundingClientRect(),o=Math.min(...i.map(g=>g.position.x)),a=Math.min(...i.map(g=>g.position.y)),l=Math.max(...i.map(g=>g.position.x)),u=Math.max(...i.map(g=>g.position.y)),c=l-o+uk,d=u-a+ck,f=Math.max(32,(s.width-c)/2),h=Math.max(24,(s.height-d)/2);return i.reduce((g,p)=>(g[p.id]={left:p.position.x-o+f,top:p.position.y-a+h,width:uk,height:ck},g),{})}function dk(e,t,n){const r=t.trim().toLowerCase();return e.filter(i=>{var o,a,l;return n!=="all"&&i.type!==n?!1:r?[i.name,(o=i.preview)==null?void 0:o.title,(a=i.preview)==null?void 0:a.outputPreview,(l=i.preview)==null?void 0:l.inputPreview].filter(Boolean).join(" ").toLowerCase().includes(r):!0})}function B9(){var aa;const{trace:e,insights:t,loading:n,error:r,reload:i,traces:s,selectedTraceId:o,setSelectedTraceId:a}=D9(),[l,u]=rn("agentDirector.mode","cinema"),[c,d]=S.useState(""),[f,h]=S.useState("all"),[g,p]=S.useState(null),[v,m]=rn("agentDirector.safeExport",!1),[y,x]=S.useState(null),[_,b]=S.useState(!1),[C,k]=S.useState(0),[T,M]=rn("agentDirector.speed",1),[A,I]=rn("agentDirector.windowed",!1),[B,V]=S.useState(2e4),[E,D]=S.useState(!1),[R,L]=S.useState(!1),[P,N]=rn("agentDirector.overlayEnabled",!1),[j,F]=rn("agentDirector.onboarded",!1),[$,O]=rn("agentDirector.tourCompleted",!1),[z,W]=rn("agentDirector.explainMode",!0),[Q,te]=rn("agentDirector.heroDismissed",!1),[ue,se]=rn("agentDirector.dockOpen",!1),oe=!1,[Se,Ee]=rn("agentDirector.introDismissed",oe),[$e,ce]=S.useState(!1),[G,Te]=S.useState(null),[X,Y]=S.useState([]),[ge,ft]=S.useState(null),[Ft,Ue]=S.useState(null),we=S.useRef(null),Xe=S.useRef(null),vt=S.useMemo(()=>e?dk(e.steps,c,f):[],[e,c,f]),en=S.useMemo(()=>y?dk(y.steps,c,f):[],[y,c,f]),Tt=S.useMemo(()=>e?L9(e.startedAt,e.endedAt,e.steps):[],[e]),ht=S.useMemo(()=>!e||!y?null:Jv(e,y),[e,y]),$t=S.useMemo(()=>e?e.steps.find(H=>H.id===g)??null:null,[e,g]);S.useEffect(()=>{Xe.current=y},[y]),S.useEffect(()=>{l==="compare"&&se(!1)},[l,se]);const it=S.useCallback(async H=>{if(!e)return;const Z=await r8(e.id,H,"hybrid",{note:"UI replay"},e);Z&&(x(Z),N(!0),u("flow"))},[e,x,u,N]),me=S.useCallback(()=>{if(!e)return;const H=[...e.steps].sort((Z,le)=>(le.durationMs??0)-(Z.durationMs??0))[0];H&&(p(H.id),u("cinema"))},[e,u]),Ze=S.useCallback(()=>{if(!e||e.steps.length===0)return null;const H=[...e.steps].sort((Z,le)=>(le.durationMs??0)-(Z.durationMs??0))[0];return(H==null?void 0:H.id)??null},[e]),Oe=S.useCallback(()=>{if(!e)return;const H=e.steps.find(Z=>Z.status==="failed");H&&(p(H.id),u("cinema"))},[e,u]),de=S.useCallback(H=>{if(!(H===l||!e)){if(H==="flow"&&b(!1),H==="flow"&&l==="cinema"&&we.current){const Z=we.current,le=$9(Z),Ge=V9(e.steps,Z,e.id);Ue({steps:e.steps,fromRects:le,toRects:Ge});return}u(H)}},[l,e,b,u]),tn=S.useCallback(()=>{l==="flow"&&de("cinema"),b(H=>!H)},[l,de]),He=S.useCallback(()=>{Te(null),Y([]),ft(null),b(!1)},[b]),Nt=S.useCallback(H=>[{id:"setup",label:"Opening the reel",duration:1100,action:()=>{W(!0),b(!1),k(0),p(null),N(!1),M(1),e&&e.steps.length<500&&I(!1),de("cinema")}},{id:"pace",label:"Pacing the timeline",duration:2200,action:()=>{de("cinema"),b(!0),M(1.1)}},{id:"bottleneck",label:"Freeze on the bottleneck",duration:1600,action:()=>{b(!1),me()}},{id:"inspect",label:"Inspect the moment",duration:1600,action:()=>{H&&p(H)}},{id:"flow",label:"Morph into flow",duration:2100,action:()=>{de("flow")}},{id:"replay",label:"Directors Cut replay",duration:2200,action:async()=>{if(!e)return;!Xe.current&&H&&await it(H),N(!0),u("compare")}},{id:"compare",label:"Compare the cut",duration:2e3,action:()=>{b(!0),M(1)}},{id:"finale",label:"Final frame",duration:1100,action:()=>{b(!1)}}],[de,it,me,W,b,u,N,k,p,M,I,e]),Vt=S.useCallback(()=>{var Z;if(!e)return;const H=g??Ze()??((Z=e.steps[0])==null?void 0:Z.id)??null;Y(Nt(H)),Te({active:!0,step:0}),ft(e.id),ce(!1),D(!1),L(!1)},[Nt,Ze,g,e,L,D,Y,Te,ft,ce]),Pn=S.useCallback(()=>{if(G!=null&&G.active){He();return}Vt()},[Vt,He,G==null?void 0:G.active]),Or=S.useMemo(()=>[{id:"header",title:"Mission control",body:"Confirm the run, status, and metadata. Use Guide and Explain to orient the room instantly.",target:'[data-tour="header"]',placement:"bottom"},{id:"insights",title:"Fast diagnosis",body:"Jump straight to bottlenecks, errors, and high-cost steps with one click.",target:'[data-tour="insights"]',placement:"bottom"},{id:"journey",title:"Director journey",body:"A narrative path that teaches how to watch, inspect, and direct a better run.",target:'[data-tour="journey"]',placement:"bottom"},{id:"toolbar",title:"Filters + modes",body:"Search, filter, and switch between Cinema, Flow, and Compare as the story evolves.",target:'[data-tour="toolbar"]',placement:"bottom"},{id:"quick-actions",title:"Quick actions",body:"Launch Story Mode, open the command palette, or jump to bottlenecks instantly.",target:'[data-tour="quick-actions"]',placement:"left"},{id:"stage",title:"Cinema stage",body:"The timeline shows every step as a scene. Scrub to see pacing and concurrency.",target:'[data-tour="stage"]',placement:"top"},{id:"inspector",title:"Inspector",body:"Open any step to read payloads, apply redaction, and replay from that moment.",target:'[data-tour="inspector"]',placement:"left"},{id:"compare",title:"Compare runs",body:y?"Compare is live. Review deltas in cost, steps, and wall time side by side.":"Replay from a step to unlock compare mode and validate improvements.",target:'[data-tour="compare"]',placement:"top"}],[y]),xs=S.useCallback(()=>{Ue(null),u("flow")},[u]);S.useEffect(()=>{if(!e)return;n8(),k(0),b(!1);const H=Math.min(Math.max((e.metadata.wallTimeMs||1)*.2,5e3),6e4);V(H),e.steps.length>500&&I(!0),y||N(!1),l==="compare"&&!y&&u("cinema")},[e,y,l,u,I,N]),S.useEffect(()=>{!$&&Se&&ce(!0)},[$,Se]),S.useEffect(()=>(document.body.classList.toggle("explain-mode",z),()=>{document.body.classList.remove("explain-mode")}),[z]),S.useEffect(()=>(document.body.classList.toggle("story-mode",!!(G!=null&&G.active)),()=>{document.body.classList.remove("story-mode")}),[G==null?void 0:G.active]),S.useEffect(()=>{if(!(G!=null&&G.active))return;const H=X[G.step];if(!H){He();return}Promise.resolve(H.action());const Z=window.setTimeout(()=>{Te(le=>le&&le.active?{...le,step:le.step+1}:le)},H.duration);return()=>window.clearTimeout(Z)},[X,He,G]),S.useEffect(()=>{G!=null&&G.active&&(!e||!ge||e.id!==ge&&He())},[G==null?void 0:G.active,e,ge,He]),S.useEffect(()=>{if(!e)return;const Z=Date.parse(e.startedAt)+C;let le=0,Ge=Number.POSITIVE_INFINITY;e.steps.forEach((st,Qe)=>{const nr=Date.parse(st.startedAt),vn=Date.parse(st.endedAt??st.startedAt);if(Z>=nr&&Z<=vn){le=Qe,Ge=0;return}const la=Math.min(Math.abs(Z-nr),Math.abs(Z-vn));la<Ge&&(Ge=la,le=Qe)}),[le,le-1,le+1].filter(st=>st>=0&&st<e.steps.length).forEach(st=>{const Qe=e.steps[st];Qe&&t8(e.id,Qe.id,v)})},[e,C,v]),S.useEffect(()=>{if(!e||!_||l!=="cinema"&&l!=="compare")return;const H=(y==null?void 0:y.metadata.wallTimeMs)??0,Z=l==="compare"?Math.max(e.metadata.wallTimeMs||1,H||1):e.metadata.wallTimeMs||1;let le=0,Ge=performance.now();const yi=st=>{const Qe=(st-Ge)*T;Ge=st,k(nr=>{const vn=nr+Qe;return vn>=Z?(b(!1),Z):vn}),le=requestAnimationFrame(yi)};return le=requestAnimationFrame(yi),()=>cancelAnimationFrame(le)},[e,y,_,T,l]),S.useEffect(()=>{const H=Z=>{var st;const le=Z.target,Ge=(st=le==null?void 0:le.tagName)==null?void 0:st.toLowerCase();if(!(Ge==="input"||Ge==="textarea"||Ge==="select"||le!=null&&le.isContentEditable)){if((Z.metaKey||Z.ctrlKey)&&Z.key.toLowerCase()==="k"){Z.preventDefault(),L(Qe=>!Qe);return}if(Z.key==="?"||Z.key==="/"&&Z.shiftKey){Z.preventDefault(),D(!0);return}if(Z.key.toLowerCase()==="s"){Z.preventDefault(),Pn();return}if(Z.key.toLowerCase()==="e"){Z.preventDefault(),W(Qe=>!Qe);return}if(Z.key.toLowerCase()==="t"){Z.preventDefault(),ce(!0);return}if(Z.key==="Escape"){D(!1),L(!1),p(null);return}if(Z.key===" "){Z.preventDefault(),(l==="cinema"||l==="compare")&&b(Qe=>!Qe);return}if(Z.key.toLowerCase()==="f"){Z.preventDefault(),l==="flow"?u("cinema"):l==="cinema"&&de("flow");return}if(Z.key.toLowerCase()==="i"){Z.preventDefault(),g?p(null):e!=null&&e.steps.length&&p(e.steps[0].id);return}if(Z.key==="ArrowLeft"||Z.key==="ArrowRight"){if(Z.preventDefault(),!e)return;const Qe=e.metadata.wallTimeMs||1;if(Z.shiftKey){k(Z.key==="ArrowLeft"?0:Qe),b(!1),u("cinema");return}const nr=Z.key==="ArrowRight"?1:-1,vn=O9(Tt,C,nr);vn!=null&&(k(vn),b(!1),u("cinema"))}}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[l,g,e,C,Tt,de,u,W,L,ce,Pn]);const _s=S.useMemo(()=>{if(!e||!A||c)return null;const H=e.metadata.wallTimeMs||1,Z=Math.min(Math.max(B,5e3),H);let le=Math.max(0,C-Z/2);const Ge=Math.min(H,le+Z);return Ge-le<Z&&(le=Math.max(0,Ge-Z)),{startMs:le,endMs:Ge}},[e,A,C,c,B]),wt=!!(G!=null&&G.active),oa=(G==null?void 0:G.step)??0,Wu=((aa=X[oa])==null?void 0:aa.label)??"Wrapping up",Ku=X.length,Yu=S.useMemo(()=>[{id:"story-toggle",label:wt?"Stop story mode":"Start story mode",description:"Auto-runs a cinematic walkthrough.",group:"Story",keys:"S",onTrigger:Pn},{id:"tour-start",label:"Start guided tour",description:"Walk the interface step by step.",group:"Onboarding",keys:"T",onTrigger:()=>ce(!0)},{id:"explain-toggle",label:z?"Disable explain mode":"Enable explain mode",description:"Toggle contextual overlays.",group:"Onboarding",keys:"E",onTrigger:()=>W(H=>!H)},{id:"shortcuts",label:"Show shortcuts",description:"Open the keyboard map.",group:"Onboarding",keys:"?",onTrigger:()=>D(!0)},{id:"playback-toggle",label:_?"Pause playback":"Play playback",description:"Start or stop the run.",group:"Playback",keys:"Space",onTrigger:tn},{id:"mode-cinema",label:"Switch to Cinema",description:"Timeline playback view.",group:"Modes",keys:"C",onTrigger:()=>de("cinema")},{id:"mode-flow",label:"Switch to Flow",description:"Graph dependency view.",group:"Modes",keys:"F",onTrigger:()=>de("flow")},{id:"mode-compare",label:"Open Compare",description:"Side-by-side diff view.",group:"Modes",onTrigger:()=>de("compare"),disabled:!y},{id:"jump-bottleneck",label:"Jump to bottleneck",description:"Select the slowest step.",group:"Navigation",onTrigger:me},{id:"jump-error",label:"Jump to error",description:"Select the first failed step.",group:"Navigation",onTrigger:Oe},{id:"replay-step",label:"Replay from selected step",description:"Branch a Directors Cut.",group:"Tools",onTrigger:()=>g&&it(g),disabled:!g},{id:"overlay-toggle",label:P?"Hide overlay":"Show overlay",description:"Ghost diff in Cinema/Flow.",group:"Tools",onTrigger:()=>N(H=>!H),disabled:!y},{id:"safe-export",label:v?"Disable safe export":"Enable safe export",description:"Redact sensitive payloads.",group:"Safety",onTrigger:()=>m(H=>!H)},{id:"reload",label:"Reload traces",description:"Refresh trace data.",group:"Meta",onTrigger:i}],[wt,Pn,z,_,tn,de,y,me,Oe,g,it,P,v,i,W,N,m,D,ce]);return n?w.jsx("div",{className:"loading",children:"Loading trace..."}):r||!e?w.jsxs("div",{className:"error",children:[w.jsx("p",{children:r??"Failed to load trace."}),w.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Retry"})]}):w.jsxs("div",{className:`app ${z?"explain-mode":""} ${l==="compare"?"mode-compare":""}`,children:[w.jsx(qj,{trace:e,traces:s,selectedTraceId:o,onSelectTrace:a,onReload:i,onStartTour:()=>ce(!0),onToggleStory:Pn,onOpenPalette:()=>L(!0),onToggleExplain:()=>W(H=>!H),explainMode:z,storyActive:wt}),!Se&&!oe?w.jsx(gD,{onComplete:()=>Ee(!0),onStartTour:()=>{Ee(!0),ce(!0)},onStartStory:Vt}):null,Se&&!Q?w.jsx(yD,{explainMode:z,storyActive:wt,onStartTour:()=>{te(!0),ce(!0)},onStartStory:()=>{te(!0),Vt()},onToggleExplain:()=>W(H=>!H),onDismiss:()=>te(!0)}):null,w.jsx(hD,{steps:Or,open:$e,onClose:()=>{ce(!1),O(!0)},onComplete:()=>{ce(!1),O(!0)}}),w.jsx(pD,{enabled:z}),w.jsx(wD,{active:wt,label:Wu,step:oa,total:Ku,onStop:He,onRestart:Vt}),w.jsx(Fj,{insights:t,onSelectStep:H=>{p(H),l!=="cinema"&&u("cinema")},onJumpToError:Oe,onJumpToBottleneck:me}),w.jsx(cD,{trace:e,mode:l,playheadMs:C,selectedStepId:g,compareTrace:y,collapsed:j,onToggleCollapsed:()=>F(H=>!H),onModeChange:de,onSelectStep:H=>{p(H),l!=="cinema"&&u("cinema")},onJumpToBottleneck:me,onReplay:it,onStartTour:()=>ce(!0)}),w.jsxs("div",{className:"toolbar","data-help":!0,"data-help-indicator":!0,"data-tour":"toolbar","data-help-title":"Search + filters","data-help-body":"Filter by step type, enable Safe export, and jump between Cinema, Flow, and Compare.","data-help-placement":"bottom",children:[w.jsx(Vj,{query:c,typeFilter:f,onQueryChange:d,onTypeFilterChange:h}),w.jsxs("div",{className:"toolbar-actions",children:[w.jsx("button",{className:`ghost-button ${l==="cinema"?"active":""}`,type:"button","aria-pressed":l==="cinema",title:"Timeline playback",onClick:()=>de("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view with step cards ordered by time.","data-help-placement":"bottom",children:"Cinema"}),w.jsx("button",{className:`ghost-button ${l==="flow"?"active":""}`,type:"button","aria-pressed":l==="flow",title:"Graph view",onClick:()=>de("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Dependency graph of steps and tool calls.","data-help-placement":"bottom",children:"Flow"}),w.jsx("button",{className:`ghost-button ${l==="compare"?"active":""}`,type:"button","aria-pressed":l==="compare",title:y?"Side-by-side compare":"Run a replay to enable compare",onClick:()=>de("compare"),disabled:!y,"data-tour":"compare","data-help":!0,"data-help-title":"Compare mode","data-help-body":"Side-by-side view after a replay. Enabled once you replay.","data-help-placement":"bottom",children:"Compare"}),w.jsxs("label",{className:"toggle",title:"Redact payloads and disable raw views for safe sharing","data-help":!0,"data-help-title":"Safe export","data-help-body":"Redacts secrets and disables raw payload views for safe sharing.","data-help-placement":"bottom",children:[w.jsx("input",{type:"checkbox",checked:v,onChange:()=>m(H=>!H)}),"Safe export"]}),e.steps.length>200||A?w.jsxs("label",{className:"toggle",title:"Window steps around the playhead for large traces","data-help":!0,"data-help-title":"Windowed mode","data-help-body":"Limits rendering to a playhead window for large traces.","data-help-placement":"bottom",children:[w.jsx("input",{type:"checkbox",checked:A,onChange:()=>I(H=>!H)}),"Windowed"]}):null,y?w.jsxs("label",{className:"toggle",title:"Show ghost overlay of replay in Cinema/Flow","data-help":!0,"data-help-title":"Overlay replay","data-help-body":"Layer the replay over the base run to spot differences.","data-help-placement":"bottom",children:[w.jsx("input",{type:"checkbox",checked:P,onChange:()=>N(H=>!H)}),"Overlay"]}):null]})]}),l==="cinema"?w.jsxs("div",{className:"playback-stack","data-tour":"playback",children:[w.jsx("div",{"data-help":!0,"data-help-title":"Playback controls","data-help-body":"Play, pause, scrub, and adjust speed to feel the rhythm of the run.","data-help-placement":"bottom",children:w.jsx(Hw,{playheadMs:C,wallTimeMs:e.metadata.wallTimeMs||1,isPlaying:_,speed:T,onToggle:()=>b(H=>!H),onScrub:H=>k(H),onSpeedChange:M})}),w.jsx("div",{"data-help":!0,"data-help-title":"Density map","data-help-body":"Zoom into hotspots and keep long traces readable with windowing.","data-help-placement":"bottom",children:w.jsx(rD,{traceStart:e.startedAt,traceEnd:e.endedAt,steps:e.steps,playheadMs:C,windowRange:_s,windowed:A,spanMs:B,onSpanChange:V,onToggleWindowed:I,onScrub:H=>k(H)})})]}):null,l==="compare"&&y?w.jsx("div",{"data-help":!0,"data-help-title":"Compare playback","data-help-body":"Sync both runs to evaluate improvements at identical timestamps.","data-help-placement":"bottom",children:w.jsx(Hw,{playheadMs:C,wallTimeMs:Math.max(e.metadata.wallTimeMs||1,y.metadata.wallTimeMs||1),isPlaying:_,speed:T,onToggle:()=>b(H=>!H),onScrub:H=>k(H),onSpeedChange:M})}):null,w.jsxs("main",{className:`stage ${l==="compare"?"stage-compare":""}`,role:"main",children:[w.jsx("div",{className:"main",ref:we,"data-help":!0,"data-help-indicator":!0,"data-tour":"stage","data-help-title":"Trace stage","data-help-body":"Every step becomes a scene. Hover or click to open deep inspection.","data-help-placement":"top",children:w.jsxs(j9,{morph:Ft,onComplete:xs,children:[l==="cinema"?w.jsx(eD,{trace:e,steps:vt,selectedStepId:g,onSelectStep:H=>p(H),playheadMs:C,windowRange:_s,timing:t==null?void 0:t.timing,ghostTrace:P?y:null,diff:ht}):null,l==="flow"?w.jsx(V6,{steps:vt,selectedStepId:g,onSelectStep:H=>p(H),baseTrace:e,compareTrace:y,compareSteps:en,overlayEnabled:P,onToggleOverlay:()=>N(H=>!H)}):null,l==="compare"&&y?w.jsx(z6,{baseTrace:e,compareTrace:y,playheadMs:C,safeExport:v,onExit:()=>{u("cinema"),x(null)}}):null]})}),l==="compare"?null:$t?w.jsx(o8,{traceId:e.id,step:$t,safeExport:v,onClose:()=>p(null),onReplay:it}):w.jsx(fD,{trace:e,mode:l,selectedStepId:g,onModeChange:de,onSelectStep:H=>p(H),onJumpToBottleneck:me,onReplay:it})]}),w.jsx(vD,{mode:l,isPlaying:_,storyActive:wt,explainMode:z,hidden:l==="compare",open:ue,onToggleOpen:()=>se(H=>!H),onTogglePlay:tn,onStartStory:Vt,onStopStory:He,onStartTour:()=>ce(!0),onOpenPalette:()=>L(!0),onShowShortcuts:()=>D(!0),onToggleExplain:()=>W(H=>!H),onJumpToBottleneck:me}),w.jsx(lD,{open:R,onClose:()=>L(!1),actions:Yu}),w.jsx(sD,{open:E,onClose:()=>D(!1)})]})}Um.createRoot(document.getElementById("root")).render(w.jsx(q.StrictMode,{children:w.jsx(B9,{})}));
