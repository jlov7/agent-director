(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lk={exports:{}},Zl={},uk={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bo=Symbol.for("react.element"),f2=Symbol.for("react.portal"),h2=Symbol.for("react.fragment"),p2=Symbol.for("react.strict_mode"),m2=Symbol.for("react.profiler"),g2=Symbol.for("react.provider"),y2=Symbol.for("react.context"),v2=Symbol.for("react.forward_ref"),w2=Symbol.for("react.suspense"),x2=Symbol.for("react.memo"),_2=Symbol.for("react.lazy"),A0=Symbol.iterator;function S2(e){return e===null||typeof e!="object"?null:(e=A0&&e[A0]||e["@@iterator"],typeof e=="function"?e:null)}var ck={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dk=Object.assign,fk={};function cs(e,t,n){this.props=e,this.context=t,this.refs=fk,this.updater=n||ck}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hk(){}hk.prototype=cs.prototype;function yy(e,t,n){this.props=e,this.context=t,this.refs=fk,this.updater=n||ck}var vy=yy.prototype=new hk;vy.constructor=yy;dk(vy,cs.prototype);vy.isPureReactComponent=!0;var R0=Array.isArray,pk=Object.prototype.hasOwnProperty,wy={current:null},mk={key:!0,ref:!0,__self:!0,__source:!0};function gk(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)pk.call(t,r)&&!mk.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bo,type:e,key:s,ref:o,props:i,_owner:wy.current}}function b2(e,t){return{$$typeof:Bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bo}function E2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var I0=/\/+/g;function Wu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?E2(""+e.key):t.toString(36)}function $a(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bo:case f2:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Wu(o,0):r,R0(i)?(n="",e!=null&&(n=e.replace(I0,"$&/")+"/"),$a(i,t,n,"",function(u){return u})):i!=null&&(xy(i)&&(i=b2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(I0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",R0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Wu(s,a);o+=$a(s,t,n,l,i)}else if(l=S2(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Wu(s,a++),o+=$a(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ua(e,t,n){if(e==null)return e;var r=[],i=0;return $a(e,r,"","",function(s){return t.call(n,s,i++)}),r}function C2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},Va={transition:null},k2={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Va,ReactCurrentOwner:wy};function yk(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:ua,forEach:function(e,t,n){ua(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ua(e,function(){t++}),t},toArray:function(e){return ua(e,function(t){return t})||[]},only:function(e){if(!xy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=cs;ae.Fragment=h2;ae.Profiler=m2;ae.PureComponent=yy;ae.StrictMode=p2;ae.Suspense=w2;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k2;ae.act=yk;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dk({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=wy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)pk.call(t,l)&&!mk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bo,type:e.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:y2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:g2,_context:e},e.Consumer=e};ae.createElement=gk;ae.createFactory=function(e){var t=gk.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:v2,render:e}};ae.isValidElement=xy;ae.lazy=function(e){return{$$typeof:_2,_payload:{_status:-1,_result:e},_init:C2}};ae.memo=function(e,t){return{$$typeof:x2,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Va.transition;Va.transition={};try{e()}finally{Va.transition=t}};ae.unstable_act=yk;ae.useCallback=function(e,t){return gt.current.useCallback(e,t)};ae.useContext=function(e){return gt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return gt.current.useEffect(e,t)};ae.useId=function(){return gt.current.useId()};ae.useImperativeHandle=function(e,t,n){return gt.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return gt.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return gt.current.useReducer(e,t,n)};ae.useRef=function(e){return gt.current.useRef(e)};ae.useState=function(e){return gt.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return gt.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return gt.current.useTransition()};ae.version="18.3.1";uk.exports=ae;var b=uk.exports;const q=gy(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2=b,N2=Symbol.for("react.element"),M2=Symbol.for("react.fragment"),P2=Object.prototype.hasOwnProperty,A2=T2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R2={key:!0,ref:!0,__self:!0,__source:!0};function vk(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)P2.call(t,r)&&!R2.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:N2,type:e,key:s,ref:o,props:i,_owner:A2.current}}Zl.Fragment=M2;Zl.jsx=vk;Zl.jsxs=vk;lk.exports=Zl;var _=lk.exports,$m={},wk={exports:{}},qt={},xk={exports:{}},_k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,N){var j=P.length;P.push(N);e:for(;0<j;){var F=j-1>>>1,$=P[F];if(0<i($,N))P[F]=N,P[j]=$,j=F;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var N=P[0],j=P.pop();if(j!==N){P[0]=j;e:for(var F=0,$=P.length,O=$>>>1;F<O;){var z=2*(F+1)-1,G=P[z],Z=z+1,re=P[Z];if(0>i(G,j))Z<$&&0>i(re,G)?(P[F]=re,P[Z]=j,F=Z):(P[F]=G,P[z]=j,F=z);else if(Z<$&&0>i(re,j))P[F]=re,P[Z]=j,F=Z;else break e}}return N}function i(P,N){var j=P.sortIndex-N.sortIndex;return j!==0?j:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=P)r(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function w(P){if(p=!1,x(P),!g)if(n(l)!==null)g=!0,I(S);else{var N=n(u);N!==null&&L(w,N.startTime-P)}}function S(P,N){g=!1,p&&(p=!1,m(T),T=-1),h=!0;var j=f;try{for(x(N),d=n(l);d!==null&&(!(d.expirationTime>N)||P&&!R());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var $=F(d.expirationTime<=N);N=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(l)&&r(l),x(N)}else r(l);d=n(l)}if(d!==null)var O=!0;else{var z=n(u);z!==null&&L(w,z.startTime-N),O=!1}return O}finally{d=null,f=j,h=!1}}var C=!1,k=null,T=-1,M=5,A=-1;function R(){return!(e.unstable_now()-A<M)}function B(){if(k!==null){var P=e.unstable_now();A=P;var N=!0;try{N=k(!0,P)}finally{N?V():(C=!1,k=null)}}else C=!1}var V;if(typeof y=="function")V=function(){y(B)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,D=E.port2;E.port1.onmessage=B,V=function(){D.postMessage(null)}}else V=function(){v(B,0)};function I(P){k=P,C||(C=!0,V())}function L(P,N){T=v(function(){P(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,I(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var j=f;f=N;try{return P()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=f;f=P;try{return N()}finally{f=j}},e.unstable_scheduleCallback=function(P,N,j){var F=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=j+$,P={id:c++,callback:N,priorityLevel:P,startTime:j,expirationTime:$,sortIndex:-1},j>F?(P.sortIndex=j,t(u,P),n(l)===null&&P===n(u)&&(p?(m(T),T=-1):p=!0,L(w,j-F))):(P.sortIndex=$,t(l,P),g||h||(g=!0,I(S))),P},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(P){var N=f;return function(){var j=f;f=N;try{return P.apply(this,arguments)}finally{f=j}}}})(_k);xk.exports=_k;var I2=xk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2=b,Dt=I2;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sk=new Set,fo={};function ui(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(fo[e]=t,e=0;e<t.length;e++)Sk.add(t[e])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,D2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j0={},D0={};function L2(e){return Vm.call(D0,e)?!0:Vm.call(j0,e)?!1:D2.test(e)?D0[e]=!0:(j0[e]=!0,!1)}function O2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q2(e,t,n,r){if(t===null||typeof t>"u"||O2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _y=/[\-:]([a-z])/g;function Sy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_y,Sy);rt[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_y,Sy);rt[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_y,Sy);rt[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function by(e,t,n,r){var i=rt.hasOwnProperty(t)?rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q2(t,n,i,r)&&(n=null),r||i===null?L2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qn=j2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ca=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),bk=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),Cy=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Um=Symbol.for("react.suspense_list"),ky=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),Ck=Symbol.for("react.offscreen"),L0=Symbol.iterator;function _s(e){return e===null||typeof e!="object"?null:(e=L0&&e[L0]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,Ku;function Ls(e){if(Ku===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ku=t&&t[1]||""}return`
`+Ku+e}var Yu=!1;function Xu(e,t){if(!e||Yu)return"";Yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ls(e):""}function F2(e){switch(e.tag){case 5:return Ls(e.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return e=Xu(e.type,!1),e;case 11:return e=Xu(e.type.render,!1),e;case 1:return e=Xu(e.type,!0),e;default:return""}}function Hm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case bi:return"Portal";case Bm:return"Profiler";case Ey:return"StrictMode";case zm:return"Suspense";case Um:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ek:return(e.displayName||"Context")+".Consumer";case bk:return(e._context.displayName||"Context")+".Provider";case Cy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ky:return t=e.displayName||null,t!==null?t:Hm(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return Hm(e(t))}catch{}}return null}function $2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hm(t);case 8:return t===Ey?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V2(e){var t=kk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function da(e){e._valueTracker||(e._valueTracker=V2(e))}function Tk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gm(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function O0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nk(e,t){t=t.checked,t!=null&&by(e,"checked",t,!1)}function Wm(e,t){Nk(e,t);var n=Nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Km(e,t.type,n):t.hasOwnProperty("defaultValue")&&Km(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function q0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Km(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Os=Array.isArray;function Vi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ym(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function F0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Os(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nr(n)}}function Mk(e,t){var n=Nr(t.value),r=Nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fa,Ak=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B2=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(e){B2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qs[t]=Qs[e]})});function Rk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qs.hasOwnProperty(e)&&Qs[e]?(""+t).trim():t+"px"}function Ik(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var z2=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zm(e,t){if(t){if(z2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Qm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jm=null;function Ty(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eg=null,Bi=null,zi=null;function V0(e){if(e=Ho(e)){if(typeof eg!="function")throw Error(U(280));var t=e.stateNode;t&&(t=nu(t),eg(e.stateNode,e.type,t))}}function jk(e){Bi?zi?zi.push(e):zi=[e]:Bi=e}function Dk(){if(Bi){var e=Bi,t=zi;if(zi=Bi=null,V0(e),t)for(e=0;e<t.length;e++)V0(t[e])}}function Lk(e,t){return e(t)}function Ok(){}var Zu=!1;function qk(e,t,n){if(Zu)return e(t,n);Zu=!0;try{return Lk(e,t,n)}finally{Zu=!1,(Bi!==null||zi!==null)&&(Ok(),Dk())}}function po(e,t){var n=e.stateNode;if(n===null)return null;var r=nu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var tg=!1;if(Un)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){tg=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{tg=!1}function U2(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Js=!1,al=null,ll=!1,ng=null,H2={onError:function(e){Js=!0,al=e}};function G2(e,t,n,r,i,s,o,a,l){Js=!1,al=null,U2.apply(H2,arguments)}function W2(e,t,n,r,i,s,o,a,l){if(G2.apply(this,arguments),Js){if(Js){var u=al;Js=!1,al=null}else throw Error(U(198));ll||(ll=!0,ng=u)}}function ci(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B0(e){if(ci(e)!==e)throw Error(U(188))}function K2(e){var t=e.alternate;if(!t){if(t=ci(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return B0(i),e;if(s===r)return B0(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function $k(e){return e=K2(e),e!==null?Vk(e):null}function Vk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vk(e);if(t!==null)return t;e=e.sibling}return null}var Bk=Dt.unstable_scheduleCallback,z0=Dt.unstable_cancelCallback,Y2=Dt.unstable_shouldYield,X2=Dt.unstable_requestPaint,qe=Dt.unstable_now,Z2=Dt.unstable_getCurrentPriorityLevel,Ny=Dt.unstable_ImmediatePriority,zk=Dt.unstable_UserBlockingPriority,ul=Dt.unstable_NormalPriority,Q2=Dt.unstable_LowPriority,Uk=Dt.unstable_IdlePriority,Ql=null,_n=null;function J2(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Ql,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:nI,eI=Math.log,tI=Math.LN2;function nI(e){return e>>>=0,e===0?32:31-(eI(e)/tI|0)|0}var ha=64,pa=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qs(a):(s&=o,s!==0&&(r=qs(s)))}else o=n&~i,o!==0?r=qs(o):s!==0&&(r=qs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ln(t),i=1<<n,r|=e[n],t&=~i;return r}function rI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=rI(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function rg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hk(){var e=ha;return ha<<=1,!(ha&4194240)&&(ha=64),e}function Qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=n}function sI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ln(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function My(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ln(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var he=0;function Gk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wk,Py,Kk,Yk,Xk,ig=!1,ma=[],vr=null,wr=null,xr=null,mo=new Map,go=new Map,fr=[],oI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U0(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function bs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ho(t),t!==null&&Py(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function aI(e,t,n,r,i){switch(t){case"focusin":return vr=bs(vr,e,t,n,r,i),!0;case"dragenter":return wr=bs(wr,e,t,n,r,i),!0;case"mouseover":return xr=bs(xr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return mo.set(s,bs(mo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,go.set(s,bs(go.get(s)||null,e,t,n,r,i)),!0}return!1}function Zk(e){var t=Ur(e.target);if(t!==null){var n=ci(t);if(n!==null){if(t=n.tag,t===13){if(t=Fk(n),t!==null){e.blockedOn=t,Xk(e.priority,function(){Kk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jm=r,n.target.dispatchEvent(r),Jm=null}else return t=Ho(n),t!==null&&Py(t),e.blockedOn=n,!1;t.shift()}return!0}function H0(e,t,n){Ba(e)&&n.delete(t)}function lI(){ig=!1,vr!==null&&Ba(vr)&&(vr=null),wr!==null&&Ba(wr)&&(wr=null),xr!==null&&Ba(xr)&&(xr=null),mo.forEach(H0),go.forEach(H0)}function Es(e,t){e.blockedOn===t&&(e.blockedOn=null,ig||(ig=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,lI)))}function yo(e){function t(i){return Es(i,e)}if(0<ma.length){Es(ma[0],e);for(var n=1;n<ma.length;n++){var r=ma[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vr!==null&&Es(vr,e),wr!==null&&Es(wr,e),xr!==null&&Es(xr,e),mo.forEach(t),go.forEach(t),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)Zk(n),n.blockedOn===null&&fr.shift()}var Ui=Qn.ReactCurrentBatchConfig,dl=!0;function uI(e,t,n,r){var i=he,s=Ui.transition;Ui.transition=null;try{he=1,Ay(e,t,n,r)}finally{he=i,Ui.transition=s}}function cI(e,t,n,r){var i=he,s=Ui.transition;Ui.transition=null;try{he=4,Ay(e,t,n,r)}finally{he=i,Ui.transition=s}}function Ay(e,t,n,r){if(dl){var i=sg(e,t,n,r);if(i===null)lc(e,t,r,fl,n),U0(e,r);else if(aI(i,e,t,n,r))r.stopPropagation();else if(U0(e,r),t&4&&-1<oI.indexOf(e)){for(;i!==null;){var s=Ho(i);if(s!==null&&Wk(s),s=sg(e,t,n,r),s===null&&lc(e,t,r,fl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lc(e,t,r,null,n)}}var fl=null;function sg(e,t,n,r){if(fl=null,e=Ty(r),e=Ur(e),e!==null)if(t=ci(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fl=e,null}function Qk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z2()){case Ny:return 1;case zk:return 4;case ul:case Q2:return 16;case Uk:return 536870912;default:return 16}default:return 16}}var gr=null,Ry=null,za=null;function Jk(){if(za)return za;var e,t=Ry,n=t.length,r,i="value"in gr?gr.value:gr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return za=i.slice(e,1<r?1-r:void 0)}function Ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ga(){return!0}function G0(){return!1}function Ft(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ga:G0,this.isPropagationStopped=G0,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iy=Ft(ds),Uo=Me({},ds,{view:0,detail:0}),dI=Ft(Uo),Ju,ec,Cs,Jl=Me({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(Ju=e.screenX-Cs.screenX,ec=e.screenY-Cs.screenY):ec=Ju=0,Cs=e),Ju)},movementY:function(e){return"movementY"in e?e.movementY:ec}}),W0=Ft(Jl),fI=Me({},Jl,{dataTransfer:0}),hI=Ft(fI),pI=Me({},Uo,{relatedTarget:0}),tc=Ft(pI),mI=Me({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),gI=Ft(mI),yI=Me({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vI=Ft(yI),wI=Me({},ds,{data:0}),K0=Ft(wI),xI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SI[e])?!!t[e]:!1}function jy(){return bI}var EI=Me({},Uo,{key:function(e){if(e.key){var t=xI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_I[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jy,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CI=Ft(EI),kI=Me({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=Ft(kI),TI=Me({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jy}),NI=Ft(TI),MI=Me({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),PI=Ft(MI),AI=Me({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RI=Ft(AI),II=[9,13,27,32],Dy=Un&&"CompositionEvent"in window,eo=null;Un&&"documentMode"in document&&(eo=document.documentMode);var jI=Un&&"TextEvent"in window&&!eo,eT=Un&&(!Dy||eo&&8<eo&&11>=eo),X0=" ",Z0=!1;function tT(e,t){switch(e){case"keyup":return II.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function DI(e,t){switch(e){case"compositionend":return nT(t);case"keypress":return t.which!==32?null:(Z0=!0,X0);case"textInput":return e=t.data,e===X0&&Z0?null:e;default:return null}}function LI(e,t){if(Ci)return e==="compositionend"||!Dy&&tT(e,t)?(e=Jk(),za=Ry=gr=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eT&&t.locale!=="ko"?null:t.data;default:return null}}var OI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OI[e.type]:t==="textarea"}function rT(e,t,n,r){jk(r),t=hl(t,"onChange"),0<t.length&&(n=new Iy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var to=null,vo=null;function qI(e){pT(e,0)}function eu(e){var t=Ni(e);if(Tk(t))return e}function FI(e,t){if(e==="change")return t}var iT=!1;if(Un){var nc;if(Un){var rc="oninput"in document;if(!rc){var J0=document.createElement("div");J0.setAttribute("oninput","return;"),rc=typeof J0.oninput=="function"}nc=rc}else nc=!1;iT=nc&&(!document.documentMode||9<document.documentMode)}function ew(){to&&(to.detachEvent("onpropertychange",sT),vo=to=null)}function sT(e){if(e.propertyName==="value"&&eu(vo)){var t=[];rT(t,vo,e,Ty(e)),qk(qI,t)}}function $I(e,t,n){e==="focusin"?(ew(),to=t,vo=n,to.attachEvent("onpropertychange",sT)):e==="focusout"&&ew()}function VI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eu(vo)}function BI(e,t){if(e==="click")return eu(t)}function zI(e,t){if(e==="input"||e==="change")return eu(t)}function UI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:UI;function wo(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vm.call(t,i)||!dn(e[i],t[i]))return!1}return!0}function tw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nw(e,t){var n=tw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tw(n)}}function oT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aT(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function Ly(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HI(e){var t=aT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&oT(n.ownerDocument.documentElement,n)){if(r!==null&&Ly(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nw(n,s);var o=nw(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GI=Un&&"documentMode"in document&&11>=document.documentMode,ki=null,og=null,no=null,ag=!1;function rw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ag||ki==null||ki!==ol(r)||(r=ki,"selectionStart"in r&&Ly(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),no&&wo(no,r)||(no=r,r=hl(og,"onSelect"),0<r.length&&(t=new Iy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ki)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ti={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},ic={},lT={};Un&&(lT=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function tu(e){if(ic[e])return ic[e];if(!Ti[e])return e;var t=Ti[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lT)return ic[e]=t[n];return e}var uT=tu("animationend"),cT=tu("animationiteration"),dT=tu("animationstart"),fT=tu("transitionend"),hT=new Map,iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){hT.set(e,t),ui(t,[e])}for(var sc=0;sc<iw.length;sc++){var oc=iw[sc],WI=oc.toLowerCase(),KI=oc[0].toUpperCase()+oc.slice(1);Ir(WI,"on"+KI)}Ir(uT,"onAnimationEnd");Ir(cT,"onAnimationIteration");Ir(dT,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(fT,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function sw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,W2(r,t,void 0,e),e.currentTarget=null}function pT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sw(i,a,u),s=l}}}if(ll)throw e=ng,ll=!1,ng=null,e}function we(e,t){var n=t[fg];n===void 0&&(n=t[fg]=new Set);var r=e+"__bubble";n.has(r)||(mT(t,e,2,!1),n.add(r))}function ac(e,t,n){var r=0;t&&(r|=4),mT(n,e,r,t)}var va="_reactListening"+Math.random().toString(36).slice(2);function xo(e){if(!e[va]){e[va]=!0,Sk.forEach(function(n){n!=="selectionchange"&&(YI.has(n)||ac(n,!1,e),ac(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[va]||(t[va]=!0,ac("selectionchange",!1,t))}}function mT(e,t,n,r){switch(Qk(t)){case 1:var i=uI;break;case 4:i=cI;break;default:i=Ay}n=i.bind(null,t,n,e),i=void 0,!tg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ur(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qk(function(){var u=s,c=Ty(n),d=[];e:{var f=hT.get(e);if(f!==void 0){var h=Iy,g=e;switch(e){case"keypress":if(Ua(n)===0)break e;case"keydown":case"keyup":h=CI;break;case"focusin":g="focus",h=tc;break;case"focusout":g="blur",h=tc;break;case"beforeblur":case"afterblur":h=tc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=hI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=NI;break;case uT:case cT:case dT:h=gI;break;case fT:h=PI;break;case"scroll":h=dI;break;case"wheel":h=RI;break;case"copy":case"cut":case"paste":h=vI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Y0}var p=(t&4)!==0,v=!p&&e==="scroll",m=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,x;y!==null;){x=y;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=po(y,m),w!=null&&p.push(_o(y,w,x)))),v)break;y=y.return}0<p.length&&(f=new h(f,g,null,n,c),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Jm&&(g=n.relatedTarget||n.fromElement)&&(Ur(g)||g[Hn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Ur(g):null,g!==null&&(v=ci(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(p=W0,w="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=Y0,w="onPointerLeave",m="onPointerEnter",y="pointer"),v=h==null?f:Ni(h),x=g==null?f:Ni(g),f=new p(w,y+"leave",h,n,c),f.target=v,f.relatedTarget=x,w=null,Ur(c)===u&&(p=new p(m,y+"enter",g,n,c),p.target=x,p.relatedTarget=v,w=p),v=w,h&&g)t:{for(p=h,m=g,y=0,x=p;x;x=vi(x))y++;for(x=0,w=m;w;w=vi(w))x++;for(;0<y-x;)p=vi(p),y--;for(;0<x-y;)m=vi(m),x--;for(;y--;){if(p===m||m!==null&&p===m.alternate)break t;p=vi(p),m=vi(m)}p=null}else p=null;h!==null&&ow(d,f,h,p,!1),g!==null&&v!==null&&ow(d,v,g,p,!0)}}e:{if(f=u?Ni(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=FI;else if(Q0(f))if(iT)S=zI;else{S=VI;var C=$I}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=BI);if(S&&(S=S(e,u))){rT(d,S,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Km(f,"number",f.value)}switch(C=u?Ni(u):window,e){case"focusin":(Q0(C)||C.contentEditable==="true")&&(ki=C,og=u,no=null);break;case"focusout":no=og=ki=null;break;case"mousedown":ag=!0;break;case"contextmenu":case"mouseup":case"dragend":ag=!1,rw(d,n,c);break;case"selectionchange":if(GI)break;case"keydown":case"keyup":rw(d,n,c)}var k;if(Dy)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ci?tT(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(eT&&n.locale!=="ko"&&(Ci||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ci&&(k=Jk()):(gr=c,Ry="value"in gr?gr.value:gr.textContent,Ci=!0)),C=hl(u,T),0<C.length&&(T=new K0(T,e,null,n,c),d.push({event:T,listeners:C}),k?T.data=k:(k=nT(n),k!==null&&(T.data=k)))),(k=jI?DI(e,n):LI(e,n))&&(u=hl(u,"onBeforeInput"),0<u.length&&(c=new K0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}pT(d,t)})}function _o(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=po(e,n),s!=null&&r.unshift(_o(e,s,i)),s=po(e,t),s!=null&&r.push(_o(e,s,i))),e=e.return}return r}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ow(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=po(n,s),l!=null&&o.unshift(_o(n,l,a))):i||(l=po(n,s),l!=null&&o.push(_o(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var XI=/\r\n?/g,ZI=/\u0000|\uFFFD/g;function aw(e){return(typeof e=="string"?e:""+e).replace(XI,`
`).replace(ZI,"")}function wa(e,t,n){if(t=aw(t),aw(e)!==t&&n)throw Error(U(425))}function pl(){}var lg=null,ug=null;function cg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dg=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(e){return lw.resolve(null).then(e).catch(ej)}:dg;function ej(e){setTimeout(function(){throw e})}function uc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),yo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yo(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),wn="__reactFiber$"+fs,So="__reactProps$"+fs,Hn="__reactContainer$"+fs,fg="__reactEvents$"+fs,tj="__reactListeners$"+fs,nj="__reactHandles$"+fs;function Ur(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uw(e);e!==null;){if(n=e[wn])return n;e=uw(e)}return t}e=n,n=e.parentNode}return null}function Ho(e){return e=e[wn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function nu(e){return e[So]||null}var hg=[],Mi=-1;function jr(e){return{current:e}}function xe(e){0>Mi||(e.current=hg[Mi],hg[Mi]=null,Mi--)}function ye(e,t){Mi++,hg[Mi]=e.current,e.current=t}var Mr={},ht=jr(Mr),Et=jr(!1),ni=Mr;function Zi(e,t){var n=e.type.contextTypes;if(!n)return Mr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(e){return e=e.childContextTypes,e!=null}function ml(){xe(Et),xe(ht)}function cw(e,t,n){if(ht.current!==Mr)throw Error(U(168));ye(ht,t),ye(Et,n)}function gT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,$2(e)||"Unknown",i));return Me({},n,r)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mr,ni=ht.current,ye(ht,e),ye(Et,Et.current),!0}function dw(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=gT(e,t,ni),r.__reactInternalMemoizedMergedChildContext=e,xe(Et),xe(ht),ye(ht,e)):xe(Et),ye(Et,n)}var In=null,ru=!1,cc=!1;function yT(e){In===null?In=[e]:In.push(e)}function rj(e){ru=!0,yT(e)}function Dr(){if(!cc&&In!==null){cc=!0;var e=0,t=he;try{var n=In;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}In=null,ru=!1}catch(i){throw In!==null&&(In=In.slice(e+1)),Bk(Ny,Dr),i}finally{he=t,cc=!1}}return null}var Pi=[],Ai=0,yl=null,vl=0,zt=[],Ut=0,ri=null,Dn=1,Ln="";function Fr(e,t){Pi[Ai++]=vl,Pi[Ai++]=yl,yl=e,vl=t}function vT(e,t,n){zt[Ut++]=Dn,zt[Ut++]=Ln,zt[Ut++]=ri,ri=e;var r=Dn;e=Ln;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var s=32-ln(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-ln(t)+i|n<<i|r,Ln=s+e}else Dn=1<<s|n<<i|r,Ln=e}function Oy(e){e.return!==null&&(Fr(e,1),vT(e,1,0))}function qy(e){for(;e===yl;)yl=Pi[--Ai],Pi[Ai]=null,vl=Pi[--Ai],Pi[Ai]=null;for(;e===ri;)ri=zt[--Ut],zt[Ut]=null,Ln=zt[--Ut],zt[Ut]=null,Dn=zt[--Ut],zt[Ut]=null}var It=null,Rt=null,be=!1,on=null;function wT(e,t){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Rt=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ri!==null?{id:Dn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,It=e,Rt=null,!0):!1;default:return!1}}function pg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mg(e){if(be){var t=Rt;if(t){var n=t;if(!fw(e,t)){if(pg(e))throw Error(U(418));t=_r(n.nextSibling);var r=It;t&&fw(e,t)?wT(r,n):(e.flags=e.flags&-4097|2,be=!1,It=e)}}else{if(pg(e))throw Error(U(418));e.flags=e.flags&-4097|2,be=!1,It=e}}}function hw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function xa(e){if(e!==It)return!1;if(!be)return hw(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cg(e.type,e.memoizedProps)),t&&(t=Rt)){if(pg(e))throw xT(),Error(U(418));for(;t;)wT(e,t),t=_r(t.nextSibling)}if(hw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rt=_r(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=It?_r(e.stateNode.nextSibling):null;return!0}function xT(){for(var e=Rt;e;)e=_r(e.nextSibling)}function Qi(){Rt=It=null,be=!1}function Fy(e){on===null?on=[e]:on.push(e)}var ij=Qn.ReactCurrentBatchConfig;function ks(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function _a(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pw(e){var t=e._init;return t(e._payload)}function _T(e){function t(m,y){if(e){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Cr(m,y),m.index=0,m.sibling=null,m}function s(m,y,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,x,w){return y===null||y.tag!==6?(y=yc(x,m.mode,w),y.return=m,y):(y=i(y,x),y.return=m,y)}function l(m,y,x,w){var S=x.type;return S===Ei?c(m,y,x.props.children,w,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lr&&pw(S)===y.type)?(w=i(y,x.props),w.ref=ks(m,y,x),w.return=m,w):(w=Za(x.type,x.key,x.props,null,m.mode,w),w.ref=ks(m,y,x),w.return=m,w)}function u(m,y,x,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=vc(x,m.mode,w),y.return=m,y):(y=i(y,x.children||[]),y.return=m,y)}function c(m,y,x,w,S){return y===null||y.tag!==7?(y=Qr(x,m.mode,w,S),y.return=m,y):(y=i(y,x),y.return=m,y)}function d(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=yc(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ca:return x=Za(y.type,y.key,y.props,null,m.mode,x),x.ref=ks(m,null,y),x.return=m,x;case bi:return y=vc(y,m.mode,x),y.return=m,y;case lr:var w=y._init;return d(m,w(y._payload),x)}if(Os(y)||_s(y))return y=Qr(y,m.mode,x,null),y.return=m,y;_a(m,y)}return null}function f(m,y,x,w){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(m,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ca:return x.key===S?l(m,y,x,w):null;case bi:return x.key===S?u(m,y,x,w):null;case lr:return S=x._init,f(m,y,S(x._payload),w)}if(Os(x)||_s(x))return S!==null?null:c(m,y,x,w,null);_a(m,x)}return null}function h(m,y,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,a(y,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ca:return m=m.get(w.key===null?x:w.key)||null,l(y,m,w,S);case bi:return m=m.get(w.key===null?x:w.key)||null,u(y,m,w,S);case lr:var C=w._init;return h(m,y,x,C(w._payload),S)}if(Os(w)||_s(w))return m=m.get(x)||null,c(y,m,w,S,null);_a(y,w)}return null}function g(m,y,x,w){for(var S=null,C=null,k=y,T=y=0,M=null;k!==null&&T<x.length;T++){k.index>T?(M=k,k=null):M=k.sibling;var A=f(m,k,x[T],w);if(A===null){k===null&&(k=M);break}e&&k&&A.alternate===null&&t(m,k),y=s(A,y,T),C===null?S=A:C.sibling=A,C=A,k=M}if(T===x.length)return n(m,k),be&&Fr(m,T),S;if(k===null){for(;T<x.length;T++)k=d(m,x[T],w),k!==null&&(y=s(k,y,T),C===null?S=k:C.sibling=k,C=k);return be&&Fr(m,T),S}for(k=r(m,k);T<x.length;T++)M=h(k,m,T,x[T],w),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?T:M.key),y=s(M,y,T),C===null?S=M:C.sibling=M,C=M);return e&&k.forEach(function(R){return t(m,R)}),be&&Fr(m,T),S}function p(m,y,x,w){var S=_s(x);if(typeof S!="function")throw Error(U(150));if(x=S.call(x),x==null)throw Error(U(151));for(var C=S=null,k=y,T=y=0,M=null,A=x.next();k!==null&&!A.done;T++,A=x.next()){k.index>T?(M=k,k=null):M=k.sibling;var R=f(m,k,A.value,w);if(R===null){k===null&&(k=M);break}e&&k&&R.alternate===null&&t(m,k),y=s(R,y,T),C===null?S=R:C.sibling=R,C=R,k=M}if(A.done)return n(m,k),be&&Fr(m,T),S;if(k===null){for(;!A.done;T++,A=x.next())A=d(m,A.value,w),A!==null&&(y=s(A,y,T),C===null?S=A:C.sibling=A,C=A);return be&&Fr(m,T),S}for(k=r(m,k);!A.done;T++,A=x.next())A=h(k,m,T,A.value,w),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?T:A.key),y=s(A,y,T),C===null?S=A:C.sibling=A,C=A);return e&&k.forEach(function(B){return t(m,B)}),be&&Fr(m,T),S}function v(m,y,x,w){if(typeof x=="object"&&x!==null&&x.type===Ei&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ca:e:{for(var S=x.key,C=y;C!==null;){if(C.key===S){if(S=x.type,S===Ei){if(C.tag===7){n(m,C.sibling),y=i(C,x.props.children),y.return=m,m=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lr&&pw(S)===C.type){n(m,C.sibling),y=i(C,x.props),y.ref=ks(m,C,x),y.return=m,m=y;break e}n(m,C);break}else t(m,C);C=C.sibling}x.type===Ei?(y=Qr(x.props.children,m.mode,w,x.key),y.return=m,m=y):(w=Za(x.type,x.key,x.props,null,m.mode,w),w.ref=ks(m,y,x),w.return=m,m=w)}return o(m);case bi:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(m,y.sibling),y=i(y,x.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=vc(x,m.mode,w),y.return=m,m=y}return o(m);case lr:return C=x._init,v(m,y,C(x._payload),w)}if(Os(x))return g(m,y,x,w);if(_s(x))return p(m,y,x,w);_a(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,x),y.return=m,m=y):(n(m,y),y=yc(x,m.mode,w),y.return=m,m=y),o(m)):n(m,y)}return v}var Ji=_T(!0),ST=_T(!1),wl=jr(null),xl=null,Ri=null,$y=null;function Vy(){$y=Ri=xl=null}function By(e){var t=wl.current;xe(wl),e._currentValue=t}function gg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hi(e,t){xl=e,$y=Ri=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if($y!==e)if(e={context:e,memoizedValue:t,next:null},Ri===null){if(xl===null)throw Error(U(308));Ri=e,xl.dependencies={lanes:0,firstContext:e}}else Ri=Ri.next=e;return t}var Hr=null;function zy(e){Hr===null?Hr=[e]:Hr.push(e)}function bT(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,zy(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gn(e,r)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ur=!1;function Uy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ET(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gn(e,n)}return i=r.interleaved,i===null?(t.next=t,zy(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gn(e,n)}function Ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,My(e,n)}}function mw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _l(e,t,n,r){var i=e.updateQueue;ur=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,p=a;switch(f=t,h=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=Me({},d,f);break e;case 2:ur=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);si|=o,e.lanes=o,e.memoizedState=d}}function gw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Go={},Sn=jr(Go),bo=jr(Go),Eo=jr(Go);function Gr(e){if(e===Go)throw Error(U(174));return e}function Hy(e,t){switch(ye(Eo,t),ye(bo,e),ye(Sn,Go),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xm(t,e)}xe(Sn),ye(Sn,t)}function es(){xe(Sn),xe(bo),xe(Eo)}function CT(e){Gr(Eo.current);var t=Gr(Sn.current),n=Xm(t,e.type);t!==n&&(ye(bo,e),ye(Sn,n))}function Gy(e){bo.current===e&&(xe(Sn),xe(bo))}var ke=jr(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dc=[];function Wy(){for(var e=0;e<dc.length;e++)dc[e]._workInProgressVersionPrimary=null;dc.length=0}var Ga=Qn.ReactCurrentDispatcher,fc=Qn.ReactCurrentBatchConfig,ii=0,Ne=null,Ue=null,Ke=null,bl=!1,ro=!1,Co=0,sj=0;function lt(){throw Error(U(321))}function Ky(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function Yy(e,t,n,r,i,s){if(ii=s,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=e===null||e.memoizedState===null?uj:cj,e=n(r,i),ro){s=0;do{if(ro=!1,Co=0,25<=s)throw Error(U(301));s+=1,Ke=Ue=null,t.updateQueue=null,Ga.current=dj,e=n(r,i)}while(ro)}if(Ga.current=El,t=Ue!==null&&Ue.next!==null,ii=0,Ke=Ue=Ne=null,bl=!1,t)throw Error(U(300));return e}function Xy(){var e=Co!==0;return Co=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ne.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Xt(){if(Ue===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ke===null?Ne.memoizedState:Ke.next;if(t!==null)Ke=t,Ue=e;else{if(e===null)throw Error(U(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?Ne.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ko(e,t){return typeof t=="function"?t(e):t}function hc(e){var t=Xt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ii&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ne.lanes|=c,si|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,dn(r,t.memoizedState)||(St=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ne.lanes|=s,si|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pc(e){var t=Xt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);dn(s,t.memoizedState)||(St=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function kT(){}function TT(e,t){var n=Ne,r=Xt(),i=t(),s=!dn(r.memoizedState,i);if(s&&(r.memoizedState=i,St=!0),r=r.queue,Zy(PT.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,To(9,MT.bind(null,n,r,i,t),void 0,null),Ye===null)throw Error(U(349));ii&30||NT(n,t,i)}return i}function NT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MT(e,t,n,r){t.value=n,t.getSnapshot=r,AT(t)&&RT(e)}function PT(e,t,n){return n(function(){AT(t)&&RT(e)})}function AT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function RT(e){var t=Gn(e,1);t!==null&&un(t,e,1,-1)}function yw(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=lj.bind(null,Ne,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function IT(){return Xt().memoizedState}function Wa(e,t,n,r){var i=vn();Ne.flags|=e,i.memoizedState=To(1|t,n,void 0,r===void 0?null:r)}function iu(e,t,n,r){var i=Xt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Ky(r,o.deps)){i.memoizedState=To(t,n,s,r);return}}Ne.flags|=e,i.memoizedState=To(1|t,n,s,r)}function vw(e,t){return Wa(8390656,8,e,t)}function Zy(e,t){return iu(2048,8,e,t)}function jT(e,t){return iu(4,2,e,t)}function DT(e,t){return iu(4,4,e,t)}function LT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OT(e,t,n){return n=n!=null?n.concat([e]):null,iu(4,4,LT.bind(null,t,e),n)}function Qy(){}function qT(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ky(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FT(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ky(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $T(e,t,n){return ii&21?(dn(n,t)||(n=Hk(),Ne.lanes|=n,si|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=n)}function oj(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=fc.transition;fc.transition={};try{e(!1),t()}finally{he=n,fc.transition=r}}function VT(){return Xt().memoizedState}function aj(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BT(e))zT(t,n);else if(n=bT(e,t,n,r),n!==null){var i=mt();un(n,e,r,i),UT(n,t,r)}}function lj(e,t,n){var r=Er(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BT(e))zT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,dn(a,o)){var l=t.interleaved;l===null?(i.next=i,zy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=bT(e,t,i,r),n!==null&&(i=mt(),un(n,e,r,i),UT(n,t,r))}}function BT(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function zT(e,t){ro=bl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function UT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,My(e,n)}}var El={readContext:Yt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},uj={readContext:Yt,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:vw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wa(4194308,4,LT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wa(4,2,e,t)},useMemo:function(e,t){var n=vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=aj.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:yw,useDebugValue:Qy,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=yw(!1),t=e[0];return e=oj.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,i=vn();if(be){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ye===null)throw Error(U(349));ii&30||NT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,vw(PT.bind(null,r,s,e),[e]),r.flags|=2048,To(9,MT.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vn(),t=Ye.identifierPrefix;if(be){var n=Ln,r=Dn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cj={readContext:Yt,useCallback:qT,useContext:Yt,useEffect:Zy,useImperativeHandle:OT,useInsertionEffect:jT,useLayoutEffect:DT,useMemo:FT,useReducer:hc,useRef:IT,useState:function(){return hc(ko)},useDebugValue:Qy,useDeferredValue:function(e){var t=Xt();return $T(t,Ue.memoizedState,e)},useTransition:function(){var e=hc(ko)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:kT,useSyncExternalStore:TT,useId:VT,unstable_isNewReconciler:!1},dj={readContext:Yt,useCallback:qT,useContext:Yt,useEffect:Zy,useImperativeHandle:OT,useInsertionEffect:jT,useLayoutEffect:DT,useMemo:FT,useReducer:pc,useRef:IT,useState:function(){return pc(ko)},useDebugValue:Qy,useDeferredValue:function(e){var t=Xt();return Ue===null?t.memoizedState=e:$T(t,Ue.memoizedState,e)},useTransition:function(){var e=pc(ko)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:kT,useSyncExternalStore:TT,useId:VT,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var su={isMounted:function(e){return(e=e._reactInternals)?ci(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),i=Er(e),s=$n(r,i);s.payload=t,n!=null&&(s.callback=n),t=Sr(e,s,i),t!==null&&(un(t,e,i,r),Ha(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),i=Er(e),s=$n(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Sr(e,s,i),t!==null&&(un(t,e,i,r),Ha(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=Er(e),i=$n(n,r);i.tag=2,t!=null&&(i.callback=t),t=Sr(e,i,r),t!==null&&(un(t,e,r,n),Ha(t,e,r))}};function ww(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!wo(n,r)||!wo(i,s):!0}function HT(e,t,n){var r=!1,i=Mr,s=t.contextType;return typeof s=="object"&&s!==null?s=Yt(s):(i=Ct(t)?ni:ht.current,r=t.contextTypes,s=(r=r!=null)?Zi(e,i):Mr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=su,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function xw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&su.enqueueReplaceState(t,t.state,null)}function vg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Uy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Yt(s):(s=Ct(t)?ni:ht.current,i.context=Zi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yg(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&su.enqueueReplaceState(i,i.state,null),_l(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=F2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function mc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fj=typeof WeakMap=="function"?WeakMap:Map;function GT(e,t,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kl||(kl=!0,Mg=r),wg(e,t)},n}function WT(e,t,n){n=$n(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){wg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wg(e,t),typeof r!="function"&&(br===null?br=new Set([this]):br.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function _w(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kj.bind(null,e,t,n),t.then(e,e))}function Sw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$n(-1,1),t.tag=2,Sr(n,t,1))),n.lanes|=1),e)}var hj=Qn.ReactCurrentOwner,St=!1;function pt(e,t,n,r){t.child=e===null?ST(t,null,n,r):Ji(t,e.child,n,r)}function Ew(e,t,n,r,i){n=n.render;var s=t.ref;return Hi(t,i),r=Yy(e,t,n,r,s,i),n=Xy(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(be&&n&&Oy(t),t.flags|=1,pt(e,t,r,i),t.child)}function Cw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ov(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,KT(e,t,s,r,i)):(e=Za(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(o,r)&&e.ref===t.ref)return Wn(e,t,i)}return t.flags|=1,e=Cr(s,r),e.ref=t.ref,e.return=t,t.child=e}function KT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(wo(s,r)&&e.ref===t.ref)if(St=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,Wn(e,t,i)}return xg(e,t,n,r,i)}function YT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ji,Pt),Pt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(ji,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(ji,Pt),Pt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ye(ji,Pt),Pt|=r;return pt(e,t,i,n),t.child}function XT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xg(e,t,n,r,i){var s=Ct(n)?ni:ht.current;return s=Zi(t,s),Hi(t,i),n=Yy(e,t,n,r,s,i),r=Xy(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(be&&r&&Oy(t),t.flags|=1,pt(e,t,n,i),t.child)}function kw(e,t,n,r,i){if(Ct(n)){var s=!0;gl(t)}else s=!1;if(Hi(t,i),t.stateNode===null)Ka(e,t),HT(t,n,r),vg(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yt(u):(u=Ct(n)?ni:ht.current,u=Zi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&xw(t,o,r,u),ur=!1;var f=t.memoizedState;o.state=f,_l(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Et.current||ur?(typeof c=="function"&&(yg(t,n,c,r),l=t.memoizedState),(a=ur||ww(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ET(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:nn(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yt(l):(l=Ct(n)?ni:ht.current,l=Zi(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&xw(t,o,r,l),ur=!1,f=t.memoizedState,o.state=f,_l(t,r,o,i);var g=t.memoizedState;a!==d||f!==g||Et.current||ur?(typeof h=="function"&&(yg(t,n,h,r),g=t.memoizedState),(u=ur||ww(t,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return _g(e,t,n,r,s,i)}function _g(e,t,n,r,i,s){XT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&dw(t,n,!1),Wn(e,t,s);r=t.stateNode,hj.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ji(t,e.child,null,s),t.child=Ji(t,null,a,s)):pt(e,t,a,s),t.memoizedState=r.state,i&&dw(t,n,!0),t.child}function ZT(e){var t=e.stateNode;t.pendingContext?cw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cw(e,t.context,!1),Hy(e,t.containerInfo)}function Tw(e,t,n,r,i){return Qi(),Fy(i),t.flags|=256,pt(e,t,n,r),t.child}var Sg={dehydrated:null,treeContext:null,retryLane:0};function bg(e){return{baseLanes:e,cachePool:null,transitions:null}}function QT(e,t,n){var r=t.pendingProps,i=ke.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ye(ke,i&1),e===null)return mg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lu(o,r,0,null),e=Qr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=bg(n),t.memoizedState=Sg,e):Jy(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pj(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Cr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cr(a,s):(s=Qr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?bg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Sg,r}return s=e.child,e=s.sibling,r=Cr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jy(e,t){return t=lu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,n,r){return r!==null&&Fy(r),Ji(t,e.child,null,n),e=Jy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pj(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=mc(Error(U(422))),Sa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=lu({mode:"visible",children:r.children},i,0,null),s=Qr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ji(t,e.child,null,o),t.child.memoizedState=bg(o),t.memoizedState=Sg,s);if(!(t.mode&1))return Sa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=mc(s,r,void 0),Sa(e,t,o,r)}if(a=(o&e.childLanes)!==0,St||a){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),un(r,e,i,-1))}return sv(),r=mc(Error(U(421))),Sa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Tj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Rt=_r(i.nextSibling),It=t,be=!0,on=null,e!==null&&(zt[Ut++]=Dn,zt[Ut++]=Ln,zt[Ut++]=ri,Dn=e.id,Ln=e.overflow,ri=t),t=Jy(t,r.children),t.flags|=4096,t)}function Nw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gg(e.return,t,n)}function gc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JT(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pt(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nw(e,n,t);else if(e.tag===19)Nw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),gc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}gc(t,!0,n,null,s);break;case"together":gc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),si|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Cr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mj(e,t,n){switch(t.tag){case 3:ZT(t),Qi();break;case 5:CT(t);break;case 1:Ct(t.type)&&gl(t);break;case 4:Hy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ye(wl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?QT(e,t,n):(ye(ke,ke.current&1),e=Wn(e,t,n),e!==null?e.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return JT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,YT(e,t,n)}return Wn(e,t,n)}var eN,Eg,tN,nN;eN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eg=function(){};tN=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gr(Sn.current);var s=null;switch(n){case"input":i=Gm(e,i),r=Gm(e,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=Ym(e,i),r=Ym(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pl)}Zm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};nN=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ts(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gj(e,t,n){var r=t.pendingProps;switch(qy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Ct(t.type)&&ml(),ut(t),null;case 3:return r=t.stateNode,es(),xe(Et),xe(ht),Wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,on!==null&&(Rg(on),on=null))),Eg(e,t),ut(t),null;case 5:Gy(t);var i=Gr(Eo.current);if(n=t.type,e!==null&&t.stateNode!=null)tN(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return ut(t),null}if(e=Gr(Sn.current),xa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wn]=t,r[So]=s,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Fs.length;i++)we(Fs[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":O0(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":F0(r,s),we("invalid",r)}Zm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wa(r.textContent,a,e),i=["children",""+a]):fo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":da(r),q0(r,s,!0);break;case"textarea":da(r),$0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[wn]=t,e[So]=r,eN(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qm(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fs.length;i++)we(Fs[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":O0(e,r),i=Gm(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),we("invalid",e);break;case"textarea":F0(e,r),i=Ym(e,r),we("invalid",e);break;default:i=r}Zm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ik(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ak(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ho(e,l):typeof l=="number"&&ho(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",e):l!=null&&by(e,s,l,o))}switch(n){case"input":da(e),q0(e,r,!1);break;case"textarea":da(e),$0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)nN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Gr(Eo.current),Gr(Sn.current),xa(t)){if(r=t.stateNode,n=t.memoizedProps,r[wn]=t,(s=r.nodeValue!==n)&&(e=It,e!==null))switch(e.tag){case 3:wa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=t,t.stateNode=r}return ut(t),null;case 13:if(xe(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&Rt!==null&&t.mode&1&&!(t.flags&128))xT(),Qi(),t.flags|=98560,s=!1;else if(s=xa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[wn]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),s=!1}else on!==null&&(Rg(on),on=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?He===0&&(He=3):sv())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return es(),Eg(e,t),e===null&&xo(t.stateNode.containerInfo),ut(t),null;case 10:return By(t.type._context),ut(t),null;case 17:return Ct(t.type)&&ml(),ut(t),null;case 19:if(xe(ke),s=t.memoizedState,s===null)return ut(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ts(s,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sl(e),o!==null){for(t.flags|=128,Ts(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&qe()>ns&&(t.flags|=128,r=!0,Ts(s,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return ut(t),null}else 2*qe()-s.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,Ts(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=qe(),t.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return iv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pt&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function yj(e,t){switch(qy(t),t.tag){case 1:return Ct(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),xe(Et),xe(ht),Wy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gy(t),null;case 13:if(xe(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ke),null;case 4:return es(),null;case 10:return By(t.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var ba=!1,dt=!1,vj=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(e,t,r)}else n.current=null}function Cg(e,t,n){try{n()}catch(r){De(e,t,r)}}var Mw=!1;function wj(e,t){if(lg=dl,e=aT(),Ly(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ug={focusedElem:e,selectionRange:n},dl=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:nn(t.type,p),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){De(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return g=Mw,Mw=!1,g}function io(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cg(t,n,s)}i=i.next}while(i!==r)}}function ou(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function kg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rN(e){var t=e.alternate;t!==null&&(e.alternate=null,rN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[So],delete t[fg],delete t[tj],delete t[nj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iN(e){return e.tag===5||e.tag===3||e.tag===4}function Pw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(r!==4&&(e=e.child,e!==null))for(Tg(e,t,n),e=e.sibling;e!==null;)Tg(e,t,n),e=e.sibling}function Ng(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ng(e,t,n),e=e.sibling;e!==null;)Ng(e,t,n),e=e.sibling}var et=null,rn=!1;function ir(e,t,n){for(n=n.child;n!==null;)sN(e,t,n),n=n.sibling}function sN(e,t,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Ql,n)}catch{}switch(n.tag){case 5:dt||Ii(n,t);case 6:var r=et,i=rn;et=null,ir(e,t,n),et=r,rn=i,et!==null&&(rn?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(rn?(e=et,n=n.stateNode,e.nodeType===8?uc(e.parentNode,n):e.nodeType===1&&uc(e,n),yo(e)):uc(et,n.stateNode));break;case 4:r=et,i=rn,et=n.stateNode.containerInfo,rn=!0,ir(e,t,n),et=r,rn=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cg(n,t,o),i=i.next}while(i!==r)}ir(e,t,n);break;case 1:if(!dt&&(Ii(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,t,a)}ir(e,t,n);break;case 21:ir(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,ir(e,t,n),dt=r):ir(e,t,n);break;default:ir(e,t,n)}}function Aw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vj),t.forEach(function(r){var i=Nj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:et=a.stateNode,rn=!1;break e;case 3:et=a.stateNode.containerInfo,rn=!0;break e;case 4:et=a.stateNode.containerInfo,rn=!0;break e}a=a.return}if(et===null)throw Error(U(160));sN(s,o,i),et=null,rn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){De(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oN(t,e),t=t.sibling}function oN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),yn(e),r&4){try{io(3,e,e.return),ou(3,e)}catch(p){De(e,e.return,p)}try{io(5,e,e.return)}catch(p){De(e,e.return,p)}}break;case 1:en(t,e),yn(e),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(en(t,e),yn(e),r&512&&n!==null&&Ii(n,n.return),e.flags&32){var i=e.stateNode;try{ho(i,"")}catch(p){De(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nk(i,s),Qm(a,o);var u=Qm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Ik(i,d):c==="dangerouslySetInnerHTML"?Ak(i,d):c==="children"?ho(i,d):by(i,c,d,u)}switch(a){case"input":Wm(i,s);break;case"textarea":Mk(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Vi(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Vi(i,!!s.multiple,s.defaultValue,!0):Vi(i,!!s.multiple,s.multiple?[]:"",!1))}i[So]=s}catch(p){De(e,e.return,p)}}break;case 6:if(en(t,e),yn(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){De(e,e.return,p)}}break;case 3:if(en(t,e),yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yo(t.containerInfo)}catch(p){De(e,e.return,p)}break;case 4:en(t,e),yn(e);break;case 13:en(t,e),yn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nv=qe())),r&4&&Aw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||c,en(t,e),dt=u):en(t,e),yn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,h=f.child,f.tag){case 0:case 11:case 14:case 15:io(4,f,f.return);break;case 1:Ii(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){De(r,n,p)}}break;case 5:Ii(f,f.return);break;case 22:if(f.memoizedState!==null){Iw(d);continue}}h!==null?(h.return=f,W=h):Iw(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rk("display",o))}catch(p){De(e,e.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){De(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:en(t,e),yn(e),r&4&&Aw(e);break;case 21:break;default:en(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iN(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ho(i,""),r.flags&=-33);var s=Pw(e);Ng(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Pw(e);Tg(e,a,o);break;default:throw Error(U(161))}}catch(l){De(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xj(e,t,n){W=e,aN(e)}function aN(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ba;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dt;a=ba;var u=dt;if(ba=o,(dt=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?jw(i):l!==null?(l.return=o,W=l):jw(i);for(;s!==null;)W=s,aN(s),s=s.sibling;W=i,ba=a,dt=u}Rw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Rw(e)}}function Rw(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||ou(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&gw(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&yo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}dt||t.flags&512&&kg(t)}catch(f){De(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Iw(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function jw(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ou(4,t)}catch(l){De(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){De(t,i,l)}}var s=t.return;try{kg(t)}catch(l){De(t,s,l)}break;case 5:var o=t.return;try{kg(t)}catch(l){De(t,o,l)}}}catch(l){De(t,t.return,l)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var _j=Math.ceil,Cl=Qn.ReactCurrentDispatcher,ev=Qn.ReactCurrentOwner,Kt=Qn.ReactCurrentBatchConfig,de=0,Ye=null,$e=null,nt=0,Pt=0,ji=jr(0),He=0,No=null,si=0,au=0,tv=0,so=null,_t=null,nv=0,ns=1/0,Rn=null,kl=!1,Mg=null,br=null,Ea=!1,yr=null,Tl=0,oo=0,Pg=null,Ya=-1,Xa=0;function mt(){return de&6?qe():Ya!==-1?Ya:Ya=qe()}function Er(e){return e.mode&1?de&2&&nt!==0?nt&-nt:ij.transition!==null?(Xa===0&&(Xa=Hk()),Xa):(e=he,e!==0||(e=window.event,e=e===void 0?16:Qk(e.type)),e):1}function un(e,t,n,r){if(50<oo)throw oo=0,Pg=null,Error(U(185));zo(e,n,r),(!(de&2)||e!==Ye)&&(e===Ye&&(!(de&2)&&(au|=n),He===4&&hr(e,nt)),kt(e,r),n===1&&de===0&&!(t.mode&1)&&(ns=qe()+500,ru&&Dr()))}function kt(e,t){var n=e.callbackNode;iI(e,t);var r=cl(e,e===Ye?nt:0);if(r===0)n!==null&&z0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&z0(n),t===1)e.tag===0?rj(Dw.bind(null,e)):yT(Dw.bind(null,e)),JI(function(){!(de&6)&&Dr()}),n=null;else{switch(Gk(r)){case 1:n=Ny;break;case 4:n=zk;break;case 16:n=ul;break;case 536870912:n=Uk;break;default:n=ul}n=mN(n,lN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lN(e,t){if(Ya=-1,Xa=0,de&6)throw Error(U(327));var n=e.callbackNode;if(Gi()&&e.callbackNode!==n)return null;var r=cl(e,e===Ye?nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nl(e,r);else{t=r;var i=de;de|=2;var s=cN();(Ye!==e||nt!==t)&&(Rn=null,ns=qe()+500,Zr(e,t));do try{Ej();break}catch(a){uN(e,a)}while(!0);Vy(),Cl.current=s,de=i,$e!==null?t=0:(Ye=null,nt=0,t=He)}if(t!==0){if(t===2&&(i=rg(e),i!==0&&(r=i,t=Ag(e,i))),t===1)throw n=No,Zr(e,0),hr(e,r),kt(e,qe()),n;if(t===6)hr(e,r);else{if(i=e.current.alternate,!(r&30)&&!Sj(i)&&(t=Nl(e,r),t===2&&(s=rg(e),s!==0&&(r=s,t=Ag(e,s))),t===1))throw n=No,Zr(e,0),hr(e,r),kt(e,qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:$r(e,_t,Rn);break;case 3:if(hr(e,r),(r&130023424)===r&&(t=nv+500-qe(),10<t)){if(cl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dg($r.bind(null,e,_t,Rn),t);break}$r(e,_t,Rn);break;case 4:if(hr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ln(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_j(r/1960))-r,10<r){e.timeoutHandle=dg($r.bind(null,e,_t,Rn),r);break}$r(e,_t,Rn);break;case 5:$r(e,_t,Rn);break;default:throw Error(U(329))}}}return kt(e,qe()),e.callbackNode===n?lN.bind(null,e):null}function Ag(e,t){var n=so;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=Nl(e,t),e!==2&&(t=_t,_t=n,t!==null&&Rg(t)),e}function Rg(e){_t===null?_t=e:_t.push.apply(_t,e)}function Sj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t){for(t&=~tv,t&=~au,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ln(t),r=1<<n;e[n]=-1,t&=~r}}function Dw(e){if(de&6)throw Error(U(327));Gi();var t=cl(e,0);if(!(t&1))return kt(e,qe()),null;var n=Nl(e,t);if(e.tag!==0&&n===2){var r=rg(e);r!==0&&(t=r,n=Ag(e,r))}if(n===1)throw n=No,Zr(e,0),hr(e,t),kt(e,qe()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,_t,Rn),kt(e,qe()),null}function rv(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(ns=qe()+500,ru&&Dr())}}function oi(e){yr!==null&&yr.tag===0&&!(de&6)&&Gi();var t=de;de|=1;var n=Kt.transition,r=he;try{if(Kt.transition=null,he=1,e)return e()}finally{he=r,Kt.transition=n,de=t,!(de&6)&&Dr()}}function iv(){Pt=ji.current,xe(ji)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QI(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(qy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:es(),xe(Et),xe(ht),Wy();break;case 5:Gy(r);break;case 4:es();break;case 13:xe(ke);break;case 19:xe(ke);break;case 10:By(r.type._context);break;case 22:case 23:iv()}n=n.return}if(Ye=e,$e=e=Cr(e.current,null),nt=Pt=t,He=0,No=null,tv=au=si=0,_t=so=null,Hr!==null){for(t=0;t<Hr.length;t++)if(n=Hr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hr=null}return e}function uN(e,t){do{var n=$e;try{if(Vy(),Ga.current=El,bl){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bl=!1}if(ii=0,Ke=Ue=Ne=null,ro=!1,Co=0,ev.current=null,n===null||n.return===null){He=1,No=t,$e=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Sw(o);if(h!==null){h.flags&=-257,bw(h,o,a,s,t),h.mode&1&&_w(s,u,t),t=h,l=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(l),t.updateQueue=p}else g.add(l);break e}else{if(!(t&1)){_w(s,u,t),sv();break e}l=Error(U(426))}}else if(be&&a.mode&1){var v=Sw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),bw(v,o,a,s,t),Fy(ts(l,a));break e}}s=l=ts(l,a),He!==4&&(He=2),so===null?so=[s]:so.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=GT(s,l,t);mw(s,m);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(br===null||!br.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=WT(s,a,t);mw(s,w);break e}}s=s.return}while(s!==null)}fN(n)}catch(S){t=S,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function cN(){var e=Cl.current;return Cl.current=El,e===null?El:e}function sv(){(He===0||He===3||He===2)&&(He=4),Ye===null||!(si&268435455)&&!(au&268435455)||hr(Ye,nt)}function Nl(e,t){var n=de;de|=2;var r=cN();(Ye!==e||nt!==t)&&(Rn=null,Zr(e,t));do try{bj();break}catch(i){uN(e,i)}while(!0);if(Vy(),de=n,Cl.current=r,$e!==null)throw Error(U(261));return Ye=null,nt=0,He}function bj(){for(;$e!==null;)dN($e)}function Ej(){for(;$e!==null&&!Y2();)dN($e)}function dN(e){var t=pN(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?fN(e):$e=t,ev.current=null}function fN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yj(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,$e=null;return}}else if(n=gj(n,t,Pt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);He===0&&(He=5)}function $r(e,t,n){var r=he,i=Kt.transition;try{Kt.transition=null,he=1,Cj(e,t,n,r)}finally{Kt.transition=i,he=r}return null}function Cj(e,t,n,r){do Gi();while(yr!==null);if(de&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(sI(e,s),e===Ye&&($e=Ye=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ea||(Ea=!0,mN(ul,function(){return Gi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kt.transition,Kt.transition=null;var o=he;he=1;var a=de;de|=4,ev.current=null,wj(e,n),oN(n,e),HI(ug),dl=!!lg,ug=lg=null,e.current=n,xj(n),X2(),de=a,he=o,Kt.transition=s}else e.current=n;if(Ea&&(Ea=!1,yr=e,Tl=i),s=e.pendingLanes,s===0&&(br=null),J2(n.stateNode),kt(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kl)throw kl=!1,e=Mg,Mg=null,e;return Tl&1&&e.tag!==0&&Gi(),s=e.pendingLanes,s&1?e===Pg?oo++:(oo=0,Pg=e):oo=0,Dr(),null}function Gi(){if(yr!==null){var e=Gk(Tl),t=Kt.transition,n=he;try{if(Kt.transition=null,he=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,Tl=0,de&6)throw Error(U(331));var i=de;for(de|=4,W=e.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:io(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,h=c.return;if(rN(c),c===u){W=null;break}if(f!==null){f.return=h,W=f;break}W=h}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:io(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,W=m;break e}W=s.return}}var y=e.current;for(W=y;W!==null;){o=W;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,W=x;else e:for(o=y;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ou(9,a)}}catch(S){De(a,a.return,S)}if(a===o){W=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,W=w;break e}W=a.return}}if(de=i,Dr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Ql,e)}catch{}r=!0}return r}finally{he=n,Kt.transition=t}}return!1}function Lw(e,t,n){t=ts(n,t),t=GT(e,t,1),e=Sr(e,t,1),t=mt(),e!==null&&(zo(e,1,t),kt(e,t))}function De(e,t,n){if(e.tag===3)Lw(e,e,n);else for(;t!==null;){if(t.tag===3){Lw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(br===null||!br.has(r))){e=ts(n,e),e=WT(t,e,1),t=Sr(t,e,1),e=mt(),t!==null&&(zo(t,1,e),kt(t,e));break}}t=t.return}}function kj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(nt&n)===n&&(He===4||He===3&&(nt&130023424)===nt&&500>qe()-nv?Zr(e,0):tv|=n),kt(e,t)}function hN(e,t){t===0&&(e.mode&1?(t=pa,pa<<=1,!(pa&130023424)&&(pa=4194304)):t=1);var n=mt();e=Gn(e,t),e!==null&&(zo(e,t,n),kt(e,n))}function Tj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hN(e,n)}function Nj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),hN(e,n)}var pN;pN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)St=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return St=!1,mj(e,t,n);St=!!(e.flags&131072)}else St=!1,be&&t.flags&1048576&&vT(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Zi(t,ht.current);Hi(t,n),i=Yy(null,t,r,e,i,n);var s=Xy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(r)?(s=!0,gl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uy(t),i.updater=su,t.stateNode=i,i._reactInternals=t,vg(t,r,e,n),t=_g(null,t,r,!0,s,n)):(t.tag=0,be&&s&&Oy(t),pt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Pj(r),e=nn(r,e),i){case 0:t=xg(null,t,r,e,n);break e;case 1:t=kw(null,t,r,e,n);break e;case 11:t=Ew(null,t,r,e,n);break e;case 14:t=Cw(null,t,r,nn(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nn(r,i),xg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nn(r,i),kw(e,t,r,i,n);case 3:e:{if(ZT(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,i=s.element,ET(e,t),_l(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ts(Error(U(423)),t),t=Tw(e,t,r,n,i);break e}else if(r!==i){i=ts(Error(U(424)),t),t=Tw(e,t,r,n,i);break e}else for(Rt=_r(t.stateNode.containerInfo.firstChild),It=t,be=!0,on=null,n=ST(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qi(),r===i){t=Wn(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return CT(t),e===null&&mg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,cg(r,i)?o=null:s!==null&&cg(r,s)&&(t.flags|=32),XT(e,t),pt(e,t,o,n),t.child;case 6:return e===null&&mg(t),null;case 13:return QT(e,t,n);case 4:return Hy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ji(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nn(r,i),Ew(e,t,r,i,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ye(wl,r._currentValue),r._currentValue=o,s!==null)if(dn(s.value,o)){if(s.children===i.children&&!Et.current){t=Wn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$n(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gg(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gg(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hi(t,n),i=Yt(i),r=r(i),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,i=nn(r,t.pendingProps),i=nn(r.type,i),Cw(e,t,r,i,n);case 15:return KT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nn(r,i),Ka(e,t),t.tag=1,Ct(r)?(e=!0,gl(t)):e=!1,Hi(t,n),HT(t,r,i),vg(t,r,i,n),_g(null,t,r,!0,e,n);case 19:return JT(e,t,n);case 22:return YT(e,t,n)}throw Error(U(156,t.tag))};function mN(e,t){return Bk(e,t)}function Mj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,n,r){return new Mj(e,t,n,r)}function ov(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pj(e){if(typeof e=="function")return ov(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cy)return 11;if(e===ky)return 14}return 2}function Cr(e,t){var n=e.alternate;return n===null?(n=Gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Za(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ov(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ei:return Qr(n.children,i,s,t);case Ey:o=8,i|=8;break;case Bm:return e=Gt(12,n,t,i|2),e.elementType=Bm,e.lanes=s,e;case zm:return e=Gt(13,n,t,i),e.elementType=zm,e.lanes=s,e;case Um:return e=Gt(19,n,t,i),e.elementType=Um,e.lanes=s,e;case Ck:return lu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bk:o=10;break e;case Ek:o=9;break e;case Cy:o=11;break e;case ky:o=14;break e;case lr:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Gt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Qr(e,t,n,r){return e=Gt(7,e,r,t),e.lanes=n,e}function lu(e,t,n,r){return e=Gt(22,e,r,t),e.elementType=Ck,e.lanes=n,e.stateNode={isHidden:!1},e}function yc(e,t,n){return e=Gt(6,e,null,t),e.lanes=n,e}function vc(e,t,n){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Aj(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qu(0),this.expirationTimes=Qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function av(e,t,n,r,i,s,o,a,l){return e=new Aj(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Gt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uy(s),e}function Rj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gN(e){if(!e)return Mr;e=e._reactInternals;e:{if(ci(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Ct(n))return gT(e,n,t)}return t}function yN(e,t,n,r,i,s,o,a,l){return e=av(n,r,!0,e,i,s,o,a,l),e.context=gN(null),n=e.current,r=mt(),i=Er(n),s=$n(r,i),s.callback=t??null,Sr(n,s,i),e.current.lanes=i,zo(e,i,r),kt(e,r),e}function uu(e,t,n,r){var i=t.current,s=mt(),o=Er(i);return n=gN(n),t.context===null?t.context=n:t.pendingContext=n,t=$n(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sr(i,t,o),e!==null&&(un(e,i,o,s),Ha(e,i,o)),o}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ow(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lv(e,t){Ow(e,t),(e=e.alternate)&&Ow(e,t)}function Ij(){return null}var vN=typeof reportError=="function"?reportError:function(e){console.error(e)};function uv(e){this._internalRoot=e}cu.prototype.render=uv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));uu(e,t,null,null)};cu.prototype.unmount=uv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oi(function(){uu(null,e,null,null)}),t[Hn]=null}};function cu(e){this._internalRoot=e}cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fr.length&&t!==0&&t<fr[n].priority;n++);fr.splice(n,0,e),n===0&&Zk(e)}};function cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qw(){}function jj(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ml(o);s.call(u)}}var o=yN(t,r,e,0,null,!1,!1,"",qw);return e._reactRootContainer=o,e[Hn]=o.current,xo(e.nodeType===8?e.parentNode:e),oi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ml(l);a.call(u)}}var l=av(e,0,!1,null,null,!1,!1,"",qw);return e._reactRootContainer=l,e[Hn]=l.current,xo(e.nodeType===8?e.parentNode:e),oi(function(){uu(t,l,n,r)}),l}function fu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ml(o);a.call(l)}}uu(t,o,e,i)}else o=jj(n,t,e,i,r);return Ml(o)}Wk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qs(t.pendingLanes);n!==0&&(My(t,n|1),kt(t,qe()),!(de&6)&&(ns=qe()+500,Dr()))}break;case 13:oi(function(){var r=Gn(e,1);if(r!==null){var i=mt();un(r,e,1,i)}}),lv(e,1)}};Py=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=mt();un(t,e,134217728,n)}lv(e,134217728)}};Kk=function(e){if(e.tag===13){var t=Er(e),n=Gn(e,t);if(n!==null){var r=mt();un(n,e,t,r)}lv(e,t)}};Yk=function(){return he};Xk=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};eg=function(e,t,n){switch(t){case"input":if(Wm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=nu(r);if(!i)throw Error(U(90));Tk(r),Wm(r,i)}}}break;case"textarea":Mk(e,n);break;case"select":t=n.value,t!=null&&Vi(e,!!n.multiple,t,!1)}};Lk=rv;Ok=oi;var Dj={usingClientEntryPoint:!1,Events:[Ho,Ni,nu,jk,Dk,rv]},Ns={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lj={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$k(e),e===null?null:e.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||Ij,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{Ql=Ca.inject(Lj),_n=Ca}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dj;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(t))throw Error(U(200));return Rj(e,t,null,n)};qt.createRoot=function(e,t){if(!cv(e))throw Error(U(299));var n=!1,r="",i=vN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=av(e,1,!1,null,null,n,!1,r,i),e[Hn]=t.current,xo(e.nodeType===8?e.parentNode:e),new uv(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=$k(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return oi(e)};qt.hydrate=function(e,t,n){if(!du(t))throw Error(U(200));return fu(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!cv(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yN(t,null,e,1,n??null,i,!1,s,o),e[Hn]=t.current,xo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new cu(t)};qt.render=function(e,t,n){if(!du(t))throw Error(U(200));return fu(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!du(e))throw Error(U(40));return e._reactRootContainer?(oi(function(){fu(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};qt.unstable_batchedUpdates=rv;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!du(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return fu(e,t,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function wN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wN)}catch(e){console.error(e)}}wN(),wk.exports=qt;var Oj=wk.exports,Fw=Oj;$m.createRoot=Fw.createRoot,$m.hydrateRoot=Fw.hydrateRoot;const qj=()=>_.jsxs("svg",{className:"logo-mark",width:"54",height:"54",viewBox:"0 0 120 120",role:"img","aria-label":"Agent Director logo",children:[_.jsx("rect",{x:"8",y:"8",width:"104",height:"104",rx:"18",className:"logo-frame"}),_.jsx("rect",{x:"24",y:"28",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-a"}),_.jsx("rect",{x:"24",y:"52",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-b"}),_.jsx("rect",{x:"24",y:"76",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-c"}),_.jsx("circle",{cx:"96",cy:"36",r:"6",className:"logo-node logo-node-a"}),_.jsx("circle",{cx:"96",cy:"60",r:"6",className:"logo-node logo-node-b"}),_.jsx("circle",{cx:"96",cy:"84",r:"6",className:"logo-node logo-node-c"})]});function Fj({trace:e,traces:t=[],selectedTraceId:n,onSelectTrace:r,onReload:i,onStartTour:s,onToggleStory:o,onOpenPalette:a,onToggleExplain:l,explainMode:u=!1,storyActive:c=!1}){return _.jsxs("header",{className:"header","data-help":!0,"data-help-indicator":!0,"data-tour":"header","data-help-title":"Mission control","data-help-body":"Trace identity, status, and live controls live here. Use Story, Guide, or Explain to orient new viewers.","data-help-placement":"bottom",children:[_.jsxs("div",{className:"header-title",children:[_.jsxs("div",{className:"header-logo",children:[_.jsx(qj,{}),_.jsx("span",{children:"Agent Director"})]}),_.jsx("div",{className:"header-tagline",children:"Cinematic trace intelligence for agent runs."}),_.jsxs("div",{className:"header-meta",children:[_.jsxs("span",{className:"header-run",children:["Run: ",(e==null?void 0:e.id)??"loading"]}),t.length>0?_.jsx("select",{className:"trace-select",value:n??(e==null?void 0:e.id)??"","aria-label":"Select trace",onChange:d=>r==null?void 0:r(d.target.value),"data-help":!0,"data-help-title":"Trace selector","data-help-body":"Switch between available runs to compare different sessions.","data-help-placement":"bottom",children:t.map(d=>_.jsxs("option",{value:d.id,children:[d.name," (",d.id,")"]},d.id))}):null,_.jsx("span",{className:`status-pill status-${(e==null?void 0:e.status)??"loading"}`,children:(e==null?void 0:e.status)??"loading"}),e!=null&&e.replay?_.jsxs("span",{className:"header-replay",title:`Replay from ${e.branchPointStepId??"unknown step"}`,children:["Replay: ",e.replay.strategy]}):null,_.jsxs("span",{className:"header-wall",children:["Wall: ",(e==null?void 0:e.metadata.wallTimeMs)??0,"ms"]})]})]}),_.jsxs("div",{className:"header-actions",children:[_.jsx("button",{className:`ghost-button ${c?"active":""}`,type:"button",onClick:o,"aria-pressed":c,"aria-label":"Toggle story mode","data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough for demos.","data-help-placement":"bottom",children:"Story"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:s,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk through the interface step by step.","data-help-placement":"bottom",children:"Guide"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:a,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search and trigger any action instantly.","data-help-placement":"bottom",children:"Command"}),_.jsx("button",{className:`ghost-button ${u?"active":""}`,type:"button",onClick:l,"aria-pressed":u,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Hover any control to see contextual guidance.","data-help-placement":"bottom",children:"Explain"}),_.jsx("button",{className:"ghost-button",onClick:i,type:"button","aria-label":"Refresh traces",title:"Refresh traces","data-help":!0,"data-help-title":"Refresh","data-help-body":"Reload traces from the data store.","data-help-placement":"bottom",children:"Refresh"}),null]})]})}function $j({insights:e,onSelectStep:t,onJumpToBottleneck:n,onJumpToError:r}){var c,d;if(!e)return null;const i=e.timing,s=e.ioWarnings??[],o=e.concurrency,a=e.retryPatterns,l=e.costByTool??{},u=e.costByModel??{};return _.jsxs("section",{className:"insight-strip","data-help":!0,"data-help-indicator":!0,"data-tour":"insights","data-help-title":"Run insights","data-help-body":"Fast diagnostics for latency, cost, errors, and concurrency. Click chips to jump into the trace.","data-help-placement":"bottom",children:[_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Top latency","data-help-body":"Largest steps by duration; jump straight to the slowest.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Top latency"}),_.jsxs("div",{className:"insight-items",children:[e.topLatencySteps.map(f=>_.jsxs("button",{className:"insight-chip",type:"button",title:`Jump to ${f.name}`,onClick:()=>t==null?void 0:t(f.stepId),children:[f.name," (",f.durationMs,"ms)"]},f.stepId)),e.topLatencySteps.length>0?_.jsx("button",{className:"insight-chip",type:"button",onClick:n,title:"Jump to longest step",children:"Jump to bottleneck"}):null]})]}),_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by type","data-help-body":"Aggregated spend by step class.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Cost by type"}),_.jsx("div",{className:"insight-items",children:Object.entries(e.costByType).map(([f,h])=>_.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}),Object.keys(l).length?_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by tool","data-help-body":"Top tools by total spend.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Cost by tool"}),_.jsx("div",{className:"insight-items",children:Object.entries(l).sort((f,h)=>h[1]-f[1]).slice(0,3).map(([f,h])=>_.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}):null,_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Errors & retries","data-help-body":"Instant visibility into failed or retried steps.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Errors / retries"}),_.jsxs("div",{className:"insight-items",children:[_.jsxs("span",{className:"insight-chip",children:["Errors: ",e.errors]}),_.jsxs("span",{className:"insight-chip",children:["Retries: ",e.retries]}),e.errors>0?_.jsx("button",{className:"insight-chip",type:"button",onClick:r,title:"Jump to first error",children:"Jump to first error"}):null,(c=a==null?void 0:a.topRetries)!=null&&c.length?_.jsxs("span",{className:"insight-chip",title:`Retry rate ${(a.retryRate*100).toFixed(1)}%`,children:["Top retries: ",a.topRetries.length]}):null]})]}),_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Wall vs work","data-help-body":"Wall time vs summed work to show parallelism.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Wall vs work"}),_.jsxs("div",{className:"insight-items",children:[_.jsxs("span",{className:"insight-chip",title:"Wall clock duration",children:["Wall: ",e.wallTimeMs,"ms"]}),_.jsxs("span",{className:"insight-chip",title:"Sum of step durations",children:["Work: ",e.workTimeMs,"ms"]}),e.criticalPathMs!=null?_.jsxs("span",{className:"insight-chip",title:"Longest parent-child chain",children:["Critical: ",e.criticalPathMs,"ms"]}):null]})]}),_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Health","data-help-body":"Timing and I/O anomalies detected in the trace.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Health"}),_.jsxs("div",{className:"insight-items",children:[i!=null&&i.degraded?_.jsx("span",{className:"insight-chip insight-warning",title:i.issues.join(" "),children:"Timing degraded"}):_.jsx("span",{className:"insight-chip",children:"Timing OK"}),s.length>0?_.jsxs("span",{className:"insight-chip insight-warning",title:s.map(f=>f.message).join(" "),children:["IO warnings: ",s.length]}):_.jsx("span",{className:"insight-chip",children:"IO OK"})]})]}),(d=o==null?void 0:o.buckets)!=null&&d.length?_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Parallelism","data-help-body":"How many steps ran concurrently over time.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Parallelism"}),_.jsx("div",{className:"insight-items",children:_.jsx("div",{className:"insight-heatmap",title:`Peak concurrency: ${o.peak}`,children:o.buckets.map((f,h)=>_.jsx("span",{className:"heatmap-bar",style:{height:`${Math.max(20,f.active/Math.max(1,o.peak)*48)}px`},title:`Bucket ${h+1}: ${f.active} active`},`${f.startMs}-${f.endMs}`))})})]}):null,Object.keys(u).length?_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Model cost","data-help-body":"Spend by model family.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Model cost"}),_.jsx("div",{className:"insight-items",children:Object.entries(u).map(([f,h])=>_.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}):null]})}const Vj=["all","llm_call","tool_call","decision","handoff","guardrail"];function Bj({query:e,typeFilter:t,onQueryChange:n,onTypeFilterChange:r}){return _.jsxs("div",{className:"search-bar",children:[_.jsx("input",{className:"search-input",placeholder:"Search steps, tools, previews...","aria-label":"Search steps",value:e,onChange:i=>n(i.target.value),"data-help":!0,"data-help-title":"Search","data-help-body":"Filter steps by name, tool, or payload preview. Great for fast recall.","data-help-placement":"bottom"}),_.jsx("select",{className:"search-select",value:t,"aria-label":"Filter by step type",onChange:i=>r(i.target.value),"data-help":!0,"data-help-title":"Type filter","data-help-body":"Narrow the timeline to a specific class of steps (LLM, tool, decision, handoff).","data-help-placement":"bottom",children:Vj.map(i=>_.jsx("option",{value:i,children:i},i))})]})}function hu(e,t,n){const r=Date.parse(e),i=n.map(c=>Date.parse(c.endedAt??c.startedAt)).filter(c=>Number.isFinite(c)),s=t?Date.parse(t):i.length?Math.max(...i):r,o=Math.max(1,s-r),a=n.map(c=>{const d=Math.max(0,Date.parse(c.startedAt)-r),f=Math.max(d,Date.parse(c.endedAt??c.startedAt)-r);return{stepId:c.id,startMs:d,endMs:f}}).sort((c,d)=>c.startMs-d.startMs||c.endMs-d.endMs),l=[],u=[];for(const c of a){let d=l.findIndex(f=>f<=c.startMs);d===-1?(d=l.length,l.push(c.endMs)):l[d]=c.endMs,u.push({stepId:c.stepId,startMs:c.startMs,endMs:c.endMs,lane:d,xPct:c.startMs/o*100,wPct:Math.max(.75,(c.endMs-c.startMs)/o*100)})}return{wallTimeMs:o,intervals:u,laneCount:l.length}}function zj(e){var g;const n=e.steps.map(p=>({stepId:p.id,name:p.name,durationMs:p.durationMs??0})).sort((p,v)=>v.durationMs-p.durationMs).slice(0,3),r={},i={};for(const p of e.steps)((g=p.metrics)==null?void 0:g.costUsd)!=null&&(r[p.type]=(r[p.type]??0)+p.metrics.costUsd,p.type==="tool_call"&&(i[p.name]=(i[p.name]??0)+p.metrics.costUsd));const s=e.steps.filter(p=>p.status==="failed").length,o=e.steps.filter(p=>!!p.retryOfStepId).length,a=e.metadata.wallTimeMs,l=e.metadata.workTimeMs??e.steps.reduce((p,v)=>p+(v.durationMs??0),0),u=Uj(e),c=Hj(e.steps),d=Gj(e.steps),f=Wj(e),h=Kj(e.steps);return{topLatencySteps:n,costByType:r,costByTool:i,costByModel:{[e.metadata.modelId]:e.metadata.totalCostUsd??0},errors:s,retries:o,wallTimeMs:a,workTimeMs:l,timing:u,ioWarnings:c,criticalPathMs:d,concurrency:f,retryPatterns:h}}function xN(e){var n;const t=(n=e.metrics)==null?void 0:n.costUsd;return t==null?null:`$${t.toFixed(3)}`}function jn(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function Uj(e){const t=jn(e.startedAt),n=jn(e.endedAt??void 0),r=[],i=[],s=[];return t==null&&s.push("Trace start time missing or invalid."),e.steps.forEach(o=>{const a=jn(o.startedAt),l=jn(o.endedAt??o.startedAt);if(a==null||l==null){r.push(o.id);return}if(l<a){i.push(o.id);return}t!=null&&a<t&&i.push(o.id),n!=null&&l>n&&i.push(o.id)}),r.length&&s.push(`Missing timestamps on ${r.length} steps.`),i.length&&s.push(`Timestamp skew detected on ${i.length} steps.`),{degraded:!!(r.length||i.length||t==null),issues:s,missingStepIds:r,skewedStepIds:i}}function Hj(e){const t=new Map;e.forEach(s=>{s.type==="tool_call"&&s.toolCallId&&t.set(s.toolCallId,s)});const n=new Set,r=new Set,i=[];return e.forEach(s=>{s.type!=="llm_call"||!s.io||((s.io.emittedToolCallIds??[]).forEach(o=>{n.add(o),t.has(o)||i.push({kind:"missing_tool_step",message:`Emitted toolCallId ${o} has no tool step.`,stepId:s.id,toolCallId:o})}),(s.io.consumedToolCallIds??[]).forEach(o=>{r.add(o),t.has(o)||i.push({kind:"missing_tool_step",message:`Consumed toolCallId ${o} has no tool step.`,stepId:s.id,toolCallId:o}),n.has(o)||i.push({kind:"consume_without_emit",message:`Consumed toolCallId ${o} without emission.`,stepId:s.id,toolCallId:o})}))}),t.forEach((s,o)=>{n.has(o)||i.push({kind:"unemitted_tool",message:`Tool step ${s.id} has toolCallId ${o} never emitted.`,stepId:s.id,toolCallId:o}),r.has(o)||i.push({kind:"unconsumed_tool",message:`Tool step ${s.id} has toolCallId ${o} never consumed.`,stepId:s.id,toolCallId:o})}),i}function Gj(e){const t=new Map,n=new Map,r=[];e.forEach(o=>{if(t.set(o.id,o.durationMs??0),o.parentStepId){const a=n.get(o.parentStepId)??[];a.push(o.id),n.set(o.parentStepId,a)}else r.push(o.id)});const i=new Map,s=o=>{if(i.has(o))return i.get(o)??0;const l=(n.get(o)??[]).reduce((c,d)=>Math.max(c,s(d)),0),u=(t.get(o)??0)+l;return i.set(o,u),u};return r.length?Math.max(...r.map(o=>s(o))):0}function Wj(e){const t=jn(e.startedAt);if(t==null)return{buckets:[],peak:0};const n=jn(e.endedAt??void 0)??Math.max(...e.steps.map(l=>jn(l.endedAt??l.startedAt)??t),t),r=Math.max(1,n-t),i=12,s=Math.max(1,Math.floor(r/i)),o=[];let a=0;for(let l=0;l<i;l+=1){const u=t+l*s,c=u+s;let d=0;e.steps.forEach(f=>{const h=jn(f.startedAt),g=jn(f.endedAt??f.startedAt);h==null||g==null||g>=u&&h<=c&&(d+=1)}),a=Math.max(a,d),o.push({startMs:l*s,endMs:(l+1)*s,active:d})}return{buckets:o,peak:a}}function Kj(e){const t={};e.forEach(i=>{i.retryOfStepId&&(t[i.retryOfStepId]=(t[i.retryOfStepId]??0)+1)});const n=Object.values(t).reduce((i,s)=>i+s,0),r=Object.entries(t).sort((i,s)=>s[1]-i[1]).slice(0,3);return{totalRetries:n,retryRate:e.length?n/e.length:0,topRetries:r.map(([i,s])=>({stepId:i,count:s}))}}const Yj={llm_call:{label:"LLM",icon:"LLM",description:"Model call"},tool_call:{label:"TOOL",icon:"TOOL",description:"Tool call"},decision:{label:"DEC",icon:"DEC",description:"Decision"},handoff:{label:"HAND",icon:"HAND",description:"Handoff"},guardrail:{label:"GUARD",icon:"GUARD",description:"Guardrail"}};function Xj(e){return Yj[e]}function dv({type:e,size:t="sm",showLabel:n=!1}){const r=Xj(e);return _.jsxs("span",{className:`step-badge step-badge-${e} step-badge-${t}`,title:r.description,children:[_.jsx("span",{className:"step-badge-icon",children:r.icon}),n?_.jsx("span",{className:"step-badge-label",children:r.label}):null]})}function _N({step:e,interval:t,playbackState:n,selected:r,onSelect:i,variant:s="base",diffStatus:o,disabled:a=!1}){var x,w,S,C,k,T;const l=xN(e),u=((x=e.preview)==null?void 0:x.subtitle)??((w=e.preview)==null?void 0:w.title)??"",c=((S=e.preview)==null?void 0:S.outputPreview)??((C=e.preview)==null?void 0:C.inputPreview)??"",d=o?`step-diff-${o}`:"",f=s==="ghost"?"step-ghost":"",h=t.wPct<8?"step-compact":"",g=e.type.replace("_"," ").toUpperCase(),p=((k=e.metrics)==null?void 0:k.tokensTotal)!=null?`${e.metrics.tokensTotal} tokens`:null,v=e.durationMs!=null?`${e.durationMs}ms`:null,m=[p,v,l].filter(Boolean).join("  "),y=`Click to inspect inputs/outputs and replay from this moment.${m?` ${m}.`:""}`;return _.jsxs("button",{type:"button",className:`step-card step-${e.type} step-${n} ${r?"step-selected":""} ${d} ${f} ${h}`,"data-step-id":e.id,"aria-label":`${e.name} (${e.type})`,"aria-pressed":r,"aria-hidden":s==="ghost",disabled:a,"data-help":!0,"data-help-title":`${e.name}  ${g}`,"data-help-body":y,"data-help-placement":"top",style:{left:`${t.xPct}%`,width:`${t.wPct}%`,top:`${t.lane*140}px`},onClick:()=>{a||i(e.id)},children:[_.jsxs("div",{className:"step-card-header",children:[_.jsxs("div",{className:"step-title-group",children:[_.jsx(dv,{type:e.type}),_.jsx("span",{className:"step-title",children:e.name})]}),_.jsx("span",{className:`status-pill status-${e.status}`,children:e.status})]}),u?_.jsx("div",{className:"step-subtitle",children:u}):null,_.jsxs("div",{className:"step-metrics",children:[((T=e.metrics)==null?void 0:T.tokensTotal)!=null?_.jsxs("span",{children:[e.metrics.tokensTotal," tok"]}):null,e.durationMs!=null?_.jsxs("span",{children:[e.durationMs,"ms"]}):null,l?_.jsx("span",{children:l}):null]}),c?_.jsx("div",{className:"step-preview",children:c}):null]})}function SN(e,t){return t<e.startMs?"future":t>e.endMs?"past":"active"}const bN=140,$w={llm_call:1,tool_call:2,decision:3,handoff:4,guardrail:5};function EN(e){return[...e].sort((t,n)=>($w[t.type]??9)-($w[n.type]??9))}function Ig({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:i,playheadMs:s,windowRange:o,ghostTrace:a,diff:l}){const{intervals:u,laneCount:c}=hu(e.startedAt,e.endedAt,t),d=new Map(u.map(w=>[w.stepId,w])),f=EN(t),h=e.metadata.wallTimeMs||1,g=new Set((l==null?void 0:l.removedSteps)??[]),p=new Set((l==null?void 0:l.changedSteps)??[]),v=new Set(((l==null?void 0:l.changedPairs)??[]).map(w=>w.rightId)),m=new Set((l==null?void 0:l.addedSteps)??[]);let y=u;if(o){const w=o.endMs-o.startMs,S=Math.max(1e3,w*.15),C=Math.max(0,o.startMs-S),k=o.endMs+S;if(y=u.filter(T=>T.endMs>=C&&T.startMs<=k),n&&!y.some(T=>T.stepId===n)){const T=d.get(n);T&&(y=[...y,T])}}const x=new Set(y.map(w=>w.stepId));return _.jsx("div",{className:"timeline",children:_.jsxs("div",{className:"timeline-grid",style:{height:`${c*bN}px`},"data-help":!0,"data-help-title":"Timeline lanes","data-help-body":"Each lane stacks overlapping steps; width reflects duration.","data-help-placement":"top",children:[_.jsx("div",{className:"playback-cursor",style:{left:`${i}%`}}),f.filter(w=>x.has(w.id)).map(w=>{const S=d.get(w.id);if(!S)return null;const C=SN(S,s);return _.jsx(_N,{step:w,interval:S,playbackState:C,selected:n===w.id,diffStatus:g.has(w.id)?"removed":p.has(w.id)?"changed":null,onSelect:r},w.id)}),a?_.jsx(Zj,{ghostTrace:a,baseWallTimeMs:h,playheadMs:s,windowRange:o,diffAdded:m,diffChanged:v}):null]})})}function Zj({ghostTrace:e,baseWallTimeMs:t,playheadMs:n,windowRange:r,diffAdded:i,diffChanged:s}){const{intervals:o,laneCount:a}=hu(e.startedAt,e.endedAt,e.steps),l=new Map(o.map(g=>[g.stepId,g])),u=e.metadata.wallTimeMs||1,c=n/t*u;let d=o;if(r){const g=r.endMs-r.startMs,p=Math.max(1e3,g*.15),v=u/t,m=Math.max(0,(r.startMs-p)*v),y=Math.min(u,(r.endMs+p)*v);d=o.filter(x=>x.endMs>=m&&x.startMs<=y)}const f=new Set(d.map(g=>g.stepId)),h=EN(e.steps);return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"ghost-lanes",style:{height:`${a*bN}px`}}),h.filter(g=>f.has(g.id)).map(g=>{const p=l.get(g.id);if(!p)return null;const v=SN(p,c),m=i.has(g.id)?"added":s.has(g.id)?"changed":null;return _.jsx(_N,{step:g,interval:p,playbackState:v,selected:!1,diffStatus:m,variant:"ghost",disabled:!0,onSelect:()=>{}},`ghost-${g.id}`)})]})}function Qj({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadMs:i,windowRange:s,timing:o,ghostTrace:a,diff:l}){const u=e.metadata.wallTimeMs||1,c=Math.min(100,Math.max(0,i/u*100));return _.jsxs("section",{className:"cinema-mode","aria-label":"Cinema mode",children:[o!=null&&o.degraded?_.jsxs("div",{className:"timing-banner",title:o.issues.join(" "),children:["Timing degraded: ",o.issues[0]??"Check timestamps."]}):null,_.jsx(Ig,{trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:c,playheadMs:i,windowRange:s,ghostTrace:a,diff:l})]})}const Jj=[.5,1,1.5,2,4];function Vw({playheadMs:e,wallTimeMs:t,isPlaying:n,speed:r,onToggle:i,onScrub:s,onSpeedChange:o}){const a=l=>{s(Number(l.target.value))};return _.jsxs("div",{className:"playback-controls",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:i,"aria-label":n?"Pause playback":"Play playback","data-help":!0,"data-help-title":"Playhead","data-help-body":"Start or pause the run to experience timing as it unfolded.","data-help-placement":"bottom",children:n?"Pause":"Play"}),_.jsx("input",{className:"playback-slider",type:"range",min:0,max:t,value:e,"aria-label":"Playback position",onChange:a,"data-help":!0,"data-help-title":"Scrub timeline","data-help-body":"Drag to jump to any moment in the run.","data-help-placement":"bottom"}),_.jsx("select",{className:"playback-speed",value:r,"aria-label":"Playback speed",onChange:l=>o(Number(l.target.value)),"data-help":!0,"data-help-title":"Speed","data-help-body":"Slow down to inspect or speed up to skim.","data-help-placement":"bottom",children:Jj.map(l=>_.jsxs("option",{value:l,children:[l,"x"]},l))})]})}function eD(e,t,n,r=60){const{wallTimeMs:i,intervals:s}=hu(e,t,n),o=new Array(r).fill(0);if(!i)return{buckets:o,wallTimeMs:0};const a=i/r;return!Number.isFinite(a)||a<=0?{buckets:o,wallTimeMs:i}:(s.forEach(l=>{const u=Math.max(0,Math.floor(l.startMs/a)),c=Math.min(r-1,Math.floor(l.endMs/a));for(let d=u;d<=c;d+=1)o[d]+=1}),{buckets:o,wallTimeMs:i})}const Ms=5e3;function Bw(e,t,n){return Math.min(n,Math.max(t,e))}function tD({traceStart:e,traceEnd:t,steps:n,playheadMs:r,windowRange:i,windowed:s,spanMs:o,onSpanChange:a,onToggleWindowed:l,onScrub:u}){const{buckets:c,wallTimeMs:d}=eD(e,t,n,64),f=Math.max(1,...c),h=Bw(o,Ms,Math.max(Ms,d)),g=(i==null?void 0:i.startMs)??0,p=(i==null?void 0:i.endMs)??d,v=d?g/d*100:0,m=d?(p-g)/d*100:100,y=d?r/d*100:0,x=w=>{const S=w.currentTarget.getBoundingClientRect(),C=(w.clientX-S.left)/S.width,k=Bw(Math.round(C*d),0,d);u(k)};return _.jsxs("div",{className:"mini-timeline",children:[_.jsxs("div",{className:"mini-track",onClick:x,role:"presentation","data-help":!0,"data-help-title":"Density map","data-help-body":"A compact view of activity density. Click to jump the playhead.","data-help-placement":"top",children:[_.jsx("div",{className:"mini-bars",children:c.map((w,S)=>_.jsx("span",{className:"mini-bar",style:{height:`${w/f*100}%`}},`bucket-${S}`))}),_.jsx("div",{className:"mini-window",style:{left:`${v}%`,width:`${m}%`,opacity:s?1:.4}}),_.jsx("div",{className:"mini-playhead",style:{left:`${y}%`}})]}),_.jsxs("div",{className:"mini-controls",children:[_.jsx("label",{className:"mini-label",children:"Zoom"}),_.jsx("input",{type:"range",min:Ms,max:Math.max(Ms,d),value:h,"aria-label":"Timeline zoom",onChange:w=>{l(!0),a(Number(w.target.value))},"data-help":!0,"data-help-title":"Zoom window","data-help-body":"Tighten the window to focus on hotspots.","data-help-placement":"top"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>l(!s),title:"Toggle windowed playback",children:s?"Full":"Window"}),_.jsx("button",{className:"ghost-button",type:"button",title:"Reset zoom",onClick:()=>{l(!0),a(Math.min(Math.max(d*.2,Ms),6e4))},children:"Reset"})]})]})}const nD=[{keys:"Space",action:"Play / pause"},{keys:" / ",action:"Step boundary back / forward"},{keys:"Shift +  / ",action:"Jump to start / end"},{keys:"F",action:"Toggle Flow mode"},{keys:"I",action:"Toggle Inspector"},{keys:"S",action:"Story mode"},{keys:"E",action:"Explain mode"},{keys:"T",action:"Start tour"},{keys:"Cmd/Ctrl + K",action:"Open command palette"},{keys:"?",action:"Show shortcuts"},{keys:"Esc",action:"Close modal / inspector"}];function rD({open:e,onClose:t}){const n=b.useRef(null);if(b.useEffect(()=>{var i;e&&((i=n.current)==null||i.focus())},[e]),!e)return null;const r=i=>{var l;if(i.key==="Escape"){i.preventDefault(),t();return}if(i.key!=="Tab")return;const s=Array.from(i.currentTarget.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(s.length===0)return;const o=s.indexOf(document.activeElement),a=i.shiftKey?o<=0?s.length-1:o-1:(o+1)%s.length;(l=s[a])==null||l.focus(),i.preventDefault()};return _.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",onKeyDown:r,children:_.jsxs("div",{className:"modal",tabIndex:-1,children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("div",{className:"modal-title",id:"shortcuts-title",children:"Keyboard Shortcuts"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:t,ref:n,"aria-label":"Close shortcuts",children:"Close"})]}),_.jsx("div",{className:"modal-body",children:nD.map(i=>_.jsxs("div",{className:"modal-row",children:[_.jsx("span",{className:"modal-keys",children:i.keys}),_.jsx("span",{className:"modal-action",children:i.action})]},i.keys))})]})})}const iD=e=>e.trim().toLowerCase();function sD(e){const t=new Map;return e.forEach(n=>{var i;const r=n.group??"General";t.has(r)||t.set(r,[]),(i=t.get(r))==null||i.push(n)}),t}function zw(e,t,n){var i;if(!e.length)return 0;let r=t;for(let s=0;s<e.length;s+=1)if(r=(r+n+e.length)%e.length,!((i=e[r])!=null&&i.disabled))return r;return t}function oD({open:e,onClose:t,actions:n}){var p,v;const[r,i]=b.useState(""),[s,o]=b.useState(0),a=b.useRef(null),l=b.useRef(null),u=b.useMemo(()=>{const m=iD(r);return m?n.filter(y=>[y.label,y.description,y.group,y.keys].filter(Boolean).join(" ").toLowerCase().includes(m)):n},[n,r]),c=b.useMemo(()=>sD(u),[u]);if(b.useEffect(()=>{if(!e)return;i(""),o(0);const m=window.setTimeout(()=>{var y;return(y=a.current)==null?void 0:y.focus()},0);return()=>window.clearTimeout(m)},[e]),b.useEffect(()=>{s>=u.length&&o(0)},[s,u.length]),!e)return null;const d=m=>{m.disabled||(m.onTrigger(),t())},f=m=>{var y,x;if(m.key==="Escape"){m.preventDefault(),t();return}if(m.key==="ArrowDown"){m.preventDefault(),o(w=>zw(u,w,1));return}if(m.key==="ArrowUp"){m.preventDefault(),o(w=>zw(u,w,-1));return}if(m.key==="Enter"){m.preventDefault();const w=u[s];w&&d(w);return}if(m.key==="Tab"){const w=Array.from(((y=l.current)==null?void 0:y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??[]);if(!w.length)return;const S=w.indexOf(document.activeElement),C=m.shiftKey?S<=0?w.length-1:S-1:(S+1)%w.length;(x=w[C])==null||x.focus(),m.preventDefault()}},h=(p=u[s])!=null&&p.id?`palette-option-${(v=u[s])==null?void 0:v.id}`:void 0;let g=-1;return _.jsx("div",{className:"modal-backdrop palette-backdrop",role:"dialog","aria-modal":"true","aria-label":"Command palette",onKeyDown:f,onMouseDown:m=>{m.target===m.currentTarget&&t()},children:_.jsxs("div",{className:"palette",ref:l,children:[_.jsxs("div",{className:"palette-header",children:[_.jsxs("div",{children:[_.jsx("div",{className:"palette-title",children:"Command palette"}),_.jsx("div",{className:"palette-subtitle",children:"Search actions, modes, and playbook steps."})]}),_.jsx("button",{className:"ghost-button",type:"button",onClick:t,"aria-label":"Close command palette",children:"Close"})]}),_.jsx("input",{ref:a,className:"palette-input",value:r,onChange:m=>i(m.target.value),placeholder:"Type to filter actions","aria-label":"Search commands",role:"combobox","aria-expanded":"true","aria-controls":"command-palette-list","aria-activedescendant":h,"aria-autocomplete":"list"}),_.jsxs("div",{className:"palette-list",role:"listbox",id:"command-palette-list",children:[u.length===0?_.jsx("div",{className:"palette-empty",children:"No matching commands."}):null,Array.from(c.entries()).map(([m,y])=>_.jsxs("div",{className:"palette-group",children:[_.jsx("div",{className:"palette-group-title",children:m}),_.jsx("div",{className:"palette-group-list",children:y.map(x=>{g+=1;const w=g===s;return _.jsxs("button",{id:`palette-option-${x.id}`,className:`palette-item ${w?"active":""}`,type:"button",role:"option","aria-selected":w,onMouseEnter:()=>o(g),onClick:()=>d(x),disabled:x.disabled,children:[_.jsxs("div",{className:"palette-item-main",children:[_.jsx("div",{className:"palette-item-title",children:x.label}),x.description?_.jsx("div",{className:"palette-item-description",children:x.description}):null]}),x.keys?_.jsx("div",{className:"palette-item-keys",children:x.keys}):null]},x.id)})})]},m))]})]})})}function aD(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function lD({trace:e,mode:t,playheadMs:n,selectedStepId:r,compareTrace:i,collapsed:s,onToggleCollapsed:o,onModeChange:a,onSelectStep:l,onJumpToBottleneck:u,onReplay:c,onShowShortcuts:d,onStartTour:f,onToggleStory:h,storyActive:g=!1}){var A;const p=e.steps??[],v=aD(p),m=r??(v==null?void 0:v.id)??((A=p[0])==null?void 0:A.id)??null,y=t==="cinema"||n>0,x=!!r,w=!!i,S=[y,x,w].filter(Boolean).length,C=[y,x,w].findIndex(R=>!R),k=C===-1?2:C,T=[0,1,2].map(R=>[y,x,w][R]?"done":R===k?"active":"next"),M=[{id:"observe",title:"Act I: Observe",summary:"Scrub the timeline to feel the pacing, bottlenecks, and tool choreography.",status:T[0],actionLabel:"Enter cinema",action:()=>a("cinema")},{id:"inspect",title:"Act II: Inspect",summary:"Open the most expensive or failed step and read the payload with context.",status:T[1],actionLabel:v?"Jump to bottleneck":"Select first step",action:()=>{if(r){a("cinema");return}if(v){u();return}m&&(l(m),a("cinema"))},disabled:!m},{id:"direct",title:"Act III: Direct",summary:"Replay from a decisive step, then compare flows and diffs side-by-side.",status:T[2],actionLabel:i?"Open compare":"Replay from step",action:()=>{if(i){a("compare");return}m&&c(m)},disabled:!m}];return s?_.jsxs("section",{className:"journey-panel journey-collapsed","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A guided path from observation to replay. Use it to show newcomers what to do first.","data-help-placement":"bottom",children:[_.jsxs("div",{className:"journey-collapsed-main",children:[_.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),_.jsx("div",{className:"journey-collapsed-title",children:"From observe to direct"})]}),_.jsxs("div",{className:"journey-collapsed-actions",children:[_.jsxs("span",{className:"journey-progress-text",children:[S,"/3 complete"]}),_.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Shortcuts"}),h?_.jsx("button",{className:`ghost-button ${g?"active":""}`,type:"button",onClick:h,"data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-play the walkthrough for new viewers.","data-help-placement":"bottom",children:"Story"}):null,f?_.jsx("button",{className:"ghost-button",type:"button",onClick:f,children:"Tour"}):null,_.jsx("button",{className:"primary-button journey-expand",type:"button",onClick:o,children:"Expand"})]})]}):_.jsxs("section",{className:"journey-panel","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A three-act flow that teaches the story: observe, inspect, direct. Each act jumps to the right place.","data-help-placement":"bottom",children:[_.jsxs("div",{className:"journey-head",children:[_.jsxs("div",{children:[_.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),_.jsx("h2",{className:"journey-title",children:"Cut a perfect take in three acts."}),_.jsx("p",{className:"journey-subtitle",children:"Trace the performance, interrogate the moment, then direct a better run."})]}),_.jsxs("div",{className:"journey-head-actions",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Shortcuts"}),h?_.jsx("button",{className:`ghost-button ${g?"active":""}`,type:"button",onClick:h,"data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-play the walkthrough for new viewers.","data-help-placement":"bottom",children:g?"Stop story":"Story mode"}):null,f?_.jsx("button",{className:"ghost-button",type:"button",onClick:f,children:"Start tour"}):null,_.jsx("button",{className:"ghost-button",type:"button",onClick:o,children:"Collapse"})]})]}),_.jsx("div",{className:"journey-track",children:M.map((R,B)=>_.jsxs("div",{className:"journey-card","data-status":R.status,children:[_.jsxs("div",{className:"journey-card-top",children:[_.jsxs("span",{className:"journey-index",children:["0",B+1]}),_.jsx("span",{className:"journey-status",children:R.status})]}),_.jsx("h3",{className:"journey-card-title",children:R.title}),_.jsx("p",{className:"journey-card-body",children:R.summary}),_.jsx("button",{className:"primary-button journey-action",type:"button",onClick:R.action,disabled:R.disabled,children:R.actionLabel})]},R.id))}),_.jsxs("div",{className:"journey-footer",children:[_.jsxs("div",{children:[_.jsx("div",{className:"journey-progress-label",children:"Progress"}),_.jsx("div",{className:"journey-progress",children:_.jsx("span",{className:"journey-progress-bar",style:{width:`${S/3*100}%`}})})]}),_.jsx("div",{className:"journey-footnote",children:"Tip: Use Flow to spot fan-out, Compare to validate your changes."})]})]})}function uD(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function cD({trace:e,mode:t,selectedStepId:n,onModeChange:r,onSelectStep:i,onJumpToBottleneck:s,onReplay:o}){var d;const a=e.steps??[],l=uD(a),u=n??(l==null?void 0:l.id)??((d=a[0])==null?void 0:d.id)??null,c=e.metadata.wallTimeMs??0;return _.jsxs("aside",{className:"inspector inspector-empty","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Select a step to open detailed payloads, redaction controls, and replay actions.","data-help-placement":"left",children:[_.jsx("div",{className:"inspector-header",children:_.jsxs("div",{children:[_.jsx("div",{className:"inspector-title",children:"Director's notes"}),_.jsx("div",{className:"inspector-subtitle",children:"Select a step to open deep inspection."})]})}),_.jsxs("div",{className:"inspector-section",children:[_.jsx("div",{className:"inspector-section-title",children:"Run summary"}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Steps"}),_.jsx("span",{children:a.length})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Wall time"}),_.jsxs("span",{children:[c,"ms"]})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Status"}),_.jsx("span",{children:e.status})]})]}),_.jsxs("div",{className:"inspector-section",children:[_.jsx("div",{className:"inspector-section-title",children:"Next actions"}),_.jsxs("div",{className:"director-actions",children:[_.jsx("button",{className:"primary-button",type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Open cinema","data-help-body":"Jump straight into the timeline.","data-help-placement":"right",children:"Open cinema"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Open flow","data-help-body":"See the dependency graph of the run.","data-help-placement":"right",children:"Switch to flow"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{if(!n){if(l){s();return}u&&i(u)}},disabled:!u||!!n,"data-help":!0,"data-help-title":"Jump to bottleneck","data-help-body":"Select the slowest step for inspection.","data-help-placement":"right",children:n?"Inspector open":l?"Jump to bottleneck":"Select first step"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>u&&o(u),disabled:!u,"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a replay from a decisive step.","data-help-placement":"right",children:"Replay from step"})]})]}),_.jsxs("div",{className:"inspector-section",children:[_.jsx("div",{className:"inspector-section-title",children:"Mode"}),_.jsxs("div",{className:"director-modes",children:[_.jsx("button",{className:`ghost-button ${t==="cinema"?"active":""}`,type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view for pacing and sequence.","data-help-placement":"right",children:"Cinema"}),_.jsx("button",{className:`ghost-button ${t==="flow"?"active":""}`,type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Graph view for dependencies.","data-help-placement":"right",children:"Flow"}),_.jsx("button",{className:"ghost-button",type:"button",disabled:!0,children:"Compare"})]})]})]})}const wc=(e,t,n)=>Math.min(n,Math.max(t,e));function dD({steps:e,open:t,onClose:n,onComplete:r}){const[i,s]=b.useState(0),[o,a]=b.useState(null),[l,u]=b.useState(null),c=b.useRef(null),d=b.useRef(null),f=b.useMemo(()=>e[i],[e,i]),h=b.useCallback(()=>{if(!t)return;const v=document.querySelector(f.target);if(!v){d.current=null,a(null);return}d.current=v;const m=v.getBoundingClientRect();a(m)},[t,f.target]),g=b.useCallback(()=>{if(!o||!c.current){u(null);return}const v=c.current.offsetWidth,m=c.current.offsetHeight,y=16;let x=wc(o.left+o.width/2-v/2,y,window.innerWidth-v-y),w=o.bottom+16;f.placement==="top"&&(w=o.top-m-16),f.placement==="left"&&(x=o.left-v-16,w=o.top+o.height/2-m/2),f.placement==="right"&&(x=o.right+16,w=o.top+o.height/2-m/2),w+m>window.innerHeight-y&&(w=o.top-m-16),w<y&&(w=o.bottom+16),x=wc(x,y,window.innerWidth-v-y),w=wc(w,y,window.innerHeight-m-y),u({top:w,left:x})},[f.placement,o]);if(b.useEffect(()=>{t&&s(0)},[t]),b.useEffect(()=>{if(!t)return;const v=document.querySelector(f.target);v&&v.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const m=window.requestAnimationFrame(()=>h());return()=>window.cancelAnimationFrame(m)},[t,f.target,h]),b.useLayoutEffect(()=>{g()},[o,g,f.title]),b.useEffect(()=>{if(!t)return;const v=()=>{h(),g()};return window.addEventListener("resize",v),window.addEventListener("scroll",v,!0),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",v,!0)}},[t,h,g]),!t||!f)return null;const p=o?{top:o.top-6,left:o.left-6,width:o.width+12,height:o.height+12}:void 0;return _.jsxs("div",{className:"tour-overlay",role:"dialog","aria-modal":"true","aria-label":"Guided tour",children:[_.jsx("div",{className:"tour-backdrop",onClick:n}),o?_.jsx("div",{className:"tour-spotlight",style:p}):null,_.jsxs("div",{className:`tour-card ${l?"tour-card-anchored":""}`,ref:c,style:l??void 0,children:[_.jsxs("div",{className:"tour-step",children:["Step ",i+1," of ",e.length]}),_.jsx("div",{className:"tour-title",children:f.title}),_.jsx("p",{className:"tour-body",children:f.body}),_.jsxs("div",{className:"tour-actions",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>s(v=>Math.max(0,v-1)),disabled:i===0,children:"Back"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:n,children:"Skip"}),i===e.length-1?_.jsx("button",{className:"primary-button",type:"button",onClick:r,children:"Finish tour"}):_.jsx("button",{className:"primary-button",type:"button",onClick:()=>s(v=>v+1),children:"Next"})]})]})]})}const Uw=(e,t,n)=>Math.min(n,Math.max(t,e));function fD({enabled:e}){const[t,n]=b.useState(null),[r,i]=b.useState(null),s=b.useRef(null),o=b.useRef(null),a=b.useCallback(()=>{const u=s.current;if(!u){n(null);return}const c=u.getBoundingClientRect(),d=u.dataset.helpTitle??"Context",f=u.dataset.helpBody??"",h=u.dataset.helpPlacement??"right";n({rect:c,title:d,body:f,placement:h})},[]);b.useEffect(()=>{if(!e){s.current=null,n(null);return}const u=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");if(!p){s.current||n(null);return}s.current!==p&&(s.current=p,a())},c=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");p&&(s.current=p,a())},d=g=>{var v;const p=g.relatedTarget;(v=p==null?void 0:p.closest)!=null&&v.call(p,"[data-help]")||(s.current=null,n(null))},f=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");if(!p){s.current=null,n(null);return}s.current=p,a()},h=()=>{s.current&&a()};return window.addEventListener("mousemove",u),window.addEventListener("focusin",c),window.addEventListener("focusout",d),window.addEventListener("pointerdown",f),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("focusin",c),window.removeEventListener("focusout",d),window.removeEventListener("pointerdown",f),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,a]);const l=b.useCallback(()=>{if(!t||!o.current){i(null);return}const u=12,c=o.current.offsetWidth,d=o.current.offsetHeight,{rect:f,placement:h}=t;let g=f.right+16,p=f.top+f.height/2-d/2;h==="left"&&(g=f.left-c-16,p=f.top+f.height/2-d/2),h==="top"&&(g=f.left+f.width/2-c/2,p=f.top-d-16),h==="bottom"&&(g=f.left+f.width/2-c/2,p=f.bottom+16),g=Uw(g,u,window.innerWidth-c-u),p=Uw(p,u,window.innerHeight-d-u),i({left:g,top:p})},[t]);return b.useLayoutEffect(()=>{l()},[l]),!e||!t?null:_.jsxs("div",{className:"help-overlay","aria-hidden":"true",children:[_.jsx("div",{className:"help-highlight",style:{top:t.rect.top-6,left:t.rect.left-6,width:t.rect.width+12,height:t.rect.height+12}}),_.jsxs("div",{className:"help-bubble",ref:o,style:r??void 0,children:[_.jsx("div",{className:"help-title",children:t.title}),_.jsx("div",{className:"help-body",children:t.body})]})]})}const hD=1800;function pD({onComplete:e}){return b.useEffect(()=>{const t=window.setTimeout(()=>e(),hD);return()=>window.clearTimeout(t)},[e]),_.jsx("div",{className:"intro-overlay",role:"dialog","aria-modal":"true","aria-label":"Agent Director intro",children:_.jsxs("div",{className:"intro-card",children:[_.jsx("div",{className:"intro-scan"}),_.jsx("div",{className:"intro-title",children:"Agent Director"}),_.jsx("div",{className:"intro-tagline",children:"Watch your agent think. Then direct it."}),_.jsxs("div",{className:"intro-grid",children:[_.jsx("span",{}),_.jsx("span",{}),_.jsx("span",{}),_.jsx("span",{})]}),_.jsx("button",{className:"ghost-button",type:"button",onClick:e,children:"Skip intro"})]})})}function mD({mode:e,isPlaying:t,storyActive:n,explainMode:r,onTogglePlay:i,onStartStory:s,onStopStory:o,onStartTour:a,onOpenPalette:l,onShowShortcuts:u,onToggleExplain:c,onJumpToBottleneck:d}){const f=t?"Pause":"Play",h=n?"Stop story":"Story mode";return _.jsxs("aside",{className:"quick-actions","aria-label":"Quick actions","data-help":!0,"data-help-indicator":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Launch story mode, open the command palette, or jump to the bottleneck instantly.","data-help-placement":"left",children:[_.jsxs("button",{className:`quick-action ${t?"active":""}`,type:"button",onClick:i,"aria-label":f,"data-help":!0,"data-help-title":"Play or pause","data-help-body":"Start or stop playback from anywhere.","data-help-placement":"left",children:[_.jsx("span",{className:"quick-action-label",children:f}),_.jsx("span",{className:"quick-action-meta",children:e==="flow"?"Cinema":"Space"})]}),_.jsxs("button",{className:`quick-action ${n?"active":""}`,type:"button",onClick:n?o:s,"aria-label":h,"data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough of the run.","data-help-placement":"left",children:[_.jsx("span",{className:"quick-action-label",children:h}),_.jsx("span",{className:"quick-action-meta",children:"S"})]}),_.jsxs("button",{className:"quick-action",type:"button",onClick:l,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search every action and jump instantly.","data-help-placement":"left",children:[_.jsx("span",{className:"quick-action-label",children:"Command"}),_.jsx("span",{className:"quick-action-meta",children:"Cmd+K"})]}),_.jsxs("button",{className:"quick-action",type:"button",onClick:a,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk the interface with a curated tour.","data-help-placement":"left",children:[_.jsx("span",{className:"quick-action-label",children:"Tour"}),_.jsx("span",{className:"quick-action-meta",children:"Guide"})]}),_.jsxs("button",{className:`quick-action ${r?"active":""}`,type:"button",onClick:c,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Toggle contextual overlays for every control.","data-help-placement":"left",children:[_.jsx("span",{className:"quick-action-label",children:"Explain"}),_.jsx("span",{className:"quick-action-meta",children:r?"On":"Off"})]}),_.jsxs("button",{className:"quick-action",type:"button",onClick:d,"aria-label":"Jump to bottleneck","data-help":!0,"data-help-title":"Bottleneck jump","data-help-body":"Focus instantly on the slowest step.","data-help-placement":"left",children:[_.jsx("span",{className:"quick-action-label",children:"Bottleneck"}),_.jsx("span",{className:"quick-action-meta",children:"Latency"})]}),_.jsxs("button",{className:"quick-action",type:"button",onClick:u,"aria-label":"Show shortcuts","data-help":!0,"data-help-title":"Shortcuts","data-help-body":"See the full keyboard map.","data-help-placement":"left",children:[_.jsx("span",{className:"quick-action-label",children:"Shortcuts"}),_.jsx("span",{className:"quick-action-meta",children:"?"})]})]})}function gD({active:e,label:t,step:n,total:r,onStop:i,onRestart:s}){if(!e)return null;const o=r>0?(n+1)/r*100:0;return _.jsxs("div",{className:"story-banner",role:"status","aria-live":"polite",children:[_.jsxs("div",{className:"story-banner-main",children:[_.jsx("div",{className:"story-banner-title",children:"Story mode"}),_.jsx("div",{className:"story-banner-step",children:t})]}),_.jsxs("div",{className:"story-banner-actions",children:[_.jsxs("span",{className:"story-banner-count",children:[Math.min(n+1,r),"/",r]}),_.jsx("button",{className:"ghost-button",type:"button",onClick:s,children:"Restart"}),_.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Stop"})]}),_.jsx("div",{className:"story-banner-progress",children:_.jsx("span",{style:{width:`${o}%`}})})]})}function it(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=it(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var CN={exports:{}},kN={},TN={exports:{}},NN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=b;function yD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vD=typeof Object.is=="function"?Object.is:yD,wD=rs.useState,xD=rs.useEffect,_D=rs.useLayoutEffect,SD=rs.useDebugValue;function bD(e,t){var n=t(),r=wD({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return _D(function(){i.value=n,i.getSnapshot=t,xc(i)&&s({inst:i})},[e,n,t]),xD(function(){return xc(i)&&s({inst:i}),e(function(){xc(i)&&s({inst:i})})},[e]),SD(n),n}function xc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vD(e,n)}catch{return!0}}function ED(e,t){return t()}var CD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ED:bD;NN.useSyncExternalStore=rs.useSyncExternalStore!==void 0?rs.useSyncExternalStore:CD;TN.exports=NN;var kD=TN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=b,TD=kD;function ND(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MD=typeof Object.is=="function"?Object.is:ND,PD=TD.useSyncExternalStore,AD=pu.useRef,RD=pu.useEffect,ID=pu.useMemo,jD=pu.useDebugValue;kN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=AD(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ID(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var g=o.value;if(i(g,h))return d=g}return d=h}if(g=d,MD(c,h))return g;var p=r(h);return i!==void 0&&i(g,p)?(c=h,g):(c=h,d=p)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=PD(e,s[0],s[1]);return RD(function(){o.hasValue=!0,o.value=a},[a]),jD(a),a};CN.exports=kN;var DD=CN.exports;const LD=gy(DD),OD={},Hw=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(OD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},qD=e=>e?Hw(e):Hw,{useDebugValue:FD}=q,{useSyncExternalStoreWithSelector:$D}=LD,VD=e=>e;function MN(e,t=VD,n){const r=$D(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return FD(r),r}const Gw=(e,t)=>{const n=qD(e),r=(i,s=t)=>MN(n,i,s);return Object.assign(r,n),r},BD=(e,t)=>e?Gw(e,t):Gw;function Xe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var zD={value:()=>{}};function mu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qa(n)}function Qa(e){this._=e}function UD(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qa.prototype=mu.prototype={constructor:Qa,on:function(e,t){var n=this._,r=UD(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=HD(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Ww(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ww(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qa(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function HD(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ww(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=zD,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var jg="http://www.w3.org/1999/xhtml";const Kw={svg:"http://www.w3.org/2000/svg",xhtml:jg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Kw.hasOwnProperty(t)?{space:Kw[t],local:e}:e}function GD(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===jg&&t.documentElement.namespaceURI===jg?t.createElement(e):t.createElementNS(n,e)}}function WD(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function PN(e){var t=gu(e);return(t.local?WD:GD)(t)}function KD(){}function fv(e){return e==null?KD:function(){return this.querySelector(e)}}function YD(e){typeof e!="function"&&(e=fv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Lt(r,this._parents)}function XD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ZD(){return[]}function AN(e){return e==null?ZD:function(){return this.querySelectorAll(e)}}function QD(e){return function(){return XD(e.apply(this,arguments))}}function JD(e){typeof e=="function"?e=QD(e):e=AN(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new Lt(r,i)}function RN(e){return function(){return this.matches(e)}}function IN(e){return function(t){return t.matches(e)}}var eL=Array.prototype.find;function tL(e){return function(){return eL.call(this.children,e)}}function nL(){return this.firstElementChild}function rL(e){return this.select(e==null?nL:tL(typeof e=="function"?e:IN(e)))}var iL=Array.prototype.filter;function sL(){return Array.from(this.children)}function oL(e){return function(){return iL.call(this.children,e)}}function aL(e){return this.selectAll(e==null?sL:oL(typeof e=="function"?e:IN(e)))}function lL(e){typeof e!="function"&&(e=RN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Lt(r,this._parents)}function jN(e){return new Array(e.length)}function uL(){return new Lt(this._enter||this._groups.map(jN),this._parents)}function Pl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pl.prototype={constructor:Pl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cL(e){return function(){return e}}function dL(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new Pl(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function fL(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new Pl(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function hL(e){return e.__data__}function pL(e,t){if(!arguments.length)return Array.from(this,hL);var n=t?fL:dL,r=this._parents,i=this._groups;typeof e!="function"&&(e=cL(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,h=mL(e.call(c,c&&c.__data__,u,r)),g=h.length,p=a[u]=new Array(g),v=o[u]=new Array(g),m=l[u]=new Array(f);n(c,d,p,v,m,h,t);for(var y=0,x=0,w,S;y<g;++y)if(w=p[y]){for(y>=x&&(x=y+1);!(S=v[x])&&++x<g;);w._next=S||null}}return o=new Lt(o,r),o._enter=a,o._exit=l,o}function mL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gL(){return new Lt(this._exit||this._groups.map(jN),this._parents)}function yL(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function vL(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,g=0;g<d;++g)(h=u[g]||c[g])&&(f[g]=h);for(;l<i;++l)a[l]=n[l];return new Lt(a,this._parents)}function wL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function xL(e){e||(e=_L);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new Lt(i,this._parents).order()}function _L(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function SL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function bL(){return Array.from(this)}function EL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function CL(){let e=0;for(const t of this)++e;return e}function kL(){return!this.node()}function TL(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function NL(e){return function(){this.removeAttribute(e)}}function ML(e){return function(){this.removeAttributeNS(e.space,e.local)}}function PL(e,t){return function(){this.setAttribute(e,t)}}function AL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function RL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function IL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function jL(e,t){var n=gu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ML:NL:typeof t=="function"?n.local?IL:RL:n.local?AL:PL)(n,t))}function DN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function DL(e){return function(){this.style.removeProperty(e)}}function LL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function OL(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function qL(e,t,n){return arguments.length>1?this.each((t==null?DL:typeof t=="function"?OL:LL)(e,t,n??"")):is(this.node(),e)}function is(e,t){return e.style.getPropertyValue(t)||DN(e).getComputedStyle(e,null).getPropertyValue(t)}function FL(e){return function(){delete this[e]}}function $L(e,t){return function(){this[e]=t}}function VL(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function BL(e,t){return arguments.length>1?this.each((t==null?FL:typeof t=="function"?VL:$L)(e,t)):this.node()[e]}function LN(e){return e.trim().split(/^|\s+/)}function hv(e){return e.classList||new ON(e)}function ON(e){this._node=e,this._names=LN(e.getAttribute("class")||"")}ON.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function qN(e,t){for(var n=hv(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function FN(e,t){for(var n=hv(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function zL(e){return function(){qN(this,e)}}function UL(e){return function(){FN(this,e)}}function HL(e,t){return function(){(t.apply(this,arguments)?qN:FN)(this,e)}}function GL(e,t){var n=LN(e+"");if(arguments.length<2){for(var r=hv(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?HL:t?zL:UL)(n,t))}function WL(){this.textContent=""}function KL(e){return function(){this.textContent=e}}function YL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function XL(e){return arguments.length?this.each(e==null?WL:(typeof e=="function"?YL:KL)(e)):this.node().textContent}function ZL(){this.innerHTML=""}function QL(e){return function(){this.innerHTML=e}}function JL(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function eO(e){return arguments.length?this.each(e==null?ZL:(typeof e=="function"?JL:QL)(e)):this.node().innerHTML}function tO(){this.nextSibling&&this.parentNode.appendChild(this)}function nO(){return this.each(tO)}function rO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iO(){return this.each(rO)}function sO(e){var t=typeof e=="function"?e:PN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function oO(){return null}function aO(e,t){var n=typeof e=="function"?e:PN(e),r=t==null?oO:typeof t=="function"?t:fv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lO(){var e=this.parentNode;e&&e.removeChild(this)}function uO(){return this.each(lO)}function cO(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dO(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fO(e){return this.select(e?dO:cO)}function hO(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pO(e){return function(t){e.call(this,t,this.__data__)}}function mO(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gO(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function yO(e,t,n){return function(){var r=this.__on,i,s=pO(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function vO(e,t,n){var r=mO(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?yO:gO,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function $N(e,t,n){var r=DN(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function wO(e,t){return function(){return $N(this,e,t)}}function xO(e,t){return function(){return $N(this,e,t.apply(this,arguments))}}function _O(e,t){return this.each((typeof t=="function"?xO:wO)(e,t))}function*SO(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var VN=[null];function Lt(e,t){this._groups=e,this._parents=t}function Wo(){return new Lt([[document.documentElement]],VN)}function bO(){return this}Lt.prototype=Wo.prototype={constructor:Lt,select:YD,selectAll:JD,selectChild:rL,selectChildren:aL,filter:lL,data:pL,enter:uL,exit:gL,join:yL,merge:vL,selection:bO,order:wL,sort:xL,call:SL,nodes:bL,node:EL,size:CL,empty:kL,each:TL,attr:jL,style:qL,property:BL,classed:GL,text:XL,html:eO,raise:nO,lower:iO,append:sO,insert:aO,remove:uO,clone:fO,datum:hO,on:vO,dispatch:_O,[Symbol.iterator]:SO};function Ht(e){return typeof e=="string"?new Lt([[document.querySelector(e)]],[document.documentElement]):new Lt([[e]],VN)}function EO(e){let t;for(;t=e.sourceEvent;)e=t;return e}function sn(e,t){if(e=EO(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const CO={passive:!1},Mo={capture:!0,passive:!1};function _c(e){e.stopImmediatePropagation()}function Wi(e){e.preventDefault(),e.stopImmediatePropagation()}function BN(e){var t=e.document.documentElement,n=Ht(e).on("dragstart.drag",Wi,Mo);"onselectstart"in t?n.on("selectstart.drag",Wi,Mo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function zN(e,t){var n=e.document.documentElement,r=Ht(e).on("dragstart.drag",null);t&&(r.on("click.drag",Wi,Mo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ka=e=>()=>e;function Dg(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Dg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function kO(e){return!e.ctrlKey&&!e.button}function TO(){return this.parentNode}function NO(e,t){return t??{x:e.x,y:e.y}}function MO(){return navigator.maxTouchPoints||"ontouchstart"in this}function PO(){var e=kO,t=TO,n=NO,r=MO,i={},s=mu("start","drag","end"),o=0,a,l,u,c,d=0;function f(w){w.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",m,CO).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,S){if(!(c||!e.call(this,w,S))){var C=x(this,t.call(this,w,S),w,S,"mouse");C&&(Ht(w.view).on("mousemove.drag",g,Mo).on("mouseup.drag",p,Mo),BN(w.view),_c(w),u=!1,a=w.clientX,l=w.clientY,C("start",w))}}function g(w){if(Wi(w),!u){var S=w.clientX-a,C=w.clientY-l;u=S*S+C*C>d}i.mouse("drag",w)}function p(w){Ht(w.view).on("mousemove.drag mouseup.drag",null),zN(w.view,u),Wi(w),i.mouse("end",w)}function v(w,S){if(e.call(this,w,S)){var C=w.changedTouches,k=t.call(this,w,S),T=C.length,M,A;for(M=0;M<T;++M)(A=x(this,k,w,S,C[M].identifier,C[M]))&&(_c(w),A("start",w,C[M]))}}function m(w){var S=w.changedTouches,C=S.length,k,T;for(k=0;k<C;++k)(T=i[S[k].identifier])&&(Wi(w),T("drag",w,S[k]))}function y(w){var S=w.changedTouches,C=S.length,k,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<C;++k)(T=i[S[k].identifier])&&(_c(w),T("end",w,S[k]))}function x(w,S,C,k,T,M){var A=s.copy(),R=sn(M||C,S),B,V,E;if((E=n.call(w,new Dg("beforestart",{sourceEvent:C,target:f,identifier:T,active:o,x:R[0],y:R[1],dx:0,dy:0,dispatch:A}),k))!=null)return B=E.x-R[0]||0,V=E.y-R[1]||0,function D(I,L,P){var N=R,j;switch(I){case"start":i[T]=D,j=o++;break;case"end":delete i[T],--o;case"drag":R=sn(P||L,S),j=o;break}A.call(I,w,new Dg(I,{sourceEvent:L,subject:E,target:f,identifier:T,active:j,x:R[0]+B,y:R[1]+V,dx:R[0]-N[0],dy:R[1]-N[1],dispatch:A}),k)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:ka(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:ka(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:ka(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:ka(!!w),f):r},f.on=function(){var w=s.on.apply(s,arguments);return w===s?f:w},f.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,f):Math.sqrt(d)},f}function pv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function UN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ko(){}var Po=.7,Al=1/Po,Ki="\\s*([+-]?\\d+)\\s*",Ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AO=/^#([0-9a-f]{3,8})$/,RO=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),IO=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),jO=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Ao}\\)$`),DO=new RegExp(`^rgba\\(${bn},${bn},${bn},${Ao}\\)$`),LO=new RegExp(`^hsl\\(${Ao},${bn},${bn}\\)$`),OO=new RegExp(`^hsla\\(${Ao},${bn},${bn},${Ao}\\)$`),Yw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pv(Ko,Ro,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xw,formatHex:Xw,formatHex8:qO,formatHsl:FO,formatRgb:Zw,toString:Zw});function Xw(){return this.rgb().formatHex()}function qO(){return this.rgb().formatHex8()}function FO(){return HN(this).formatHsl()}function Zw(){return this.rgb().formatRgb()}function Ro(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=AO.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Qw(t):n===3?new bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ta(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ta(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RO.exec(e))?new bt(t[1],t[2],t[3],1):(t=IO.exec(e))?new bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jO.exec(e))?Ta(t[1],t[2],t[3],t[4]):(t=DO.exec(e))?Ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LO.exec(e))?t1(t[1],t[2]/100,t[3]/100,1):(t=OO.exec(e))?t1(t[1],t[2]/100,t[3]/100,t[4]):Yw.hasOwnProperty(e)?Qw(Yw[e]):e==="transparent"?new bt(NaN,NaN,NaN,0):null}function Qw(e){return new bt(e>>16&255,e>>8&255,e&255,1)}function Ta(e,t,n,r){return r<=0&&(e=t=n=NaN),new bt(e,t,n,r)}function $O(e){return e instanceof Ko||(e=Ro(e)),e?(e=e.rgb(),new bt(e.r,e.g,e.b,e.opacity)):new bt}function Lg(e,t,n,r){return arguments.length===1?$O(e):new bt(e,t,n,r??1)}function bt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pv(bt,Lg,UN(Ko,{brighter(e){return e=e==null?Al:Math.pow(Al,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bt(Jr(this.r),Jr(this.g),Jr(this.b),Rl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jw,formatHex:Jw,formatHex8:VO,formatRgb:e1,toString:e1}));function Jw(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}`}function VO(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}${Wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function e1(){const e=Rl(this.opacity);return`${e===1?"rgb(":"rgba("}${Jr(this.r)}, ${Jr(this.g)}, ${Jr(this.b)}${e===1?")":`, ${e})`}`}function Rl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wr(e){return e=Jr(e),(e<16?"0":"")+e.toString(16)}function t1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new an(e,t,n,r)}function HN(e){if(e instanceof an)return new an(e.h,e.s,e.l,e.opacity);if(e instanceof Ko||(e=Ro(e)),!e)return new an;if(e instanceof an)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new an(o,a,l,e.opacity)}function BO(e,t,n,r){return arguments.length===1?HN(e):new an(e,t,n,r??1)}function an(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pv(an,BO,UN(Ko,{brighter(e){return e=e==null?Al:Math.pow(Al,e),new an(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new an(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new bt(Sc(e>=240?e-240:e+120,i,r),Sc(e,i,r),Sc(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new an(n1(this.h),Na(this.s),Na(this.l),Rl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rl(this.opacity);return`${e===1?"hsl(":"hsla("}${n1(this.h)}, ${Na(this.s)*100}%, ${Na(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n1(e){return e=(e||0)%360,e<0?e+360:e}function Na(e){return Math.max(0,Math.min(1,e||0))}function Sc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const GN=e=>()=>e;function zO(e,t){return function(n){return e+n*t}}function UO(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function HO(e){return(e=+e)==1?WN:function(t,n){return n-t?UO(t,n,e):GN(isNaN(t)?n:t)}}function WN(e,t){var n=t-e;return n?zO(e,n):GN(isNaN(e)?t:e)}const r1=function e(t){var n=HO(t);function r(i,s){var o=n((i=Lg(i)).r,(s=Lg(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=WN(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function cr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Og=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bc=new RegExp(Og.source,"g");function GO(e){return function(){return e}}function WO(e){return function(t){return e(t)+""}}function KO(e,t){var n=Og.lastIndex=bc.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Og.exec(e))&&(i=bc.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:cr(r,i)})),n=bc.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?WO(l[0].x):GO(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var i1=180/Math.PI,qg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KN(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*i1,skewX:Math.atan(l)*i1,scaleX:o,scaleY:a}}var Ma;function YO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qg:KN(t.a,t.b,t.c,t.d,t.e,t.f)}function XO(e){return e==null||(Ma||(Ma=document.createElementNS("http://www.w3.org/2000/svg","g")),Ma.setAttribute("transform",e),!(e=Ma.transform.baseVal.consolidate()))?qg:(e=e.matrix,KN(e.a,e.b,e.c,e.d,e.e,e.f))}function YN(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,g){if(u!==d||c!==f){var p=h.push("translate(",null,t,null,n);g.push({i:p-4,x:cr(u,d)},{i:p-2,x:cr(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:cr(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:cr(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,g){if(u!==d||c!==f){var p=h.push(i(h)+"scale(",null,",",null,")");g.push({i:p-4,x:cr(u,d)},{i:p-2,x:cr(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var g=-1,p=f.length,v;++g<p;)d[(v=f[g]).i]=v.x(h);return d.join("")}}}var ZO=YN(YO,"px, ","px)","deg)"),QO=YN(XO,", ",")",")"),JO=1e-12;function s1(e){return((e=Math.exp(e))+1/e)/2}function e3(e){return((e=Math.exp(e))-1/e)/2}function t3(e){return((e=Math.exp(2*e))-1)/(e+1)}const n3=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],h=c-a,g=d-l,p=h*h+g*g,v,m;if(p<JO)m=Math.log(f/u)/t,v=function(k){return[a+k*h,l+k*g,u*Math.exp(t*k*m)]};else{var y=Math.sqrt(p),x=(f*f-u*u+r*p)/(2*u*n*y),w=(f*f-u*u-r*p)/(2*f*n*y),S=Math.log(Math.sqrt(x*x+1)-x),C=Math.log(Math.sqrt(w*w+1)-w);m=(C-S)/t,v=function(k){var T=k*m,M=s1(S),A=u/(n*y)*(M*t3(t*T+S)-e3(S));return[a+A*h,l+A*g,u*M/s1(t*T+S)]}}return v.duration=m*1e3*t/Math.SQRT2,v}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var ss=0,$s=0,Ps=0,XN=1e3,Il,Vs,jl=0,ai=0,yu=0,Io=typeof performance=="object"&&performance.now?performance:Date,ZN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mv(){return ai||(ZN(r3),ai=Io.now()+yu)}function r3(){ai=0}function Dl(){this._call=this._time=this._next=null}Dl.prototype=QN.prototype={constructor:Dl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?mv():+n)+(t==null?0:+t),!this._next&&Vs!==this&&(Vs?Vs._next=this:Il=this,Vs=this),this._call=e,this._time=n,Fg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fg())}};function QN(e,t,n){var r=new Dl;return r.restart(e,t,n),r}function i3(){mv(),++ss;for(var e=Il,t;e;)(t=ai-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ss}function o1(){ai=(jl=Io.now())+yu,ss=$s=0;try{i3()}finally{ss=0,o3(),ai=0}}function s3(){var e=Io.now(),t=e-jl;t>XN&&(yu-=t,jl=e)}function o3(){for(var e,t=Il,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Il=n);Vs=e,Fg(r)}function Fg(e){if(!ss){$s&&($s=clearTimeout($s));var t=e-ai;t>24?(e<1/0&&($s=setTimeout(o1,e-Io.now()-yu)),Ps&&(Ps=clearInterval(Ps))):(Ps||(jl=Io.now(),Ps=setInterval(s3,XN)),ss=1,ZN(o1))}}function a1(e,t,n){var r=new Dl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var a3=mu("start","end","cancel","interrupt"),l3=[],JN=0,l1=1,$g=2,Ja=3,u1=4,Vg=5,el=6;function vu(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;u3(e,n,{name:t,index:r,group:i,on:a3,tween:l3,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:JN})}function gv(e,t){var n=fn(e,t);if(n.state>JN)throw new Error("too late; already scheduled");return n}function kn(e,t){var n=fn(e,t);if(n.state>Ja)throw new Error("too late; already running");return n}function fn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function u3(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=QN(s,0,n.time);function s(u){n.state=l1,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,h;if(n.state!==l1)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Ja)return a1(o);h.state===u1?(h.state=el,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=el,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(a1(function(){n.state===Ja&&(n.state=u1,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=$g,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$g){for(n.state=Ja,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Vg,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===Vg&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=el,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function tl(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>$g&&r.state<Vg,r.state=el,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function c3(e){return this.each(function(){tl(this,e)})}function d3(e,t){var n,r;return function(){var i=kn(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function f3(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=kn(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function h3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=fn(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?d3:f3)(n,e,t))}function yv(e,t,n){var r=e._id;return e.each(function(){var i=kn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return fn(i,r).value[t]}}function eM(e,t){var n;return(typeof t=="number"?cr:t instanceof Ro?r1:(n=Ro(t))?(t=n,r1):KO)(e,t)}function p3(e){return function(){this.removeAttribute(e)}}function m3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function g3(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function y3(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function v3(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function w3(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function x3(e,t){var n=gu(e),r=n==="transform"?QO:eM;return this.attrTween(e,typeof t=="function"?(n.local?w3:v3)(n,r,yv(this,"attr."+e,t)):t==null?(n.local?m3:p3)(n):(n.local?y3:g3)(n,r,t))}function _3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function S3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function b3(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&S3(e,s)),n}return i._value=t,i}function E3(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&_3(e,s)),n}return i._value=t,i}function C3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=gu(e);return this.tween(n,(r.local?b3:E3)(r,t))}function k3(e,t){return function(){gv(this,e).delay=+t.apply(this,arguments)}}function T3(e,t){return t=+t,function(){gv(this,e).delay=t}}function N3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?k3:T3)(t,e)):fn(this.node(),t).delay}function M3(e,t){return function(){kn(this,e).duration=+t.apply(this,arguments)}}function P3(e,t){return t=+t,function(){kn(this,e).duration=t}}function A3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?M3:P3)(t,e)):fn(this.node(),t).duration}function R3(e,t){if(typeof t!="function")throw new Error;return function(){kn(this,e).ease=t}}function I3(e){var t=this._id;return arguments.length?this.each(R3(t,e)):fn(this.node(),t).ease}function j3(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;kn(this,e).ease=n}}function D3(e){if(typeof e!="function")throw new Error;return this.each(j3(this._id,e))}function L3(e){typeof e!="function"&&(e=RN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Kn(r,this._parents,this._name,this._id)}function O3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new Kn(o,this._parents,this._name,this._id)}function q3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function F3(e,t,n){var r,i,s=q3(t)?gv:kn;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function $3(e,t){var n=this._id;return arguments.length<2?fn(this.node(),n).on.on(e):this.each(F3(n,e,t))}function V3(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function B3(){return this.on("end.remove",V3(this._id))}function z3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=fv(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,vu(u[f],t,n,f,u,fn(c,n)));return new Kn(s,this._parents,t,n)}function U3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=AN(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,g=fn(c,n),p=0,v=f.length;p<v;++p)(h=f[p])&&vu(h,t,n,p,f,g);s.push(f),o.push(c)}return new Kn(s,o,t,n)}var H3=Wo.prototype.constructor;function G3(){return new H3(this._groups,this._parents)}function W3(e,t){var n,r,i;return function(){var s=is(this,e),o=(this.style.removeProperty(e),is(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function tM(e){return function(){this.style.removeProperty(e)}}function K3(e,t,n){var r,i=n+"",s;return function(){var o=is(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function Y3(e,t,n){var r,i,s;return function(){var o=is(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),is(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function X3(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=kn(this,e),u=l.on,c=l.value[s]==null?a||(a=tM(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function Z3(e,t,n){var r=(e+="")=="transform"?ZO:eM;return t==null?this.styleTween(e,W3(e,r)).on("end.style."+e,tM(e)):typeof t=="function"?this.styleTween(e,Y3(e,r,yv(this,"style."+e,t))).each(X3(this._id,e)):this.styleTween(e,K3(e,r,t),n).on("end.style."+e,null)}function Q3(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function J3(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Q3(e,o,n)),r}return s._value=t,s}function eq(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,J3(e,t,n??""))}function tq(e){return function(){this.textContent=e}}function nq(e){return function(){var t=e(this);this.textContent=t??""}}function rq(e){return this.tween("text",typeof e=="function"?nq(yv(this,"text",e)):tq(e==null?"":e+""))}function iq(e){return function(t){this.textContent=e.call(this,t)}}function sq(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&iq(i)),t}return r._value=e,r}function oq(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,sq(e))}function aq(){for(var e=this._name,t=this._id,n=nM(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=fn(l,t);vu(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Kn(r,this._parents,e,n)}function lq(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=kn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var uq=0;function Kn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function nM(){return++uq}var Mn=Wo.prototype;Kn.prototype={constructor:Kn,select:z3,selectAll:U3,selectChild:Mn.selectChild,selectChildren:Mn.selectChildren,filter:L3,merge:O3,selection:G3,transition:aq,call:Mn.call,nodes:Mn.nodes,node:Mn.node,size:Mn.size,empty:Mn.empty,each:Mn.each,on:$3,attr:x3,attrTween:C3,style:Z3,styleTween:eq,text:rq,textTween:oq,remove:B3,tween:h3,delay:N3,duration:A3,ease:I3,easeVarying:D3,end:lq,[Symbol.iterator]:Mn[Symbol.iterator]};function cq(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var dq={time:null,delay:0,duration:250,ease:cq};function fq(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function hq(e){var t,n;e instanceof Kn?(t=e._id,e=e._name):(t=nM(),(n=dq).time=mv(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&vu(l,e,t,u,o,n||fq(l,t));return new Kn(r,this._parents,e,t)}Wo.prototype.interrupt=c3;Wo.prototype.transition=hq;const Pa=e=>()=>e;function pq(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function On(e,t,n){this.k=e,this.x=t,this.y=n}On.prototype={constructor:On,scale:function(e){return e===1?this:new On(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new On(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vn=new On(1,0,0);On.prototype;function Ec(e){e.stopImmediatePropagation()}function As(e){e.preventDefault(),e.stopImmediatePropagation()}function mq(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function gq(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function c1(){return this.__zoom||Vn}function yq(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function vq(){return navigator.maxTouchPoints||"ontouchstart"in this}function wq(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function rM(){var e=mq,t=gq,n=wq,r=yq,i=vq,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=n3,u=mu("start","zoom","end"),c,d,f,h=500,g=150,p=0,v=10;function m(E){E.property("__zoom",c1).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(E,D,I,L){var P=E.selection?E.selection():E;P.property("__zoom",c1),E!==P?S(E,D,I,L):P.interrupt().each(function(){C(this,arguments).event(L).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},m.scaleBy=function(E,D,I,L){m.scaleTo(E,function(){var P=this.__zoom.k,N=typeof D=="function"?D.apply(this,arguments):D;return P*N},I,L)},m.scaleTo=function(E,D,I,L){m.transform(E,function(){var P=t.apply(this,arguments),N=this.__zoom,j=I==null?w(P):typeof I=="function"?I.apply(this,arguments):I,F=N.invert(j),$=typeof D=="function"?D.apply(this,arguments):D;return n(x(y(N,$),j,F),P,o)},I,L)},m.translateBy=function(E,D,I,L){m.transform(E,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),o)},null,L)},m.translateTo=function(E,D,I,L,P){m.transform(E,function(){var N=t.apply(this,arguments),j=this.__zoom,F=L==null?w(N):typeof L=="function"?L.apply(this,arguments):L;return n(Vn.translate(F[0],F[1]).scale(j.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof I=="function"?-I.apply(this,arguments):-I),N,o)},L,P)};function y(E,D){return D=Math.max(s[0],Math.min(s[1],D)),D===E.k?E:new On(D,E.x,E.y)}function x(E,D,I){var L=D[0]-I[0]*E.k,P=D[1]-I[1]*E.k;return L===E.x&&P===E.y?E:new On(E.k,L,P)}function w(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function S(E,D,I,L){E.on("start.zoom",function(){C(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(L).end()}).tween("zoom",function(){var P=this,N=arguments,j=C(P,N).event(L),F=t.apply(P,N),$=I==null?w(F):typeof I=="function"?I.apply(P,N):I,O=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),z=P.__zoom,G=typeof D=="function"?D.apply(P,N):D,Z=l(z.invert($).concat(O/z.k),G.invert($).concat(O/G.k));return function(re){if(re===1)re=G;else{var ce=Z(re),le=O/ce[2];re=new On(le,$[0]-ce[0]*le,$[1]-ce[1]*le)}j.zoom(null,re)}})}function C(E,D,I){return!I&&E.__zooming||new k(E,D)}function k(E,D){this.that=E,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,D),this.taps=0}k.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,D){return this.mouse&&E!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var D=Ht(this.that).datum();u.call(E,this.that,new pq(E,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),D)}};function T(E,...D){if(!e.apply(this,arguments))return;var I=C(this,D).event(E),L=this.__zoom,P=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,r.apply(this,arguments)))),N=sn(E);if(I.wheel)(I.mouse[0][0]!==N[0]||I.mouse[0][1]!==N[1])&&(I.mouse[1]=L.invert(I.mouse[0]=N)),clearTimeout(I.wheel);else{if(L.k===P)return;I.mouse=[N,L.invert(N)],tl(this),I.start()}As(E),I.wheel=setTimeout(j,g),I.zoom("mouse",n(x(y(L,P),I.mouse[0],I.mouse[1]),I.extent,o));function j(){I.wheel=null,I.end()}}function M(E,...D){if(f||!e.apply(this,arguments))return;var I=E.currentTarget,L=C(this,D,!0).event(E),P=Ht(E.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",O,!0),N=sn(E,I),j=E.clientX,F=E.clientY;BN(E.view),Ec(E),L.mouse=[N,this.__zoom.invert(N)],tl(this),L.start();function $(z){if(As(z),!L.moved){var G=z.clientX-j,Z=z.clientY-F;L.moved=G*G+Z*Z>p}L.event(z).zoom("mouse",n(x(L.that.__zoom,L.mouse[0]=sn(z,I),L.mouse[1]),L.extent,o))}function O(z){P.on("mousemove.zoom mouseup.zoom",null),zN(z.view,L.moved),As(z),L.event(z).end()}}function A(E,...D){if(e.apply(this,arguments)){var I=this.__zoom,L=sn(E.changedTouches?E.changedTouches[0]:E,this),P=I.invert(L),N=I.k*(E.shiftKey?.5:2),j=n(x(y(I,N),L,P),t.apply(this,D),o);As(E),a>0?Ht(this).transition().duration(a).call(S,j,L,E):Ht(this).call(m.transform,j,L,E)}}function R(E,...D){if(e.apply(this,arguments)){var I=E.touches,L=I.length,P=C(this,D,E.changedTouches.length===L).event(E),N,j,F,$;for(Ec(E),j=0;j<L;++j)F=I[j],$=sn(F,this),$=[$,this.__zoom.invert($),F.identifier],P.touch0?!P.touch1&&P.touch0[2]!==$[2]&&(P.touch1=$,P.taps=0):(P.touch0=$,N=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),N&&(P.taps<2&&(d=$[0],c=setTimeout(function(){c=null},h)),tl(this),P.start())}}function B(E,...D){if(this.__zooming){var I=C(this,D).event(E),L=E.changedTouches,P=L.length,N,j,F,$;for(As(E),N=0;N<P;++N)j=L[N],F=sn(j,this),I.touch0&&I.touch0[2]===j.identifier?I.touch0[0]=F:I.touch1&&I.touch1[2]===j.identifier&&(I.touch1[0]=F);if(j=I.that.__zoom,I.touch1){var O=I.touch0[0],z=I.touch0[1],G=I.touch1[0],Z=I.touch1[1],re=(re=G[0]-O[0])*re+(re=G[1]-O[1])*re,ce=(ce=Z[0]-z[0])*ce+(ce=Z[1]-z[1])*ce;j=y(j,Math.sqrt(re/ce)),F=[(O[0]+G[0])/2,(O[1]+G[1])/2],$=[(z[0]+Z[0])/2,(z[1]+Z[1])/2]}else if(I.touch0)F=I.touch0[0],$=I.touch0[1];else return;I.zoom("touch",n(x(j,F,$),I.extent,o))}}function V(E,...D){if(this.__zooming){var I=C(this,D).event(E),L=E.changedTouches,P=L.length,N,j;for(Ec(E),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),N=0;N<P;++N)j=L[N],I.touch0&&I.touch0[2]===j.identifier?delete I.touch0:I.touch1&&I.touch1[2]===j.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(j=sn(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<v)){var F=Ht(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return m.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Pa(+E),m):r},m.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Pa(!!E),m):e},m.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:Pa(!!E),m):i},m.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Pa([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),m):t},m.scaleExtent=function(E){return arguments.length?(s[0]=+E[0],s[1]=+E[1],m):[s[0],s[1]]},m.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(E){return arguments.length?(n=E,m):n},m.duration=function(E){return arguments.length?(a=+E,m):a},m.interpolate=function(E){return arguments.length?(l=E,m):l},m.on=function(){var E=u.on.apply(u,arguments);return E===u?m:E},m.clickDistance=function(E){return arguments.length?(p=(E=+E)*E,m):Math.sqrt(p)},m.tapDistance=function(E){return arguments.length?(v=+E,m):v},m}const wu=b.createContext(null),xq=wu.Provider,Yn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},iM=Yn.error001();function ve(e,t){const n=b.useContext(wu);if(n===null)throw new Error(iM);return MN(n,e,t)}const Ge=()=>{const e=b.useContext(wu);if(e===null)throw new Error(iM);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},_q=e=>e.userSelectionActive?"none":"all";function vv({position:e,children:t,className:n,style:r,...i}){const s=ve(_q),o=`${e}`.split("-");return q.createElement("div",{className:it(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i},t)}function Sq({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:q.createElement(vv,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},q.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const bq=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const d=b.useRef(null),[f,h]=b.useState({x:0,y:0,width:0,height:0}),g=it(["react-flow__edge-textwrapper",u]);return b.useEffect(()=>{if(d.current){const p=d.current.getBBox();h({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n>"u"||!n?null:q.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:g,visibility:f.width?"visible":"hidden",...c},i&&q.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),q.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),l)};var Eq=b.memo(bq);const wv=e=>({width:e.offsetWidth,height:e.offsetHeight}),os=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),xv=(e={x:0,y:0},t)=>({x:os(e.x,t[0][0],t[1][0]),y:os(e.y,t[0][1],t[1][1])}),d1=(e,t,n)=>e<t?os(Math.abs(e-t),1,50)/50:e>n?-os(Math.abs(e-n),1,50)/50:0,sM=(e,t)=>{const n=d1(e.x,35,t.width-35)*20,r=d1(e.y,35,t.height-35)*20;return[n,r]},oM=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},aM=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),jo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),lM=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),f1=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Cq=(e,t)=>lM(aM(jo(e),jo(t))),Bg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},kq=e=>Wt(e.width)&&Wt(e.height)&&Wt(e.x)&&Wt(e.y),Wt=e=>!isNaN(e)&&isFinite(e),Le=Symbol.for("internals"),uM=["Enter"," ","Escape"],Tq=(e,t)=>{},Nq=e=>"nativeEvent"in e;function zg(e){var i,s;const t=Nq(e)?e.nativeEvent:e,n=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const cM=e=>"clientX"in e,kr=(e,t)=>{var s,o;const n=cM(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Ll=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Yo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h=20})=>q.createElement(q.Fragment,null,q.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),h&&q.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Wt(n)&&Wt(r)?q.createElement(Eq,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Yo.displayName="BaseEdge";function Rs(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(s=>s.id===e);i&&n(r,{...i})}}function dM({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function fM({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,u=t*.125+s*.375+a*.375+r*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}var li;(function(e){e.Strict="strict",e.Loose="loose"})(li||(li={}));var Kr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Kr||(Kr={}));var Do;(function(e){e.Partial="partial",e.Full="full"})(Do||(Do={}));var pr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(pr||(pr={}));var Ol;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ol||(Ol={}));var Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));function h1({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Q.Left||e===Q.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function hM({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:i,targetPosition:s=Q.Top}){const[o,a]=h1({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=h1({pos:s,x1:r,y1:i,x2:e,y2:t}),[c,d,f,h]=fM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${i}`,c,d,f,h]}const _v=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Q.Bottom,targetPosition:s=Q.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:p})=>{const[v,m,y]=hM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return q.createElement(Yo,{path:v,labelX:m,labelY:y,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:p})});_v.displayName="SimpleBezierEdge";const p1={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}},Mq=({source:e,sourcePosition:t=Q.Bottom,target:n})=>t===Q.Left||t===Q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},m1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Pq({source:e,sourcePosition:t=Q.Bottom,target:n,targetPosition:r=Q.Top,center:i,offset:s}){const o=p1[t],a=p1[r],l={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=Mq({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let h=[],g,p;const v={x:0,y:0},m={x:0,y:0},[y,x,w,S]=dM({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){g=i.x??y,p=i.y??x;const k=[{x:g,y:l.y},{x:g,y:u.y}],T=[{x:l.x,y:p},{x:u.x,y:p}];o[d]===f?h=d==="x"?k:T:h=d==="x"?T:k}else{const k=[{x:l.x,y:u.y}],T=[{x:u.x,y:l.y}];if(d==="x"?h=o.x===f?T:k:h=o.y===f?k:T,t===r){const V=Math.abs(e[d]-n[d]);if(V<=s){const E=Math.min(s-1,s-V);o[d]===f?v[d]=(l[d]>e[d]?-1:1)*E:m[d]=(u[d]>n[d]?-1:1)*E}}if(t!==r){const V=d==="x"?"y":"x",E=o[d]===a[V],D=l[V]>u[V],I=l[V]<u[V];(o[d]===1&&(!E&&D||E&&I)||o[d]!==1&&(!E&&I||E&&D))&&(h=d==="x"?k:T)}const M={x:l.x+v.x,y:l.y+v.y},A={x:u.x+m.x,y:u.y+m.y},R=Math.max(Math.abs(M.x-h[0].x),Math.abs(A.x-h[0].x)),B=Math.max(Math.abs(M.y-h[0].y),Math.abs(A.y-h[0].y));R>=B?(g=(M.x+A.x)/2,p=h[0].y):(g=h[0].x,p=(M.y+A.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...h,{x:u.x+m.x,y:u.y+m.y},n],g,p,w,S]}function Aq(e,t,n,r){const i=Math.min(m1(e,t)/2,m1(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Ug({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:i,targetPosition:s=Q.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[c,d,f,h,g]=Pq({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[c.reduce((v,m,y)=>{let x="";return y>0&&y<c.length-1?x=Aq(c[y-1],m,c[y+1],o):x=`${y===0?"M":"L"}${m.x} ${m.y}`,v+=x,v},""),d,f,h,g]}const xu=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:d=Q.Bottom,targetPosition:f=Q.Top,markerEnd:h,markerStart:g,pathOptions:p,interactionWidth:v})=>{const[m,y,x]=Ug({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return q.createElement(Yo,{path:m,labelX:y,labelY:x,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:h,markerStart:g,interactionWidth:v})});xu.displayName="SmoothStepEdge";const Sv=b.memo(e=>{var t;return q.createElement(xu,{...e,pathOptions:b.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Sv.displayName="StepEdge";function Rq({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=dM({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const bv=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h})=>{const[g,p,v]=Rq({sourceX:e,sourceY:t,targetX:n,targetY:r});return q.createElement(Yo,{path:g,labelX:p,labelY:v,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h})});bv.displayName="StraightEdge";function Aa(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function g1({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case Q.Left:return[t-Aa(t-r,s),n];case Q.Right:return[t+Aa(r-t,s),n];case Q.Top:return[t,n-Aa(n-i,s)];case Q.Bottom:return[t,n+Aa(i-n,s)]}}function pM({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:i,targetPosition:s=Q.Top,curvature:o=.25}){const[a,l]=g1({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,c]=g1({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[d,f,h,g]=fM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,d,f,h,g]}const ql=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Q.Bottom,targetPosition:s=Q.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,pathOptions:p,interactionWidth:v})=>{const[m,y,x]=pM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:p==null?void 0:p.curvature});return q.createElement(Yo,{path:m,labelX:y,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:v})});ql.displayName="BezierEdge";const Ev=b.createContext(null),Iq=Ev.Provider;Ev.Consumer;const jq=()=>b.useContext(Ev),Dq=e=>"id"in e&&"source"in e&&"target"in e,Lq=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Hg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Oq=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),qq=(e,t)=>{if(!e.source||!e.target)return t;let n;return Dq(e)?n={...e}:n={...e,id:Lq(e)},Oq(n,t)?t:t.concat(n)},Gg=({x:e,y:t},[n,r,i],s,[o,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},mM=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),ei=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},_u=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:s,y:o}=ei(i,t).positionAbsolute;return aM(r,jo({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return lM(n)},gM=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:h=!0,hidden:g=!1}=c;if(o&&!h||g)return!1;const{positionAbsolute:p}=ei(c,a),v={x:p.x,y:p.y,width:d||0,height:f||0},m=Bg(l,v),y=typeof d>"u"||typeof f>"u"||d===null||f===null,x=s&&m>0,w=(d||0)*(f||0);(y||x||m>=w||c.dragging)&&u.push(c)}),u},yM=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},vM=(e,t,n,r,i,s=.1)=>{const o=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(o,a),u=os(l,r,i),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,h=n/2-d*u;return{x:f,y:h,zoom:u}},Vr=(e,t=0)=>e.transition().duration(t);function y1(e,t,n,r){return(t[n]||[]).reduce((i,s)=>{var o,a;return`${e.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function Fq(e,t,n,r,i,s){const{x:o,y:a}=kr(e),u=t.elementsFromPoint(o,a).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const p=Cv(void 0,u),v=u.getAttribute("data-handleid"),m=s({nodeId:g,id:v,type:p});if(m){const y=i.find(x=>x.nodeId===g&&x.type===p&&x.id===v);return{handle:{id:v,type:p,nodeId:g,x:(y==null?void 0:y.x)||n.x,y:(y==null?void 0:y.y)||n.y},validHandleResult:m}}}}let c=[],d=1/0;if(i.forEach(g=>{const p=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(p<=r){const v=s(g);p<=d&&(p<d?c=[{handle:g,validHandleResult:v}]:p===d&&c.push({handle:g,validHandleResult:v}),d=p)}}),!c.length)return{handle:null,validHandleResult:wM()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:g})=>g.isValid),h=c.some(({handle:g})=>g.type==="target");return c.find(({handle:g,validHandleResult:p})=>h?g.type==="target":f?p.isValid:!0)||c[0]}const $q={source:null,target:null,sourceHandle:null,targetHandle:null},wM=()=>({handleDomNode:null,isValid:!1,connection:$q,endHandle:null});function xM(e,t,n,r,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...wM(),handleDomNode:l};if(l){const c=Cv(void 0,l),d=l.getAttribute("data-nodeid"),f=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),g=l.classList.contains("connectableend"),p={source:a?d:n,sourceHandle:a?f:r,target:a?n:d,targetHandle:a?r:f};u.connection=p,h&&g&&(t===li.Strict?a&&c==="source"||!a&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=s(p))}return u}function Vq({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,s)=>{if(s[Le]){const{handleBounds:o}=s[Le];let a=[],l=[];o&&(a=y1(s,o,"source",`${t}-${n}-${r}`),l=y1(s,o,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Cv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Cc(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Bq(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function _M({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=oM(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:h,connectionRadius:g,onConnectStart:p,panBy:v,getNodes:m,cancelConnection:y}=s();let x=0,w;const{x:S,y:C}=kr(e),k=c==null?void 0:c.elementFromPoint(S,C),T=Cv(l,k),M=f==null?void 0:f.getBoundingClientRect();if(!M||!T)return;let A,R=kr(e,M),B=!1,V=null,E=!1,D=null;const I=Vq({nodes:m(),nodeId:n,handleId:t,handleType:T}),L=()=>{if(!h)return;const[j,F]=sM(R,M);v({x:j,y:F}),x=requestAnimationFrame(L)};o({connectionPosition:R,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:T,connectionStartHandle:{nodeId:n,handleId:t,type:T},connectionEndHandle:null}),p==null||p(e,{nodeId:n,handleId:t,handleType:T});function P(j){const{transform:F}=s();R=kr(j,M);const{handle:$,validHandleResult:O}=Fq(j,c,Gg(R,F,!1,[1,1]),g,I,z=>xM(z,d,n,t,i?"target":"source",a,c));if(w=$,B||(L(),B=!0),D=O.handleDomNode,V=O.connection,E=O.isValid,o({connectionPosition:w&&E?mM({x:w.x,y:w.y},F):R,connectionStatus:Bq(!!w,E),connectionEndHandle:O.endHandle}),!w&&!E&&!D)return Cc(A);V.source!==V.target&&D&&(Cc(A),A=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",E),D.classList.toggle("react-flow__handle-valid",E))}function N(j){var F,$;(w||D)&&V&&E&&(r==null||r(V)),($=(F=s()).onConnectEnd)==null||$.call(F,j),l&&(u==null||u(j)),Cc(A),y(),cancelAnimationFrame(x),B=!1,E=!1,V=null,D=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",N),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",N)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",N),c.addEventListener("touchmove",P),c.addEventListener("touchend",N)}const v1=()=>!0,zq=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Uq=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},SM=b.forwardRef(({type:e="source",position:t=Q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...f},h)=>{var M,A;const g=o||null,p=e==="target",v=Ge(),m=jq(),{connectOnClick:y,noPanClassName:x}=ve(zq,Xe),{connecting:w,clickConnecting:S}=ve(Uq(m,g,e),Xe);m||(A=(M=v.getState()).onError)==null||A.call(M,"010",Yn.error010());const C=R=>{const{defaultEdgeOptions:B,onConnect:V,hasDefaultEdges:E}=v.getState(),D={...B,...R};if(E){const{edges:I,setEdges:L}=v.getState();L(qq(D,I))}V==null||V(D),a==null||a(D)},k=R=>{if(!m)return;const B=cM(R);i&&(B&&R.button===0||!B)&&_M({event:R,handleId:g,nodeId:m,onConnect:C,isTarget:p,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||v1}),B?c==null||c(R):d==null||d(R)},T=R=>{const{onClickConnectStart:B,onClickConnectEnd:V,connectionClickStartHandle:E,connectionMode:D,isValidConnection:I}=v.getState();if(!m||!E&&!i)return;if(!E){B==null||B(R,{nodeId:m,handleId:g,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:g}});return}const L=oM(R.target),P=n||I||v1,{connection:N,isValid:j}=xM({nodeId:m,id:g,type:e},D,E.nodeId,E.handleId||null,E.type,P,L);j&&C(N),V==null||V(R),v.setState({connectionClickStartHandle:null})};return q.createElement("div",{"data-handleid":g,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${g}-${e}`,className:it(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!p,target:p,connectable:r,connectablestart:i,connectableend:s,connecting:S,connectionindicator:r&&(i&&!w||s&&w)}]),onMouseDown:k,onTouchStart:k,onClick:y?T:void 0,ref:h,...f},l)});SM.displayName="Handle";var Fl=b.memo(SM);const bM=({data:e,isConnectable:t,targetPosition:n=Q.Top,sourcePosition:r=Q.Bottom})=>q.createElement(q.Fragment,null,q.createElement(Fl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,q.createElement(Fl,{type:"source",position:r,isConnectable:t}));bM.displayName="DefaultNode";var Wg=b.memo(bM);const EM=({data:e,isConnectable:t,sourcePosition:n=Q.Bottom})=>q.createElement(q.Fragment,null,e==null?void 0:e.label,q.createElement(Fl,{type:"source",position:n,isConnectable:t}));EM.displayName="InputNode";var CM=b.memo(EM);const kM=({data:e,isConnectable:t,targetPosition:n=Q.Top})=>q.createElement(q.Fragment,null,q.createElement(Fl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);kM.displayName="OutputNode";var TM=b.memo(kM);const kv=()=>null;kv.displayName="GroupNode";const Hq=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ra=e=>e.id;function Gq(e,t){return Xe(e.selectedNodes.map(Ra),t.selectedNodes.map(Ra))&&Xe(e.selectedEdges.map(Ra),t.selectedEdges.map(Ra))}const NM=b.memo(({onSelectionChange:e})=>{const t=Ge(),{selectedNodes:n,selectedEdges:r}=ve(Hq,Gq);return b.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[n,r,e]),null});NM.displayName="SelectionListener";const Wq=e=>!!e.onSelectionChange;function Kq({onSelectionChange:e}){const t=ve(Wq);return e||t?q.createElement(NM,{onSelectionChange:e}):null}const Yq=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function wi(e,t){b.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function oe(e,t,n){b.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Xq=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:h,elevateNodesOnSelect:g,minZoom:p,maxZoom:v,nodeExtent:m,onNodesChange:y,onEdgesChange:x,elementsSelectable:w,connectionMode:S,snapGrid:C,snapToGrid:k,translateExtent:T,connectOnClick:M,defaultEdgeOptions:A,fitView:R,fitViewOptions:B,onNodesDelete:V,onEdgesDelete:E,onNodeDrag:D,onNodeDragStart:I,onNodeDragStop:L,onSelectionDrag:P,onSelectionDragStart:N,onSelectionDragStop:j,noPanClassName:F,nodeOrigin:$,rfId:O,autoPanOnConnect:z,autoPanOnNodeDrag:G,onError:Z,connectionRadius:re,isValidConnection:ce,nodeDragThreshold:le})=>{const{setNodes:ne,setEdges:te,setDefaultNodesAndEdges:pe,setMinZoom:Pe,setMaxZoom:Ae,setTranslateExtent:J,setNodeExtent:Re,reset:X}=ve(Yq,Xe),K=Ge();return b.useEffect(()=>{const me=r==null?void 0:r.map(vt=>({...vt,...A}));return pe(n,me),()=>{X()}},[]),oe("defaultEdgeOptions",A,K.setState),oe("connectionMode",S,K.setState),oe("onConnect",i,K.setState),oe("onConnectStart",s,K.setState),oe("onConnectEnd",o,K.setState),oe("onClickConnectStart",a,K.setState),oe("onClickConnectEnd",l,K.setState),oe("nodesDraggable",u,K.setState),oe("nodesConnectable",c,K.setState),oe("nodesFocusable",d,K.setState),oe("edgesFocusable",f,K.setState),oe("edgesUpdatable",h,K.setState),oe("elementsSelectable",w,K.setState),oe("elevateNodesOnSelect",g,K.setState),oe("snapToGrid",k,K.setState),oe("snapGrid",C,K.setState),oe("onNodesChange",y,K.setState),oe("onEdgesChange",x,K.setState),oe("connectOnClick",M,K.setState),oe("fitViewOnInit",R,K.setState),oe("fitViewOnInitOptions",B,K.setState),oe("onNodesDelete",V,K.setState),oe("onEdgesDelete",E,K.setState),oe("onNodeDrag",D,K.setState),oe("onNodeDragStart",I,K.setState),oe("onNodeDragStop",L,K.setState),oe("onSelectionDrag",P,K.setState),oe("onSelectionDragStart",N,K.setState),oe("onSelectionDragStop",j,K.setState),oe("noPanClassName",F,K.setState),oe("nodeOrigin",$,K.setState),oe("rfId",O,K.setState),oe("autoPanOnConnect",z,K.setState),oe("autoPanOnNodeDrag",G,K.setState),oe("onError",Z,K.setState),oe("connectionRadius",re,K.setState),oe("isValidConnection",ce,K.setState),oe("nodeDragThreshold",le,K.setState),wi(e,ne),wi(t,te),wi(p,Pe),wi(v,Ae),wi(T,J),wi(m,Re),null},w1={display:"none"},Zq={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},MM="react-flow__node-desc",PM="react-flow__edge-desc",Qq="react-flow__aria-live",Jq=e=>e.ariaLiveMessage;function eF({rfId:e}){const t=ve(Jq);return q.createElement("div",{id:`${Qq}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Zq},t)}function tF({rfId:e,disableKeyboardA11y:t}){return q.createElement(q.Fragment,null,q.createElement("div",{id:`${MM}-${e}`,style:w1},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),q.createElement("div",{id:`${PM}-${e}`,style:w1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&q.createElement(eF,{rfId:e}))}var Lo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=b.useState(!1),i=b.useRef(!1),s=b.useRef(new Set([])),[o,a]=b.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return b.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&zg(h))return!1;const p=_1(h.code,a);s.current.add(h[p]),x1(o,s.current,!1)&&(h.preventDefault(),r(!0))},d=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&zg(h))return!1;const p=_1(h.code,a);x1(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[p]),h.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function x1(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function _1(e,t){return t.includes(e)?"code":"key"}function AM(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),o=ei(s,r);return AM(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[Le])==null?void 0:a.z)??0)>(n.z??0)?((l=s[Le])==null?void 0:l.z)??0:n.z??0},r)}function RM(e,t,n){e.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:a,z:l}=AM(r,e,{...r.position,z:((s=r[Le])==null?void 0:s.z)??0},t);r.positionAbsolute={x:o,y:a},r[Le].z=l,n!=null&&n[r.id]&&(r[Le].isParent=!0)}})}function kc(e,t,n,r){const i=new Map,s={},o=r?1e3:0;return e.forEach(a=>{var h;const l=(Wt(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(s[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,Le,{enumerable:!1,value:{handleBounds:f||(h=u==null?void 0:u[Le])==null?void 0:h.handleBounds,z:l}}),i.set(a.id,c)}),RM(i,n,s),i}function IM(e,t={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(a&&l&&(f||!t.initial)){const g=n().filter(v=>{var y;const m=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return(y=t.nodes)!=null&&y.length?m&&t.nodes.some(x=>x.id===v.id):m}),p=g.every(v=>v.width&&v.height);if(g.length>0&&p){const v=_u(g,d),{x:m,y,zoom:x}=vM(v,r,i,t.minZoom??s,t.maxZoom??o,t.padding??.1),w=Vn.translate(m,y).scale(x);return typeof t.duration=="number"&&t.duration>0?a.transform(Vr(l,t.duration),w):a.transform(l,w),!0}}return!1}function nF(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Le]:r[Le],selected:n.selected})}),new Map(t)}function rF(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ia({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:nF(e,i)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:rF(t,s)}),a==null||a(t))}const xi=()=>{},iF={zoomIn:xi,zoomOut:xi,zoomTo:xi,getZoom:()=>1,setViewport:xi,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:xi,fitBounds:xi,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},sF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),oF=()=>{const e=Ge(),{d3Zoom:t,d3Selection:n}=ve(sF,Xe);return b.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Vr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Vr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(Vr(n,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=e.getState().transform,u=Vn.translate(i.x??o,i.y??a).scale(i.zoom??l);t.transform(Vr(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,o]=e.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>IM(e.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,d=a/2-i*c,f=l/2-s*c,h=Vn.translate(d,f).scale(c);t.transform(Vr(n,o==null?void 0:o.duration),h)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=vM(i,o,a,l,u,(s==null?void 0:s.padding)??.1),h=Vn.translate(c,d).scale(f);t.transform(Vr(n,s==null?void 0:s.duration),h)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Gg(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return Gg(d,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=e.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),u=mM(i,s);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:iF,[t,n])};function Tv(){const e=oF(),t=Ge(),n=b.useCallback(()=>t.getState().getNodes().map(p=>({...p})),[]),r=b.useCallback(p=>t.getState().nodeInternals.get(p),[]),i=b.useCallback(()=>{const{edges:p=[]}=t.getState();return p.map(v=>({...v}))},[]),s=b.useCallback(p=>{const{edges:v=[]}=t.getState();return v.find(m=>m.id===p)},[]),o=b.useCallback(p=>{const{getNodes:v,setNodes:m,hasDefaultNodes:y,onNodesChange:x}=t.getState(),w=v(),S=typeof p=="function"?p(w):p;if(y)m(S);else if(x){const C=S.length===0?w.map(k=>({type:"remove",id:k.id})):S.map(k=>({item:k,type:"reset"}));x(C)}},[]),a=b.useCallback(p=>{const{edges:v=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:x}=t.getState(),w=typeof p=="function"?p(v):p;if(y)m(w);else if(x){const S=w.length===0?v.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));x(S)}},[]),l=b.useCallback(p=>{const v=Array.isArray(p)?p:[p],{getNodes:m,setNodes:y,hasDefaultNodes:x,onNodesChange:w}=t.getState();if(x){const C=[...m(),...v];y(C)}else if(w){const S=v.map(C=>({item:C,type:"add"}));w(S)}},[]),u=b.useCallback(p=>{const v=Array.isArray(p)?p:[p],{edges:m=[],setEdges:y,hasDefaultEdges:x,onEdgesChange:w}=t.getState();if(x)y([...m,...v]);else if(w){const S=v.map(C=>({item:C,type:"add"}));w(S)}},[]),c=b.useCallback(()=>{const{getNodes:p,edges:v=[],transform:m}=t.getState(),[y,x,w]=m;return{nodes:p().map(S=>({...S})),edges:v.map(S=>({...S})),viewport:{x:y,y:x,zoom:w}}},[]),d=b.useCallback(({nodes:p,edges:v})=>{const{nodeInternals:m,getNodes:y,edges:x,hasDefaultNodes:w,hasDefaultEdges:S,onNodesDelete:C,onEdgesDelete:k,onNodesChange:T,onEdgesChange:M}=t.getState(),A=(p||[]).map(D=>D.id),R=(v||[]).map(D=>D.id),B=y().reduce((D,I)=>{const L=I.parentNode||I.parentId,P=!A.includes(I.id)&&L&&D.find(j=>j.id===L);return(typeof I.deletable=="boolean"?I.deletable:!0)&&(A.includes(I.id)||P)&&D.push(I),D},[]),V=x.filter(D=>typeof D.deletable=="boolean"?D.deletable:!0),E=V.filter(D=>R.includes(D.id));if(B||E){const D=yM(B,V),I=[...E,...D],L=I.reduce((P,N)=>(P.includes(N.id)||P.push(N.id),P),[]);if((S||w)&&(S&&t.setState({edges:x.filter(P=>!L.includes(P.id))}),w&&(B.forEach(P=>{m.delete(P.id)}),t.setState({nodeInternals:new Map(m)}))),L.length>0&&(k==null||k(I),M&&M(L.map(P=>({id:P,type:"remove"})))),B.length>0&&(C==null||C(B),T)){const P=B.map(N=>({id:N.id,type:"remove"}));T(P)}}},[]),f=b.useCallback(p=>{const v=kq(p),m=v?null:t.getState().nodeInternals.get(p.id);return!v&&!m?[null,null,v]:[v?p:f1(m),m,v]},[]),h=b.useCallback((p,v=!0,m)=>{const[y,x,w]=f(p);return y?(m||t.getState().getNodes()).filter(S=>{if(!w&&(S.id===x.id||!S.positionAbsolute))return!1;const C=f1(S),k=Bg(C,y);return v&&k>0||k>=y.width*y.height}):[]},[]),g=b.useCallback((p,v,m=!0)=>{const[y]=f(p);if(!y)return!1;const x=Bg(y,v);return m&&x>0||x>=y.width*y.height},[]);return b.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:g}),[e,n,r,i,s,o,a,l,u,c,d,h,g])}const aF={actInsideInputWithModifier:!1};var lF=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ge(),{deleteElements:r}=Tv(),i=Lo(e,aF),s=Lo(t);b.useEffect(()=>{if(i){const{edges:o,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=o.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),b.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function uF(e){const t=Ge();b.useEffect(()=>{let n;const r=()=>{var s,o;if(!e.current)return;const i=wv(e.current);(i.height===0||i.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Yn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Nv={position:"absolute",width:"100%",height:"100%",top:0,left:0},cF=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ja=e=>({x:e.x,y:e.y,zoom:e.k}),_i=(e,t)=>e.target.closest(`.${t}`),S1=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),b1=e=>{const t=e.ctrlKey&&Ll()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},dF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),fF=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Kr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:g,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:m=!0,children:y,noWheelClassName:x,noPanClassName:w})=>{const S=b.useRef(),C=Ge(),k=b.useRef(!1),T=b.useRef(!1),M=b.useRef(null),A=b.useRef({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:B,d3ZoomHandler:V,userSelectionActive:E}=ve(dF,Xe),D=Lo(v),I=b.useRef(0),L=b.useRef(!1),P=b.useRef();return uF(M),b.useEffect(()=>{if(M.current){const N=M.current.getBoundingClientRect(),j=rM().scaleExtent([g,p]).translateExtent(h),F=Ht(M.current).call(j),$=Vn.translate(f.x,f.y).scale(os(f.zoom,g,p)),O=[[0,0],[N.width,N.height]],z=j.constrain()($,O,h);j.transform(F,z),j.wheelDelta(b1),C.setState({d3Zoom:j,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[z.x,z.y,z.k],domNode:M.current.closest(".react-flow")})}},[]),b.useEffect(()=>{B&&R&&(o&&!D&&!E?B.on("wheel.zoom",N=>{if(_i(N,x))return!1;N.preventDefault(),N.stopImmediatePropagation();const j=B.property("__zoom").k||1;if(N.ctrlKey&&s){const ce=sn(N),le=b1(N),ne=j*Math.pow(2,le);R.scaleTo(B,ne,ce,N);return}const F=N.deltaMode===1?20:1;let $=l===Kr.Vertical?0:N.deltaX*F,O=l===Kr.Horizontal?0:N.deltaY*F;!Ll()&&N.shiftKey&&l!==Kr.Vertical&&($=N.deltaY*F,O=0),R.translateBy(B,-($/j)*a,-(O/j)*a,{internal:!0});const z=ja(B.property("__zoom")),{onViewportChangeStart:G,onViewportChange:Z,onViewportChangeEnd:re}=C.getState();clearTimeout(P.current),L.current||(L.current=!0,t==null||t(N,z),G==null||G(z)),L.current&&(e==null||e(N,z),Z==null||Z(z),P.current=setTimeout(()=>{n==null||n(N,z),re==null||re(z),L.current=!1},150))},{passive:!1}):typeof V<"u"&&B.on("wheel.zoom",function(N,j){if(!m&&N.type==="wheel"&&!N.ctrlKey||_i(N,x))return null;N.preventDefault(),V.call(this,N,j)},{passive:!1}))},[E,o,l,B,R,V,D,s,m,x,t,e,n]),b.useEffect(()=>{R&&R.on("start",N=>{var $,O;if(!N.sourceEvent||N.sourceEvent.internal)return null;I.current=($=N.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:j}=C.getState(),F=ja(N.transform);k.current=!0,A.current=F,((O=N.sourceEvent)==null?void 0:O.type)==="mousedown"&&C.setState({paneDragging:!0}),j==null||j(F),t==null||t(N.sourceEvent,F)})},[R,t]),b.useEffect(()=>{R&&(E&&!k.current?R.on("zoom",null):E||R.on("zoom",N=>{var F;const{onViewportChange:j}=C.getState();if(C.setState({transform:[N.transform.x,N.transform.y,N.transform.k]}),T.current=!!(r&&S1(d,I.current??0)),(e||j)&&!((F=N.sourceEvent)!=null&&F.internal)){const $=ja(N.transform);j==null||j($),e==null||e(N.sourceEvent,$)}}))},[E,R,e,d,r]),b.useEffect(()=>{R&&R.on("end",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;const{onViewportChangeEnd:j}=C.getState();if(k.current=!1,C.setState({paneDragging:!1}),r&&S1(d,I.current??0)&&!T.current&&r(N.sourceEvent),T.current=!1,(n||j)&&cF(A.current,N.transform)){const F=ja(N.transform);A.current=F,clearTimeout(S.current),S.current=setTimeout(()=>{j==null||j(F),n==null||n(N.sourceEvent,F)},o?150:0)}})},[R,o,d,n,r]),b.useEffect(()=>{R&&R.filter(N=>{const j=D||i,F=s&&N.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&N.button===1&&N.type==="mousedown"&&(_i(N,"react-flow__node")||_i(N,"react-flow__edge")))return!0;if(!d&&!j&&!o&&!u&&!s||E||!u&&N.type==="dblclick"||_i(N,x)&&N.type==="wheel"||_i(N,w)&&(N.type!=="wheel"||o&&N.type==="wheel"&&!D)||!s&&N.ctrlKey&&N.type==="wheel"||!j&&!o&&!F&&N.type==="wheel"||!d&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(d)&&!d.includes(N.button)&&N.type==="mousedown")return!1;const $=Array.isArray(d)&&d.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&$})},[E,R,i,s,o,u,d,c,D]),q.createElement("div",{className:"react-flow__renderer",ref:M,style:Nv},y)},hF=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function pF(){const{userSelectionActive:e,userSelectionRect:t}=ve(hF,Xe);return e&&t?q.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function E1(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function mF(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const s=e.filter(a=>a.id===i.id);if(s.length===0)return r.push(i),r;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&E1(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&E1(r,o);break}case"remove":return r}return r.push(o),r},n)}function gF(e,t){return mF(e,t)}const dr=(e,t)=>({id:e,type:"select",selected:t});function Di(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(dr(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(dr(r.id,!1))),n},[])}const Tc=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},yF=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),jM=b.memo(({isSelecting:e,selectionMode:t=Do.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=b.useRef(null),h=Ge(),g=b.useRef(0),p=b.useRef(0),v=b.useRef(),{userSelectionActive:m,elementsSelectable:y,dragging:x}=ve(yF,Xe),w=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,p.current=0},S=V=>{s==null||s(V),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=V=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){V.preventDefault();return}o==null||o(V)},k=a?V=>a(V):void 0,T=V=>{const{resetSelectedElements:E,domNode:D}=h.getState();if(v.current=D==null?void 0:D.getBoundingClientRect(),!y||!e||V.button!==0||V.target!==f.current||!v.current)return;const{x:I,y:L}=kr(V,v.current);E(),h.setState({userSelectionRect:{width:0,height:0,startX:I,startY:L,x:I,y:L}}),r==null||r(V)},M=V=>{const{userSelectionRect:E,nodeInternals:D,edges:I,transform:L,onNodesChange:P,onEdgesChange:N,nodeOrigin:j,getNodes:F}=h.getState();if(!e||!v.current||!E)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=kr(V,v.current),O=E.startX??0,z=E.startY??0,G={...E,x:$.x<O?$.x:O,y:$.y<z?$.y:z,width:Math.abs($.x-O),height:Math.abs($.y-z)},Z=F(),re=gM(D,G,L,t===Do.Partial,!0,j),ce=yM(re,I).map(ne=>ne.id),le=re.map(ne=>ne.id);if(g.current!==le.length){g.current=le.length;const ne=Di(Z,le);ne.length&&(P==null||P(ne))}if(p.current!==ce.length){p.current=ce.length;const ne=Di(I,ce);ne.length&&(N==null||N(ne))}h.setState({userSelectionRect:G})},A=V=>{if(V.button!==0)return;const{userSelectionRect:E}=h.getState();!m&&E&&V.target===f.current&&(S==null||S(V)),h.setState({nodesSelectionActive:g.current>0}),w(),i==null||i(V)},R=V=>{m&&(h.setState({nodesSelectionActive:g.current>0}),i==null||i(V)),w()},B=y&&(e||m);return q.createElement("div",{className:it(["react-flow__pane",{dragging:x,selection:e}]),onClick:B?void 0:Tc(S,f),onContextMenu:Tc(C,f),onWheel:Tc(k,f),onMouseEnter:B?void 0:l,onMouseDown:B?T:void 0,onMouseMove:B?M:u,onMouseUp:B?A:void 0,onMouseLeave:B?R:c,ref:f,style:Nv},d,q.createElement(pF,null))});jM.displayName="Pane";function DM(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:DM(r,t):!1}function C1(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function vF(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!DM(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function wF(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function LM(e,t,n,r,i=[0,0],s){const o=wF(e,e.extent||r);let a=o;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:f,y:h}=ei(d,i).positionAbsolute;a=d&&Wt(f)&&Wt(h)&&Wt(d.width)&&Wt(d.height)?[[f+e.width*i[0],h+e.height*i[1]],[f+d.width-e.width+e.width*i[0],h+d.height-e.height+e.height*i[1]]]:a}else s==null||s("005",Yn.error005()),a=o;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:f,y:h}=ei(d,i).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+h],[e.extent[1][0]+f,e.extent[1][1]+h]]}let u={x:0,y:0};if(l){const d=n.get(l);u=ei(d,i).positionAbsolute}const c=a&&a!=="parent"?xv(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Nc({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const k1=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...wv(l)}})};function Is(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Kg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",Yn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function xF(){const e=Ge();return b.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function Mc(e){return(t,n,r)=>e==null?void 0:e(t,r)}function OM({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=Ge(),[l,u]=b.useState(!1),c=b.useRef([]),d=b.useRef({x:null,y:null}),f=b.useRef(0),h=b.useRef(null),g=b.useRef({x:0,y:0}),p=b.useRef(null),v=b.useRef(!1),m=b.useRef(!1),y=b.useRef(!1),x=xF();return b.useEffect(()=>{if(e!=null&&e.current){const w=Ht(e.current),S=({x:T,y:M})=>{const{nodeInternals:A,onNodeDrag:R,onSelectionDrag:B,updateNodePositions:V,nodeExtent:E,snapGrid:D,snapToGrid:I,nodeOrigin:L,onError:P}=a.getState();d.current={x:T,y:M};let N=!1,j={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&E){const $=_u(c.current,L);j=jo($)}if(c.current=c.current.map($=>{const O={x:T-$.distance.x,y:M-$.distance.y};I&&(O.x=D[0]*Math.round(O.x/D[0]),O.y=D[1]*Math.round(O.y/D[1]));const z=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];c.current.length>1&&E&&!$.extent&&(z[0][0]=$.positionAbsolute.x-j.x+E[0][0],z[1][0]=$.positionAbsolute.x+($.width??0)-j.x2+E[1][0],z[0][1]=$.positionAbsolute.y-j.y+E[0][1],z[1][1]=$.positionAbsolute.y+($.height??0)-j.y2+E[1][1]);const G=LM($,O,A,z,L,P);return N=N||$.position.x!==G.position.x||$.position.y!==G.position.y,$.position=G.position,$.positionAbsolute=G.positionAbsolute,$}),!N)return;V(c.current,!0,!0),u(!0);const F=i?R:Mc(B);if(F&&p.current){const[$,O]=Nc({nodeId:i,dragItems:c.current,nodeInternals:A});F(p.current,$,O)}},C=()=>{if(!h.current)return;const[T,M]=sM(g.current,h.current);if(T!==0||M!==0){const{transform:A,panBy:R}=a.getState();d.current.x=(d.current.x??0)-T/A[2],d.current.y=(d.current.y??0)-M/A[2],R({x:T,y:M})&&S(d.current)}f.current=requestAnimationFrame(C)},k=T=>{var L;const{nodeInternals:M,multiSelectionActive:A,nodesDraggable:R,unselectNodesAndEdges:B,onNodeDragStart:V,onSelectionDragStart:E}=a.getState();m.current=!0;const D=i?V:Mc(E);(!o||!s)&&!A&&i&&((L=M.get(i))!=null&&L.selected||B()),i&&s&&o&&Kg({id:i,store:a,nodeRef:e});const I=x(T);if(d.current=I,c.current=vF(M,R,I,i),D&&c.current){const[P,N]=Nc({nodeId:i,dragItems:c.current,nodeInternals:M});D(T.sourceEvent,P,N)}};if(t)w.on(".drag",null);else{const T=PO().on("start",M=>{const{domNode:A,nodeDragThreshold:R}=a.getState();R===0&&k(M),y.current=!1;const B=x(M);d.current=B,h.current=(A==null?void 0:A.getBoundingClientRect())||null,g.current=kr(M.sourceEvent,h.current)}).on("drag",M=>{var V,E;const A=x(M),{autoPanOnNodeDrag:R,nodeDragThreshold:B}=a.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!v.current&&m.current&&R&&(v.current=!0,C()),!m.current){const D=A.xSnapped-(((V=d==null?void 0:d.current)==null?void 0:V.x)??0),I=A.ySnapped-(((E=d==null?void 0:d.current)==null?void 0:E.y)??0);Math.sqrt(D*D+I*I)>B&&k(M)}(d.current.x!==A.xSnapped||d.current.y!==A.ySnapped)&&c.current&&m.current&&(p.current=M.sourceEvent,g.current=kr(M.sourceEvent,h.current),S(A))}}).on("end",M=>{if(!(!m.current||y.current)&&(u(!1),v.current=!1,m.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:A,nodeInternals:R,onNodeDragStop:B,onSelectionDragStop:V}=a.getState(),E=i?B:Mc(V);if(A(c.current,!1,!1),E){const[D,I]=Nc({nodeId:i,dragItems:c.current,nodeInternals:R});E(M.sourceEvent,D,I)}}}).filter(M=>{const A=M.target;return!M.button&&(!n||!C1(A,`.${n}`,e))&&(!r||C1(A,r,e))});return w.call(T),()=>{w.on(".drag",null)}}}},[e,t,n,r,s,a,i,o,x]),l}function qM(){const e=Ge();return b.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),d=o().filter(y=>y.selected&&(y.draggable||c&&typeof y.draggable>"u")),f=a?l[0]:5,h=a?l[1]:5,g=n.isShiftPressed?4:1,p=n.x*f*g,v=n.y*h*g,m=d.map(y=>{if(y.positionAbsolute){const x={x:y.positionAbsolute.x+p,y:y.positionAbsolute.y+v};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:w,position:S}=LM(y,x,r,i,void 0,u);y.position=S,y.positionAbsolute=w}return y});s(m,!0,!1)},[])}const Yi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var js=e=>{const t=({id:n,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onContextMenu:g,onDoubleClick:p,style:v,className:m,isDraggable:y,isSelectable:x,isConnectable:w,isFocusable:S,selectNodesOnDrag:C,sourcePosition:k,targetPosition:T,hidden:M,resizeObserver:A,dragHandle:R,zIndex:B,isParent:V,noDragClassName:E,noPanClassName:D,initialized:I,disableKeyboardA11y:L,ariaLabel:P,rfId:N,hasHandleBounds:j})=>{const F=Ge(),$=b.useRef(null),O=b.useRef(null),z=b.useRef(k),G=b.useRef(T),Z=b.useRef(r),re=x||y||c||d||f||h,ce=qM(),le=Is(n,F.getState,d),ne=Is(n,F.getState,f),te=Is(n,F.getState,h),pe=Is(n,F.getState,g),Pe=Is(n,F.getState,p),Ae=X=>{const{nodeDragThreshold:K}=F.getState();if(x&&(!C||!y||K>0)&&Kg({id:n,store:F,nodeRef:$}),c){const me=F.getState().nodeInternals.get(n);me&&c(X,{...me})}},J=X=>{if(!zg(X)&&!L)if(uM.includes(X.key)&&x){const K=X.key==="Escape";Kg({id:n,store:F,unselect:K,nodeRef:$})}else y&&u&&Object.prototype.hasOwnProperty.call(Yi,X.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${X.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),ce({x:Yi[X.key].x,y:Yi[X.key].y,isShiftPressed:X.shiftKey}))};b.useEffect(()=>()=>{O.current&&(A==null||A.unobserve(O.current),O.current=null)},[]),b.useEffect(()=>{if($.current&&!M){const X=$.current;(!I||!j||O.current!==X)&&(O.current&&(A==null||A.unobserve(O.current)),A==null||A.observe(X),O.current=X)}},[M,I,j]),b.useEffect(()=>{const X=Z.current!==r,K=z.current!==k,me=G.current!==T;$.current&&(X||K||me)&&(X&&(Z.current=r),K&&(z.current=k),me&&(G.current=T),F.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,k,T]);const Re=OM({nodeRef:$,disabled:M||!y,noDragClassName:E,handleSelector:R,nodeId:n,isSelectable:x,selectNodesOnDrag:C});return M?null:q.createElement("div",{className:it(["react-flow__node",`react-flow__node-${r}`,{[D]:y},m,{selected:u,selectable:x,parent:V,dragging:Re}]),ref:$,style:{zIndex:B,transform:`translate(${a}px,${l}px)`,pointerEvents:re?"all":"none",visibility:I?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:le,onMouseMove:ne,onMouseLeave:te,onContextMenu:pe,onClick:Ae,onDoubleClick:Pe,onKeyDown:S?J:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":L?void 0:`${MM}-${N}`,"aria-label":P},q.createElement(Iq,{value:n},q.createElement(e,{id:n,data:i,type:r,xPos:s,yPos:o,selected:u,isConnectable:w,sourcePosition:k,targetPosition:T,dragging:Re,dragHandle:R,zIndex:B})))};return t.displayName="NodeWrapper",b.memo(t)};const _F=e=>{const t=e.getNodes().filter(n=>n.selected);return{..._u(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function SF({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ge(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:u}=ve(_F,Xe),c=qM(),d=b.useRef(null);if(b.useEffect(()=>{var g;n||(g=d.current)==null||g.focus({preventScroll:!0})},[n]),OM({nodeRef:d}),u||!i||!s)return null;const f=e?g=>{const p=r.getState().getNodes().filter(v=>v.selected);e(g,p)}:void 0,h=g=>{Object.prototype.hasOwnProperty.call(Yi,g.key)&&c({x:Yi[g.key].x,y:Yi[g.key].y,isShiftPressed:g.shiftKey})};return q.createElement("div",{className:it(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},q.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s,top:a,left:o}}))}var bF=b.memo(SF);const EF=e=>e.nodesSelectionActive,FM=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:g,onSelectionEnd:p,multiSelectionKeyCode:v,panActivationKeyCode:m,zoomActivationKeyCode:y,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:k,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:A,defaultViewport:R,translateExtent:B,minZoom:V,maxZoom:E,preventScrolling:D,onSelectionContextMenu:I,noWheelClassName:L,noPanClassName:P,disableKeyboardA11y:N})=>{const j=ve(EF),F=Lo(d),$=Lo(m),O=$||A,z=$||C,G=F||f&&O!==!0;return lF({deleteKeyCode:a,multiSelectionKeyCode:v}),q.createElement(fF,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:z,panOnScrollSpeed:k,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:!F&&O,defaultViewport:R,translateExtent:B,minZoom:V,maxZoom:E,zoomActivationKeyCode:y,preventScrolling:D,noWheelClassName:L,noPanClassName:P},q.createElement(jM,{onSelectionStart:g,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:O,isSelecting:!!G,selectionMode:h},e,j&&q.createElement(bF,{onSelectionContextMenu:I,noPanClassName:P,disableKeyboardA11y:N})))};FM.displayName="FlowRenderer";var CF=b.memo(FM);function kF(e){return ve(b.useCallback(n=>e?gM(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function TF(e){const t={input:js(e.input||CM),default:js(e.default||Wg),output:js(e.output||TM),group:js(e.group||kv)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=js(e[s]||Wg),i),n);return{...t,...r}}const NF=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},MF=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),$M=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:o}=ve(MF,Xe),a=kF(e.onlyRenderVisibleElements),l=b.useRef(),u=b.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(f)});return l.current=c,c},[]);return b.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),q.createElement("div",{className:"react-flow__nodes",style:Nv},a.map(c=>{var S,C,k;let d=c.type||"default";e.nodeTypes[d]||(o==null||o("003",Yn.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),g=!!(c.selectable||i&&typeof c.selectable>"u"),p=!!(c.connectable||n&&typeof c.connectable>"u"),v=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?xv(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,y=(m==null?void 0:m.x)??0,x=(m==null?void 0:m.y)??0,w=NF({x:y,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return q.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||Q.Bottom,targetPosition:c.targetPosition||Q.Top,hidden:c.hidden,xPos:y,yPos:x,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:g,isConnectable:p,isFocusable:v,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[Le])==null?void 0:S.z)??0,isParent:!!((C=c[Le])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((k=c[Le])!=null&&k.handleBounds)})}))};$M.displayName="NodeRenderer";var PF=b.memo($M);const AF=(e,t,n)=>n===Q.Left?e-t:n===Q.Right?e+t:e,RF=(e,t,n)=>n===Q.Top?e-t:n===Q.Bottom?e+t:e,T1="react-flow__edgeupdater",N1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>q.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:it([T1,`${T1}-${a}`]),cx:AF(t,r,e),cy:RF(n,r,e),r,stroke:"transparent",fill:"transparent"}),IF=()=>!0;var Si=e=>{const t=({id:n,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,style:v,source:m,target:y,sourceX:x,sourceY:w,targetX:S,targetY:C,sourcePosition:k,targetPosition:T,elementsSelectable:M,hidden:A,sourceHandleId:R,targetHandleId:B,onContextMenu:V,onMouseEnter:E,onMouseMove:D,onMouseLeave:I,reconnectRadius:L,onReconnect:P,onReconnectStart:N,onReconnectEnd:j,markerEnd:F,markerStart:$,rfId:O,ariaLabel:z,isFocusable:G,isReconnectable:Z,pathOptions:re,interactionWidth:ce,disableKeyboardA11y:le})=>{const ne=b.useRef(null),[te,pe]=b.useState(!1),[Pe,Ae]=b.useState(!1),J=Ge(),Re=b.useMemo(()=>`url('#${Hg($,O)}')`,[$,O]),X=b.useMemo(()=>`url('#${Hg(F,O)}')`,[F,O]);if(A)return null;const K=Ie=>{var $t;const{edges:Ce,addSelectedEdges:ze,unselectNodesAndEdges:Fe,multiSelectionActive:xt}=J.getState(),Jt=Ce.find(tr=>tr.id===n);Jt&&(M&&(J.setState({nodesSelectionActive:!1}),Jt.selected&&xt?(Fe({nodes:[],edges:[Jt]}),($t=ne.current)==null||$t.blur()):ze([n])),o&&o(Ie,Jt))},me=Rs(n,J.getState,a),vt=Rs(n,J.getState,V),Nt=Rs(n,J.getState,E),Ze=Rs(n,J.getState,D),Se=Rs(n,J.getState,I),st=(Ie,Ce)=>{if(Ie.button!==0)return;const{edges:ze,isValidConnection:Fe}=J.getState(),xt=Ce?y:m,Jt=(Ce?B:R)||null,$t=Ce?"target":"source",tr=Fe||IF,mn=Ce,nr=ze.find(Nn=>Nn.id===n);Ae(!0),N==null||N(Ie,nr,$t);const xs=Nn=>{Ae(!1),j==null||j(Nn,nr,$t)};_M({event:Ie,handleId:Jt,nodeId:xt,onConnect:Nn=>P==null?void 0:P(nr,Nn),isTarget:mn,getState:J.getState,setState:J.setState,isValidConnection:tr,edgeUpdaterType:$t,onReconnectEnd:xs})},wt=Ie=>st(Ie,!0),Qe=Ie=>st(Ie,!1),Be=()=>pe(!0),ot=()=>pe(!1),Mt=!M&&!o,ge=Ie=>{var Ce;if(!le&&uM.includes(Ie.key)&&M){const{unselectNodesAndEdges:ze,addSelectedEdges:Fe,edges:xt}=J.getState();Ie.key==="Escape"?((Ce=ne.current)==null||Ce.blur(),ze({edges:[xt.find($t=>$t.id===n)]})):Fe([n])}};return q.createElement("g",{className:it(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:Mt,updating:te}]),onClick:K,onDoubleClick:me,onContextMenu:vt,onMouseEnter:Nt,onMouseMove:Ze,onMouseLeave:Se,onKeyDown:G?ge:void 0,tabIndex:G?0:void 0,role:G?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":z===null?void 0:z||`Edge from ${m} to ${y}`,"aria-describedby":G?`${PM}-${O}`:void 0,ref:ne},!Pe&&q.createElement(e,{id:n,source:m,target:y,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,data:s,style:v,sourceX:x,sourceY:w,targetX:S,targetY:C,sourcePosition:k,targetPosition:T,sourceHandleId:R,targetHandleId:B,markerStart:Re,markerEnd:X,pathOptions:re,interactionWidth:ce}),Z&&q.createElement(q.Fragment,null,(Z==="source"||Z===!0)&&q.createElement(N1,{position:k,centerX:x,centerY:w,radius:L,onMouseDown:wt,onMouseEnter:Be,onMouseOut:ot,type:"source"}),(Z==="target"||Z===!0)&&q.createElement(N1,{position:T,centerX:S,centerY:C,radius:L,onMouseDown:Qe,onMouseEnter:Be,onMouseOut:ot,type:"target"})))};return t.displayName="EdgeWrapper",b.memo(t)};function jF(e){const t={default:Si(e.default||ql),straight:Si(e.bezier||bv),step:Si(e.step||Sv),smoothstep:Si(e.step||xu),simplebezier:Si(e.simplebezier||_v)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Si(e[s]||ql),i),n);return{...t,...r}}function M1(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Q.Top:return{x:r+s/2,y:i};case Q.Right:return{x:r+s,y:i+o/2};case Q.Bottom:return{x:r+s/2,y:i+o};case Q.Left:return{x:r,y:i+o/2}}}function P1(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const DF=(e,t,n,r,i,s)=>{const o=M1(n,e,t),a=M1(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function LF({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=jo({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function A1(e){var r,i,s,o,a;const t=((r=e==null?void 0:e[Le])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const OF=[{level:0,isMaxLevel:!0,edges:[]}];function qF(e,t,n=!1){let r=-1;const i=e.reduce((o,a)=>{var c,d;const l=Wt(a.zIndex);let u=l?a.zIndex:0;if(n){const f=t.get(a.target),h=t.get(a.source),g=a.selected||(f==null?void 0:f.selected)||(h==null?void 0:h.selected),p=Math.max(((c=h==null?void 0:h[Le])==null?void 0:c.z)||0,((d=f==null?void 0:f[Le])==null?void 0:d.z)||0,1e3);u=(l?a.zIndex:0)+(g?p:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?OF:s}function FF(e,t,n){const r=ve(b.useCallback(i=>e?i.edges.filter(s=>{const o=t.get(s.source),a=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&LF({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return qF(r,t,n)}const $F=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),VF=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),R1={[Ol.Arrow]:$F,[Ol.ArrowClosed]:VF};function BF(e){const t=Ge();return b.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(R1,e)?R1[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Yn.error009(e)),null)},[e])}const zF=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=BF(t);return l?q.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},q.createElement(l,{color:n,strokeWidth:o})):null},UF=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=Hg(o,t);r.includes(a)||(i.push({id:a,color:o.color||e,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},VM=({defaultColor:e,rfId:t})=>{const n=ve(b.useCallback(UF({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return q.createElement("defs",null,n.map(r=>q.createElement(zF,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};VM.displayName="MarkerDefinitions";var HF=b.memo(VM);const GF=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),BM=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:p,children:v,disableKeyboardA11y:m})=>{const{edgesFocusable:y,edgesUpdatable:x,elementsSelectable:w,width:S,height:C,connectionMode:k,nodeInternals:T,onError:M}=ve(GF,Xe),A=FF(t,T,n);return S?q.createElement(q.Fragment,null,A.map(({level:R,edges:B,isMaxLevel:V})=>q.createElement("svg",{key:R,style:{zIndex:R},width:S,height:C,className:"react-flow__edges react-flow__container"},V&&q.createElement(HF,{defaultColor:e,rfId:r}),q.createElement("g",null,B.map(E=>{const[D,I,L]=A1(T.get(E.source)),[P,N,j]=A1(T.get(E.target));if(!L||!j)return null;let F=E.type||"default";i[F]||(M==null||M("011",Yn.error011(F)),F="default");const $=i[F]||i.default,O=k===li.Strict?N.target:(N.target??[]).concat(N.source??[]),z=P1(I.source,E.sourceHandle),G=P1(O,E.targetHandle),Z=(z==null?void 0:z.position)||Q.Bottom,re=(G==null?void 0:G.position)||Q.Top,ce=!!(E.focusable||y&&typeof E.focusable>"u"),le=E.reconnectable||E.updatable,ne=typeof f<"u"&&(le||x&&typeof le>"u");if(!z||!G)return M==null||M("008",Yn.error008(z,E)),null;const{sourceX:te,sourceY:pe,targetX:Pe,targetY:Ae}=DF(D,z,Z,P,G,re);return q.createElement($,{key:E.id,id:E.id,className:it([E.className,s]),type:F,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:te,sourceY:pe,targetX:Pe,targetY:Ae,sourcePosition:Z,targetPosition:re,elementsSelectable:w,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:p,rfId:r,ariaLabel:E.ariaLabel,isFocusable:ce,isReconnectable:ne,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:m})})))),v):null};BM.displayName="EdgeRenderer";var WF=b.memo(BM);const KF=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function YF({children:e}){const t=ve(KF);return q.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function XF(e){const t=Tv(),n=b.useRef(!1);b.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const ZF={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top},zM=({nodeId:e,handleType:t,style:n,type:r=pr.Bezier,CustomComponent:i,connectionStatus:s})=>{var C,k,T;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:c}=ve(b.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Xe),d=(C=o==null?void 0:o[Le])==null?void 0:C.handleBounds;let f=d==null?void 0:d[t];if(c===li.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!f)return null;const h=a?f.find(M=>M.id===a):f[0],g=h?h.x+h.width/2:(o.width??0)/2,p=h?h.y+h.height/2:o.height??0,v=(((k=o.positionAbsolute)==null?void 0:k.x)??0)+g,m=(((T=o.positionAbsolute)==null?void 0:T.y)??0)+p,y=h==null?void 0:h.position,x=y?ZF[y]:null;if(!y||!x)return null;if(i)return q.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:v,fromY:m,toX:l,toY:u,fromPosition:y,toPosition:x,connectionStatus:s});let w="";const S={sourceX:v,sourceY:m,sourcePosition:y,targetX:l,targetY:u,targetPosition:x};return r===pr.Bezier?[w]=pM(S):r===pr.Step?[w]=Ug({...S,borderRadius:0}):r===pr.SmoothStep?[w]=Ug(S):r===pr.SimpleBezier?[w]=hM(S):w=`M${v},${m} ${l},${u}`,q.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};zM.displayName="ConnectionLine";const QF=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function JF({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:u}=ve(QF,Xe);return!(i&&s&&a&&o)?null:q.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},q.createElement("g",{className:it(["react-flow__connection",u])},q.createElement(zM,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function I1(e,t){return b.useRef(null),Ge(),b.useMemo(()=>t(e),[e])}const UM=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:g,onSelectionStart:p,onSelectionEnd:v,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:x,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:C,selectionMode:k,multiSelectionKeyCode:T,panActivationKeyCode:M,zoomActivationKeyCode:A,deleteKeyCode:R,onlyRenderVisibleElements:B,elementsSelectable:V,selectNodesOnDrag:E,defaultViewport:D,translateExtent:I,minZoom:L,maxZoom:P,preventScrolling:N,defaultMarkerColor:j,zoomOnScroll:F,zoomOnPinch:$,panOnScroll:O,panOnScrollSpeed:z,panOnScrollMode:G,zoomOnDoubleClick:Z,panOnDrag:re,onPaneClick:ce,onPaneMouseEnter:le,onPaneMouseMove:ne,onPaneMouseLeave:te,onPaneScroll:pe,onPaneContextMenu:Pe,onEdgeContextMenu:Ae,onEdgeMouseEnter:J,onEdgeMouseMove:Re,onEdgeMouseLeave:X,onReconnect:K,onReconnectStart:me,onReconnectEnd:vt,reconnectRadius:Nt,noDragClassName:Ze,noWheelClassName:Se,noPanClassName:st,elevateEdgesOnSelect:wt,disableKeyboardA11y:Qe,nodeOrigin:Be,nodeExtent:ot,rfId:Mt})=>{const ge=I1(e,TF),Ie=I1(t,jF);return XF(s),q.createElement(CF,{onPaneClick:ce,onPaneMouseEnter:le,onPaneMouseMove:ne,onPaneMouseLeave:te,onPaneContextMenu:Pe,onPaneScroll:pe,deleteKeyCode:R,selectionKeyCode:S,selectionOnDrag:C,selectionMode:k,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:T,panActivationKeyCode:M,zoomActivationKeyCode:A,elementsSelectable:V,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:$,zoomOnDoubleClick:Z,panOnScroll:O,panOnScrollSpeed:z,panOnScrollMode:G,panOnDrag:re,defaultViewport:D,translateExtent:I,minZoom:L,maxZoom:P,onSelectionContextMenu:g,preventScrolling:N,noDragClassName:Ze,noWheelClassName:Se,noPanClassName:st,disableKeyboardA11y:Qe},q.createElement(YF,null,q.createElement(WF,{edgeTypes:Ie,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:Ae,onEdgeMouseEnter:J,onEdgeMouseMove:Re,onEdgeMouseLeave:X,onReconnect:K,onReconnectStart:me,onReconnectEnd:vt,reconnectRadius:Nt,defaultMarkerColor:j,noPanClassName:st,elevateEdgesOnSelect:!!wt,disableKeyboardA11y:Qe,rfId:Mt},q.createElement(JF,{style:y,type:m,component:x,containerStyle:w})),q.createElement("div",{className:"react-flow__edgelabel-renderer"}),q.createElement(PF,{nodeTypes:ge,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,selectNodesOnDrag:E,onlyRenderVisibleElements:B,noPanClassName:st,noDragClassName:Ze,disableKeyboardA11y:Qe,nodeOrigin:Be,nodeExtent:ot,rfId:Mt})))};UM.displayName="GraphView";var e$=b.memo(UM);const Yg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],sr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Yg,nodeExtent:Yg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:li.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Tq,isValidConnection:void 0},t$=()=>BD((e,t)=>({...sr,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:kc(n,r,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",o=i?kc(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((p,v)=>{const m=i.get(v.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[Le]:{...m[Le],handleBounds:void 0}});else if(m){const y=wv(v.nodeElement);!!(y.width&&y.height&&(m.width!==y.width||m.height!==y.height||v.forceUpdate))&&(i.set(m.id,{...m,[Le]:{...m[Le],handleBounds:{source:k1(".source",v.nodeElement,f,u),target:k1(".target",v.nodeElement,f,u)}},...y}),p.push({id:m.id,type:"dimensions",dimensions:y}))}return p},[]);RM(i,u);const g=o||s&&!o&&IM(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:g}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const u=gF(n,a()),c=kc(u,i,o,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>dr(l,!0)):(o=Di(s(),n),a=Di(i,[])),Ia({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>dr(l,!0)):(o=Di(i,n),a=Di(s(),[])),Ia({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=t(),o=n||s(),a=r||i,l=o.map(c=>(c.selected=!1,dr(c.id,!1))),u=a.map(c=>dr(c.id,!1));Ia({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(a=>a.selected).map(a=>dr(a.id,!1)),o=n.filter(a=>a.selected).map(a=>dr(a.id,!1));Ia({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=xv(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=Vn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,s]],d=o==null?void 0:o.constrain()(u,c,l);return o.transform(a,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:sr.connectionNodeId,connectionHandleId:sr.connectionHandleId,connectionHandleType:sr.connectionHandleType,connectionStatus:sr.connectionStatus,connectionStartHandle:sr.connectionStartHandle,connectionEndHandle:sr.connectionEndHandle}),reset:()=>e({...sr})}),Object.is),HM=({children:e})=>{const t=b.useRef(null);return t.current||(t.current=t$()),q.createElement(xq,{value:t.current},e)};HM.displayName="ReactFlowProvider";const GM=({children:e})=>b.useContext(wu)?q.createElement(q.Fragment,null,e):q.createElement(HM,null,e);GM.displayName="ReactFlowWrapper";const n$={input:CM,default:Wg,output:TM,group:kv},r$={default:ql,straight:bv,step:Sv,smoothstep:xu,simplebezier:_v},i$=[0,0],s$=[15,15],o$={x:0,y:0,zoom:1},a$={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},WM=b.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=n$,edgeTypes:o=r$,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:g,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:M,onNodesDelete:A,onEdgesDelete:R,onSelectionChange:B,onSelectionDragStart:V,onSelectionDrag:E,onSelectionDragStop:D,onSelectionContextMenu:I,onSelectionStart:L,onSelectionEnd:P,connectionMode:N=li.Strict,connectionLineType:j=pr.Bezier,connectionLineStyle:F,connectionLineComponent:$,connectionLineContainerStyle:O,deleteKeyCode:z="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Z=!1,selectionMode:re=Do.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:le=Ll()?"Meta":"Control",zoomActivationKeyCode:ne=Ll()?"Meta":"Control",snapToGrid:te=!1,snapGrid:pe=s$,onlyRenderVisibleElements:Pe=!1,selectNodesOnDrag:Ae=!0,nodesDraggable:J,nodesConnectable:Re,nodesFocusable:X,nodeOrigin:K=i$,edgesFocusable:me,edgesUpdatable:vt,elementsSelectable:Nt,defaultViewport:Ze=o$,minZoom:Se=.5,maxZoom:st=2,translateExtent:wt=Yg,preventScrolling:Qe=!0,nodeExtent:Be,defaultMarkerColor:ot="#b1b1b7",zoomOnScroll:Mt=!0,zoomOnPinch:ge=!0,panOnScroll:Ie=!1,panOnScrollSpeed:Ce=.5,panOnScrollMode:ze=Kr.Free,zoomOnDoubleClick:Fe=!0,panOnDrag:xt=!0,onPaneClick:Jt,onPaneMouseEnter:$t,onPaneMouseMove:tr,onPaneMouseLeave:mn,onPaneScroll:nr,onPaneContextMenu:xs,children:sa,onEdgeContextMenu:Nn,onEdgeDoubleClick:oa,onEdgeMouseEnter:H,onEdgeMouseMove:Y,onEdgeMouseLeave:ue,onEdgeUpdate:We,onEdgeUpdateStart:yi,onEdgeUpdateEnd:at,onReconnect:Je,onReconnectStart:rr,onReconnectEnd:gn,reconnectRadius:aa=10,edgeUpdaterRadius:UR=10,onNodesChange:HR,onEdgesChange:GR,noDragClassName:WR="nodrag",noWheelClassName:KR="nowheel",noPanClassName:N0="nopan",fitView:YR=!1,fitViewOptions:XR,connectOnClick:ZR=!0,attributionPosition:QR,proOptions:JR,defaultEdgeOptions:e2,elevateNodesOnSelect:t2=!0,elevateEdgesOnSelect:n2=!1,disableKeyboardA11y:M0=!1,autoPanOnConnect:r2=!0,autoPanOnNodeDrag:i2=!0,connectionRadius:s2=20,isValidConnection:o2,onError:a2,style:l2,id:P0,nodeDragThreshold:u2,...c2},d2)=>{const Gu=P0||"1";return q.createElement("div",{...c2,style:{...l2,...a$},ref:d2,className:it(["react-flow",i]),"data-testid":"rf__wrapper",id:P0},q.createElement(GM,null,q.createElement(e$,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:o,connectionLineType:j,connectionLineStyle:F,connectionLineComponent:$,connectionLineContainerStyle:O,selectionKeyCode:G,selectionOnDrag:Z,selectionMode:re,deleteKeyCode:z,multiSelectionKeyCode:le,panActivationKeyCode:ce,zoomActivationKeyCode:ne,onlyRenderVisibleElements:Pe,selectNodesOnDrag:Ae,defaultViewport:Ze,translateExtent:wt,minZoom:Se,maxZoom:st,preventScrolling:Qe,zoomOnScroll:Mt,zoomOnPinch:ge,zoomOnDoubleClick:Fe,panOnScroll:Ie,panOnScrollSpeed:Ce,panOnScrollMode:ze,panOnDrag:xt,onPaneClick:Jt,onPaneMouseEnter:$t,onPaneMouseMove:tr,onPaneMouseLeave:mn,onPaneScroll:nr,onPaneContextMenu:xs,onSelectionContextMenu:I,onSelectionStart:L,onSelectionEnd:P,onEdgeContextMenu:Nn,onEdgeDoubleClick:oa,onEdgeMouseEnter:H,onEdgeMouseMove:Y,onEdgeMouseLeave:ue,onReconnect:Je??We,onReconnectStart:rr??yi,onReconnectEnd:gn??at,reconnectRadius:aa??UR,defaultMarkerColor:ot,noDragClassName:WR,noWheelClassName:KR,noPanClassName:N0,elevateEdgesOnSelect:n2,rfId:Gu,disableKeyboardA11y:M0,nodeOrigin:K,nodeExtent:Be}),q.createElement(Xq,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:g,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:m,nodesDraggable:J,nodesConnectable:Re,nodesFocusable:X,edgesFocusable:me,edgesUpdatable:vt,elementsSelectable:Nt,elevateNodesOnSelect:t2,minZoom:Se,maxZoom:st,nodeExtent:Be,onNodesChange:HR,onEdgesChange:GR,snapToGrid:te,snapGrid:pe,connectionMode:N,translateExtent:wt,connectOnClick:ZR,defaultEdgeOptions:e2,fitView:YR,fitViewOptions:XR,onNodesDelete:A,onEdgesDelete:R,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:M,onSelectionDrag:E,onSelectionDragStart:V,onSelectionDragStop:D,noPanClassName:N0,nodeOrigin:K,rfId:Gu,autoPanOnConnect:r2,autoPanOnNodeDrag:i2,onError:a2,connectionRadius:s2,isValidConnection:o2,nodeDragThreshold:u2}),q.createElement(Kq,{onSelectionChange:B}),sa,q.createElement(Sq,{proOptions:JR,position:QR}),q.createElement(tF,{rfId:Gu,disableKeyboardA11y:M0})))});WM.displayName="ReactFlow";const KM=({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:h})=>{const{background:g,backgroundColor:p}=s||{},v=o||g||p;return q.createElement("rect",{className:it(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:v,stroke:a,strokeWidth:l,shapeRendering:d,onClick:f?m=>f(m,e):void 0})};KM.displayName="MiniMapNode";var l$=b.memo(KM);const u$=e=>e.nodeOrigin,c$=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Pc=e=>e instanceof Function?e:()=>e;function d$({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=l$,onClick:o}){const a=ve(c$,Xe),l=ve(u$),u=Pc(t),c=Pc(e),d=Pc(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return q.createElement(q.Fragment,null,a.map(h=>{const{x:g,y:p}=ei(h,l).positionAbsolute;return q.createElement(s,{key:h.id,x:g,y:p,width:h.width,height:h.height,style:h.style,selected:h.selected,className:d(h),color:u(h),borderRadius:r,strokeColor:c(h),strokeWidth:i,shapeRendering:f,onClick:o,id:h.id})}))}var f$=b.memo(d$);const h$=200,p$=150,m$=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?Cq(_u(t,e.nodeOrigin),n):n,rfId:e.rfId}},g$="react-flow__minimap-desc";function YM({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:h,pannable:g=!1,zoomable:p=!1,ariaLabel:v="React Flow mini map",inversePan:m=!1,zoomStep:y=10,offsetScale:x=5}){const w=Ge(),S=b.useRef(null),{boundingRect:C,viewBB:k,rfId:T}=ve(m$,Xe),M=(e==null?void 0:e.width)??h$,A=(e==null?void 0:e.height)??p$,R=C.width/M,B=C.height/A,V=Math.max(R,B),E=V*M,D=V*A,I=x*V,L=C.x-(E-C.width)/2-I,P=C.y-(D-C.height)/2-I,N=E+I*2,j=D+I*2,F=`${g$}-${T}`,$=b.useRef(0);$.current=V,b.useEffect(()=>{if(S.current){const G=Ht(S.current),Z=le=>{const{transform:ne,d3Selection:te,d3Zoom:pe}=w.getState();if(le.sourceEvent.type!=="wheel"||!te||!pe)return;const Pe=-le.sourceEvent.deltaY*(le.sourceEvent.deltaMode===1?.05:le.sourceEvent.deltaMode?1:.002)*y,Ae=ne[2]*Math.pow(2,Pe);pe.scaleTo(te,Ae)},re=le=>{const{transform:ne,d3Selection:te,d3Zoom:pe,translateExtent:Pe,width:Ae,height:J}=w.getState();if(le.sourceEvent.type!=="mousemove"||!te||!pe)return;const Re=$.current*Math.max(1,ne[2])*(m?-1:1),X={x:ne[0]-le.sourceEvent.movementX*Re,y:ne[1]-le.sourceEvent.movementY*Re},K=[[0,0],[Ae,J]],me=Vn.translate(X.x,X.y).scale(ne[2]),vt=pe.constrain()(me,K,Pe);pe.transform(te,vt)},ce=rM().on("zoom",g?re:null).on("zoom.wheel",p?Z:null);return G.call(ce),()=>{G.on("zoom",null)}}},[g,p,m,y]);const O=f?G=>{const Z=sn(G);f(G,{x:Z[0],y:Z[1]})}:void 0,z=h?(G,Z)=>{const re=w.getState().nodeInternals.get(Z);h(G,re)}:void 0;return q.createElement(vv,{position:d,style:e,className:it(["react-flow__minimap",t]),"data-testid":"rf__minimap"},q.createElement("svg",{width:M,height:A,viewBox:`${L} ${P} ${N} ${j}`,role:"img","aria-labelledby":F,ref:S,onClick:O},v&&q.createElement("title",{id:F},v),q.createElement(f$,{onClick:z,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),q.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-I},${P-I}h${N+I*2}v${j+I*2}h${-N-I*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}YM.displayName="MiniMap";var y$=b.memo(YM);function v$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},q.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function w$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},q.createElement("path",{d:"M0 0h32v4.2H0z"}))}function x$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},q.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function _$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function S$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Bs=({children:e,className:t,...n})=>q.createElement("button",{type:"button",className:it(["react-flow__controls-button",t]),...n},e);Bs.displayName="ControlButton";const b$=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),XM=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left"})=>{const f=Ge(),[h,g]=b.useState(!1),{isInteractive:p,minZoomReached:v,maxZoomReached:m}=ve(b$,Xe),{zoomIn:y,zoomOut:x,fitView:w}=Tv();if(b.useEffect(()=>{g(!0)},[]),!h)return null;const S=()=>{y(),s==null||s()},C=()=>{x(),o==null||o()},k=()=>{w(i),a==null||a()},T=()=>{f.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),l==null||l(!p)};return q.createElement(vv,{className:it(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&q.createElement(q.Fragment,null,q.createElement(Bs,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},q.createElement(v$,null)),q.createElement(Bs,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},q.createElement(w$,null))),n&&q.createElement(Bs,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view"},q.createElement(x$,null)),r&&q.createElement(Bs,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity"},p?q.createElement(S$,null):q.createElement(_$,null)),c)};XM.displayName="Controls";var E$=b.memo(XM),cn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(cn||(cn={}));function C$({color:e,dimensions:t,lineWidth:n}){return q.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function k$({color:e,radius:t}){return q.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const T$={[cn.Dots]:"#91919a",[cn.Lines]:"#eee",[cn.Cross]:"#e2e2e2"},N$={[cn.Dots]:1,[cn.Lines]:1,[cn.Cross]:6},M$=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ZM({id:e,variant:t=cn.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const u=b.useRef(null),{transform:c,patternId:d}=ve(M$,Xe),f=o||T$[t],h=r||N$[t],g=t===cn.Dots,p=t===cn.Cross,v=Array.isArray(n)?n:[n,n],m=[v[0]*c[2]||1,v[1]*c[2]||1],y=h*c[2],x=p?[y,y]:m,w=g?[y/s,y/s]:[x[0]/s,x[1]/s];return q.createElement("svg",{className:it(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},q.createElement("pattern",{id:d+e,x:c[0]%m[0],y:c[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},g?q.createElement(k$,{color:f,radius:y/s}):q.createElement(C$,{dimensions:x,color:f,lineWidth:i})),q.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}ZM.displayName="Background";var P$=b.memo(ZM);function nl(e){const t=new Map;for(const r of e)r.type==="tool_call"&&r.toolCallId&&t.set(r.toolCallId,r.id);const n=[];for(const r of e)if(!(r.type!=="llm_call"||!r.io)){for(const i of r.io.emittedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_emit_${r.id}_${s}`,source:r.id,target:s,kind:"io",toolCallId:i})}for(const i of r.io.consumedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_consume_${s}_${r.id}`,source:s,target:r.id,kind:"io",toolCallId:i})}}return n}function Mv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ac,j1;function A$(){if(j1)return Ac;j1=1;function e(){this.__data__=[],this.size=0}return Ac=e,Ac}var Rc,D1;function hs(){if(D1)return Rc;D1=1;function e(t,n){return t===n||t!==t&&n!==n}return Rc=e,Rc}var Ic,L1;function Su(){if(L1)return Ic;L1=1;var e=hs();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Ic=t,Ic}var jc,O1;function R$(){if(O1)return jc;O1=1;var e=Su(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return jc=r,jc}var Dc,q1;function I$(){if(q1)return Dc;q1=1;var e=Su();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Dc=t,Dc}var Lc,F1;function j$(){if(F1)return Lc;F1=1;var e=Su();function t(n){return e(this.__data__,n)>-1}return Lc=t,Lc}var Oc,$1;function D$(){if($1)return Oc;$1=1;var e=Su();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Oc=t,Oc}var qc,V1;function bu(){if(V1)return qc;V1=1;var e=A$(),t=R$(),n=I$(),r=j$(),i=D$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,qc=s,qc}var Fc,B1;function L$(){if(B1)return Fc;B1=1;var e=bu();function t(){this.__data__=new e,this.size=0}return Fc=t,Fc}var $c,z1;function O$(){if(z1)return $c;z1=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return $c=e,$c}var Vc,U1;function q$(){if(U1)return Vc;U1=1;function e(t){return this.__data__.get(t)}return Vc=e,Vc}var Bc,H1;function F$(){if(H1)return Bc;H1=1;function e(t){return this.__data__.has(t)}return Bc=e,Bc}var zc,G1;function QM(){if(G1)return zc;G1=1;var e=typeof la=="object"&&la&&la.Object===Object&&la;return zc=e,zc}var Uc,W1;function hn(){if(W1)return Uc;W1=1;var e=QM(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Uc=n,Uc}var Hc,K1;function ps(){if(K1)return Hc;K1=1;var e=hn(),t=e.Symbol;return Hc=t,Hc}var Gc,Y1;function $$(){if(Y1)return Gc;Y1=1;var e=ps(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(a?o[i]=l:delete o[i]),c}return Gc=s,Gc}var Wc,X1;function V$(){if(X1)return Wc;X1=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Wc=n,Wc}var Kc,Z1;function di(){if(Z1)return Kc;Z1=1;var e=ps(),t=$$(),n=V$(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return Kc=o,Kc}var Yc,Q1;function Zt(){if(Q1)return Yc;Q1=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Yc=e,Yc}var Xc,J1;function Xo(){if(J1)return Xc;J1=1;var e=di(),t=Zt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==s}return Xc=o,Xc}var Zc,ex;function B$(){if(ex)return Zc;ex=1;var e=hn(),t=e["__core-js_shared__"];return Zc=t,Zc}var Qc,tx;function z$(){if(tx)return Qc;tx=1;var e=B$(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Qc=n,Qc}var Jc,nx;function JM(){if(nx)return Jc;nx=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Jc=n,Jc}var ed,rx;function U$(){if(rx)return ed;rx=1;var e=Xo(),t=z$(),n=Zt(),r=JM(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?c:s;return h.test(r(f))}return ed=d,ed}var td,ix;function H$(){if(ix)return td;ix=1;function e(t,n){return t==null?void 0:t[n]}return td=e,td}var nd,sx;function fi(){if(sx)return nd;sx=1;var e=U$(),t=H$();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return nd=n,nd}var rd,ox;function Pv(){if(ox)return rd;ox=1;var e=fi(),t=hn(),n=e(t,"Map");return rd=n,rd}var id,ax;function Eu(){if(ax)return id;ax=1;var e=fi(),t=e(Object,"create");return id=t,id}var sd,lx;function G$(){if(lx)return sd;lx=1;var e=Eu();function t(){this.__data__=e?e(null):{},this.size=0}return sd=t,sd}var od,ux;function W$(){if(ux)return od;ux=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return od=e,od}var ad,cx;function K$(){if(cx)return ad;cx=1;var e=Eu(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return ad=i,ad}var ld,dx;function Y$(){if(dx)return ld;dx=1;var e=Eu(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return ld=r,ld}var ud,fx;function X$(){if(fx)return ud;fx=1;var e=Eu(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return ud=n,ud}var cd,hx;function Z$(){if(hx)return cd;hx=1;var e=G$(),t=W$(),n=K$(),r=Y$(),i=X$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,cd=s,cd}var dd,px;function Q$(){if(px)return dd;px=1;var e=Z$(),t=bu(),n=Pv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return dd=r,dd}var fd,mx;function J$(){if(mx)return fd;mx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return fd=e,fd}var hd,gx;function Cu(){if(gx)return hd;gx=1;var e=J$();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return hd=t,hd}var pd,yx;function eV(){if(yx)return pd;yx=1;var e=Cu();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return pd=t,pd}var md,vx;function tV(){if(vx)return md;vx=1;var e=Cu();function t(n){return e(this,n).get(n)}return md=t,md}var gd,wx;function nV(){if(wx)return gd;wx=1;var e=Cu();function t(n){return e(this,n).has(n)}return gd=t,gd}var yd,xx;function rV(){if(xx)return yd;xx=1;var e=Cu();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return yd=t,yd}var vd,_x;function Av(){if(_x)return vd;_x=1;var e=Q$(),t=eV(),n=tV(),r=nV(),i=rV();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,vd=s,vd}var wd,Sx;function iV(){if(Sx)return wd;Sx=1;var e=bu(),t=Pv(),n=Av(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return wd=i,wd}var xd,bx;function ku(){if(bx)return xd;bx=1;var e=bu(),t=L$(),n=O$(),r=q$(),i=F$(),s=iV();function o(a){var l=this.__data__=new e(a);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,xd=o,xd}var _d,Ex;function Rv(){if(Ex)return _d;Ex=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return _d=e,_d}var Sd,Cx;function eP(){if(Cx)return Sd;Cx=1;var e=fi(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Sd=t,Sd}var bd,kx;function Tu(){if(kx)return bd;kx=1;var e=eP();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return bd=t,bd}var Ed,Tx;function Nu(){if(Tx)return Ed;Tx=1;var e=Tu(),t=hs(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&t(l,a))||a===void 0&&!(o in s))&&e(s,o,a)}return Ed=i,Ed}var Cd,Nx;function Zo(){if(Nx)return Cd;Nx=1;var e=Nu(),t=Tu();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=o?o(s[c],r[c],c,s,r):void 0;d===void 0&&(d=r[c]),a?t(s,c,d):e(s,c,d)}return s}return Cd=n,Cd}var kd,Mx;function sV(){if(Mx)return kd;Mx=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return kd=e,kd}var Td,Px;function Tn(){if(Px)return Td;Px=1;function e(t){return t!=null&&typeof t=="object"}return Td=e,Td}var Nd,Ax;function oV(){if(Ax)return Nd;Ax=1;var e=di(),t=Tn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Nd=r,Nd}var Md,Rx;function Qo(){if(Rx)return Md;Rx=1;var e=oV(),t=Tn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Md=s,Md}var Pd,Ix;function Ve(){if(Ix)return Pd;Ix=1;var e=Array.isArray;return Pd=e,Pd}var zs={exports:{}},Ad,jx;function aV(){if(jx)return Ad;jx=1;function e(){return!1}return Ad=e,Ad}zs.exports;var Dx;function ms(){return Dx||(Dx=1,function(e,t){var n=hn(),r=aV(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(zs,zs.exports)),zs.exports}var Rd,Lx;function Mu(){if(Lx)return Rd;Lx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Rd=n,Rd}var Id,Ox;function Iv(){if(Ox)return Id;Ox=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Id=t,Id}var jd,qx;function lV(){if(qx)return jd;qx=1;var e=di(),t=Iv(),n=Tn(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",g="[object String]",p="[object WeakMap]",v="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",A="[object Uint32Array]",R={};R[y]=R[x]=R[w]=R[S]=R[C]=R[k]=R[T]=R[M]=R[A]=!0,R[r]=R[i]=R[v]=R[s]=R[m]=R[o]=R[a]=R[l]=R[u]=R[c]=R[d]=R[f]=R[h]=R[g]=R[p]=!1;function B(V){return n(V)&&t(V.length)&&!!R[e(V)]}return jd=B,jd}var Dd,Fx;function Pu(){if(Fx)return Dd;Fx=1;function e(t){return function(n){return t(n)}}return Dd=e,Dd}var Us={exports:{}};Us.exports;var $x;function jv(){return $x||($x=1,function(e,t){var n=QM(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(Us,Us.exports)),Us.exports}var Ld,Vx;function Jo(){if(Vx)return Ld;Vx=1;var e=lV(),t=Pu(),n=jv(),r=n&&n.isTypedArray,i=r?t(r):e;return Ld=i,Ld}var Od,Bx;function tP(){if(Bx)return Od;Bx=1;var e=sV(),t=Qo(),n=Ve(),r=ms(),i=Mu(),s=Jo(),o=Object.prototype,a=o.hasOwnProperty;function l(u,c){var d=n(u),f=!d&&t(u),h=!d&&!f&&r(u),g=!d&&!f&&!h&&s(u),p=d||f||h||g,v=p?e(u.length,String):[],m=v.length;for(var y in u)(c||a.call(u,y))&&!(p&&(y=="length"||h&&(y=="offset"||y=="parent")||g&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,m)))&&v.push(y);return v}return Od=l,Od}var qd,zx;function Au(){if(zx)return qd;zx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return qd=t,qd}var Fd,Ux;function nP(){if(Ux)return Fd;Ux=1;function e(t,n){return function(r){return t(n(r))}}return Fd=e,Fd}var $d,Hx;function uV(){if(Hx)return $d;Hx=1;var e=nP(),t=e(Object.keys,Object);return $d=t,$d}var Vd,Gx;function Dv(){if(Gx)return Vd;Gx=1;var e=Au(),t=uV(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return Vd=i,Vd}var Bd,Wx;function Jn(){if(Wx)return Bd;Wx=1;var e=Xo(),t=Iv();function n(r){return r!=null&&t(r.length)&&!e(r)}return Bd=n,Bd}var zd,Kx;function Lr(){if(Kx)return zd;Kx=1;var e=tP(),t=Dv(),n=Jn();function r(i){return n(i)?e(i):t(i)}return zd=r,zd}var Ud,Yx;function cV(){if(Yx)return Ud;Yx=1;var e=Zo(),t=Lr();function n(r,i){return r&&e(i,t(i),r)}return Ud=n,Ud}var Hd,Xx;function dV(){if(Xx)return Hd;Xx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Hd=e,Hd}var Gd,Zx;function fV(){if(Zx)return Gd;Zx=1;var e=Zt(),t=Au(),n=dV(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return Gd=s,Gd}var Wd,Qx;function hi(){if(Qx)return Wd;Qx=1;var e=tP(),t=fV(),n=Jn();function r(i){return n(i)?e(i,!0):t(i)}return Wd=r,Wd}var Kd,Jx;function hV(){if(Jx)return Kd;Jx=1;var e=Zo(),t=hi();function n(r,i){return r&&e(i,t(i),r)}return Kd=n,Kd}var Hs={exports:{}};Hs.exports;var e_;function rP(){return e_||(e_=1,function(e,t){var n=hn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=a?a(d):new u.constructor(d);return u.copy(f),f}e.exports=l}(Hs,Hs.exports)),Hs.exports}var Yd,t_;function iP(){if(t_)return Yd;t_=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Yd=e,Yd}var Xd,n_;function sP(){if(n_)return Xd;n_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return Xd=e,Xd}var Zd,r_;function oP(){if(r_)return Zd;r_=1;function e(){return[]}return Zd=e,Zd}var Qd,i_;function Lv(){if(i_)return Qd;i_=1;var e=sP(),t=oP(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return Qd=s,Qd}var Jd,s_;function pV(){if(s_)return Jd;s_=1;var e=Zo(),t=Lv();function n(r,i){return e(r,t(r),i)}return Jd=n,Jd}var ef,o_;function Ov(){if(o_)return ef;o_=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return ef=e,ef}var tf,a_;function Ru(){if(a_)return tf;a_=1;var e=nP(),t=e(Object.getPrototypeOf,Object);return tf=t,tf}var nf,l_;function aP(){if(l_)return nf;l_=1;var e=Ov(),t=Ru(),n=Lv(),r=oP(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return nf=s,nf}var rf,u_;function mV(){if(u_)return rf;u_=1;var e=Zo(),t=aP();function n(r,i){return e(r,t(r),i)}return rf=n,rf}var sf,c_;function lP(){if(c_)return sf;c_=1;var e=Ov(),t=Ve();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return sf=n,sf}var of,d_;function uP(){if(d_)return of;d_=1;var e=lP(),t=Lv(),n=Lr();function r(i){return e(i,n,t)}return of=r,of}var af,f_;function gV(){if(f_)return af;f_=1;var e=lP(),t=aP(),n=hi();function r(i){return e(i,n,t)}return af=r,af}var lf,h_;function yV(){if(h_)return lf;h_=1;var e=fi(),t=hn(),n=e(t,"DataView");return lf=n,lf}var uf,p_;function vV(){if(p_)return uf;p_=1;var e=fi(),t=hn(),n=e(t,"Promise");return uf=n,uf}var cf,m_;function cP(){if(m_)return cf;m_=1;var e=fi(),t=hn(),n=e(t,"Set");return cf=n,cf}var df,g_;function wV(){if(g_)return df;g_=1;var e=fi(),t=hn(),n=e(t,"WeakMap");return df=n,df}var ff,y_;function gs(){if(y_)return ff;y_=1;var e=yV(),t=Pv(),n=vV(),r=cP(),i=wV(),s=di(),o=JM(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),g=o(t),p=o(n),v=o(r),m=o(i),y=s;return(e&&y(new e(new ArrayBuffer(1)))!=f||t&&y(new t)!=a||n&&y(n.resolve())!=u||r&&y(new r)!=c||i&&y(new i)!=d)&&(y=function(x){var w=s(x),S=w==l?x.constructor:void 0,C=S?o(S):"";if(C)switch(C){case h:return f;case g:return a;case p:return u;case v:return c;case m:return d}return w}),ff=y,ff}var hf,v_;function xV(){if(v_)return hf;v_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return hf=n,hf}var pf,w_;function dP(){if(w_)return pf;w_=1;var e=hn(),t=e.Uint8Array;return pf=t,pf}var mf,x_;function qv(){if(x_)return mf;x_=1;var e=dP();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return mf=t,mf}var gf,__;function _V(){if(__)return gf;__=1;var e=qv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return gf=t,gf}var yf,S_;function SV(){if(S_)return yf;S_=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return yf=t,yf}var vf,b_;function bV(){if(b_)return vf;b_=1;var e=ps(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return vf=r,vf}var wf,E_;function fP(){if(E_)return wf;E_=1;var e=qv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return wf=t,wf}var xf,C_;function EV(){if(C_)return xf;C_=1;var e=qv(),t=_V(),n=SV(),r=bV(),i=fP(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",v="[object Float64Array]",m="[object Int8Array]",y="[object Int16Array]",x="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]";function T(M,A,R){var B=M.constructor;switch(A){case h:return e(M);case s:case o:return new B(+M);case g:return t(M,R);case p:case v:case m:case y:case x:case w:case S:case C:case k:return i(M,R);case a:return new B;case l:case d:return new B(M);case u:return n(M);case c:return new B;case f:return r(M)}}return xf=T,xf}var _f,k_;function hP(){if(k_)return _f;k_=1;var e=Zt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return _f=n,_f}var Sf,T_;function pP(){if(T_)return Sf;T_=1;var e=hP(),t=Ru(),n=Au();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Sf=r,Sf}var bf,N_;function CV(){if(N_)return bf;N_=1;var e=gs(),t=Tn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return bf=r,bf}var Ef,M_;function kV(){if(M_)return Ef;M_=1;var e=CV(),t=Pu(),n=jv(),r=n&&n.isMap,i=r?t(r):e;return Ef=i,Ef}var Cf,P_;function TV(){if(P_)return Cf;P_=1;var e=gs(),t=Tn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Cf=r,Cf}var kf,A_;function NV(){if(A_)return kf;A_=1;var e=TV(),t=Pu(),n=jv(),r=n&&n.isSet,i=r?t(r):e;return kf=i,kf}var Tf,R_;function mP(){if(R_)return Tf;R_=1;var e=ku(),t=Rv(),n=Nu(),r=cV(),i=hV(),s=rP(),o=iP(),a=pV(),l=mV(),u=uP(),c=gV(),d=gs(),f=xV(),h=EV(),g=pP(),p=Ve(),v=ms(),m=kV(),y=Zt(),x=NV(),w=Lr(),S=hi(),C=1,k=2,T=4,M="[object Arguments]",A="[object Array]",R="[object Boolean]",B="[object Date]",V="[object Error]",E="[object Function]",D="[object GeneratorFunction]",I="[object Map]",L="[object Number]",P="[object Object]",N="[object RegExp]",j="[object Set]",F="[object String]",$="[object Symbol]",O="[object WeakMap]",z="[object ArrayBuffer]",G="[object DataView]",Z="[object Float32Array]",re="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",ne="[object Int32Array]",te="[object Uint8Array]",pe="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ae="[object Uint32Array]",J={};J[M]=J[A]=J[z]=J[G]=J[R]=J[B]=J[Z]=J[re]=J[ce]=J[le]=J[ne]=J[I]=J[L]=J[P]=J[N]=J[j]=J[F]=J[$]=J[te]=J[pe]=J[Pe]=J[Ae]=!0,J[V]=J[E]=J[O]=!1;function Re(X,K,me,vt,Nt,Ze){var Se,st=K&C,wt=K&k,Qe=K&T;if(me&&(Se=Nt?me(X,vt,Nt,Ze):me(X)),Se!==void 0)return Se;if(!y(X))return X;var Be=p(X);if(Be){if(Se=f(X),!st)return o(X,Se)}else{var ot=d(X),Mt=ot==E||ot==D;if(v(X))return s(X,st);if(ot==P||ot==M||Mt&&!Nt){if(Se=wt||Mt?{}:g(X),!st)return wt?l(X,i(Se,X)):a(X,r(Se,X))}else{if(!J[ot])return Nt?X:{};Se=h(X,ot,st)}}Ze||(Ze=new e);var ge=Ze.get(X);if(ge)return ge;Ze.set(X,Se),x(X)?X.forEach(function(ze){Se.add(Re(ze,K,me,ze,X,Ze))}):m(X)&&X.forEach(function(ze,Fe){Se.set(Fe,Re(ze,K,me,Fe,X,Ze))});var Ie=Qe?wt?c:u:wt?S:w,Ce=Be?void 0:Ie(X);return t(Ce||X,function(ze,Fe){Ce&&(Fe=ze,ze=X[Fe]),n(Se,Fe,Re(ze,K,me,Fe,X,Ze))}),Se}return Tf=Re,Tf}var Nf,I_;function MV(){if(I_)return Nf;I_=1;var e=mP(),t=4;function n(r){return e(r,t)}return Nf=n,Nf}var Mf,j_;function Fv(){if(j_)return Mf;j_=1;function e(t){return function(){return t}}return Mf=e,Mf}var Pf,D_;function PV(){if(D_)return Pf;D_=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++s];if(r(o[u],u,o)===!1)break}return n}}return Pf=e,Pf}var Af,L_;function $v(){if(L_)return Af;L_=1;var e=PV(),t=e();return Af=t,Af}var Rf,O_;function Vv(){if(O_)return Rf;O_=1;var e=$v(),t=Lr();function n(r,i){return r&&e(r,i,t)}return Rf=n,Rf}var If,q_;function AV(){if(q_)return If;q_=1;var e=Jn();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return If=t,If}var jf,F_;function Iu(){if(F_)return jf;F_=1;var e=Vv(),t=AV(),n=t(e);return jf=n,jf}var Df,$_;function pi(){if($_)return Df;$_=1;function e(t){return t}return Df=e,Df}var Lf,V_;function gP(){if(V_)return Lf;V_=1;var e=pi();function t(n){return typeof n=="function"?n:e}return Lf=t,Lf}var Of,B_;function yP(){if(B_)return Of;B_=1;var e=Rv(),t=Iu(),n=gP(),r=Ve();function i(s,o){var a=r(s)?e:t;return a(s,n(o))}return Of=i,Of}var qf,z_;function vP(){return z_||(z_=1,qf=yP()),qf}var Ff,U_;function RV(){if(U_)return Ff;U_=1;var e=Iu();function t(n,r){var i=[];return e(n,function(s,o,a){r(s,o,a)&&i.push(s)}),i}return Ff=t,Ff}var $f,H_;function IV(){if(H_)return $f;H_=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return $f=t,$f}var Vf,G_;function jV(){if(G_)return Vf;G_=1;function e(t){return this.__data__.has(t)}return Vf=e,Vf}var Bf,W_;function wP(){if(W_)return Bf;W_=1;var e=Av(),t=IV(),n=jV();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Bf=r,Bf}var zf,K_;function DV(){if(K_)return zf;K_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return zf=e,zf}var Uf,Y_;function xP(){if(Y_)return Uf;Y_=1;function e(t,n){return t.has(n)}return Uf=e,Uf}var Hf,X_;function _P(){if(X_)return Hf;X_=1;var e=wP(),t=DV(),n=xP(),r=1,i=2;function s(o,a,l,u,c,d){var f=l&r,h=o.length,g=a.length;if(h!=g&&!(f&&g>h))return!1;var p=d.get(o),v=d.get(a);if(p&&v)return p==a&&v==o;var m=-1,y=!0,x=l&i?new e:void 0;for(d.set(o,a),d.set(a,o);++m<h;){var w=o[m],S=a[m];if(u)var C=f?u(S,w,m,a,o,d):u(w,S,m,o,a,d);if(C!==void 0){if(C)continue;y=!1;break}if(x){if(!t(a,function(k,T){if(!n(x,T)&&(w===k||c(w,k,l,u,d)))return x.push(T)})){y=!1;break}}else if(!(w===S||c(w,S,l,u,d))){y=!1;break}}return d.delete(o),d.delete(a),y}return Hf=s,Hf}var Gf,Z_;function LV(){if(Z_)return Gf;Z_=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return Gf=e,Gf}var Wf,Q_;function Bv(){if(Q_)return Wf;Q_=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Wf=e,Wf}var Kf,J_;function OV(){if(J_)return Kf;J_=1;var e=ps(),t=dP(),n=hs(),r=_P(),i=LV(),s=Bv(),o=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",g="[object Set]",p="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",x=e?e.prototype:void 0,w=x?x.valueOf:void 0;function S(C,k,T,M,A,R,B){switch(T){case y:if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case m:return!(C.byteLength!=k.byteLength||!R(new t(C),new t(k)));case l:case u:case f:return n(+C,+k);case c:return C.name==k.name&&C.message==k.message;case h:case p:return C==k+"";case d:var V=i;case g:var E=M&o;if(V||(V=s),C.size!=k.size&&!E)return!1;var D=B.get(C);if(D)return D==k;M|=a,B.set(C,k);var I=r(V(C),V(k),M,A,R,B);return B.delete(C),I;case v:if(w)return w.call(C)==w.call(k)}return!1}return Kf=S,Kf}var Yf,eS;function qV(){if(eS)return Yf;eS=1;var e=uP(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,u,c){var d=a&t,f=e(s),h=f.length,g=e(o),p=g.length;if(h!=p&&!d)return!1;for(var v=h;v--;){var m=f[v];if(!(d?m in o:r.call(o,m)))return!1}var y=c.get(s),x=c.get(o);if(y&&x)return y==o&&x==s;var w=!0;c.set(s,o),c.set(o,s);for(var S=d;++v<h;){m=f[v];var C=s[m],k=o[m];if(l)var T=d?l(k,C,m,o,s,c):l(C,k,m,s,o,c);if(!(T===void 0?C===k||u(C,k,a,l,c):T)){w=!1;break}S||(S=m=="constructor")}if(w&&!S){var M=s.constructor,A=o.constructor;M!=A&&"constructor"in s&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof A=="function"&&A instanceof A)&&(w=!1)}return c.delete(s),c.delete(o),w}return Yf=i,Yf}var Xf,tS;function FV(){if(tS)return Xf;tS=1;var e=ku(),t=_P(),n=OV(),r=qV(),i=gs(),s=Ve(),o=ms(),a=Jo(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function g(p,v,m,y,x,w){var S=s(p),C=s(v),k=S?c:i(p),T=C?c:i(v);k=k==u?d:k,T=T==u?d:T;var M=k==d,A=T==d,R=k==T;if(R&&o(p)){if(!o(v))return!1;S=!0,M=!1}if(R&&!M)return w||(w=new e),S||a(p)?t(p,v,m,y,x,w):n(p,v,k,m,y,x,w);if(!(m&l)){var B=M&&h.call(p,"__wrapped__"),V=A&&h.call(v,"__wrapped__");if(B||V){var E=B?p.value():p,D=V?v.value():v;return w||(w=new e),x(E,D,m,y,w)}}return R?(w||(w=new e),r(p,v,m,y,x,w)):!1}return Xf=g,Xf}var Zf,nS;function SP(){if(nS)return Zf;nS=1;var e=FV(),t=Tn();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return Zf=n,Zf}var Qf,rS;function $V(){if(rS)return Qf;rS=1;var e=ku(),t=SP(),n=1,r=2;function i(s,o,a,l){var u=a.length,c=u,d=!l;if(s==null)return!c;for(s=Object(s);u--;){var f=a[u];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++u<c;){f=a[u];var h=f[0],g=s[h],p=f[1];if(d&&f[2]){if(g===void 0&&!(h in s))return!1}else{var v=new e;if(l)var m=l(g,p,h,s,o,v);if(!(m===void 0?t(p,g,n|r,l,v):m))return!1}}return!0}return Qf=i,Qf}var Jf,iS;function bP(){if(iS)return Jf;iS=1;var e=Zt();function t(n){return n===n&&!e(n)}return Jf=t,Jf}var eh,sS;function VV(){if(sS)return eh;sS=1;var e=bP(),t=Lr();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return eh=n,eh}var th,oS;function EP(){if(oS)return th;oS=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return th=e,th}var nh,aS;function BV(){if(aS)return nh;aS=1;var e=$V(),t=VV(),n=EP();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return nh=r,nh}var rh,lS;function ys(){if(lS)return rh;lS=1;var e=di(),t=Tn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return rh=r,rh}var ih,uS;function zv(){if(uS)return ih;uS=1;var e=Ve(),t=ys(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return ih=i,ih}var sh,cS;function zV(){if(cS)return sh;cS=1;var e=Av(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,sh=n,sh}var oh,dS;function UV(){if(dS)return oh;dS=1;var e=zV(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return oh=n,oh}var ah,fS;function HV(){if(fS)return ah;fS=1;var e=UV(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,u){s.push(l?u.replace(n,"$1"):a||o)}),s});return ah=r,ah}var lh,hS;function ju(){if(hS)return lh;hS=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return lh=e,lh}var uh,pS;function GV(){if(pS)return uh;pS=1;var e=ps(),t=ju(),n=Ve(),r=ys(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return uh=o,uh}var ch,mS;function CP(){if(mS)return ch;mS=1;var e=GV();function t(n){return n==null?"":e(n)}return ch=t,ch}var dh,gS;function Du(){if(gS)return dh;gS=1;var e=Ve(),t=zv(),n=HV(),r=CP();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return dh=i,dh}var fh,yS;function ea(){if(yS)return fh;yS=1;var e=ys();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return fh=t,fh}var hh,vS;function Lu(){if(vS)return hh;vS=1;var e=Du(),t=ea();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return hh=n,hh}var ph,wS;function WV(){if(wS)return ph;wS=1;var e=Lu();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return ph=t,ph}var mh,xS;function KV(){if(xS)return mh;xS=1;function e(t,n){return t!=null&&n in Object(t)}return mh=e,mh}var gh,_S;function kP(){if(_S)return gh;_S=1;var e=Du(),t=Qo(),n=Ve(),r=Mu(),i=Iv(),s=ea();function o(a,l,u){l=e(l,a);for(var c=-1,d=l.length,f=!1;++c<d;){var h=s(l[c]);if(!(f=a!=null&&u(a,h)))break;a=a[h]}return f||++c!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(h,d)&&(n(a)||t(a)))}return gh=o,gh}var yh,SS;function TP(){if(SS)return yh;SS=1;var e=KV(),t=kP();function n(r,i){return r!=null&&t(r,i,e)}return yh=n,yh}var vh,bS;function YV(){if(bS)return vh;bS=1;var e=SP(),t=WV(),n=TP(),r=zv(),i=bP(),s=EP(),o=ea(),a=1,l=2;function u(c,d){return r(c)&&i(d)?s(o(c),d):function(f){var h=t(f,c);return h===void 0&&h===d?n(f,c):e(d,h,a|l)}}return vh=u,vh}var wh,ES;function NP(){if(ES)return wh;ES=1;function e(t){return function(n){return n==null?void 0:n[t]}}return wh=e,wh}var xh,CS;function XV(){if(CS)return xh;CS=1;var e=Lu();function t(n){return function(r){return e(r,n)}}return xh=t,xh}var _h,kS;function ZV(){if(kS)return _h;kS=1;var e=NP(),t=XV(),n=zv(),r=ea();function i(s){return n(s)?e(r(s)):t(s)}return _h=i,_h}var Sh,TS;function er(){if(TS)return Sh;TS=1;var e=BV(),t=YV(),n=pi(),r=Ve(),i=ZV();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return Sh=s,Sh}var bh,NS;function MP(){if(NS)return bh;NS=1;var e=sP(),t=RV(),n=er(),r=Ve();function i(s,o){var a=r(s)?e:t;return a(s,n(o,3))}return bh=i,bh}var Eh,MS;function QV(){if(MS)return Eh;MS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Eh=n,Eh}var Ch,PS;function PP(){if(PS)return Ch;PS=1;var e=QV(),t=kP();function n(r,i){return r!=null&&t(r,i,e)}return Ch=n,Ch}var kh,AS;function JV(){if(AS)return kh;AS=1;var e=Dv(),t=gs(),n=Qo(),r=Ve(),i=Jn(),s=ms(),o=Au(),a=Jo(),l="[object Map]",u="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||s(h)||a(h)||n(h)))return!h.length;var g=t(h);if(g==l||g==u)return!h.size;if(o(h))return!e(h).length;for(var p in h)if(d.call(h,p))return!1;return!0}return kh=f,kh}var Th,RS;function AP(){if(RS)return Th;RS=1;function e(t){return t===void 0}return Th=e,Th}var Nh,IS;function RP(){if(IS)return Nh;IS=1;var e=Iu(),t=Jn();function n(r,i){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return Nh=n,Nh}var Mh,jS;function IP(){if(jS)return Mh;jS=1;var e=ju(),t=er(),n=RP(),r=Ve();function i(s,o){var a=r(s)?e:n;return a(s,t(o,3))}return Mh=i,Mh}var Ph,DS;function eB(){if(DS)return Ph;DS=1;function e(t,n,r,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(r=t[++s]);++s<o;)r=n(r,t[s],s,t);return r}return Ph=e,Ph}var Ah,LS;function tB(){if(LS)return Ah;LS=1;function e(t,n,r,i,s){return s(t,function(o,a,l){r=i?(i=!1,o):n(r,o,a,l)}),r}return Ah=e,Ah}var Rh,OS;function jP(){if(OS)return Rh;OS=1;var e=eB(),t=Iu(),n=er(),r=tB(),i=Ve();function s(o,a,l){var u=i(o)?e:r,c=arguments.length<3;return u(o,n(a,4),l,c,t)}return Rh=s,Rh}var Ih,qS;function nB(){if(qS)return Ih;qS=1;var e=di(),t=Ve(),n=Tn(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return Ih=i,Ih}var jh,FS;function rB(){if(FS)return jh;FS=1;var e=NP(),t=e("length");return jh=t,jh}var Dh,$S;function iB(){if($S)return Dh;$S=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+e+i+s+"]");function l(u){return a.test(u)}return Dh=l,Dh}var Lh,VS;function sB(){if(VS)return Lh;VS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",p="["+s+"]?",v="(?:"+h+"(?:"+[c,d,f].join("|")+")"+p+g+")*",m=p+g+v,y="(?:"+[c+a+"?",a,d,f,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+y+m,"g");function w(S){for(var C=x.lastIndex=0;x.test(S);)++C;return C}return Lh=w,Lh}var Oh,BS;function oB(){if(BS)return Oh;BS=1;var e=rB(),t=iB(),n=sB();function r(i){return t(i)?n(i):e(i)}return Oh=r,Oh}var qh,zS;function aB(){if(zS)return qh;zS=1;var e=Dv(),t=gs(),n=Jn(),r=nB(),i=oB(),s="[object Map]",o="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==s||u==o?l.size:e(l).length}return qh=a,qh}var Fh,US;function lB(){if(US)return Fh;US=1;var e=Rv(),t=hP(),n=Vv(),r=er(),i=Ru(),s=Ve(),o=ms(),a=Xo(),l=Zt(),u=Jo();function c(d,f,h){var g=s(d),p=g||o(d)||u(d);if(f=r(f,4),h==null){var v=d&&d.constructor;p?h=g?new v:[]:l(d)?h=a(v)?t(i(d)):{}:h={}}return(p?e:n)(d,function(m,y,x){return f(h,m,y,x)}),h}return Fh=c,Fh}var $h,HS;function uB(){if(HS)return $h;HS=1;var e=ps(),t=Qo(),n=Ve(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return $h=i,$h}var Vh,GS;function Uv(){if(GS)return Vh;GS=1;var e=Ov(),t=uB();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=t),a||(a=[]);++l<u;){var c=r[l];i>0&&s(c)?i>1?n(c,i-1,s,o,a):e(a,c):o||(a[a.length]=c)}return a}return Vh=n,Vh}var Bh,WS;function cB(){if(WS)return Bh;WS=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Bh=e,Bh}var zh,KS;function DP(){if(KS)return zh;KS=1;var e=cB(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=t(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=o[a];return c[i]=s(u),e(r,this,c)}}return zh=n,zh}var Uh,YS;function dB(){if(YS)return Uh;YS=1;var e=Fv(),t=eP(),n=pi(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Uh=r,Uh}var Hh,XS;function fB(){if(XS)return Hh;XS=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=t-(a-o);if(o=a,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Hh=r,Hh}var Gh,ZS;function LP(){if(ZS)return Gh;ZS=1;var e=dB(),t=fB(),n=t(e);return Gh=n,Gh}var Wh,QS;function Ou(){if(QS)return Wh;QS=1;var e=pi(),t=DP(),n=LP();function r(i,s){return n(t(i,s,e),i+"")}return Wh=r,Wh}var Kh,JS;function OP(){if(JS)return Kh;JS=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return Kh=e,Kh}var Yh,eb;function hB(){if(eb)return Yh;eb=1;function e(t){return t!==t}return Yh=e,Yh}var Xh,tb;function pB(){if(tb)return Xh;tb=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return Xh=e,Xh}var Zh,nb;function mB(){if(nb)return Zh;nb=1;var e=OP(),t=hB(),n=pB();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return Zh=r,Zh}var Qh,rb;function gB(){if(rb)return Qh;rb=1;var e=mB();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Qh=t,Qh}var Jh,ib;function yB(){if(ib)return Jh;ib=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return Jh=e,Jh}var ep,sb;function vB(){if(sb)return ep;sb=1;function e(){}return ep=e,ep}var tp,ob;function wB(){if(ob)return tp;ob=1;var e=cP(),t=vB(),n=Bv(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return tp=i,tp}var np,ab;function xB(){if(ab)return np;ab=1;var e=wP(),t=gB(),n=yB(),r=xP(),i=wB(),s=Bv(),o=200;function a(l,u,c){var d=-1,f=t,h=l.length,g=!0,p=[],v=p;if(c)g=!1,f=n;else if(h>=o){var m=u?null:i(l);if(m)return s(m);g=!1,f=r,v=new e}else v=u?[]:p;e:for(;++d<h;){var y=l[d],x=u?u(y):y;if(y=c||y!==0?y:0,g&&x===x){for(var w=v.length;w--;)if(v[w]===x)continue e;u&&v.push(x),p.push(y)}else f(v,x,c)||(v!==p&&v.push(x),p.push(y))}return p}return np=a,np}var rp,lb;function qP(){if(lb)return rp;lb=1;var e=Jn(),t=Tn();function n(r){return t(r)&&e(r)}return rp=n,rp}var ip,ub;function _B(){if(ub)return ip;ub=1;var e=Uv(),t=Ou(),n=xB(),r=qP(),i=t(function(s){return n(e(s,1,r,!0))});return ip=i,ip}var sp,cb;function SB(){if(cb)return sp;cb=1;var e=ju();function t(n,r){return e(r,function(i){return n[i]})}return sp=t,sp}var op,db;function FP(){if(db)return op;db=1;var e=SB(),t=Lr();function n(r){return r==null?[]:e(r,t(r))}return op=n,op}var ap,fb;function Qt(){if(fb)return ap;fb=1;var e;if(typeof Mv=="function")try{e={clone:MV(),constant:Fv(),each:vP(),filter:MP(),has:PP(),isArray:Ve(),isEmpty:JV(),isFunction:Xo(),isUndefined:AP(),keys:Lr(),map:IP(),reduce:jP(),size:aB(),transform:lB(),union:_B(),values:FP()}}catch{}return e||(e=window._),ap=e,ap}var lp,hb;function Hv(){if(hb)return lp;hb=1;var e=Qt();lp=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,h=this;return e.each(c,function(g){f.length>1?h.setNode(g,d):h.setNode(g)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){d.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(p,v){c(v)&&d.setNode(v,p)}),e.each(this._edgeObjs,function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,f.edge(p))});var h={};function g(p){var v=f.parent(p);return v===void 0||d.hasNode(v)?(h[p]=v,v):v in h?h[v]:g(v)}return this._isCompound&&e.each(d.nodes(),function(p){d.setParent(p,g(p))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,h=arguments;return e.reduce(c,function(g,p){return h.length>1?f.setEdge(g,p,d):f.setEdge(g,p),p}),this},i.prototype.setEdge=function(){var c,d,f,h,g=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(c=p.v,d=p.w,f=p.name,arguments.length===2&&(h=arguments[1],g=!0)):(c=p,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var v=a(this._isDirected,c,d,f);if(e.has(this._edgeLabels,v))return g&&(this._edgeLabels[v]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[v]=g?h:this._defaultEdgeLabelFn(c,d,f);var m=l(this._isDirected,c,d,f);return c=m.v,d=m.w,Object.freeze(m),this._edgeObjs[v]=m,s(this._preds[d],c),s(this._sucs[c],d),this._in[d][v]=m,this._out[c][v]=m,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f),g=this._edgeObjs[h];return g&&(c=g.v,d=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var h=e.values(f);return d?e.filter(h,function(g){return g.v===d}):h}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var h=e.values(f);return d?e.filter(h,function(g){return g.w===d}):h}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function s(c,d){c[d]?c[d]++:c[d]=1}function o(c,d){--c[d]||delete c[d]}function a(c,d,f,h){var g=""+d,p=""+f;if(!c&&g>p){var v=g;g=p,p=v}return g+r+p+r+(e.isUndefined(h)?t:h)}function l(c,d,f,h){var g=""+d,p=""+f;if(!c&&g>p){var v=g;g=p,p=v}var m={v:g,w:p};return h&&(m.name=h),m}function u(c,d){return a(c,d.v,d.w,d.name)}return lp}var up,pb;function bB(){return pb||(pb=1,up="2.1.8"),up}var cp,mb;function EB(){return mb||(mb=1,cp={Graph:Hv(),version:bB()}),cp}var dp,gb;function CB(){if(gb)return dp;gb=1;var e=Qt(),t=Hv();dp={write:n,read:s};function n(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:i(o)};return e.isUndefined(o.graph())||(a.value=e.clone(o.graph())),a}function r(o){return e.map(o.nodes(),function(a){var l=o.node(a),u=o.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(o){return e.map(o.edges(),function(a){var l=o.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function s(o){var a=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(o.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return dp}var fp,yb;function kB(){if(yb)return fp;yb=1;var e=Qt();fp=t;function t(n){var r={},i=[],s;function o(a){e.has(r,a)||(r[a]=!0,s.push(a),e.each(n.successors(a),o),e.each(n.predecessors(a),o))}return e.each(n.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return fp}var hp,vb;function $P(){if(vb)return hp;vb=1;var e=Qt();hp=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r},hp}var pp,wb;function VP(){if(wb)return pp;wb=1;var e=Qt(),t=$P();pp=r;var n=e.constant(1);function r(s,o,a,l){return i(s,String(o),a||n,l||function(u){return s.outEdges(u)})}function i(s,o,a,l){var u={},c=new t,d,f,h=function(g){var p=g.v!==d?g.v:g.w,v=u[p],m=a(g),y=f.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+m);y<v.distance&&(v.distance=y,v.predecessor=d,c.decrease(p,y))};for(s.nodes().forEach(function(g){var p=g===o?0:Number.POSITIVE_INFINITY;u[g]={distance:p},c.add(g,p)});c.size()>0&&(d=c.removeMin(),f=u[d],f.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(h);return u}return pp}var mp,xb;function TB(){if(xb)return mp;xb=1;var e=VP(),t=Qt();mp=n;function n(r,i,s){return t.transform(r.nodes(),function(o,a){o[a]=e(r,a,i,s)},{})}return mp}var gp,_b;function BP(){if(_b)return gp;_b=1;var e=Qt();gp=t;function t(n){var r=0,i=[],s={},o=[];function a(l){var u=s[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(f){e.has(s,f)?s[f].onStack&&(u.lowlink=Math.min(u.lowlink,s[f].index)):(a(f),u.lowlink=Math.min(u.lowlink,s[f].lowlink))}),u.lowlink===u.index){var c=[],d;do d=i.pop(),s[d].onStack=!1,c.push(d);while(l!==d);o.push(c)}}return n.nodes().forEach(function(l){e.has(s,l)||a(l)}),o}return gp}var yp,Sb;function NB(){if(Sb)return yp;Sb=1;var e=Qt(),t=BP();yp=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return yp}var vp,bb;function MB(){if(bb)return vp;bb=1;var e=Qt();vp=n;var t=e.constant(1);function n(i,s,o){return r(i,s||t,o||function(a){return i.outEdges(a)})}function r(i,s,o){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(c){var d=c.v===u?c.w:c.v,f=s(c);a[u][d]={distance:f,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(d){var f=a[d];l.forEach(function(h){var g=f[u],p=c[h],v=f[h],m=g.distance+p.distance;m<v.distance&&(v.distance=m,v.predecessor=p.predecessor)})})}),a}return vp}var wp,Eb;function zP(){if(Eb)return wp;Eb=1;var e=Qt();wp=t,t.CycleException=n;function t(r){var i={},s={},o=[];function a(l){if(e.has(s,l))throw new n;e.has(i,l)||(s[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete s[l],o.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,wp}var xp,Cb;function PB(){if(Cb)return xp;Cb=1;var e=zP();xp=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return xp}var _p,kb;function UP(){if(kb)return _p;kb=1;var e=Qt();_p=t;function t(r,i,s){e.isArray(i)||(i=[i]);var o=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,s==="post",l,o,a)}),a}function n(r,i,s,o,a,l){e.has(o,i)||(o[i]=!0,s||l.push(i),e.each(a(i),function(u){n(r,u,s,o,a,l)}),s&&l.push(i))}return _p}var Sp,Tb;function AB(){if(Tb)return Sp;Tb=1;var e=UP();Sp=t;function t(n,r){return e(n,r,"post")}return Sp}var bp,Nb;function RB(){if(Nb)return bp;Nb=1;var e=UP();bp=t;function t(n,r){return e(n,r,"pre")}return bp}var Ep,Mb;function IB(){if(Mb)return Ep;Mb=1;var e=Qt(),t=Hv(),n=$P();Ep=r;function r(i,s){var o=new t,a={},l=new n,u;function c(f){var h=f.v===u?f.w:f.v,g=l.priority(h);if(g!==void 0){var p=s(f);p<g&&(a[h]=u,l.decrease(h,p))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(f){l.add(f,Number.POSITIVE_INFINITY),o.setNode(f)}),l.decrease(i.nodes()[0],0);for(var d=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))o.setEdge(u,a[u]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(u).forEach(c)}return o}return Ep}var Cp,Pb;function jB(){return Pb||(Pb=1,Cp={components:kB(),dijkstra:VP(),dijkstraAll:TB(),findCycles:NB(),floydWarshall:MB(),isAcyclic:PB(),postorder:AB(),preorder:RB(),prim:IB(),tarjan:BP(),topsort:zP()}),Cp}var kp,Ab;function DB(){if(Ab)return kp;Ab=1;var e=EB();return kp={Graph:e.Graph,json:CB(),alg:jB(),version:e.version},kp}var $l;if(typeof Mv=="function")try{$l=DB()}catch{}$l||($l=window.graphlib);var pn=$l,Tp,Rb;function LB(){if(Rb)return Tp;Rb=1;var e=mP(),t=1,n=4;function r(i){return e(i,t|n)}return Tp=r,Tp}var Np,Ib;function qu(){if(Ib)return Np;Ib=1;var e=hs(),t=Jn(),n=Mu(),r=Zt();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?t(a)&&n(o,a.length):l=="string"&&o in a)?e(a[o],s):!1}return Np=i,Np}var Mp,jb;function OB(){if(jb)return Mp;jb=1;var e=Ou(),t=hs(),n=qu(),r=hi(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,l){a=Object(a);var u=-1,c=l.length,d=c>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(c=1);++u<c;)for(var f=l[u],h=r(f),g=-1,p=h.length;++g<p;){var v=h[g],m=a[v];(m===void 0||t(m,i[v])&&!s.call(a,v))&&(a[v]=f[v])}return a});return Mp=o,Mp}var Pp,Db;function qB(){if(Db)return Pp;Db=1;var e=er(),t=Jn(),n=Lr();function r(i){return function(s,o,a){var l=Object(s);if(!t(s)){var u=e(o,3);s=n(s),o=function(d){return u(l[d],d,l)}}var c=i(s,o,a);return c>-1?l[u?s[c]:c]:void 0}}return Pp=r,Pp}var Ap,Lb;function FB(){if(Lb)return Ap;Lb=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Ap=t,Ap}var Rp,Ob;function $B(){if(Ob)return Rp;Ob=1;var e=FB(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Rp=n,Rp}var Ip,qb;function VB(){if(qb)return Ip;qb=1;var e=$B(),t=Zt(),n=ys(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=s.test(u);return d||o.test(u)?a(u.slice(2),d?2:8):i.test(u)?r:+u}return Ip=l,Ip}var jp,Fb;function HP(){if(Fb)return jp;Fb=1;var e=VB(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return jp=r,jp}var Dp,$b;function BB(){if($b)return Dp;$b=1;var e=HP();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Dp=t,Dp}var Lp,Vb;function zB(){if(Vb)return Lp;Vb=1;var e=OP(),t=er(),n=BB(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(s,t(o,3),u)}return Lp=i,Lp}var Op,Bb;function UB(){if(Bb)return Op;Bb=1;var e=qB(),t=zB(),n=e(t);return Op=n,Op}var qp,zb;function GP(){if(zb)return qp;zb=1;var e=Uv();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return qp=t,qp}var Fp,Ub;function HB(){if(Ub)return Fp;Ub=1;var e=$v(),t=gP(),n=hi();function r(i,s){return i==null?i:e(i,t(s),n)}return Fp=r,Fp}var $p,Hb;function GB(){if(Hb)return $p;Hb=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return $p=e,$p}var Vp,Gb;function WB(){if(Gb)return Vp;Gb=1;var e=Tu(),t=Vv(),n=er();function r(i,s){var o={};return s=n(s,3),t(i,function(a,l,u){e(o,l,s(a,l,u))}),o}return Vp=r,Vp}var Bp,Wb;function Gv(){if(Wb)return Bp;Wb=1;var e=ys();function t(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return Bp=t,Bp}var zp,Kb;function KB(){if(Kb)return zp;Kb=1;function e(t,n){return t>n}return zp=e,zp}var Up,Yb;function YB(){if(Yb)return Up;Yb=1;var e=Gv(),t=KB(),n=pi();function r(i){return i&&i.length?e(i,n,t):void 0}return Up=r,Up}var Hp,Xb;function WP(){if(Xb)return Hp;Xb=1;var e=Tu(),t=hs();function n(r,i,s){(s!==void 0&&!t(r[i],s)||s===void 0&&!(i in r))&&e(r,i,s)}return Hp=n,Hp}var Gp,Zb;function XB(){if(Zb)return Gp;Zb=1;var e=di(),t=Ru(),n=Tn(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==l}return Gp=u,Gp}var Wp,Qb;function KP(){if(Qb)return Wp;Qb=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Wp=e,Wp}var Kp,Jb;function ZB(){if(Jb)return Kp;Jb=1;var e=Zo(),t=hi();function n(r){return e(r,t(r))}return Kp=n,Kp}var Yp,eE;function QB(){if(eE)return Yp;eE=1;var e=WP(),t=rP(),n=fP(),r=iP(),i=pP(),s=Qo(),o=Ve(),a=qP(),l=ms(),u=Xo(),c=Zt(),d=XB(),f=Jo(),h=KP(),g=ZB();function p(v,m,y,x,w,S,C){var k=h(v,y),T=h(m,y),M=C.get(T);if(M){e(v,y,M);return}var A=S?S(k,T,y+"",v,m,C):void 0,R=A===void 0;if(R){var B=o(T),V=!B&&l(T),E=!B&&!V&&f(T);A=T,B||V||E?o(k)?A=k:a(k)?A=r(k):V?(R=!1,A=t(T,!0)):E?(R=!1,A=n(T,!0)):A=[]:d(T)||s(T)?(A=k,s(k)?A=g(k):(!c(k)||u(k))&&(A=i(T))):R=!1}R&&(C.set(T,A),w(A,T,x,S,C),C.delete(T)),e(v,y,A)}return Yp=p,Yp}var Xp,tE;function JB(){if(tE)return Xp;tE=1;var e=ku(),t=WP(),n=$v(),r=QB(),i=Zt(),s=hi(),o=KP();function a(l,u,c,d,f){l!==u&&n(u,function(h,g){if(f||(f=new e),i(h))r(l,u,g,c,a,d,f);else{var p=d?d(o(l,g),h,g+"",l,u,f):void 0;p===void 0&&(p=h),t(l,g,p)}},s)}return Xp=a,Xp}var Zp,nE;function e4(){if(nE)return Zp;nE=1;var e=Ou(),t=qu();function n(r){return e(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var c=s[o];c&&r(i,c,o,l)}return i})}return Zp=n,Zp}var Qp,rE;function t4(){if(rE)return Qp;rE=1;var e=JB(),t=e4(),n=t(function(r,i,s){e(r,i,s)});return Qp=n,Qp}var Jp,iE;function YP(){if(iE)return Jp;iE=1;function e(t,n){return t<n}return Jp=e,Jp}var em,sE;function n4(){if(sE)return em;sE=1;var e=Gv(),t=YP(),n=pi();function r(i){return i&&i.length?e(i,n,t):void 0}return em=r,em}var tm,oE;function r4(){if(oE)return tm;oE=1;var e=Gv(),t=er(),n=YP();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return tm=r,tm}var nm,aE;function i4(){if(aE)return nm;aE=1;var e=hn(),t=function(){return e.Date.now()};return nm=t,nm}var rm,lE;function s4(){if(lE)return rm;lE=1;var e=Nu(),t=Du(),n=Mu(),r=Zt(),i=ea();function s(o,a,l,u){if(!r(o))return o;a=t(a,o);for(var c=-1,d=a.length,f=d-1,h=o;h!=null&&++c<d;){var g=i(a[c]),p=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return o;if(c!=f){var v=h[g];p=u?u(v,g,h):void 0,p===void 0&&(p=r(v)?v:n(a[c+1])?[]:{})}e(h,g,p),h=h[g]}return o}return rm=s,rm}var im,uE;function o4(){if(uE)return im;uE=1;var e=Lu(),t=s4(),n=Du();function r(i,s,o){for(var a=-1,l=s.length,u={};++a<l;){var c=s[a],d=e(i,c);o(d,c)&&t(u,n(c,i),d)}return u}return im=r,im}var sm,cE;function a4(){if(cE)return sm;cE=1;var e=o4(),t=TP();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return sm=n,sm}var om,dE;function l4(){if(dE)return om;dE=1;var e=GP(),t=DP(),n=LP();function r(i){return n(t(i,void 0,e),i+"")}return om=r,om}var am,fE;function u4(){if(fE)return am;fE=1;var e=a4(),t=l4(),n=t(function(r,i){return r==null?{}:e(r,i)});return am=n,am}var lm,hE;function c4(){if(hE)return lm;hE=1;var e=Math.ceil,t=Math.max;function n(r,i,s,o){for(var a=-1,l=t(e((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return lm=n,lm}var um,pE;function d4(){if(pE)return um;pE=1;var e=c4(),t=qu(),n=HP();function r(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),e(s,o,a,i)}}return um=r,um}var cm,mE;function f4(){if(mE)return cm;mE=1;var e=d4(),t=e();return cm=t,cm}var dm,gE;function h4(){if(gE)return dm;gE=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return dm=e,dm}var fm,yE;function p4(){if(yE)return fm;yE=1;var e=ys();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,d=e(r);if(!u&&!d&&!a&&n>r||a&&l&&c&&!u&&!d||s&&l&&c||!i&&c||!o)return 1;if(!s&&!a&&!d&&n<r||d&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!c)return-1}return 0}return fm=t,fm}var hm,vE;function m4(){if(vE)return hm;vE=1;var e=p4();function t(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var c=e(o[s],a[s]);if(c){if(s>=u)return c;var d=i[s];return c*(d=="desc"?-1:1)}}return n.index-r.index}return hm=t,hm}var pm,wE;function g4(){if(wE)return pm;wE=1;var e=ju(),t=Lu(),n=er(),r=RP(),i=h4(),s=Pu(),o=m4(),a=pi(),l=Ve();function u(c,d,f){d.length?d=e(d,function(p){return l(p)?function(v){return t(v,p.length===1?p[0]:p)}:p}):d=[a];var h=-1;d=e(d,s(n));var g=r(c,function(p,v,m){var y=e(d,function(x){return x(p)});return{criteria:y,index:++h,value:p}});return i(g,function(p,v){return o(p,v,f)})}return pm=u,pm}var mm,xE;function y4(){if(xE)return mm;xE=1;var e=Uv(),t=g4(),n=Ou(),r=qu(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return mm=i,mm}var gm,_E;function v4(){if(_E)return gm;_E=1;var e=CP(),t=0;function n(r){var i=++t;return e(r)+i}return gm=n,gm}var ym,SE;function w4(){if(SE)return ym;SE=1;function e(t,n,r){for(var i=-1,s=t.length,o=n.length,a={};++i<s;){var l=i<o?n[i]:void 0;r(a,t[i],l)}return a}return ym=e,ym}var vm,bE;function x4(){if(bE)return vm;bE=1;var e=Nu(),t=w4();function n(r,i){return t(r||[],i||[],e)}return vm=n,vm}var Vl;if(typeof Mv=="function")try{Vl={cloneDeep:LB(),constant:Fv(),defaults:OB(),each:vP(),filter:MP(),find:UB(),flatten:GP(),forEach:yP(),forIn:HB(),has:PP(),isUndefined:AP(),last:GB(),map:IP(),mapValues:WB(),max:YB(),merge:t4(),min:n4(),minBy:r4(),now:i4(),pick:u4(),range:f4(),reduce:jP(),sortBy:y4(),uniqueId:v4(),values:FP(),zipObject:x4()}}catch{}Vl||(Vl=window._);var Ee=Vl,_4=Fu;function Fu(){var e={};e._next=e._prev=e,this._sentinel=e}Fu.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return XP(t),t};Fu.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&XP(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Fu.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,S4)),n=n._prev;return"["+e.join(", ")+"]"};function XP(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function S4(e,t){if(e!=="_next"&&e!=="_prev")return t}var qn=Ee,b4=pn.Graph,E4=_4,C4=T4,k4=qn.constant(1);function T4(e,t){if(e.nodeCount()<=1)return[];var n=M4(e,t||k4),r=N4(n.graph,n.buckets,n.zeroIdx);return qn.flatten(qn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function N4(e,t,n){for(var r=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)wm(e,t,n,o);for(;o=i.dequeue();)wm(e,t,n,o);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(o=t[a].dequeue(),o){r=r.concat(wm(e,t,n,o,!0));break}}}return r}function wm(e,t,n,r,i){var s=i?[]:void 0;return qn.forEach(e.inEdges(r.v),function(o){var a=e.edge(o),l=e.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=a,Xg(t,n,l)}),qn.forEach(e.outEdges(r.v),function(o){var a=e.edge(o),l=o.w,u=e.node(l);u.in-=a,Xg(t,n,u)}),e.removeNode(r.v),s}function M4(e,t){var n=new b4,r=0,i=0;qn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),qn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var s=qn.range(i+r+3).map(function(){return new E4}),o=r+1;return qn.forEach(n.nodes(),function(a){Xg(s,o,n.node(a))}),{graph:n,buckets:s,zeroIdx:o}}function Xg(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Yr=Ee,P4=C4,A4={run:R4,undo:j4};function R4(e){var t=e.graph().acyclicer==="greedy"?P4(e,n(e)):I4(e);Yr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Yr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function I4(e){var t=[],n={},r={};function i(s){Yr.has(r,s)||(r[s]=!0,n[s]=!0,Yr.forEach(e.outEdges(s),function(o){Yr.has(n,o.w)?t.push(o):i(o.w)}),delete n[s])}return Yr.forEach(e.nodes(),i),t}function j4(e){Yr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var fe=Ee,ZP=pn.Graph,Tt={addDummyNode:QP,simplify:D4,asNonCompoundGraph:L4,successorWeights:O4,predecessorWeights:q4,intersectRect:F4,buildLayerMatrix:$4,normalizeRanks:V4,removeEmptyRanks:B4,addBorderNode:z4,maxRank:JP,partition:U4,time:H4,notime:G4};function QP(e,t,n,r){var i;do i=fe.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function D4(e){var t=new ZP().setGraph(e.graph());return fe.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),fe.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function L4(e){var t=new ZP({multigraph:e.isMultigraph()}).setGraph(e.graph());return fe.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),fe.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function O4(e){var t=fe.map(e.nodes(),function(n){var r={};return fe.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return fe.zipObject(e.nodes(),t)}function q4(e){var t=fe.map(e.nodes(),function(n){var r={};return fe.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return fe.zipObject(e.nodes(),t)}function F4(e,t){var n=e.x,r=e.y,i=t.x-n,s=t.y-r,o=e.width/2,a=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=a*i/s,u=a):(i<0&&(o=-o),l=o,u=o*s/i),{x:n+l,y:r+u}}function $4(e){var t=fe.map(fe.range(JP(e)+1),function(){return[]});return fe.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;fe.isUndefined(i)||(t[i][r.order]=n)}),t}function V4(e){var t=fe.min(fe.map(e.nodes(),function(n){return e.node(n).rank}));fe.forEach(e.nodes(),function(n){var r=e.node(n);fe.has(r,"rank")&&(r.rank-=t)})}function B4(e){var t=fe.min(fe.map(e.nodes(),function(s){return e.node(s).rank})),n=[];fe.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;n[o]||(n[o]=[]),n[o].push(s)});var r=0,i=e.graph().nodeRankFactor;fe.forEach(n,function(s,o){fe.isUndefined(s)&&o%i!==0?--r:r&&fe.forEach(s,function(a){e.node(a).rank+=r})})}function z4(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),QP(e,"border",i,t)}function JP(e){return fe.max(fe.map(e.nodes(),function(t){var n=e.node(t).rank;if(!fe.isUndefined(n))return n}))}function U4(e,t){var n={lhs:[],rhs:[]};return fe.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function H4(e,t){var n=fe.now();try{return t()}finally{console.log(e+" time: "+(fe.now()-n)+"ms")}}function G4(e,t){return t()}var eA=Ee,W4=Tt,K4={run:Y4,undo:Z4};function Y4(e){e.graph().dummyChains=[],eA.forEach(e.edges(),function(t){X4(e,t)})}function X4(e,t){var n=t.v,r=e.node(n).rank,i=t.w,s=e.node(i).rank,o=t.name,a=e.edge(t),l=a.labelRank;if(s!==r+1){e.removeEdge(t);var u,c,d;for(d=0,++r;r<s;++d,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=W4.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},o),d===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},o)}}function Z4(e){eA.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Da=Ee,$u={longestPath:Q4,slack:J4};function Q4(e){var t={};function n(r){var i=e.node(r);if(Da.has(t,r))return i.rank;t[r]=!0;var s=Da.min(Da.map(e.outEdges(r),function(o){return n(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}Da.forEach(e.sources(),n)}function J4(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Bl=Ee,ez=pn.Graph,zl=$u.slack,tA=tz;function tz(e){var t=new ez({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,s;nz(t,e)<r;)i=rz(t,e),s=t.hasNode(i.v)?zl(e,i):-zl(e,i),iz(t,e,s);return t}function nz(e,t){function n(r){Bl.forEach(t.nodeEdges(r),function(i){var s=i.v,o=r===s?i.w:s;!e.hasNode(o)&&!zl(t,i)&&(e.setNode(o,{}),e.setEdge(r,o,{}),n(o))})}return Bl.forEach(e.nodes(),n),e.nodeCount()}function rz(e,t){return Bl.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return zl(t,n)})}function iz(e,t,n){Bl.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Xn=Ee,sz=tA,oz=$u.slack,az=$u.longestPath,lz=pn.alg.preorder,uz=pn.alg.postorder,cz=Tt.simplify,dz=mi;mi.initLowLimValues=Kv;mi.initCutValues=Wv;mi.calcCutValue=nA;mi.leaveEdge=iA;mi.enterEdge=sA;mi.exchangeEdges=oA;function mi(e){e=cz(e),az(e);var t=sz(e);Kv(t),Wv(t,e);for(var n,r;n=iA(t);)r=sA(t,e,n),oA(t,e,n,r)}function Wv(e,t){var n=uz(e,e.nodes());n=n.slice(0,n.length-1),Xn.forEach(n,function(r){fz(e,t,r)})}function fz(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=nA(e,t,n)}function nA(e,t,n){var r=e.node(n),i=r.parent,s=!0,o=t.edge(n,i),a=0;return o||(s=!1,o=t.edge(i,n)),a=o.weight,Xn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var d=u===s,f=t.edge(l).weight;if(a+=d?f:-f,pz(e,n,c)){var h=e.edge(n,c).cutvalue;a+=d?-h:h}}}),a}function Kv(e,t){arguments.length<2&&(t=e.nodes()[0]),rA(e,{},1,t)}function rA(e,t,n,r,i){var s=n,o=e.node(r);return t[r]=!0,Xn.forEach(e.neighbors(r),function(a){Xn.has(t,a)||(n=rA(e,t,n,a,r))}),o.low=s,o.lim=n++,i?o.parent=i:delete o.parent,n}function iA(e){return Xn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function sA(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),o=e.node(i),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var u=Xn.filter(t.edges(),function(c){return l===EE(e,e.node(c.v),a)&&l!==EE(e,e.node(c.w),a)});return Xn.minBy(u,function(c){return oz(t,c)})}function oA(e,t,n,r){var i=n.v,s=n.w;e.removeEdge(i,s),e.setEdge(r.v,r.w,{}),Kv(e),Wv(e,t),hz(e,t)}function hz(e,t){var n=Xn.find(e.nodes(),function(i){return!t.node(i).parent}),r=lz(e,n);r=r.slice(1),Xn.forEach(r,function(i){var s=e.node(i).parent,o=t.edge(i,s),a=!1;o||(o=t.edge(s,i),a=!0),t.node(i).rank=t.node(s).rank+(a?o.minlen:-o.minlen)})}function pz(e,t,n){return e.hasEdge(t,n)}function EE(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var mz=$u,aA=mz.longestPath,gz=tA,yz=dz,vz=wz;function wz(e){switch(e.graph().ranker){case"network-simplex":CE(e);break;case"tight-tree":_z(e);break;case"longest-path":xz(e);break;default:CE(e)}}var xz=aA;function _z(e){aA(e),gz(e)}function CE(e){yz(e)}var Zg=Ee,Sz=bz;function bz(e){var t=Cz(e);Zg.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,s=Ez(e,t,i.v,i.w),o=s.path,a=s.lca,l=0,u=o[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=o[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<o.length-1&&e.node(u=o[l+1]).minRank<=r.rank;)l++;u=o[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function Ez(e,t,n,r){var i=[],s=[],o=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>o||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function Cz(e){var t={},n=0;function r(i){var s=n;Zg.forEach(e.children(i),r),t[i]={low:s,lim:n++}}return Zg.forEach(e.children(),r),t}var Fn=Ee,Qg=Tt,kz={run:Tz,cleanup:Pz};function Tz(e){var t=Qg.addDummyNode(e,"root",{},"_root"),n=Nz(e),r=Fn.max(Fn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Fn.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=Mz(e)+1;Fn.forEach(e.children(),function(o){lA(e,t,i,s,r,n,o)}),e.graph().nodeRankFactor=i}function lA(e,t,n,r,i,s,o){var a=e.children(o);if(!a.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=Qg.addBorderNode(e,"_bt"),u=Qg.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(l,o),c.borderTop=l,e.setParent(u,o),c.borderBottom=u,Fn.forEach(a,function(d){lA(e,t,n,r,i,s,d);var f=e.node(d),h=f.borderTop?f.borderTop:d,g=f.borderBottom?f.borderBottom:d,p=f.borderTop?r:2*r,v=h!==g?1:i-s[o]+1;e.setEdge(l,h,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(g,u,{weight:p,minlen:v,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:i+s[o]})}function Nz(e){var t={};function n(r,i){var s=e.children(r);s&&s.length&&Fn.forEach(s,function(o){n(o,i+1)}),t[r]=i}return Fn.forEach(e.children(),function(r){n(r,1)}),t}function Mz(e){return Fn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function Pz(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Fn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var xm=Ee,Az=Tt,Rz=Iz;function Iz(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&xm.forEach(r,t),xm.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)kE(e,"borderLeft","_bl",n,i,s),kE(e,"borderRight","_br",n,i,s)}}xm.forEach(e.children(),t)}function kE(e,t,n,r,i,s){var o={width:0,height:0,rank:s,borderType:t},a=i[t][s-1],l=Az.addDummyNode(e,"border",o,n);i[t][s]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var xn=Ee,jz={adjust:Dz,undo:Lz};function Dz(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&uA(e)}function Lz(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&Oz(e),(t==="lr"||t==="rl")&&(qz(e),uA(e))}function uA(e){xn.forEach(e.nodes(),function(t){TE(e.node(t))}),xn.forEach(e.edges(),function(t){TE(e.edge(t))})}function TE(e){var t=e.width;e.width=e.height,e.height=t}function Oz(e){xn.forEach(e.nodes(),function(t){_m(e.node(t))}),xn.forEach(e.edges(),function(t){var n=e.edge(t);xn.forEach(n.points,_m),xn.has(n,"y")&&_m(n)})}function _m(e){e.y=-e.y}function qz(e){xn.forEach(e.nodes(),function(t){Sm(e.node(t))}),xn.forEach(e.edges(),function(t){var n=e.edge(t);xn.forEach(n.points,Sm),xn.has(n,"x")&&Sm(n)})}function Sm(e){var t=e.x;e.x=e.y,e.y=t}var Pn=Ee,Fz=$z;function $z(e){var t={},n=Pn.filter(e.nodes(),function(a){return!e.children(a).length}),r=Pn.max(Pn.map(n,function(a){return e.node(a).rank})),i=Pn.map(Pn.range(r+1),function(){return[]});function s(a){if(!Pn.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),Pn.forEach(e.successors(a),s)}}var o=Pn.sortBy(n,function(a){return e.node(a).rank});return Pn.forEach(o,s),i}var or=Ee,Vz=Bz;function Bz(e,t){for(var n=0,r=1;r<t.length;++r)n+=zz(e,t[r-1],t[r]);return n}function zz(e,t,n){for(var r=or.zipObject(n,or.map(n,function(u,c){return c})),i=or.flatten(or.map(t,function(u){return or.sortBy(or.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var o=2*s-1;s-=1;var a=or.map(new Array(o),function(){return 0}),l=0;return or.forEach(i.forEach(function(u){var c=u.pos+s;a[c]+=u.weight;for(var d=0;c>0;)c%2&&(d+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*d})),l}var NE=Ee,Uz=Hz;function Hz(e,t){return NE.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=NE.reduce(r,function(s,o){var a=e.edge(o),l=e.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var At=Ee,Gz=Wz;function Wz(e,t){var n={};At.forEach(e,function(i,s){var o=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};At.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),At.forEach(t.edges(),function(i){var s=n[i.v],o=n[i.w];!At.isUndefined(s)&&!At.isUndefined(o)&&(o.indegree++,s.out.push(n[i.w]))});var r=At.filter(n,function(i){return!i.indegree});return Kz(r)}function Kz(e){var t=[];function n(s){return function(o){o.merged||(At.isUndefined(o.barycenter)||At.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&Yz(s,o)}}function r(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),At.forEach(i.in.reverse(),n(i)),At.forEach(i.out,r(i))}return At.map(At.filter(t,function(s){return!s.merged}),function(s){return At.pick(s,["vs","i","barycenter","weight"])})}function Yz(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Gs=Ee,Xz=Tt,Zz=Qz;function Qz(e,t){var n=Xz.partition(e,function(c){return Gs.has(c,"barycenter")}),r=n.lhs,i=Gs.sortBy(n.rhs,function(c){return-c.i}),s=[],o=0,a=0,l=0;r.sort(Jz(!!t)),l=ME(s,i,l),Gs.forEach(r,function(c){l+=c.vs.length,s.push(c.vs),o+=c.barycenter*c.weight,a+=c.weight,l=ME(s,i,l)});var u={vs:Gs.flatten(s,!0)};return a&&(u.barycenter=o/a,u.weight=a),u}function ME(e,t,n){for(var r;t.length&&(r=Gs.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function Jz(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var mr=Ee,e5=Uz,t5=Gz,n5=Zz,r5=cA;function cA(e,t,n,r){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(i=mr.filter(i,function(g){return g!==o&&g!==a}));var u=e5(e,i);mr.forEach(u,function(g){if(e.children(g.v).length){var p=cA(e,g.v,n,r);l[g.v]=p,mr.has(p,"barycenter")&&s5(g,p)}});var c=t5(u,n);i5(c,l);var d=n5(c,r);if(o&&(d.vs=mr.flatten([o,d.vs,a],!0),e.predecessors(o).length)){var f=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(a)[0]);mr.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function i5(e,t){mr.forEach(e,function(n){n.vs=mr.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function s5(e,t){mr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ws=Ee,o5=pn.Graph,a5=l5;function l5(e,t,n){var r=u5(e),i=new o5({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return e.node(s)});return Ws.forEach(e.nodes(),function(s){var o=e.node(s),a=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||r),Ws.forEach(e[n](s),function(l){var u=l.v===s?l.w:l.v,c=i.edge(u,s),d=Ws.isUndefined(c)?0:c.weight;i.setEdge(u,s,{weight:e.edge(l).weight+d})}),Ws.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function u5(e){for(var t;e.hasNode(t=Ws.uniqueId("_root")););return t}var c5=Ee,d5=f5;function f5(e,t,n){var r={},i;c5.forEach(n,function(s){for(var o=e.parent(s),a,l;o;){if(a=e.parent(o),a?(l=r[a],r[a]=o):(l=i,i=o),l&&l!==o){t.setEdge(l,o);return}o=a}})}var Tr=Ee,h5=Fz,p5=Vz,m5=r5,g5=a5,y5=d5,v5=pn.Graph,PE=Tt,w5=x5;function x5(e){var t=PE.maxRank(e),n=AE(e,Tr.range(1,t+1),"inEdges"),r=AE(e,Tr.range(t-1,-1,-1),"outEdges"),i=h5(e);RE(e,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){_5(a%2?n:r,a%4>=2),i=PE.buildLayerMatrix(e);var u=p5(e,i);u<s&&(l=0,o=Tr.cloneDeep(i),s=u)}RE(e,o)}function AE(e,t,n){return Tr.map(t,function(r){return g5(e,r,n)})}function _5(e,t){var n=new v5;Tr.forEach(e,function(r){var i=r.graph().root,s=m5(r,i,n,t);Tr.forEach(s.vs,function(o,a){r.node(o).order=a}),y5(r,n,s.vs)})}function RE(e,t){Tr.forEach(t,function(n){Tr.forEach(n,function(r,i){e.node(r).order=i})})}var ie=Ee,S5=pn.Graph,b5=Tt,E5={positionX:D5};function C5(e,t){var n={};function r(i,s){var o=0,a=0,l=i.length,u=ie.last(s);return ie.forEach(s,function(c,d){var f=T5(e,c),h=f?e.node(f).order:l;(f||c===u)&&(ie.forEach(s.slice(a,d+1),function(g){ie.forEach(e.predecessors(g),function(p){var v=e.node(p),m=v.order;(m<o||h<m)&&!(v.dummy&&e.node(g).dummy)&&dA(n,p,g)})}),a=d+1,o=h)}),s}return ie.reduce(t,r),n}function k5(e,t){var n={};function r(s,o,a,l,u){var c;ie.forEach(ie.range(o,a),function(d){c=s[d],e.node(c).dummy&&ie.forEach(e.predecessors(c),function(f){var h=e.node(f);h.dummy&&(h.order<l||h.order>u)&&dA(n,f,c)})})}function i(s,o){var a=-1,l,u=0;return ie.forEach(o,function(c,d){if(e.node(c).dummy==="border"){var f=e.predecessors(c);f.length&&(l=e.node(f[0]).order,r(o,u,d,a,l),u=d,a=l)}r(o,u,o.length,l,s.length)}),o}return ie.reduce(t,i),n}function T5(e,t){if(e.node(t).dummy)return ie.find(e.predecessors(t),function(n){return e.node(n).dummy})}function dA(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function N5(e,t,n){if(t>n){var r=t;t=n,n=r}return ie.has(e[t],n)}function M5(e,t,n,r){var i={},s={},o={};return ie.forEach(t,function(a){ie.forEach(a,function(l,u){i[l]=l,s[l]=l,o[l]=u})}),ie.forEach(t,function(a){var l=-1;ie.forEach(a,function(u){var c=r(u);if(c.length){c=ie.sortBy(c,function(p){return o[p]});for(var d=(c.length-1)/2,f=Math.floor(d),h=Math.ceil(d);f<=h;++f){var g=c[f];s[u]===u&&l<o[g]&&!N5(n,u,g)&&(s[g]=u,s[u]=i[u]=i[g],l=o[g])}}})}),{root:i,align:s}}function P5(e,t,n,r,i){var s={},o=A5(e,t,n,i),a=i?"borderLeft":"borderRight";function l(d,f){for(var h=o.nodes(),g=h.pop(),p={};g;)p[g]?d(g):(p[g]=!0,h.push(g),h=h.concat(f(g))),g=h.pop()}function u(d){s[d]=o.inEdges(d).reduce(function(f,h){return Math.max(f,s[h.v]+o.edge(h))},0)}function c(d){var f=o.outEdges(d).reduce(function(g,p){return Math.min(g,s[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=e.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(s[d]=Math.max(s[d],f))}return l(u,o.predecessors.bind(o)),l(c,o.successors.bind(o)),ie.forEach(r,function(d){s[d]=s[n[d]]}),s}function A5(e,t,n,r){var i=new S5,s=e.graph(),o=L5(s.nodesep,s.edgesep,r);return ie.forEach(t,function(a){var l;ie.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var d=n[l],f=i.edge(d,c);i.setEdge(d,c,Math.max(o(e,u,l),f||0))}l=u})}),i}function R5(e,t){return ie.minBy(ie.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ie.forIn(n,function(s,o){var a=O5(e,o)/2;r=Math.max(s+a,r),i=Math.min(s-a,i)}),r-i})}function I5(e,t){var n=ie.values(t),r=ie.min(n),i=ie.max(n);ie.forEach(["u","d"],function(s){ie.forEach(["l","r"],function(o){var a=s+o,l=e[a],u;if(l!==t){var c=ie.values(l);u=o==="l"?r-ie.min(c):i-ie.max(c),u&&(e[a]=ie.mapValues(l,function(d){return d+u}))}})})}function j5(e,t){return ie.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ie.sortBy(ie.map(e,r));return(i[1]+i[2])/2})}function D5(e){var t=b5.buildLayerMatrix(e),n=ie.merge(C5(e,t),k5(e,t)),r={},i;ie.forEach(["u","d"],function(o){i=o==="u"?t:ie.values(t).reverse(),ie.forEach(["l","r"],function(a){a==="r"&&(i=ie.map(i,function(d){return ie.values(d).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),u=M5(e,i,n,l),c=P5(e,i,u.root,u.align,a==="r");a==="r"&&(c=ie.mapValues(c,function(d){return-d})),r[o+a]=c})});var s=R5(e,r);return I5(r,s),j5(r,e.graph().align)}function L5(e,t,n){return function(r,i,s){var o=r.node(i),a=r.node(s),l=0,u;if(l+=o.width/2,ie.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(o.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,ie.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function O5(e,t){return e.node(t).width}var Ks=Ee,fA=Tt,q5=E5.positionX,F5=$5;function $5(e){e=fA.asNonCompoundGraph(e),V5(e),Ks.forEach(q5(e),function(t,n){e.node(n).x=t})}function V5(e){var t=fA.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Ks.forEach(t,function(i){var s=Ks.max(Ks.map(i,function(o){return e.node(o).height}));Ks.forEach(i,function(o){e.node(o).y=r+s/2}),r+=s+n})}var se=Ee,IE=A4,jE=K4,B5=vz,z5=Tt.normalizeRanks,U5=Sz,H5=Tt.removeEmptyRanks,DE=kz,G5=Rz,LE=jz,W5=w5,K5=F5,Pr=Tt,Y5=pn.Graph,X5=Z5;function Z5(e,t){var n=t&&t.debugTiming?Pr.time:Pr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return l6(e)});n("  runLayout",function(){Q5(r,n)}),n("  updateInputGraph",function(){J5(e,r)})})}function Q5(e,t){t("    makeSpaceForEdgeLabels",function(){u6(e)}),t("    removeSelfEdges",function(){v6(e)}),t("    acyclic",function(){IE.run(e)}),t("    nestingGraph.run",function(){DE.run(e)}),t("    rank",function(){B5(Pr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){c6(e)}),t("    removeEmptyRanks",function(){H5(e)}),t("    nestingGraph.cleanup",function(){DE.cleanup(e)}),t("    normalizeRanks",function(){z5(e)}),t("    assignRankMinMax",function(){d6(e)}),t("    removeEdgeLabelProxies",function(){f6(e)}),t("    normalize.run",function(){jE.run(e)}),t("    parentDummyChains",function(){U5(e)}),t("    addBorderSegments",function(){G5(e)}),t("    order",function(){W5(e)}),t("    insertSelfEdges",function(){w6(e)}),t("    adjustCoordinateSystem",function(){LE.adjust(e)}),t("    position",function(){K5(e)}),t("    positionSelfEdges",function(){x6(e)}),t("    removeBorderNodes",function(){y6(e)}),t("    normalize.undo",function(){jE.undo(e)}),t("    fixupEdgeLabelCoords",function(){m6(e)}),t("    undoCoordinateSystem",function(){LE.undo(e)}),t("    translateGraph",function(){h6(e)}),t("    assignNodeIntersects",function(){p6(e)}),t("    reversePoints",function(){g6(e)}),t("    acyclic.undo",function(){IE.undo(e)})}function J5(e,t){se.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),se.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,se.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var e6=["nodesep","edgesep","ranksep","marginx","marginy"],t6={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},n6=["acyclicer","ranker","rankdir","align"],r6=["width","height"],i6={width:0,height:0},s6=["minlen","weight","width","height","labeloffset"],o6={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},a6=["labelpos"];function l6(e){var t=new Y5({multigraph:!0,compound:!0}),n=Em(e.graph());return t.setGraph(se.merge({},t6,bm(n,e6),se.pick(n,n6))),se.forEach(e.nodes(),function(r){var i=Em(e.node(r));t.setNode(r,se.defaults(bm(i,r6),i6)),t.setParent(r,e.parent(r))}),se.forEach(e.edges(),function(r){var i=Em(e.edge(r));t.setEdge(r,se.merge({},o6,bm(i,s6),se.pick(i,a6)))}),t}function u6(e){var t=e.graph();t.ranksep/=2,se.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function c6(e){se.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-r.rank)/2+r.rank,e:t};Pr.addDummyNode(e,"edge-proxy",s,"_ep")}})}function d6(e){var t=0;se.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=se.max(t,r.maxRank))}),e.graph().maxRank=t}function f6(e){se.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function h6(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,a=s.marginy||0;function l(u){var c=u.x,d=u.y,f=u.width,h=u.height;t=Math.min(t,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,d-h/2),i=Math.max(i,d+h/2)}se.forEach(e.nodes(),function(u){l(e.node(u))}),se.forEach(e.edges(),function(u){var c=e.edge(u);se.has(c,"x")&&l(c)}),t-=o,r-=a,se.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),se.forEach(e.edges(),function(u){var c=e.edge(u);se.forEach(c.points,function(d){d.x-=t,d.y-=r}),se.has(c,"x")&&(c.x-=t),se.has(c,"y")&&(c.y-=r)}),s.width=n-t+o,s.height=i-r+a}function p6(e){se.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),s,o;n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=i,o=r),n.points.unshift(Pr.intersectRect(r,s)),n.points.push(Pr.intersectRect(i,o))})}function m6(e){se.forEach(e.edges(),function(t){var n=e.edge(t);if(se.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function g6(e){se.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function y6(e){se.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),s=e.node(se.last(n.borderLeft)),o=e.node(se.last(n.borderRight));n.width=Math.abs(o.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),se.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function v6(e){se.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function w6(e){var t=Pr.buildLayerMatrix(e);se.forEach(t,function(n){var r=0;se.forEach(n,function(i,s){var o=e.node(i);o.order=s+r,se.forEach(o.selfEdges,function(a){Pr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++r,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function x6(e){se.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,s=r.y,o=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}function bm(e,t){return se.mapValues(se.pick(e,t),Number)}function Em(e){var t={};return se.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var La=Ee,_6=Tt,S6=pn.Graph,b6={debugOrdering:E6};function E6(e){var t=_6.buildLayerMatrix(e),n=new S6({compound:!0,multigraph:!0}).setGraph({});return La.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),La.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),La.forEach(t,function(r,i){var s="layer"+i;n.setNode(s,{rank:"same"}),La.reduce(r,function(o,a){return n.setEdge(o,a,{style:"invis"}),a})}),n}var C6="0.8.5",k6={graphlib:pn,layout:X5,debug:b6,util:{time:Tt.time,notime:Tt.notime},version:C6};const OE=gy(k6),qE=new Map;function T6(e,t){const n=e.map(i=>i.id).join("|"),r=t.map(i=>`${i.source}->${i.target}`).join("|");return`${e.length}:${t.length}:${n}:${r}`}function Jg(e,t,n){if(n){const r=T6(e,t),i=qE.get(n);if(i&&i.signature===r)return i.layout;const s=FE(e,t);return qE.set(n,{signature:r,layout:s}),s}return FE(e,t)}function FE(e,t){if(e.length>2500){const r=Math.ceil(Math.sqrt(e.length));return e.map((i,s)=>{const o=Math.floor(s/r),a=s%r;return{id:i.id,position:{x:a*260,y:o*160}}})}const n=new OE.graphlib.Graph;return n.setGraph({rankdir:"LR",nodesep:48,ranksep:80}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:220,height:120})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),OE.layout(n),e.map(r=>{const i=n.node(r.id);return{id:r.id,position:{x:i.x-i.width/2,y:i.y-i.height/2}}})}function N6(e,t,n=200){const r=e.zoom||1,i=(0-e.x)/r-n,s=(0-e.y)/r-n,o=(t.width-e.x)/r+n,a=(t.height-e.y)/r+n;return{minX:i,minY:s,maxX:o,maxY:a}}function M6(e,t,n,r=200){if(n.width<=0||n.height<=0)return e;const i=N6(t,n,r);return e.filter(s=>{const o=s.x,a=s.y,l=s.x+s.width,u=s.y+s.height;return!(l<i.minX||o>i.maxX||u<i.minY||a>i.maxY)})}function Yv(e,t){const n=P6(e,t),r=new Set(n.map(d=>d.leftId)),i=new Set(n.map(d=>d.rightId)),s=t.steps.filter(d=>!i.has(d.id)).map(d=>d.id),o=e.steps.filter(d=>!r.has(d.id)).map(d=>d.id),a=n.filter(d=>{const f=e.steps.find(g=>g.id===d.leftId),h=t.steps.find(g=>g.id===d.rightId);return!f||!h?!1:$E(f)!==$E(h)}),l=a.map(d=>d.leftId),u=(t.metadata.totalCostUsd??0)-(e.metadata.totalCostUsd??0),c=t.metadata.wallTimeMs-e.metadata.wallTimeMs;return{addedSteps:s,removedSteps:o,changedSteps:l,changedPairs:a,alignedSteps:n,costDeltaUsd:u,wallTimeDeltaMs:c}}function P6(e,t){const n=[],r=new Set(e.steps.map(c=>c.id)),i=new Set(t.steps.map(c=>c.id));Array.from(r).forEach(c=>{i.has(c)&&(n.push({leftId:c,rightId:c}),r.delete(c),i.delete(c))});const s=new Map;t.steps.forEach(c=>{c.toolCallId&&s.set(c.toolCallId,c.id)}),e.steps.forEach(c=>{if(!c.toolCallId)return;const d=s.get(c.toolCallId);d&&i.has(d)&&(n.push({leftId:c.id,rightId:d}),r.delete(c.id),i.delete(d))});const o=zE(e),a=zE(t),l=A6(e,t),u={};return i.forEach(c=>{const d=a.get(c);if(!d)return;const f=VE(d.step);f&&(u[f]||(u[f]=[]),u[f].push(c))}),Object.values(u).forEach(c=>{c.sort((d,f)=>{var h,g;return(((h=a.get(d))==null?void 0:h.startMs)??0)-(((g=a.get(f))==null?void 0:g.startMs)??0)})}),Array.from(r).forEach(c=>{var g;const d=o.get(c);if(!d)return;const f=VE(d.step);if(!f||!((g=u[f])!=null&&g.length))return;const h=R6(d,u[f],a,l);h&&(n.push({leftId:c,rightId:h}),r.delete(c),i.delete(h),u[f]=u[f].filter(p=>p!==h))}),n}function $E(e){var r,i;const t=((r=e.preview)==null?void 0:r.outputPreview)??null,n=((i=e.metrics)==null?void 0:i.costUsd)??null;return`${e.status}|${t??""}|${n??""}`}function VE(e){return e.type?`${e.type}:${e.name??""}`:null}function BE(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function zE(e){const t=BE(e.startedAt),n=new Map;return e.steps.forEach(r=>{const i=BE(r.startedAt),s=t!=null&&i!=null?i-t:null;n.set(r.id,{step:r,startMs:s})}),n}function A6(e,t){const n=Math.max(e.metadata.wallTimeMs,t.metadata.wallTimeMs,1);return Math.max(1e3,Math.min(5e3,Math.round(n*.1)))}function R6(e,t,n,r){const i=e.startMs;if(i==null)return null;let s=null,o=r+1;return t.forEach(a=>{const l=n.get(a);if(!l||l.startMs==null)return;const u=Math.abs(l.startMs-i);u<o&&(o=u,s=a)}),o<=r?s:null}function I6({layers:e,onChange:t}){return _.jsxs("div",{className:"edge-toggles",children:[_.jsxs("label",{title:"Parent/child span edges","data-help":!0,"data-help-title":"Structure edges","data-help-body":"Shows parent-child spans to reveal hierarchy.","data-help-placement":"top",children:[_.jsx("input",{type:"checkbox",checked:e.structure,onChange:n=>t({...e,structure:n.target.checked})}),"Structure"]}),_.jsxs("label",{title:"Chronological sequence edges","data-help":!0,"data-help-title":"Sequence edges","data-help-body":"Shows chronological ordering of steps.","data-help-placement":"top",children:[_.jsx("input",{type:"checkbox",checked:e.sequence,onChange:n=>t({...e,sequence:n.target.checked})}),"Sequence"]}),_.jsxs("label",{title:"Tool call I/O binding edges","data-help":!0,"data-help-title":"I/O edges","data-help-body":"Connects tool calls to their inputs and outputs.","data-help-placement":"top",children:[_.jsx("input",{type:"checkbox",checked:e.io,onChange:n=>t({...e,io:n.target.checked})}),"I/O Binding"]})]})}function j6({data:e}){var c,d,f,h;const t=e.step,n=xN(t),r=e.diffStatus?`diff-${e.diffStatus}`:"",i=e.ghost?"ghost-node":"",s=t.type.replace("_"," ").toUpperCase(),o=((c=t.metrics)==null?void 0:c.tokensTotal)!=null?`${t.metrics.tokensTotal} tokens`:null,a=t.durationMs!=null?`${t.durationMs}ms`:null,l=[o,a,n].filter(Boolean).join("  "),u=`Click to inspect or replay this step.${l?` ${l}.`:""}`;return _.jsxs("div",{className:`flow-node step-${t.type} ${r} ${i}`,"data-help":!0,"data-help-title":`${t.name}  ${s}`,"data-help-body":u,"data-help-placement":"right",children:[_.jsxs("div",{className:"flow-node-header",children:[_.jsxs("div",{className:"flow-node-title",children:[_.jsx(dv,{type:t.type}),_.jsx("span",{children:t.name})]}),_.jsx("span",{className:`status-pill status-${t.status}`,children:t.status})]}),_.jsx("div",{className:"flow-node-preview",children:((d=t.preview)==null?void 0:d.outputPreview)??((f=t.preview)==null?void 0:f.inputPreview)}),_.jsxs("div",{className:"flow-node-metrics",children:[((h=t.metrics)==null?void 0:h.tokensTotal)!=null?_.jsxs("span",{children:[t.metrics.tokensTotal," tok"]}):null,t.durationMs!=null?_.jsxs("span",{children:[t.durationMs,"ms"]}):null,n?_.jsx("span",{children:n}):null]})]})}const D6={stepNode:j6},L6={structure:!0,sequence:!1,io:!0};function Cm(e){return e.filter(t=>t.parentStepId).map(t=>({id:`structure_${t.parentStepId}_${t.id}`,source:t.parentStepId,target:t.id,kind:"structure"}))}function km(e){const t=[...e].sort((r,i)=>r.index-i.index),n=[];for(let r=1;r<t.length;r+=1)n.push({id:`sequence_${t[r-1].id}_${t[r].id}`,source:t[r-1].id,target:t[r].id,kind:"sequence"});return n}function O6({steps:e,onSelectStep:t,selectedStepId:n,baseTrace:r,compareTrace:i,compareSteps:s=[],overlayEnabled:o,onToggleOverlay:a}){var F,$;const[l,u]=b.useState(L6),[c,d]=b.useState(e.length>500),[f,h]=b.useState({x:0,y:0,zoom:1}),g=b.useRef(null),p=b.useRef(f),v=b.useRef(null);b.useEffect(()=>{e.length<=500&&d(!1)},[e.length]),b.useEffect(()=>()=>{v.current&&cancelAnimationFrame(v.current)},[]);const m=b.useMemo(()=>{const O=Cm(e),z=km(e),G=nl(e),Z=[];return l.structure&&Z.push(...O),l.sequence&&Z.push(...z),l.io&&Z.push(...G),Z},[e,l]),y=b.useMemo(()=>{const O=Cm(e),z=km(e),G=nl(e);return[...O,...z,...G]},[e]),x=b.useMemo(()=>Jg(e,y.map(O=>({source:O.source,target:O.target})),r.id),[e,y,r.id]),w=b.useMemo(()=>i?Yv(r,i):null,[r,i]),S=b.useMemo(()=>new Set((w==null?void 0:w.addedSteps)??[]),[w]),C=b.useMemo(()=>new Set((w==null?void 0:w.changedSteps)??[]),[w]),k=b.useMemo(()=>new Set((w==null?void 0:w.removedSteps)??[]),[w]),T=new Map(x.map(O=>[O.id,O.position])),M=e.map(O=>({id:O.id,type:"stepNode",position:T.get(O.id)??{x:0,y:0},data:{step:O,diffStatus:C.has(O.id)?"changed":k.has(O.id)?"removed":null,ghost:!1}})),A=M.map(O=>({id:O.id,x:O.position.x,y:O.position.y,width:220,height:120})),R={width:((F=g.current)==null?void 0:F.clientWidth)??0,height:(($=g.current)==null?void 0:$.clientHeight)??0},B=new Map(M.map(O=>[O.id,O]));let V=c?M6(A,f,R,300).map(O=>B.get(O.id)):[...M];const E=new Set(V.filter(Boolean).map(O=>O.id));if(n&&!E.has(n)){const O=B.get(n);O&&(E.add(O.id),V=[...V,O])}const D=m.filter(O=>E.has(O.source)&&E.has(O.target)).map(O=>({id:O.id,source:O.source,target:O.target,type:"smoothstep",animated:O.kind==="io",style:O.kind==="io"?{stroke:"var(--accent-io)",strokeWidth:2}:O.kind==="sequence"?{stroke:"var(--accent-sequence)",strokeDasharray:"6 6"}:{stroke:"var(--accent-structure)"}})),I=V.filter(Boolean).map(O=>({...O})),L=b.useMemo(()=>{if(!i)return[];const O=Cm(i.steps),z=km(i.steps),G=nl(i.steps);return[...O,...z,...G]},[i]),P=b.useMemo(()=>i?Jg(i.steps,L.map(O=>({source:O.source,target:O.target})),i.id):[],[i,L]),N=b.useMemo(()=>new Map(P.map(O=>[O.id,O.position])),[P]),j=b.useMemo(()=>!i||!o?[]:s.filter(O=>S.has(O.id)).map(O=>({id:`ghost-${O.id}`,type:"stepNode",position:N.get(O.id)??{x:0,y:0},data:{step:O,diffStatus:"added",ghost:!0}})),[i,s,N,S,o]);return _.jsxs("div",{className:"flow-mode",children:[_.jsxs("div",{className:"flow-controls","data-help":!0,"data-help-title":"Flow controls","data-help-body":"Toggle edge layers and windowing for high-density graphs.","data-help-placement":"bottom",children:[_.jsx(I6,{layers:l,onChange:u}),e.length>500?_.jsxs("label",{className:"toggle",title:"Window nodes based on viewport for large graphs","data-help":!0,"data-help-title":"Windowed flow","data-help-body":"Limits the graph to the visible region for performance.","data-help-placement":"bottom",children:[_.jsx("input",{type:"checkbox",checked:c,onChange:()=>d(O=>!O)}),"Windowed"]}):null,i?_.jsxs("button",{className:"ghost-button",type:"button",onClick:a,title:"Show or hide ghost overlay from replay","data-help":!0,"data-help-title":"Overlay diff","data-help-body":"Layer the replay on top to see what changed.","data-help-placement":"bottom",children:[o?"Hide overlay":"Show overlay"," (",(w==null?void 0:w.addedSteps.length)??0,"/",(w==null?void 0:w.removedSteps.length)??0,"/",(w==null?void 0:w.changedSteps.length)??0,")"]}):null]}),_.jsx("div",{className:"flow-canvas",ref:g,"data-help":!0,"data-help-indicator":!0,"data-help-title":"Flow canvas","data-help-body":"A spatial map of step dependencies. Click nodes to inspect.","data-help-placement":"top",children:_.jsxs(WM,{nodes:o?[...I,...j]:I,edges:D,nodeTypes:D6,onNodeClick:(O,z)=>{const G=z.id.startsWith("ghost-")?z.id.replace("ghost-",""):z.id;t(G)},onMove:(O,z)=>{p.current=z,!v.current&&(v.current=requestAnimationFrame(()=>{h(p.current),v.current=null}))},fitView:!0,children:[_.jsx(y$,{nodeColor:O=>{switch(O.data.step.type){case"llm_call":return"var(--accent-llm)";case"tool_call":return"var(--accent-tool)";case"decision":return"var(--accent-decision)";case"handoff":return"var(--accent-handoff)";case"guardrail":return"var(--accent-guardrail)";default:return"var(--accent-structure)"}},maskColor:"rgba(15, 17, 21, 0.6)"}),_.jsx(P$,{gap:20}),_.jsx(E$,{position:"bottom-right"})]})})]})}function q6({steps:e,onSelectStep:t,selectedStepId:n,baseTrace:r,compareTrace:i,compareSteps:s,overlayEnabled:o,onToggleOverlay:a}){return _.jsx("section",{className:"flow-mode-wrapper","aria-label":"Flow mode",children:_.jsx(O6,{steps:e,selectedStepId:n,onSelectStep:t,baseTrace:r,compareTrace:i,compareSteps:s,overlayEnabled:o,onToggleOverlay:a})})}function F6(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(r)}function UE(e,t,n){return Math.min(n,Math.max(t,e))}function $6({baseTrace:e,compareTrace:t,playheadMs:n,onExit:r,safeExport:i}){const s=Yv(e,t),o=e.metadata.wallTimeMs||1,a=t.metadata.wallTimeMs||1,l=UE(n/o*100,0,100),u=UE(n/a*100,0,100),c={generatedAt:new Date().toISOString(),base:{id:e.id,name:e.name,parentTraceId:e.parentTraceId,startedAt:e.startedAt,endedAt:e.endedAt},compare:{id:t.id,name:t.name,parentTraceId:t.parentTraceId,branchPointStepId:t.branchPointStepId,replay:t.replay,startedAt:t.startedAt,endedAt:t.endedAt},deltas:{added:s.addedSteps.length,removed:s.removedSteps.length,changed:s.changedSteps.length,costDeltaUsd:s.costDeltaUsd,wallTimeDeltaMs:s.wallTimeDeltaMs},alignment:s.alignedSteps,changedPairs:s.changedPairs,safeExport:!!i};return _.jsxs("section",{className:"compare-view","data-help":!0,"data-tour":"compare-view","data-help-title":"Compare runs","data-help-body":"Side-by-side playback showing deltas in steps, cost, and wall time after a replay.","data-help-placement":"top",children:[_.jsxs("div",{className:"compare-header",children:[_.jsxs("div",{children:[_.jsx("div",{className:"compare-title",children:"Compare Runs"}),_.jsxs("div",{className:"compare-subtitle",children:["+",s.addedSteps.length," steps, ",s.costDeltaUsd.toFixed(3)," USD, ",s.wallTimeDeltaMs,"ms"]})]}),_.jsxs("div",{className:"compare-actions",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>F6(`agent-director-diff-${e.id}-${t.id}.json`,c),title:"Export diff summary","data-help":!0,"data-help-title":"Export diff","data-help-body":"Download a JSON summary you can share or archive.","data-help-placement":"bottom",children:"Export diff"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:r,"data-help":!0,"data-help-title":"Exit compare","data-help-body":"Return to the primary run timeline.","data-help-placement":"bottom",children:"Exit compare"})]})]}),_.jsxs("div",{className:"compare-grid",children:[_.jsxs("div",{className:"compare-pane","data-help":!0,"data-help-title":"Base run","data-help-body":"Original timeline for baseline comparison.","data-help-placement":"top",children:[_.jsx("div",{className:"compare-pane-title",children:"Base run"}),_.jsx(Ig,{trace:e,steps:e.steps,selectedStepId:null,onSelectStep:()=>{},playheadPct:l,playheadMs:n,windowRange:null})]}),_.jsxs("div",{className:"compare-pane","data-help":!0,"data-help-title":"Replay run","data-help-body":"Replay timeline to validate improvements.","data-help-placement":"top",children:[_.jsx("div",{className:"compare-pane-title",children:"Replay run"}),_.jsx(Ig,{trace:t,steps:t.steps,selectedStepId:null,onSelectStep:()=>{},playheadPct:u,playheadMs:n,windowRange:null})]})]})]})}const V6="demo-trace-overlap-001",B6="Overlap + ToolCallId Demo",z6="2026-01-27T10:00:00.000Z",U6="2026-01-27T10:00:05.000Z",H6="completed",G6={source:"openai_agents",agentName:"DemoAgent",modelId:"gpt-4o-2024-11-20",wallTimeMs:5e3,workTimeMs:7200,totalTokens:1400,totalCostUsd:.018},W6=[{id:"s1",index:0,type:"llm_call",name:"plan",startedAt:"2026-01-27T10:00:00.000Z",endedAt:"2026-01-27T10:00:01.000Z",durationMs:1e3,childStepIds:[],metrics:{tokensTotal:300,costUsd:.004},preview:{title:"LLM: plan",subtitle:"gpt-4o",outputPreview:"I'll fetch two sources..."},status:"completed"},{id:"s2",index:1,type:"llm_call",name:"call_tools",startedAt:"2026-01-27T10:00:01.000Z",endedAt:"2026-01-27T10:00:01.200Z",durationMs:200,childStepIds:[],metrics:{tokensTotal:120,costUsd:.002},preview:{title:"LLM: call tools",outputPreview:"Calling web_search + database_query"},io:{emittedToolCallIds:["tc-001","tc-002"]},status:"completed"},{id:"s3",index:2,type:"tool_call",name:"web_search",toolCallId:"tc-001",startedAt:"2026-01-27T10:00:01.200Z",endedAt:"2026-01-27T10:00:03.200Z",durationMs:2e3,childStepIds:[],metrics:{costUsd:0},preview:{title:"Tool: web_search",inputPreview:'{"q":"EU AI Act"}',outputPreview:"[3 results...]"},status:"completed"},{id:"s4",index:3,type:"tool_call",name:"database_query",toolCallId:"tc-002",startedAt:"2026-01-27T10:00:01.500Z",endedAt:"2026-01-27T10:00:02.700Z",durationMs:1200,childStepIds:[],preview:{title:"Tool: database_query",inputPreview:'{"sql":"SELECT..."}',outputPreview:'{"rows":42}'},status:"completed"},{id:"s5",index:4,type:"llm_call",name:"analyze",startedAt:"2026-01-27T10:00:03.200Z",endedAt:"2026-01-27T10:00:04.600Z",durationMs:1400,childStepIds:[],metrics:{tokensTotal:700,costUsd:.012},preview:{title:"LLM: analyze",outputPreview:"Synthesis based on tool outputs..."},io:{consumedToolCallIds:["tc-001","tc-002"]},status:"completed"}],hA={id:V6,name:B6,startedAt:z6,endedAt:U6,status:H6,metadata:G6,steps:W6},K6=new Map,Y6=new Map;async function X6(){return[hA]}async function Z6(e){return{trace:hA}}async function pA(e,t,n,r=[],i=!1){return null}async function Q6(e,t,n){await pA(e,t,"redacted",[],n)}function J6(){K6.clear(),Y6.clear()}async function e8(e,t,n,r,i){return i?t8(i,t,n,r):null}function t8(e,t,n,r){var g;const i=JSON.parse(JSON.stringify(e)),s=6e4,o=Date.parse("2024-01-01T00:00:00.000Z"),a=Date.parse(e.endedAt??e.startedAt??""),u=(Number.isNaN(a)?o:a)+s,c=new Date(u);i.id=`${e.id}-replay-${u}`,i.parentTraceId=e.id,i.branchPointStepId=t,i.replay={strategy:n,modifiedStepId:t,modifications:r,createdAt:c.toISOString()};const d=p=>{if(!p)return p;const v=Date.parse(p);return Number.isNaN(v)?p:new Date(v+s).toISOString()};i.startedAt=d(i.startedAt)??i.startedAt,i.endedAt=d(i.endedAt);const f=new Set,h=((g=i.steps.find(p=>p.id===t))==null?void 0:g.index)??-1;return i.steps.forEach(p=>{p.index>h&&f.add(p.id)}),i.steps=i.steps.map(p=>{var m;const v={...p};if(v.startedAt=d(p.startedAt)??p.startedAt,v.endedAt=d(p.endedAt),p.id===t){const y=((m=p.preview)==null?void 0:m.outputPreview)??"";v.preview={...p.preview,outputPreview:`${y} (modified)`.trim()}}return f.has(p.id)&&(v.status="pending",v.endedAt=null,v.durationMs=void 0,v.metrics=void 0,v.preview={...p.preview,outputPreview:"[invalidated for replay]"}),v}),i}function n8(e){return JSON.stringify(e,null,2)}function r8({traceId:e,step:t,safeExport:n,onClose:r,onReplay:i}){var g,p;const[s,o]=b.useState(null),[a,l]=b.useState("redacted"),[u,c]=b.useState([]);if(b.useEffect(()=>{c([]),l("redacted")},[t==null?void 0:t.id,n]),b.useEffect(()=>{if(!t)return;let v=!0;return(async()=>{const y=n?"redacted":a,x=await pA(e,t.id,y,y==="redacted"?u:[],n);v&&o(x)})(),()=>{v=!1}},[e,t,a,n,u]),!t)return null;const d=s==null?void 0:s.redaction,f=(d==null?void 0:d.fieldsRedacted)??[],h=(d==null?void 0:d.revealedFields)??[];return _.jsxs("aside",{className:"inspector","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Deep dive into a single step: payloads, redaction, metrics, and replay.","data-help-placement":"left",children:[_.jsxs("div",{className:"inspector-header",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"inspector-title",children:[_.jsx(dv,{type:t.type,size:"md",showLabel:!0}),_.jsx("span",{children:t.name}),_.jsx("span",{className:`status-pill status-${t.status}`,children:t.status})]}),_.jsx("div",{className:"inspector-subtitle",children:t.type})]}),_.jsx("button",{className:"ghost-button",type:"button",onClick:r,"aria-label":"Close inspector",children:"Close"})]}),_.jsxs("div",{className:"inspector-section",children:[_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Status"}),_.jsx("span",{children:t.status})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Duration"}),_.jsxs("span",{children:[t.durationMs??0,"ms"]})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Tokens"}),_.jsx("span",{children:((g=t.metrics)==null?void 0:g.tokensTotal)??"-"})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Cost"}),_.jsx("span",{children:((p=t.metrics)==null?void 0:p.costUsd)!=null?`$${t.metrics.costUsd.toFixed(3)}`:"-"})]})]}),_.jsxs("div",{className:"inspector-section",children:[_.jsx("div",{className:"inspector-section-title",children:"Payload"}),_.jsxs("div",{className:"inspector-controls",children:[_.jsxs("label",{title:n?"Safe export enabled: raw view disabled.":"Toggle raw payload view.","data-help":!0,"data-help-title":"Raw payload","data-help-body":"Switch between redacted and raw payloads when Safe export is off.","data-help-placement":"top",children:[_.jsx("input",{type:"checkbox",checked:a==="raw",disabled:n,onChange:v=>l(v.target.checked?"raw":"redacted")}),"Reveal raw (dangerous)"]}),_.jsx("button",{className:"ghost-button",type:"button","aria-label":"Copy payload JSON",onClick:async()=>{s&&await navigator.clipboard.writeText(JSON.stringify(s.data,null,2))},"data-help":!0,"data-help-title":"Copy JSON","data-help-body":"Copy the payload to your clipboard.","data-help-placement":"top",children:"Copy JSON"}),u.length>0&&a==="redacted"?_.jsx("button",{className:"ghost-button",type:"button","aria-label":"Reset revealed fields",onClick:()=>c([]),"data-help":!0,"data-help-title":"Reset reveals","data-help-body":"Re-hide any fields you temporarily revealed.","data-help-placement":"top",children:"Reset reveals"}):null]}),_.jsx("pre",{className:"inspector-json",children:s?n8(s.data):"Loading..."}),f.length>0?_.jsxs("div",{className:"inspector-redaction",children:["Redacted fields:",_.jsx("ul",{children:f.map(v=>{const m=!n&&a==="redacted";return _.jsxs("li",{children:[v.path," (",v.kind,")",m?_.jsx("button",{className:"ghost-button",type:"button","aria-label":`Reveal ${v.path}`,onClick:()=>c(y=>y.includes(v.path)?y:[...y,v.path]),children:"Reveal"}):null]},v.path)})}),h.length>0?_.jsxs("div",{className:"inspector-revealed",children:["Revealed:",_.jsx("ul",{children:h.map(v=>_.jsxs("li",{children:[v.path," (",v.kind,")"]},v.path))})]}):null]}):null]}),_.jsx("div",{className:"inspector-section",children:_.jsx("button",{className:"primary-button",type:"button",onClick:()=>i(t.id),"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a new run starting from this step.","data-help-placement":"top",children:"Replay from this step"})})]})}const mA=b.createContext({});function i8(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xv=b.createContext(null),gA=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function s8(e=!0){const t=b.useContext(Xv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=b.useId();b.useEffect(()=>{e&&i(s)},[e]);const o=b.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Zv=typeof window<"u",o8=Zv?b.useLayoutEffect:b.useEffect,jt=e=>e;let yA=jt;function Qv(e){let t;return()=>(t===void 0&&(t=e()),t)}const as=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Bn=e=>e*1e3,zn=e=>e/1e3,a8={useManualTiming:!1};function l8(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,c=!1,d=!1)=>{const h=d&&r?t:n;return c&&s.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Oa=["read","resolveKeyframes","update","preRender","render","postRender"],u8=40;function vA(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Oa.reduce((m,y)=>(m[y]=l8(s),m),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:f}=o,h=()=>{const m=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(m-i.timestamp,u8),1),i.timestamp=m,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:Oa.reduce((m,y)=>{const x=o[y];return m[y]=(w,S=!1,C=!1)=>(n||g(),x.schedule(w,S,C)),m},{}),cancel:m=>{for(let y=0;y<Oa.length;y++)o[Oa[y]].cancel(m)},state:i,steps:o}}const{schedule:_e,cancel:Ar,state:tt,steps:Tm}=vA(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0),wA=b.createContext({strict:!1}),HE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ls={};for(const e in HE)ls[e]={isEnabled:t=>HE[e].some(n=>!!t[n])};function c8(e){for(const t in e)ls[t]={...ls[t],...e[t]}}const d8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ul(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||d8.has(e)}let xA=e=>!Ul(e);function f8(e){e&&(xA=t=>t.startsWith("on")?!Ul(t):e(t))}try{f8(require("@emotion/is-prop-valid").default)}catch{}function h8(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(xA(i)||n===!0&&Ul(i)||!t&&!Ul(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function p8(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Vu=b.createContext({});function Oo(e){return typeof e=="string"||Array.isArray(e)}function Bu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Jv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e0=["initial",...Jv];function zu(e){return Bu(e.animate)||e0.some(t=>Oo(e[t]))}function _A(e){return!!(zu(e)||e.variants)}function m8(e,t){if(zu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Oo(n)?n:void 0,animate:Oo(r)?r:void 0}}return e.inherit!==!1?t:{}}function g8(e){const{initial:t,animate:n}=m8(e,b.useContext(Vu));return b.useMemo(()=>({initial:t,animate:n}),[GE(t),GE(n)])}function GE(e){return Array.isArray(e)?e.join(" "):e}const y8=Symbol.for("motionComponentSymbol");function Li(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v8(e,t,n){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Li(n)&&(n.current=r))},[t])}const t0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w8="framerAppearId",SA="data-"+t0(w8),{schedule:n0}=vA(queueMicrotask,!1),bA=b.createContext({});function x8(e,t,n,r,i){var s,o;const{visualElement:a}=b.useContext(Vu),l=b.useContext(wA),u=b.useContext(Xv),c=b.useContext(gA).reducedMotion,d=b.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,h=b.useContext(bA);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&_8(d.current,n,i,h);const g=b.useRef(!1);b.useInsertionEffect(()=>{f&&g.current&&f.update(n,u)});const p=n[SA],v=b.useRef(!!p&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return o8(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),n0.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,p)}),v.current=!1))}),f}function _8(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:EA(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Li(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function EA(e){if(e)return e.options.allowProjection!==!1?e.projection:EA(e.parent)}function S8({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&c8(e);function a(u,c){let d;const f={...b.useContext(gA),...u,layoutId:b8(u)},{isStatic:h}=f,g=g8(u),p=r(u,h);if(!h&&Zv){E8();const v=C8(f);d=v.MeasureLayout,g.visualElement=x8(i,p,f,t,v.ProjectionNode)}return _.jsxs(Vu.Provider,{value:g,children:[d&&g.visualElement?_.jsx(d,{visualElement:g.visualElement,...f}):null,n(i,u,v8(p,g.visualElement,c),p,h,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=b.forwardRef(a);return l[y8]=i,l}function b8({layoutId:e}){const t=b.useContext(mA).id;return t&&e!==void 0?t+"-"+e:e}function E8(e,t){b.useContext(wA).strict}function C8(e){const{drag:t,layout:n}=ls;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const k8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function r0(e){return typeof e!="string"||e.includes("-")?!1:!!(k8.indexOf(e)>-1||/[A-Z]/u.test(e))}function WE(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function i0(e,t,n,r){if(typeof t=="function"){const[i,s]=WE(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=WE(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const ey=e=>Array.isArray(e),T8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),N8=e=>ey(e)?e[e.length-1]||0:e,ft=e=>!!(e&&e.getVelocity);function rl(e){const t=ft(e)?e.get():e;return T8(t)?t.toValue():t}function M8({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:P8(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const CA=e=>(t,n)=>{const r=b.useContext(Vu),i=b.useContext(Xv),s=()=>M8(e,t,r,i);return n?s():i8(s)};function P8(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=rl(s[f]);let{initial:o,animate:a}=e;const l=zu(e),u=_A(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Bu(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const g=i0(e,f[h]);if(g){const{transitionEnd:p,transition:v,...m}=g;for(const y in m){let x=m[y];if(Array.isArray(x)){const w=c?x.length-1:0;x=x[w]}x!==null&&(i[y]=x)}for(const y in p)i[y]=p[y]}}}return i}const vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(vs),kA=e=>t=>typeof t=="string"&&t.startsWith(e),TA=kA("--"),A8=kA("var(--"),s0=e=>A8(e)?R8.test(e.split("/*")[0].trim()):!1,R8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,NA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zn=(e,t,n)=>n>t?t:n<e?e:n,ws={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qo={...ws,transform:e=>Zn(0,1,e)},qa={...ws,default:1},ta=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ar=ta("deg"),En=ta("%"),ee=ta("px"),I8=ta("vh"),j8=ta("vw"),KE={...En,parse:e=>En.parse(e)/100,transform:e=>En.transform(e*100)},D8={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee},L8={rotate:ar,rotateX:ar,rotateY:ar,rotateZ:ar,scale:qa,scaleX:qa,scaleY:qa,scaleZ:qa,skew:ar,skewX:ar,skewY:ar,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:qo,originX:KE,originY:KE,originZ:ee},YE={...ws,transform:Math.round},o0={...D8,...L8,zIndex:YE,size:ee,fillOpacity:qo,strokeOpacity:qo,numOctaves:YE},O8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q8=vs.length;function F8(e,t,n){let r="",i=!0;for(let s=0;s<q8;s++){const o=vs[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=NA(a,o0[o]);if(!l){i=!1;const c=O8[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function a0(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(gi.has(l)){o=!0;continue}else if(TA(l)){i[l]=u;continue}else{const c=NA(u,o0[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=F8(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const $8={offset:"stroke-dashoffset",array:"stroke-dasharray"},V8={offset:"strokeDashoffset",array:"strokeDasharray"};function B8(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?$8:V8;e[s.offset]=ee.transform(-r);const o=ee.transform(t),a=ee.transform(n);e[s.array]=`${o} ${a}`}function XE(e,t,n){return typeof e=="string"?e:ee.transform(t+n*e)}function z8(e,t,n){const r=XE(t,e.x,e.width),i=XE(n,e.y,e.height);return`${r} ${i}`}function l0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d){if(a0(e,u,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h,dimensions:g}=e;f.transform&&(g&&(h.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=z8(g,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&B8(f,o,a,l,!1)}const u0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MA=()=>({...u0(),attrs:{}}),c0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function PA(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const AA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RA(e,t,n,r){PA(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(AA.has(i)?i:t0(i),t.attrs[i])}const Hl={};function U8(e){Object.assign(Hl,e)}function IA(e,{layout:t,layoutId:n}){return gi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hl[e]||e==="opacity")}function d0(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(ft(i[o])||t.style&&ft(t.style[o])||IA(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function jA(e,t,n){const r=d0(e,t,n);for(const i in e)if(ft(e[i])||ft(t[i])){const s=vs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function H8(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const ZE=["x","y","width","height","cx","cy","r"],G8={useVisualState:CA({scrapeMotionValuesFromProps:jA,createRenderState:MA,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(gi.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<ZE.length;a++){const l=ZE[a];e[l]!==t[l]&&(o=!0)}o&&_e.read(()=>{H8(n,r),_e.render(()=>{l0(r,i,c0(n.tagName),e.transformTemplate),RA(n,r)})})}})},W8={useVisualState:CA({scrapeMotionValuesFromProps:d0,createRenderState:u0})};function DA(e,t,n){for(const r in t)!ft(t[r])&&!IA(r,n)&&(e[r]=t[r])}function K8({transformTemplate:e},t){return b.useMemo(()=>{const n=u0();return a0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Y8(e,t){const n=e.style||{},r={};return DA(r,n,e),Object.assign(r,K8(e,t)),r}function X8(e,t){const n={},r=Y8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function Z8(e,t,n,r){const i=b.useMemo(()=>{const s=MA();return l0(s,t,c0(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};DA(s,e.style,e),i.style={...s,...i.style}}return i}function Q8(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(r0(n)?Z8:X8)(r,s,o,n),u=h8(r,typeof n=="string",e),c=n!==b.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=b.useMemo(()=>ft(d)?d.get():d,[d]);return b.createElement(n,{...c,children:f})}}function J8(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...r0(r)?G8:W8,preloadedFeatures:e,useRender:Q8(i),createVisualElement:t,Component:r};return S8(o)}}function LA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Uu(e,t,n){const r=e.getProps();return i0(r,t,n!==void 0?n:r.custom,e)}const eU=Qv(()=>window.ScrollTimeline!==void 0);class tU{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(eU()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class nU extends tU{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function f0(e,t){return e?e[t]||e.default||e:void 0}const ty=2e4;function OA(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ty;)t+=n,r=e.next(t);return t>=ty?1/0:t}function h0(e){return typeof e=="function"}function QE(e,t){e.timeline=t,e.onfinish=null}const p0=e=>Array.isArray(e)&&typeof e[0]=="number",rU={linearEasing:void 0};function iU(e,t){const n=Qv(e);return()=>{var r;return(r=rU[t])!==null&&r!==void 0?r:n()}}const Gl=iU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qA=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(as(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function FA(e){return!!(typeof e=="function"&&Gl()||!e||typeof e=="string"&&(e in ny||Gl())||p0(e)||Array.isArray(e)&&e.every(FA))}const Ys=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ny={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ys([0,.65,.55,1]),circOut:Ys([.55,0,1,.45]),backIn:Ys([.31,.01,.66,-.59]),backOut:Ys([.33,1.53,.69,.99])};function $A(e,t){if(e)return typeof e=="function"&&Gl()?qA(e,t):p0(e)?Ys(e):Array.isArray(e)?e.map(n=>$A(n,t)||ny.easeOut):ny[e]}const tn={x:!1,y:!1};function VA(){return tn.x||tn.y}function sU(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function BA(e,t){const n=sU(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function JE(e){return t=>{t.pointerType==="touch"||VA()||e(t)}}function oU(e,t,n={}){const[r,i,s]=BA(e,n),o=JE(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const c=JE(d=>{u(d),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const zA=(e,t)=>t?e===t?!0:zA(e,t.parentElement):!1,m0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,aU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lU(e){return aU.has(e.tagName)||e.tabIndex!==-1}const Xs=new WeakSet;function eC(e){return t=>{t.key==="Enter"&&e(t)}}function Nm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const uU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=eC(()=>{if(Xs.has(n))return;Nm(n,"down");const i=eC(()=>{Nm(n,"up")}),s=()=>Nm(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function tC(e){return m0(e)&&!VA()}function cU(e,t,n={}){const[r,i,s]=BA(e,n),o=a=>{const l=a.currentTarget;if(!tC(a)||Xs.has(l))return;Xs.add(l);const u=t(a),c=(h,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!tC(h)||!Xs.has(l))&&(Xs.delete(l),typeof u=="function"&&u(h,{success:g}))},d=h=>{c(h,n.useGlobalTarget||zA(l,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{!lU(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>uU(u,i),i)}),s}function dU(e){return e==="x"||e==="y"?tn[e]?null:(tn[e]=!0,()=>{tn[e]=!1}):tn.x||tn.y?null:(tn.x=tn.y=!0,()=>{tn.x=tn.y=!1})}const UA=new Set(["width","height","top","left","right","bottom",...vs]);let il;function fU(){il=void 0}const Cn={now:()=>(il===void 0&&Cn.set(tt.isProcessing||a8.useManualTiming?tt.timestamp:performance.now()),il),set:e=>{il=e,queueMicrotask(fU)}};function g0(e,t){e.indexOf(t)===-1&&e.push(t)}function y0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class v0{constructor(){this.subscriptions=[]}add(t){return g0(this.subscriptions,t),()=>y0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function HA(e,t){return t?e*(1e3/t):0}const nC=30,hU=e=>!isNaN(parseFloat(e));class pU{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Cn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=hU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new v0);const r=this.events[t].add(n);return t==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nC);return HA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fo(e,t){return new pU(e,t)}function mU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Fo(n))}function gU(e,t){const n=Uu(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=N8(s[o]);mU(e,o,a)}}function yU(e){return!!(ft(e)&&e.add)}function ry(e,t){const n=e.getValue("willChange");if(yU(n))return n.add(t)}function GA(e){return e.props[SA]}const WA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vU=1e-7,wU=12;function xU(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=WA(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>vU&&++a<wU);return o}function na(e,t,n,r){if(e===t&&n===r)return jt;const i=s=>xU(s,0,1,e,n);return s=>s===0||s===1?s:WA(i(s),t,r)}const KA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,YA=e=>t=>1-e(1-t),XA=na(.33,1.53,.69,.99),w0=YA(XA),ZA=KA(w0),QA=e=>(e*=2)<1?.5*w0(e):.5*(2-Math.pow(2,-10*(e-1))),x0=e=>1-Math.sin(Math.acos(e)),JA=YA(x0),eR=KA(x0),tR=e=>/^0[^.\s]+$/u.test(e);function _U(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tR(e):!0}const ao=e=>Math.round(e*1e5)/1e5,_0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SU(e){return e==null}const bU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,S0=(e,t)=>n=>!!(typeof n=="string"&&bU.test(n)&&n.startsWith(e)||t&&!SU(n)&&Object.prototype.hasOwnProperty.call(n,t)),nR=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(_0);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},EU=e=>Zn(0,255,e),Mm={...ws,transform:e=>Math.round(EU(e))},Xr={test:S0("rgb","red"),parse:nR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Mm.transform(e)+", "+Mm.transform(t)+", "+Mm.transform(n)+", "+ao(qo.transform(r))+")"};function CU(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const iy={test:S0("#"),parse:CU,transform:Xr.transform},Oi={test:S0("hsl","hue"),parse:nR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+En.transform(ao(t))+", "+En.transform(ao(n))+", "+ao(qo.transform(r))+")"},ct={test:e=>Xr.test(e)||iy.test(e)||Oi.test(e),parse:e=>Xr.test(e)?Xr.parse(e):Oi.test(e)?Oi.parse(e):iy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Xr.transform(e):Oi.transform(e)},kU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(kU))===null||n===void 0?void 0:n.length)||0)>0}const rR="number",iR="color",NU="var",MU="var(",rC="${}",PU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $o(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(PU,l=>(ct.test(l)?(r.color.push(s),i.push(iR),n.push(ct.parse(l))):l.startsWith(MU)?(r.var.push(s),i.push(NU),n.push(l)):(r.number.push(s),i.push(rR),n.push(parseFloat(l))),++s,rC)).split(rC);return{values:n,split:a,indexes:r,types:i}}function sR(e){return $o(e).values}function oR(e){const{split:t,types:n}=$o(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===rR?s+=ao(i[o]):a===iR?s+=ct.transform(i[o]):s+=i[o]}return s}}const AU=e=>typeof e=="number"?0:e;function RU(e){const t=sR(e);return oR(e)(t.map(AU))}const Rr={test:TU,parse:sR,createTransformer:oR,getAnimatableNone:RU},IU=new Set(["brightness","contrast","saturate","opacity"]);function jU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(_0)||[];if(!r)return e;const i=n.replace(r,"");let s=IU.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const DU=/\b([a-z-]*)\(.*?\)/gu,sy={...Rr,getAnimatableNone:e=>{const t=e.match(DU);return t?t.map(jU).join(" "):e}},LU={...o0,color:ct,backgroundColor:ct,outlineColor:ct,fill:ct,stroke:ct,borderColor:ct,borderTopColor:ct,borderRightColor:ct,borderBottomColor:ct,borderLeftColor:ct,filter:sy,WebkitFilter:sy},b0=e=>LU[e];function aR(e,t){let n=b0(e);return n!==sy&&(n=Rr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const OU=new Set(["auto","none","0"]);function qU(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!OU.has(s)&&$o(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=aR(n,i)}const iC=e=>e===ws||e===ee,sC=(e,t)=>parseFloat(e.split(", ")[t]),oC=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return sC(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?sC(s[1],e):0}},FU=new Set(["x","y","z"]),$U=vs.filter(e=>!FU.has(e));function VU(e){const t=[];return $U.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const us={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:oC(4,13),y:oC(5,14)};us.translateX=us.x;us.translateY=us.y;const ti=new Set;let oy=!1,ay=!1;function lR(){if(ay){const e=Array.from(ti).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=VU(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ay=!1,oy=!1,ti.forEach(e=>e.complete()),ti.clear()}function uR(){ti.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ay=!0)})}function BU(){uR(),lR()}class E0{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ti.add(this),oy||(oy=!0,_e.read(uR),_e.resolveKeyframes(lR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ti.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ti.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),zU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UU(e){const t=zU.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function dR(e,t,n=1){const[r,i]=UU(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return cR(o)?parseFloat(o):o}return s0(i)?dR(i,t,n+1):i}const fR=e=>t=>t.test(e),HU={test:e=>e==="auto",parse:e=>e},hR=[ws,ee,En,ar,j8,I8,HU],aC=e=>hR.find(fR(e));class pR extends E0{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),s0(u))){const c=dR(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!UA.has(r)||t.length!==2)return;const[i,s]=t,o=aC(i),a=aC(s);if(o!==a)if(iC(o)&&iC(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)_U(t[i])&&r.push(i);r.length&&qU(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=us[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=us[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const lC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rr.test(e)||e==="0")&&!e.startsWith("url("));function GU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function WU(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=lC(i,t),a=lC(s,t);return!o||!a?!1:GU(e)||(n==="spring"||h0(n))&&r}const KU=e=>e!==null;function Hu(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(KU),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const YU=40;class mR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Cn.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>YU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BU(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Cn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!WU(t,r,i,s))if(o)this.options.duration=0;else{l&&l(Hu(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Te=(e,t,n)=>e+(t-e)*n;function Pm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function XU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Pm(l,a,e+1/3),s=Pm(l,a,e),o=Pm(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Wl(e,t){return n=>n>0?t:e}const Am=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ZU=[iy,Xr,Oi],QU=e=>ZU.find(t=>t.test(e));function uC(e){const t=QU(e);if(!t)return!1;let n=t.parse(e);return t===Oi&&(n=XU(n)),n}const cC=(e,t)=>{const n=uC(e),r=uC(t);if(!n||!r)return Wl(e,t);const i={...n};return s=>(i.red=Am(n.red,r.red,s),i.green=Am(n.green,r.green,s),i.blue=Am(n.blue,r.blue,s),i.alpha=Te(n.alpha,r.alpha,s),Xr.transform(i))},JU=(e,t)=>n=>t(e(n)),ra=(...e)=>e.reduce(JU),ly=new Set(["none","hidden"]);function eH(e,t){return ly.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function tH(e,t){return n=>Te(e,t,n)}function C0(e){return typeof e=="number"?tH:typeof e=="string"?s0(e)?Wl:ct.test(e)?cC:iH:Array.isArray(e)?gR:typeof e=="object"?ct.test(e)?cC:nH:Wl}function gR(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>C0(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function nH(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=C0(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function rH(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const iH=(e,t)=>{const n=Rr.createTransformer(t),r=$o(e),i=$o(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ly.has(e)&&!i.values.length||ly.has(t)&&!r.values.length?eH(e,t):ra(gR(rH(r,i),i.values),n):Wl(e,t)};function yR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Te(e,t,n):C0(e)(e,t)}const sH=5;function vR(e,t,n){const r=Math.max(t-sH,0);return HA(n-e(r),t-r)}const je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rm=.001;function oH({duration:e=je.duration,bounce:t=je.bounce,velocity:n=je.velocity,mass:r=je.mass}){let i,s,o=1-t;o=Zn(je.minDamping,je.maxDamping,o),e=Zn(je.minDuration,je.maxDuration,zn(e)),o<1?(i=u=>{const c=u*o,d=c*e,f=c-n,h=uy(u,o),g=Math.exp(-d);return Rm-f/h*g},s=u=>{const d=u*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-d),p=uy(Math.pow(u,2),o);return(-i(u)+Rm>0?-1:1)*((f-h)*g)/p}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-Rm+c*d},s=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=lH(i,s,a);if(e=Bn(e),isNaN(l))return{stiffness:je.stiffness,damping:je.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const aH=12;function lH(e,t,n){let r=n;for(let i=1;i<aH;i++)r=r-e(r)/t(r);return r}function uy(e,t){return e*Math.sqrt(1-t*t)}const uH=["duration","bounce"],cH=["stiffness","damping","mass"];function dC(e,t){return t.some(n=>e[n]!==void 0)}function dH(e){let t={velocity:je.velocity,stiffness:je.stiffness,damping:je.damping,mass:je.mass,isResolvedFromDuration:!1,...e};if(!dC(e,cH)&&dC(e,uH))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Zn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:je.mass,stiffness:i,damping:s}}else{const n=oH(e);t={...t,...n,mass:je.mass},t.isResolvedFromDuration=!0}return t}function wR(e=je.visualDuration,t=je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=dH({...n,velocity:-zn(n.velocity||0)}),g=f||0,p=u/(2*Math.sqrt(l*c)),v=o-s,m=zn(Math.sqrt(l/c)),y=Math.abs(v)<5;r||(r=y?je.restSpeed.granular:je.restSpeed.default),i||(i=y?je.restDelta.granular:je.restDelta.default);let x;if(p<1){const S=uy(m,p);x=C=>{const k=Math.exp(-p*m*C);return o-k*((g+p*m*v)/S*Math.sin(S*C)+v*Math.cos(S*C))}}else if(p===1)x=S=>o-Math.exp(-m*S)*(v+(g+m*v)*S);else{const S=m*Math.sqrt(p*p-1);x=C=>{const k=Math.exp(-p*m*C),T=Math.min(S*C,300);return o-k*((g+p*m*v)*Math.sinh(T)+S*v*Math.cosh(T))/S}}const w={calculatedDuration:h&&d||null,next:S=>{const C=x(S);if(h)a.done=S>=d;else{let k=0;p<1&&(k=S===0?Bn(g):vR(x,S,C));const T=Math.abs(k)<=r,M=Math.abs(o-C)<=i;a.done=T&&M}return a.value=a.done?o:C,a},toString:()=>{const S=Math.min(OA(w),ty),C=qA(k=>w.next(S*k).value,S,30);return S+"ms "+C}};return w}function fC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},h=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let p=n*t;const v=d+p,m=o===void 0?v:o(v);m!==v&&(p=m-d);const y=T=>-p*Math.exp(-T/r),x=T=>m+y(T),w=T=>{const M=y(T),A=x(T);f.done=Math.abs(M)<=u,f.value=f.done?m:A};let S,C;const k=T=>{h(f.value)&&(S=T,C=wR({keyframes:[f.value,g(f.value)],velocity:vR(x,T,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:T=>{let M=!1;return!C&&S===void 0&&(M=!0,w(T),k(T)),S!==void 0&&T>=S?C.next(T-S):(!M&&w(T),f)}}}const fH=na(.42,0,1,1),hH=na(0,0,.58,1),xR=na(.42,0,.58,1),pH=e=>Array.isArray(e)&&typeof e[0]!="number",mH={linear:jt,easeIn:fH,easeInOut:xR,easeOut:hH,circIn:x0,circInOut:eR,circOut:JA,backIn:w0,backInOut:ZA,backOut:XA,anticipate:QA},hC=e=>{if(p0(e)){yA(e.length===4);const[t,n,r,i]=e;return na(t,n,r,i)}else if(typeof e=="string")return mH[e];return e};function gH(e,t,n){const r=[],i=n||yR,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||jt:t;a=ra(l,a)}r.push(a)}return r}function yH(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(yA(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=gH(t,r,i),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=as(e[d],e[d+1],c);return a[d](f)};return n?c=>u(Zn(e[0],e[s-1],c)):u}function vH(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=as(0,t,r);e.push(Te(n,1,i))}}function wH(e){const t=[0];return vH(t,e.length-1),t}function xH(e,t){return e.map(n=>n*t)}function _H(e,t){return e.map(()=>t||xR).splice(0,e.length-1)}function Kl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=pH(r)?r.map(hC):hC(r),s={done:!1,value:t[0]},o=xH(n&&n.length===t.length?n:wH(t),e),a=yH(o,t,{ease:Array.isArray(i)?i:_H(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const SH=e=>{const t=({timestamp:n})=>e(n);return{start:()=>_e.update(t,!0),stop:()=>Ar(t),now:()=>tt.isProcessing?tt.timestamp:Cn.now()}},bH={decay:fC,inertia:fC,tween:Kl,keyframes:Kl,spring:wR},EH=e=>e/100;class k0 extends mR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||E0,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=h0(n)?n:bH[n]||Kl;let l,u;a!==Kl&&typeof t[0]!="number"&&(l=ra(EH,yR(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});s==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=OA(c));const{calculatedDuration:d}=c,f=d+i,h=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:h,repeatType:g,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>c;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let x=this.currentTime,w=s;if(h){const T=Math.min(this.currentTime,c)/d;let M=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(g==="reverse"?(A=1-A,p&&(A-=p/d)):g==="mirror"&&(w=o)),x=Zn(0,1,A)*d}const S=y?{done:!1,value:l[0]}:w.next(x);a&&(S.value=a(S.value));let{done:C}=S;!y&&u!==null&&(C=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&i!==void 0&&(S.value=Hu(l,this.options,i)),v&&v(S.value),k&&this.finish(),S}get duration(){const{resolved:t}=this;return t?zn(t.calculatedDuration):0}get time(){return zn(this.currentTime)}set time(t){t=Bn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=zn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=SH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const CH=new Set(["opacity","clipPath","filter","transform"]);function kH(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=$A(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const TH=Qv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yl=10,NH=2e4;function MH(e){return h0(e.type)||e.type==="spring"||!FA(e.ease)}function PH(e,t){const n=new k0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<NH;)r=n.sample(s),i.push(r.value),s+=Yl;return{times:void 0,keyframes:i,duration:s-Yl,ease:"linear"}}const _R={anticipate:QA,backInOut:ZA,circInOut:eR};function AH(e){return e in _R}class pC extends mR{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new pR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Gl()&&AH(s)&&(s=_R[s]),MH(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,element:g,...p}=this.options,v=PH(t,p);t=v.keyframes,t.length===1&&(t[1]=t[0]),r=v.duration,i=v.times,s=v.ease,o="keyframes"}const c=kH(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(QE(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;a.set(Hu(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return zn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return zn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Bn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return jt;const{animation:r}=n;QE(r,t)}return jt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:f,...h}=this.options,g=new k0({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),p=Bn(this.time);u.setWithVelocity(g.sample(p-Yl).value,g.sample(p).value,Yl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return TH()&&r&&CH.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const RH={type:"spring",stiffness:500,damping:25,restSpeed:10},IH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jH={type:"keyframes",duration:.8},DH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LH=(e,{keyframes:t})=>t.length>2?jH:gi.has(e)?e.startsWith("scale")?IH(t[1]):RH:DH;function OH({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const T0=(e,t,n,r={},i,s)=>o=>{const a=f0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Bn(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};OH(a)||(c={...c,...LH(e,c)}),c.duration&&(c.duration=Bn(c.duration)),c.repeatDelay&&(c.repeatDelay=Bn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!s&&t.get()!==void 0){const f=Hu(c.keyframes,a);if(f!==void 0)return _e.update(()=>{c.onUpdate(f),c.onComplete()}),new nU([])}return!s&&pC.supports(c)?new pC(c):new k0(c)};function qH({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function SR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,(s=e.latestValues[d])!==null&&s!==void 0?s:null),h=l[d];if(h===void 0||c&&qH(c,d))continue;const g={delay:n,...f0(o||{},d)};let p=!1;if(window.MotionHandoffAnimation){const m=GA(e);if(m){const y=window.MotionHandoffAnimation(m,d,_e);y!==null&&(g.startTime=y,p=!0)}}ry(e,d),f.start(T0(d,f,h,e.shouldReduceMotion&&UA.has(d)?{type:!1}:g,e,p));const v=f.animation;v&&u.push(v)}return a&&Promise.all(u).then(()=>{_e.update(()=>{a&&gU(e,a)})}),u}function cy(e,t,n={}){var r;const i=Uu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(SR(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return FH(e,t,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function FH(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort($H).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(cy(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function $H(e,t){return e.sortNodePosition(t)}function VH(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>cy(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=cy(e,t,n);else{const i=typeof t=="function"?Uu(e,t,n.custom):t;r=Promise.all(SR(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const BH=e0.length;function bR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?bR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<BH;n++){const r=e0[n],i=e.props[r];(Oo(i)||i===!1)&&(t[r]=i)}return t}const zH=[...Jv].reverse(),UH=Jv.length;function HH(e){return t=>Promise.all(t.map(({animation:n,options:r})=>VH(e,n,r)))}function GH(e){let t=HH(e),n=mC(),r=!0;const i=l=>(u,c)=>{var d;const f=Uu(e,c,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:g,...p}=f;u={...u,...p,...g}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=bR(e.parent)||{},d=[],f=new Set;let h={},g=1/0;for(let v=0;v<UH;v++){const m=zH[v],y=n[m],x=u[m]!==void 0?u[m]:c[m],w=Oo(x),S=m===l?y.isActive:null;S===!1&&(g=v);let C=x===c[m]&&x!==u[m]&&w;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...h},!y.isActive&&S===null||!x&&!y.prevProp||Bu(x)||typeof x=="boolean")continue;const k=WH(y.prevProp,x);let T=k||m===l&&y.isActive&&!C&&w||v>g&&w,M=!1;const A=Array.isArray(x)?x:[x];let R=A.reduce(i(m),{});S===!1&&(R={});const{prevResolvedValues:B={}}=y,V={...B,...R},E=L=>{T=!0,f.has(L)&&(M=!0,f.delete(L)),y.needsAnimating[L]=!0;const P=e.getValue(L);P&&(P.liveStyle=!1)};for(const L in V){const P=R[L],N=B[L];if(h.hasOwnProperty(L))continue;let j=!1;ey(P)&&ey(N)?j=!LA(P,N):j=P!==N,j?P!=null?E(L):f.add(L):P!==void 0&&f.has(L)?E(L):y.protectedKeys[L]=!0}y.prevProp=x,y.prevResolvedValues=R,y.isActive&&(h={...h,...R}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(C&&k)||M)&&d.push(...A.map(L=>({animation:L,options:{type:m}})))}if(f.size){const v={};f.forEach(m=>{const y=e.getBaseTarget(m),x=e.getValue(m);x&&(x.liveStyle=!0),v[m]=y??null}),d.push({animation:v})}let p=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(d):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=mC(),r=!0}}}function WH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!LA(t,e):!1}function qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mC(){return{animate:qr(!0),whileInView:qr(),whileHover:qr(),whileTap:qr(),whileDrag:qr(),whileFocus:qr(),exit:qr()}}class Or{constructor(t){this.isMounted=!1,this.node=t}update(){}}class KH extends Or{constructor(t){super(t),t.animationState||(t.animationState=GH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let YH=0;class XH extends Or{constructor(){super(...arguments),this.id=YH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ZH={animation:{Feature:KH},exit:{Feature:XH}};function Vo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ia(e){return{point:{x:e.pageX,y:e.pageY}}}const QH=e=>t=>m0(t)&&e(t,ia(t));function lo(e,t,n,r){return Vo(e,t,QH(n),r)}const gC=(e,t)=>Math.abs(e-t);function JH(e,t){const n=gC(e.x,t.x),r=gC(e.y,t.y);return Math.sqrt(n**2+r**2)}class ER{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=jm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=JH(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=d,{timestamp:p}=tt;this.history.push({...g,timestamp:p});const{onStart:v,onMove:m}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Im(f,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=jm(d.type==="pointercancel"?this.lastMoveEventInfo:Im(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,v),g&&g(d,v)},!m0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ia(t),a=Im(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=tt;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,jm(a,this.history)),this.removeListeners=ra(lo(this.contextWindow,"pointermove",this.handlePointerMove),lo(this.contextWindow,"pointerup",this.handlePointerUp),lo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}}function Im(e,t){return t?{point:t(e.point)}:e}function yC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jm({point:e},t){return{point:e,delta:yC(e,CR(t)),offset:yC(e,eG(t)),velocity:tG(t,.1)}}function eG(e){return e[0]}function CR(e){return e[e.length-1]}function tG(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=CR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Bn(t)));)n--;if(!r)return{x:0,y:0};const s=zn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const kR=1e-4,nG=1-kR,rG=1+kR,TR=.01,iG=0-TR,sG=0+TR;function Ot(e){return e.max-e.min}function oG(e,t,n){return Math.abs(e-t)<=n}function vC(e,t,n,r=.5){e.origin=r,e.originPoint=Te(t.min,t.max,e.origin),e.scale=Ot(n)/Ot(t),e.translate=Te(n.min,n.max,e.origin)-e.originPoint,(e.scale>=nG&&e.scale<=rG||isNaN(e.scale))&&(e.scale=1),(e.translate>=iG&&e.translate<=sG||isNaN(e.translate))&&(e.translate=0)}function uo(e,t,n,r){vC(e.x,t.x,n.x,r?r.originX:void 0),vC(e.y,t.y,n.y,r?r.originY:void 0)}function wC(e,t,n){e.min=n.min+t.min,e.max=e.min+Ot(t)}function aG(e,t,n){wC(e.x,t.x,n.x),wC(e.y,t.y,n.y)}function xC(e,t,n){e.min=t.min-n.min,e.max=e.min+Ot(t)}function co(e,t,n){xC(e.x,t.x,n.x),xC(e.y,t.y,n.y)}function lG(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Te(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Te(n,e,r.max):Math.min(e,n)),e}function _C(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function uG(e,{top:t,left:n,bottom:r,right:i}){return{x:_C(e.x,n,i),y:_C(e.y,t,r)}}function SC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function cG(e,t){return{x:SC(e.x,t.x),y:SC(e.y,t.y)}}function dG(e,t){let n=.5;const r=Ot(e),i=Ot(t);return i>r?n=as(t.min,t.max-r,e.min):r>i&&(n=as(e.min,e.max-i,t.min)),Zn(0,1,n)}function fG(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const dy=.35;function hG(e=dy){return e===!1?e=0:e===!0&&(e=dy),{x:bC(e,"left","right"),y:bC(e,"top","bottom")}}function bC(e,t,n){return{min:EC(e,t),max:EC(e,n)}}function EC(e,t){return typeof e=="number"?e:e[t]||0}const CC=()=>({translate:0,scale:1,origin:0,originPoint:0}),qi=()=>({x:CC(),y:CC()}),kC=()=>({min:0,max:0}),Oe=()=>({x:kC(),y:kC()});function Bt(e){return[e("x"),e("y")]}function NR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function pG({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mG(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dm(e){return e===void 0||e===1}function fy({scale:e,scaleX:t,scaleY:n}){return!Dm(e)||!Dm(t)||!Dm(n)}function Br(e){return fy(e)||MR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function MR(e){return TC(e.x)||TC(e.y)}function TC(e){return e&&e!=="0%"}function Xl(e,t,n){const r=e-n,i=t*r;return n+i}function NC(e,t,n,r,i){return i!==void 0&&(e=Xl(e,i,r)),Xl(e,n,r)+t}function hy(e,t=0,n=1,r,i){e.min=NC(e.min,t,n,r,i),e.max=NC(e.max,t,n,r,i)}function PR(e,{x:t,y:n}){hy(e.x,t.translate,t.scale,t.originPoint),hy(e.y,n.translate,n.scale,n.originPoint)}const MC=.999999999999,PC=1.0000000000001;function gG(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$i(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,PR(e,o)),r&&Br(s.latestValues)&&$i(e,s.latestValues))}t.x<PC&&t.x>MC&&(t.x=1),t.y<PC&&t.y>MC&&(t.y=1)}function Fi(e,t){e.min=e.min+t,e.max=e.max+t}function AC(e,t,n,r,i=.5){const s=Te(e.min,e.max,i);hy(e,t,n,s,r)}function $i(e,t){AC(e.x,t.x,t.scaleX,t.scale,t.originX),AC(e.y,t.y,t.scaleY,t.scale,t.originY)}function AR(e,t){return NR(mG(e.getBoundingClientRect(),t))}function yG(e,t,n){const r=AR(e,n),{scroll:i}=t;return i&&(Fi(r.x,i.offset.x),Fi(r.y,i.offset.y)),r}const RR=({current:e})=>e?e.ownerDocument.defaultView:null,vG=new WeakMap;class wG{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ia(c).point)},s=(c,d)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dU(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bt(v=>{let m=this.getAxisMotionValue(v).get()||0;if(En.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(m=Ot(x)*(parseFloat(m)/100))}}this.originPoint[v]=m}),g&&_e.postRender(()=>g(c,d)),ry(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(h&&this.currentDirection===null){this.currentDirection=xG(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),p&&p(c,d)},a=(c,d)=>this.stop(c,d),l=()=>Bt(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ER(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:RR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&_e.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Fa(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=lG(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Li(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=uG(i.layoutBox,n):this.constraints=!1,this.elastic=hG(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fG(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Li(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=yG(r,i.root,this.visualElement.getTransformPagePoint());let o=cG(i.layout.layoutBox,s);if(n){const a=n(pG(o));this.hasMutatedConstraints=!!a,a&&(o=NR(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Bt(c=>{if(!Fa(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ry(this.visualElement,t),r.start(T0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Bt(n=>{const{drag:r}=this.getProps();if(!Fa(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Te(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Li(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=dG({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bt(o=>{if(!Fa(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Te(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;vG.set(this.visualElement,this);const t=this.visualElement.current,n=lo(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Li(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),_e.read(r);const o=Vo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Bt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=dy,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Fa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xG(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class _G extends Or{constructor(t){super(t),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new wG(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const RC=e=>(t,n)=>{e&&_e.postRender(()=>e(t,n))};class SG extends Or{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(t){this.session=new ER(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RC(t),onStart:RC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&_e.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=lo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ds={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=IC(e,t.target.x),r=IC(e,t.target.y);return`${n}% ${r}%`}},bG={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Rr.parse(e);if(i.length>5)return r;const s=Rr.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=Te(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class EG extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;U8(CG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||_e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),n0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function IR(e){const[t,n]=s8(),r=b.useContext(mA);return _.jsx(EG,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(bA),isPresent:t,safeToRemove:n})}const CG={borderRadius:{...Ds,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ds,borderTopRightRadius:Ds,borderBottomLeftRadius:Ds,borderBottomRightRadius:Ds,boxShadow:bG};function kG(e,t,n){const r=ft(e)?e:Fo(e);return r.start(T0("",r,t,n)),r.animation}function TG(e){return e instanceof SVGElement&&e.tagName!=="svg"}const NG=(e,t)=>e.depth-t.depth;class MG{constructor(){this.children=[],this.isDirty=!1}add(t){g0(this.children,t),this.isDirty=!0}remove(t){y0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NG),this.isDirty=!1,this.children.forEach(t)}}function PG(e,t){const n=Cn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Ar(r),e(s-t))};return _e.read(r,!0),()=>Ar(r)}const jR=["TopLeft","TopRight","BottomLeft","BottomRight"],AG=jR.length,jC=e=>typeof e=="string"?parseFloat(e):e,DC=e=>typeof e=="number"||ee.test(e);function RG(e,t,n,r,i,s){i?(e.opacity=Te(0,n.opacity!==void 0?n.opacity:1,IG(r)),e.opacityExit=Te(t.opacity!==void 0?t.opacity:1,0,jG(r))):s&&(e.opacity=Te(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<AG;o++){const a=`border${jR[o]}Radius`;let l=LC(t,a),u=LC(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||DC(l)===DC(u)?(e[a]=Math.max(Te(jC(l),jC(u),r),0),(En.test(u)||En.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Te(t.rotate||0,n.rotate||0,r))}function LC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const IG=DR(0,.5,JA),jG=DR(.5,.95,jt);function DR(e,t,n){return r=>r<e?0:r>t?1:n(as(e,t,r))}function OC(e,t){e.min=t.min,e.max=t.max}function Vt(e,t){OC(e.x,t.x),OC(e.y,t.y)}function qC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function FC(e,t,n,r,i){return e-=t,e=Xl(e,1/n,r),i!==void 0&&(e=Xl(e,1/i,r)),e}function DG(e,t=0,n=1,r=.5,i,s=e,o=e){if(En.test(t)&&(t=parseFloat(t),t=Te(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Te(s.min,s.max,r);e===s&&(a-=t),e.min=FC(e.min,t,n,a,i),e.max=FC(e.max,t,n,a,i)}function $C(e,t,[n,r,i],s,o){DG(e,t[n],t[r],t[i],t.scale,s,o)}const LG=["x","scaleX","originX"],OG=["y","scaleY","originY"];function VC(e,t,n,r){$C(e.x,t,LG,n?n.x:void 0,r?r.x:void 0),$C(e.y,t,OG,n?n.y:void 0,r?r.y:void 0)}function BC(e){return e.translate===0&&e.scale===1}function LR(e){return BC(e.x)&&BC(e.y)}function zC(e,t){return e.min===t.min&&e.max===t.max}function qG(e,t){return zC(e.x,t.x)&&zC(e.y,t.y)}function UC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function OR(e,t){return UC(e.x,t.x)&&UC(e.y,t.y)}function HC(e){return Ot(e.x)/Ot(e.y)}function GC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class FG{constructor(){this.members=[]}add(t){g0(this.members,t),t.scheduleRender()}remove(t){if(y0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $G(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Zs=typeof window<"u"&&window.MotionDebug!==void 0,Lm=["","X","Y","Z"],VG={visibility:"hidden"},WC=1e3;let BG=0;function Om(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function qR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=GA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",_e,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&qR(r)}function FR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=BG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zs&&(zr.totalNodes=zr.resolvedTargetDeltas=zr.recalculatedProjection=0),this.nodes.forEach(HG),this.nodes.forEach(XG),this.nodes.forEach(ZG),this.nodes.forEach(GG),Zs&&window.MotionDebug.record(zr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new MG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new v0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TG(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=PG(f,250),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(YC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||n9,{onLayoutAnimationStart:v,onLayoutAnimationComplete:m}=c.getProps(),y=!this.targetLayout||!OR(this.targetLayout,g)||h,x=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const w={...f0(p,"layout"),onPlay:v,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||YC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KC);return}this.isUpdating||this.nodes.forEach(KG),this.isUpdating=!1,this.nodes.forEach(YG),this.nodes.forEach(zG),this.nodes.forEach(UG),this.clearAllSnapshots();const a=Cn.now();tt.delta=Zn(0,1e3/60,a-tt.timestamp),tt.timestamp=a,tt.isProcessing=!0,Tm.update.process(tt),Tm.preRender.process(tt),Tm.render.process(tt),tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WG),this.sharedNodes.forEach(JG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!LR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Br(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),r9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Oe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(i9))){const{scroll:c}=this.root;c&&(Fi(l.x,c.offset.x),Fi(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=Oe();if(Vt(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Vt(l,o),Fi(l.x,d.offset.x),Fi(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Oe();Vt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$i(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Br(c.latestValues)&&$i(l,c.latestValues)}return Br(this.latestValues)&&$i(l,this.latestValues),l}removeTransform(o){const a=Oe();Vt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Br(u.latestValues))continue;fy(u.latestValues)&&u.updateSnapshot();const c=Oe(),d=u.measurePageBox();Vt(c,d),VC(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Br(this.latestValues)&&VC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=tt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),co(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vt(this.target,this.layout.layoutBox),PR(this.target,this.targetDelta)):Vt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),co(this.relativeTargetOrigin,this.target,h.target),Vt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zs&&zr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||MR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===tt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Vt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;gG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Oe());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qC(this.prevProjectionDelta.x,this.projectionDelta.x),qC(this.prevProjectionDelta.y,this.projectionDelta.y)),uo(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!GC(this.projectionDelta.x,this.prevProjectionDelta.x)||!GC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Zs&&zr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qi(),this.projectionDelta=qi(),this.projectionDeltaWithTransform=qi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=qi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Oe(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,p=h!==g,v=this.getStack(),m=!v||v.members.length<=1,y=!!(p&&!m&&this.options.crossfade===!0&&!this.path.some(t9));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const S=w/1e3;XC(d.x,o.x,S),XC(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(co(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e9(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&qG(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Oe()),Vt(x,this.relativeTarget)),p&&(this.animationValues=c,RG(c,u,this.latestValues,S,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{sl.hasAnimatedSinceResize=!0,this.currentAnimation=kG(0,WC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&$R(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Oe();const d=Ot(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ot(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Vt(a,l),$i(a,c),uo(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new FG),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Om("z",o,u,this.animationValues);for(let c=0;c<Lm.length;c++)Om(`rotate${Lm[c]}`,o,u,this.animationValues),Om(`skew${Lm[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VG;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=rl(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=rl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Br(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=$G(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:h,y:g}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in Hl){if(f[p]===void 0)continue;const{correct:v,applyTo:m}=Hl[p],y=u.transform==="none"?f[p]:v(f[p],d);if(m){const x=m.length;for(let w=0;w<x;w++)u[m[w]]=y}else u[p]=y}return this.options.layoutId&&(u.pointerEvents=d===this?rl(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KC),this.root.sharedNodes.clear()}}}function zG(e){e.updateLayout()}function UG(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Bt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Ot(f);f.min=r[d].min,f.max=f.min+h}):$R(s,n.layoutBox,r)&&Bt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Ot(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=qi();uo(a,r,n.layoutBox);const l=qi();o?uo(l,e.applyTransform(i,!0),n.measuredBox):uo(l,r,n.layoutBox);const u=!LR(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const g=Oe();co(g,n.layoutBox,f.layoutBox);const p=Oe();co(p,r,h.layoutBox),OR(g,p)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function HG(e){Zs&&zr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function GG(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WG(e){e.clearSnapshot()}function KC(e){e.clearMeasurements()}function KG(e){e.isLayoutDirty=!1}function YG(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function YC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function XG(e){e.resolveTargetDelta()}function ZG(e){e.calcProjection()}function QG(e){e.resetSkewAndRotation()}function JG(e){e.removeLeadSnapshot()}function XC(e,t,n){e.translate=Te(t.translate,0,n),e.scale=Te(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ZC(e,t,n,r){e.min=Te(t.min,n.min,r),e.max=Te(t.max,n.max,r)}function e9(e,t,n,r){ZC(e.x,t.x,n.x,r),ZC(e.y,t.y,n.y,r)}function t9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const n9={duration:.45,ease:[.4,0,.1,1]},QC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),JC=QC("applewebkit/")&&!QC("chrome/")?Math.round:jt;function ek(e){e.min=JC(e.min),e.max=JC(e.max)}function r9(e){ek(e.x),ek(e.y)}function $R(e,t,n){return e==="position"||e==="preserve-aspect"&&!oG(HC(t),HC(n),.2)}function i9(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const s9=FR({attachResizeListener:(e,t)=>Vo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qm={current:void 0},VR=FR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qm.current){const e=new s9({});e.mount(window),e.setOptions({layoutScroll:!0}),qm.current=e}return qm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),o9={pan:{Feature:SG},drag:{Feature:_G,ProjectionNode:VR,MeasureLayout:IR}};function tk(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&_e.postRender(()=>s(t,ia(t)))}class a9 extends Or{mount(){const{current:t}=this.node;t&&(this.unmount=oU(t,n=>(tk(this.node,n,"Start"),r=>tk(this.node,r,"End"))))}unmount(){}}class l9 extends Or{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ra(Vo(this.node.current,"focus",()=>this.onFocus()),Vo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nk(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&_e.postRender(()=>s(t,ia(t)))}class u9 extends Or{mount(){const{current:t}=this.node;t&&(this.unmount=cU(t,n=>(nk(this.node,n,"Start"),(r,{success:i})=>nk(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const py=new WeakMap,Fm=new WeakMap,c9=e=>{const t=py.get(e.target);t&&t(e)},d9=e=>{e.forEach(c9)};function f9({root:e,...t}){const n=e||document;Fm.has(n)||Fm.set(n,{});const r=Fm.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(d9,{root:e,...t})),r[i]}function h9(e,t,n){const r=f9(t);return py.set(e,n),r.observe(e),()=>{py.delete(e),r.unobserve(e)}}const p9={some:0,all:1};class m9 extends Or{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:p9[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return h9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(g9(t,n))&&this.startObserver()}unmount(){}}function g9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const y9={inView:{Feature:m9},tap:{Feature:u9},focus:{Feature:l9},hover:{Feature:a9}},v9={layout:{ProjectionNode:VR,MeasureLayout:IR}},my={current:null},BR={current:!1};function w9(){if(BR.current=!0,!!Zv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>my.current=e.matches;e.addListener(t),t()}else my.current=!1}const x9=[...hR,ct,Rr],_9=e=>x9.find(fR(e)),rk=new WeakMap;function S9(e,t,n){for(const r in t){const i=t[r],s=n[r];if(ft(i))e.addValue(r,i);else if(ft(s))e.addValue(r,Fo(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Fo(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const ik=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class b9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=E0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Cn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,_e.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=zu(n),this.isVariantNode=_A(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const g=f[h];l[h]!==void 0&&ft(g)&&g.set(l[h],!1)}}mount(t){this.current=t,rk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),BR.current||w9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rk.delete(this.current),this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=gi.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&_e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ls){const n=ls[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ik.length;r++){const i=ik[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=S9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Fo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(cR(i)||tR(i))?i=parseFloat(i):!_9(i)&&Rr.test(n)&&(i=aR(t,n)),this.setBaseTarget(t,ft(i)?i.get():i)),ft(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=i0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ft(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new v0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class zR extends b9{constructor(){super(...arguments),this.KeyframeResolver=pR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ft(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function E9(e){return window.getComputedStyle(e)}class C9 extends zR{constructor(){super(...arguments),this.type="html",this.renderInstance=PA}readValueFromInstance(t,n){if(gi.has(n)){const r=b0(n);return r&&r.default||0}else{const r=E9(t),i=(TA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return AR(t,n)}build(t,n,r){a0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return d0(t,n,r)}}class k9 extends zR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gi.has(n)){const r=b0(n);return r&&r.default||0}return n=AA.has(n)?n:t0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return jA(t,n,r)}build(t,n,r){l0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){RA(t,n,r,i)}mount(t){this.isSVGTag=c0(t.tagName),super.mount(t)}}const T9=(e,t)=>r0(e)?new k9(t):new C9(t,{allowProjection:e!==b.Fragment}),N9=J8({...ZH,...y9,...o9,...v9},T9),M9=p8(N9);function P9({steps:e,fromRects:t,toRects:n,onComplete:r}){return b.useEffect(()=>{const i=window.setTimeout(r,550);return()=>window.clearTimeout(i)},[r]),_.jsx("div",{className:"morph-layer",children:e.map(i=>{var a;const s=t[i.id],o=n[i.id];return!s||!o?null:_.jsxs(M9.div,{className:`morph-card step-${i.type}`,initial:{left:s.left,top:s.top,width:s.width,height:s.height},animate:{left:o.left,top:o.top,width:o.width,height:o.height},transition:{duration:.5,ease:"easeInOut"},children:[_.jsx("div",{className:"morph-card-title",children:i.name}),_.jsx("div",{className:"morph-card-subtitle",children:((a=i.preview)==null?void 0:a.title)??i.type})]},i.id)})})}function A9({morph:e,onComplete:t,children:n}){return _.jsxs("div",{className:"morph-orchestrator",children:[n,e?_.jsx(P9,{steps:e.steps,fromRects:e.fromRects,toRects:e.toRects,onComplete:t}):null]})}function R9(){const[e,t]=b.useState(null),[n,r]=b.useState(null),[i,s]=b.useState(!0),[o,a]=b.useState(null),[l,u]=b.useState([]),[c,d]=b.useState(null),f=b.useCallback(async g=>{const p=await Z6(),v=(p==null?void 0:p.trace)??null;t(v),r(v?(p==null?void 0:p.insights)??zj(v):null)},[t,r]),h=b.useCallback(async()=>{var g;s(!0),a(null);try{const p=await X6();u(p);const v=((g=p[p.length-1])==null?void 0:g.id)??null,m=c??v;if(!m){t(null),r(null);return}if(!c||c!==m){d(m);return}await f(m)}catch(p){a(p instanceof Error?p.message:"Failed to load trace")}finally{s(!1)}},[c,f]);return b.useEffect(()=>{h()},[h]),b.useEffect(()=>{c&&(s(!0),f(c).catch(g=>{a(g instanceof Error?g.message:"Failed to load trace")}).finally(()=>s(!1)))},[c,f]),{trace:e,insights:n,loading:i,error:o,reload:h,traces:l,selectedTraceId:c,setSelectedTraceId:d}}function An(e,t){const[n,r]=b.useState(()=>{if(typeof window>"u")return t;try{const i=window.localStorage.getItem(e);return i==null?t:JSON.parse(i)}catch{return t}});return b.useEffect(()=>{try{window.localStorage.setItem(e,JSON.stringify(n))}catch{}},[e,n]),[n,r]}function I9(e,t,n){const{intervals:r}=hu(e,t,n),i=new Set;return r.forEach(s=>{i.add(s.startMs),i.add(s.endMs)}),Array.from(i).sort((s,o)=>s-o)}function j9(e,t,n){if(!e.length)return null;if(n===1){for(const r of e)if(r>t+1)return r;return e[e.length-1]}for(let r=e.length-1;r>=0;r-=1){const i=e[r];if(i<t-1)return i}return e[0]}const sk=220,ok=120;function D9(e){return e.filter(t=>t.parentStepId).map(t=>({source:t.parentStepId,target:t.id}))}function L9(e){const t=[...e].sort((n,r)=>n.index-r.index);return t.slice(1).map((n,r)=>({source:t[r].id,target:n.id}))}function O9(e){const t={},n=e.getBoundingClientRect();return e.querySelectorAll(".step-card").forEach(i=>{const s=i.dataset.stepId;if(!s)return;const o=i.getBoundingClientRect();t[s]={left:o.left-n.left,top:o.top-n.top,width:o.width,height:o.height}}),t}function q9(e,t,n){const r=[...D9(e),...L9(e),...nl(e).map(g=>({source:g.source,target:g.target}))],i=Jg(e,r,n),s=t.getBoundingClientRect(),o=Math.min(...i.map(g=>g.position.x)),a=Math.min(...i.map(g=>g.position.y)),l=Math.max(...i.map(g=>g.position.x)),u=Math.max(...i.map(g=>g.position.y)),c=l-o+sk,d=u-a+ok,f=Math.max(32,(s.width-c)/2),h=Math.max(24,(s.height-d)/2);return i.reduce((g,p)=>(g[p.id]={left:p.position.x-o+f,top:p.position.y-a+h,width:sk,height:ok},g),{})}function ak(e,t,n){const r=t.trim().toLowerCase();return e.filter(i=>{var o,a,l;return n!=="all"&&i.type!==n?!1:r?[i.name,(o=i.preview)==null?void 0:o.title,(a=i.preview)==null?void 0:a.outputPreview,(l=i.preview)==null?void 0:l.inputPreview].filter(Boolean).join(" ").toLowerCase().includes(r):!0})}function F9(){var oa;const{trace:e,insights:t,loading:n,error:r,reload:i,traces:s,selectedTraceId:o,setSelectedTraceId:a}=R9(),[l,u]=An("agentDirector.mode","cinema"),[c,d]=b.useState(""),[f,h]=b.useState("all"),[g,p]=b.useState(null),[v,m]=An("agentDirector.safeExport",!1),[y,x]=b.useState(null),[w,S]=b.useState(!1),[C,k]=b.useState(0),[T,M]=An("agentDirector.speed",1),[A,R]=An("agentDirector.windowed",!1),[B,V]=b.useState(2e4),[E,D]=b.useState(!1),[I,L]=b.useState(!1),[P,N]=An("agentDirector.overlayEnabled",!1),[j,F]=An("agentDirector.onboarded",!1),[$,O]=An("agentDirector.tourCompleted",!1),[z,G]=An("agentDirector.explainMode",!0),Z=!1,[re,ce]=An("agentDirector.introDismissed",Z),[le,ne]=b.useState(!1),[te,pe]=b.useState(null),[Pe,Ae]=b.useState([]),[J,Re]=b.useState(null),[X,K]=b.useState(null),me=b.useRef(null),vt=b.useRef(null),Nt=b.useMemo(()=>e?ak(e.steps,c,f):[],[e,c,f]),Ze=b.useMemo(()=>y?ak(y.steps,c,f):[],[y,c,f]),Se=b.useMemo(()=>e?I9(e.startedAt,e.endedAt,e.steps):[],[e]),st=b.useMemo(()=>!e||!y?null:Yv(e,y),[e,y]),wt=b.useMemo(()=>e?e.steps.find(H=>H.id===g)??null:null,[e,g]);b.useEffect(()=>{vt.current=y},[y]);const Qe=b.useCallback(async H=>{if(!e)return;const Y=await e8(e.id,H,"hybrid",{note:"UI replay"},e);Y&&(x(Y),N(!0),u("flow"))},[e,x,u,N]),Be=b.useCallback(()=>{if(!e)return;const H=[...e.steps].sort((Y,ue)=>(ue.durationMs??0)-(Y.durationMs??0))[0];H&&(p(H.id),u("cinema"))},[e,u]),ot=b.useCallback(()=>{if(!e||e.steps.length===0)return null;const H=[...e.steps].sort((Y,ue)=>(ue.durationMs??0)-(Y.durationMs??0))[0];return(H==null?void 0:H.id)??null},[e]),Mt=b.useCallback(()=>{if(!e)return;const H=e.steps.find(Y=>Y.status==="failed");H&&(p(H.id),u("cinema"))},[e,u]),ge=b.useCallback(H=>{if(!(H===l||!e)){if(H==="flow"&&S(!1),H==="flow"&&l==="cinema"&&me.current){const Y=me.current,ue=O9(Y),We=q9(e.steps,Y,e.id);K({steps:e.steps,fromRects:ue,toRects:We});return}u(H)}},[l,e,S,u]),Ie=b.useCallback(()=>{l==="flow"&&ge("cinema"),S(H=>!H)},[l,ge]),Ce=b.useCallback(()=>{pe(null),Ae([]),Re(null),S(!1)},[S]),ze=b.useCallback(H=>[{id:"setup",label:"Opening the reel",duration:1100,action:()=>{G(!0),S(!1),k(0),p(null),N(!1),M(1),e&&e.steps.length<500&&R(!1),ge("cinema")}},{id:"pace",label:"Pacing the timeline",duration:2200,action:()=>{ge("cinema"),S(!0),M(1.1)}},{id:"bottleneck",label:"Freeze on the bottleneck",duration:1600,action:()=>{S(!1),Be()}},{id:"inspect",label:"Inspect the moment",duration:1600,action:()=>{H&&p(H)}},{id:"flow",label:"Morph into flow",duration:2100,action:()=>{ge("flow")}},{id:"replay",label:"Directors Cut replay",duration:2200,action:async()=>{if(!e)return;!vt.current&&H&&await Qe(H),N(!0),u("compare")}},{id:"compare",label:"Compare the cut",duration:2e3,action:()=>{S(!0),M(1)}},{id:"finale",label:"Final frame",duration:1100,action:()=>{S(!1)}}],[ge,Qe,Be,G,S,u,N,k,p,M,R,e]),Fe=b.useCallback(()=>{var Y;if(!e)return;const H=g??ot()??((Y=e.steps[0])==null?void 0:Y.id)??null;Ae(ze(H)),pe({active:!0,step:0}),Re(e.id),ne(!1),D(!1),L(!1)},[ze,ot,g,e,L,D,Ae,pe,Re,ne]),xt=b.useCallback(()=>{if(te!=null&&te.active){Ce();return}Fe()},[Fe,Ce,te==null?void 0:te.active]),Jt=b.useMemo(()=>[{id:"header",title:"Mission control",body:"Confirm the run, status, and metadata. Use Guide and Explain to orient the room instantly.",target:'[data-tour="header"]',placement:"bottom"},{id:"insights",title:"Fast diagnosis",body:"Jump straight to bottlenecks, errors, and high-cost steps with one click.",target:'[data-tour="insights"]',placement:"bottom"},{id:"journey",title:"Director journey",body:"A narrative path that teaches how to watch, inspect, and direct a better run.",target:'[data-tour="journey"]',placement:"bottom"},{id:"toolbar",title:"Filters + modes",body:"Search, filter, and switch between Cinema, Flow, and Compare as the story evolves.",target:'[data-tour="toolbar"]',placement:"bottom"},{id:"quick-actions",title:"Quick actions",body:"Launch Story Mode, open the command palette, or jump to bottlenecks instantly.",target:'[data-tour="quick-actions"]',placement:"left"},{id:"stage",title:"Cinema stage",body:"The timeline shows every step as a scene. Scrub to see pacing and concurrency.",target:'[data-tour="stage"]',placement:"top"},{id:"inspector",title:"Inspector",body:"Open any step to read payloads, apply redaction, and replay from that moment.",target:'[data-tour="inspector"]',placement:"left"},{id:"compare",title:"Compare runs",body:y?"Compare is live. Review deltas in cost, steps, and wall time side by side.":"Replay from a step to unlock compare mode and validate improvements.",target:'[data-tour="compare"]',placement:"top"}],[y]),$t=b.useCallback(()=>{K(null),u("flow")},[u]);b.useEffect(()=>{if(!e)return;J6(),k(0),S(!1);const H=Math.min(Math.max((e.metadata.wallTimeMs||1)*.2,5e3),6e4);V(H),e.steps.length>500&&R(!0),y||N(!1),l==="compare"&&!y&&u("cinema")},[e,y,l,u,R,N]),b.useEffect(()=>{!$&&re&&ne(!0)},[$,re]),b.useEffect(()=>(document.body.classList.toggle("explain-mode",z),()=>{document.body.classList.remove("explain-mode")}),[z]),b.useEffect(()=>(document.body.classList.toggle("story-mode",!!(te!=null&&te.active)),()=>{document.body.classList.remove("story-mode")}),[te==null?void 0:te.active]),b.useEffect(()=>{if(!(te!=null&&te.active))return;const H=Pe[te.step];if(!H){Ce();return}Promise.resolve(H.action());const Y=window.setTimeout(()=>{pe(ue=>ue&&ue.active?{...ue,step:ue.step+1}:ue)},H.duration);return()=>window.clearTimeout(Y)},[Pe,Ce,te]),b.useEffect(()=>{te!=null&&te.active&&(!e||!J||e.id!==J&&Ce())},[te==null?void 0:te.active,e,J,Ce]),b.useEffect(()=>{if(!e)return;const Y=Date.parse(e.startedAt)+C;let ue=0,We=Number.POSITIVE_INFINITY;e.steps.forEach((at,Je)=>{const rr=Date.parse(at.startedAt),gn=Date.parse(at.endedAt??at.startedAt);if(Y>=rr&&Y<=gn){ue=Je,We=0;return}const aa=Math.min(Math.abs(Y-rr),Math.abs(Y-gn));aa<We&&(We=aa,ue=Je)}),[ue,ue-1,ue+1].filter(at=>at>=0&&at<e.steps.length).forEach(at=>{const Je=e.steps[at];Je&&Q6(e.id,Je.id,v)})},[e,C,v]),b.useEffect(()=>{if(!e||!w||l!=="cinema"&&l!=="compare")return;const H=(y==null?void 0:y.metadata.wallTimeMs)??0,Y=l==="compare"?Math.max(e.metadata.wallTimeMs||1,H||1):e.metadata.wallTimeMs||1;let ue=0,We=performance.now();const yi=at=>{const Je=(at-We)*T;We=at,k(rr=>{const gn=rr+Je;return gn>=Y?(S(!1),Y):gn}),ue=requestAnimationFrame(yi)};return ue=requestAnimationFrame(yi),()=>cancelAnimationFrame(ue)},[e,y,w,T,l]),b.useEffect(()=>{const H=Y=>{var at;const ue=Y.target,We=(at=ue==null?void 0:ue.tagName)==null?void 0:at.toLowerCase();if(!(We==="input"||We==="textarea"||We==="select"||ue!=null&&ue.isContentEditable)){if((Y.metaKey||Y.ctrlKey)&&Y.key.toLowerCase()==="k"){Y.preventDefault(),L(Je=>!Je);return}if(Y.key==="?"||Y.key==="/"&&Y.shiftKey){Y.preventDefault(),D(!0);return}if(Y.key.toLowerCase()==="s"){Y.preventDefault(),xt();return}if(Y.key.toLowerCase()==="e"){Y.preventDefault(),G(Je=>!Je);return}if(Y.key.toLowerCase()==="t"){Y.preventDefault(),ne(!0);return}if(Y.key==="Escape"){D(!1),L(!1),p(null);return}if(Y.key===" "){Y.preventDefault(),(l==="cinema"||l==="compare")&&S(Je=>!Je);return}if(Y.key.toLowerCase()==="f"){Y.preventDefault(),l==="flow"?u("cinema"):l==="cinema"&&ge("flow");return}if(Y.key.toLowerCase()==="i"){Y.preventDefault(),g?p(null):e!=null&&e.steps.length&&p(e.steps[0].id);return}if(Y.key==="ArrowLeft"||Y.key==="ArrowRight"){if(Y.preventDefault(),!e)return;const Je=e.metadata.wallTimeMs||1;if(Y.shiftKey){k(Y.key==="ArrowLeft"?0:Je),S(!1),u("cinema");return}const rr=Y.key==="ArrowRight"?1:-1,gn=j9(Se,C,rr);gn!=null&&(k(gn),S(!1),u("cinema"))}}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[l,g,e,C,Se,ge,u,G,L,ne,xt]);const tr=b.useMemo(()=>{if(!e||!A||c)return null;const H=e.metadata.wallTimeMs||1,Y=Math.min(Math.max(B,5e3),H);let ue=Math.max(0,C-Y/2);const We=Math.min(H,ue+Y);return We-ue<Y&&(ue=Math.max(0,We-Y)),{startMs:ue,endMs:We}},[e,A,C,c,B]),mn=!!(te!=null&&te.active),nr=(te==null?void 0:te.step)??0,xs=((oa=Pe[nr])==null?void 0:oa.label)??"Wrapping up",sa=Pe.length,Nn=b.useMemo(()=>[{id:"story-toggle",label:mn?"Stop story mode":"Start story mode",description:"Auto-runs a cinematic walkthrough.",group:"Story",keys:"S",onTrigger:xt},{id:"tour-start",label:"Start guided tour",description:"Walk the interface step by step.",group:"Onboarding",keys:"T",onTrigger:()=>ne(!0)},{id:"explain-toggle",label:z?"Disable explain mode":"Enable explain mode",description:"Toggle contextual overlays.",group:"Onboarding",keys:"E",onTrigger:()=>G(H=>!H)},{id:"shortcuts",label:"Show shortcuts",description:"Open the keyboard map.",group:"Onboarding",keys:"?",onTrigger:()=>D(!0)},{id:"playback-toggle",label:w?"Pause playback":"Play playback",description:"Start or stop the run.",group:"Playback",keys:"Space",onTrigger:Ie},{id:"mode-cinema",label:"Switch to Cinema",description:"Timeline playback view.",group:"Modes",keys:"C",onTrigger:()=>ge("cinema")},{id:"mode-flow",label:"Switch to Flow",description:"Graph dependency view.",group:"Modes",keys:"F",onTrigger:()=>ge("flow")},{id:"mode-compare",label:"Open Compare",description:"Side-by-side diff view.",group:"Modes",onTrigger:()=>ge("compare"),disabled:!y},{id:"jump-bottleneck",label:"Jump to bottleneck",description:"Select the slowest step.",group:"Navigation",onTrigger:Be},{id:"jump-error",label:"Jump to error",description:"Select the first failed step.",group:"Navigation",onTrigger:Mt},{id:"replay-step",label:"Replay from selected step",description:"Branch a Directors Cut.",group:"Tools",onTrigger:()=>g&&Qe(g),disabled:!g},{id:"overlay-toggle",label:P?"Hide overlay":"Show overlay",description:"Ghost diff in Cinema/Flow.",group:"Tools",onTrigger:()=>N(H=>!H),disabled:!y},{id:"safe-export",label:v?"Disable safe export":"Enable safe export",description:"Redact sensitive payloads.",group:"Safety",onTrigger:()=>m(H=>!H)},{id:"reload",label:"Reload traces",description:"Refresh trace data.",group:"Meta",onTrigger:i}],[mn,xt,z,w,Ie,ge,y,Be,Mt,g,Qe,P,v,i,G,N,m,D,ne]);return n?_.jsx("div",{className:"loading",children:"Loading trace..."}):r||!e?_.jsxs("div",{className:"error",children:[_.jsx("p",{children:r??"Failed to load trace."}),_.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Retry"})]}):_.jsxs("div",{className:`app ${z?"explain-mode":""}`,children:[_.jsx(Fj,{trace:e,traces:s,selectedTraceId:o,onSelectTrace:a,onReload:i,onStartTour:()=>ne(!0),onToggleStory:xt,onOpenPalette:()=>L(!0),onToggleExplain:()=>G(H=>!H),explainMode:z,storyActive:mn}),!re&&!Z?_.jsx(pD,{onComplete:()=>ce(!0)}):null,_.jsx(dD,{steps:Jt,open:le,onClose:()=>{ne(!1),O(!0)},onComplete:()=>{ne(!1),O(!0)}}),_.jsx(fD,{enabled:z}),_.jsx(gD,{active:mn,label:xs,step:nr,total:sa,onStop:Ce,onRestart:Fe}),_.jsx($j,{insights:t,onSelectStep:H=>{p(H),l!=="cinema"&&u("cinema")},onJumpToError:Mt,onJumpToBottleneck:Be}),_.jsx(lD,{trace:e,mode:l,playheadMs:C,selectedStepId:g,compareTrace:y,collapsed:j,onToggleCollapsed:()=>F(H=>!H),onModeChange:ge,onSelectStep:H=>{p(H),l!=="cinema"&&u("cinema")},onJumpToBottleneck:Be,onReplay:Qe,onShowShortcuts:()=>D(!0),onStartTour:()=>ne(!0),onToggleStory:xt,storyActive:mn}),_.jsxs("div",{className:"toolbar","data-help":!0,"data-help-indicator":!0,"data-tour":"toolbar","data-help-title":"Search + filters","data-help-body":"Filter by step type, enable Safe export, and jump between Cinema, Flow, and Compare.","data-help-placement":"bottom",children:[_.jsx(Bj,{query:c,typeFilter:f,onQueryChange:d,onTypeFilterChange:h}),_.jsxs("div",{className:"toolbar-actions",children:[_.jsx("button",{className:`ghost-button ${l==="cinema"?"active":""}`,type:"button","aria-pressed":l==="cinema",title:"Timeline playback",onClick:()=>ge("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view with step cards ordered by time.","data-help-placement":"bottom",children:"Cinema"}),_.jsx("button",{className:`ghost-button ${l==="flow"?"active":""}`,type:"button","aria-pressed":l==="flow",title:"Graph view",onClick:()=>ge("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Dependency graph of steps and tool calls.","data-help-placement":"bottom",children:"Flow"}),_.jsx("button",{className:`ghost-button ${l==="compare"?"active":""}`,type:"button","aria-pressed":l==="compare",title:y?"Side-by-side compare":"Run a replay to enable compare",onClick:()=>ge("compare"),disabled:!y,"data-tour":"compare","data-help":!0,"data-help-title":"Compare mode","data-help-body":"Side-by-side view after a replay. Enabled once you replay.","data-help-placement":"bottom",children:"Compare"}),_.jsxs("label",{className:"toggle",title:"Redact payloads and disable raw views for safe sharing","data-help":!0,"data-help-title":"Safe export","data-help-body":"Redacts secrets and disables raw payload views for safe sharing.","data-help-placement":"bottom",children:[_.jsx("input",{type:"checkbox",checked:v,onChange:()=>m(H=>!H)}),"Safe export"]}),e.steps.length>200||A?_.jsxs("label",{className:"toggle",title:"Window steps around the playhead for large traces","data-help":!0,"data-help-title":"Windowed mode","data-help-body":"Limits rendering to a playhead window for large traces.","data-help-placement":"bottom",children:[_.jsx("input",{type:"checkbox",checked:A,onChange:()=>R(H=>!H)}),"Windowed"]}):null,y?_.jsxs("label",{className:"toggle",title:"Show ghost overlay of replay in Cinema/Flow","data-help":!0,"data-help-title":"Overlay replay","data-help-body":"Layer the replay over the base run to spot differences.","data-help-placement":"bottom",children:[_.jsx("input",{type:"checkbox",checked:P,onChange:()=>N(H=>!H)}),"Overlay"]}):null]})]}),l==="cinema"?_.jsxs("div",{className:"playback-stack","data-tour":"playback",children:[_.jsx("div",{"data-help":!0,"data-help-title":"Playback controls","data-help-body":"Play, pause, scrub, and adjust speed to feel the rhythm of the run.","data-help-placement":"bottom",children:_.jsx(Vw,{playheadMs:C,wallTimeMs:e.metadata.wallTimeMs||1,isPlaying:w,speed:T,onToggle:()=>S(H=>!H),onScrub:H=>k(H),onSpeedChange:M})}),_.jsx("div",{"data-help":!0,"data-help-title":"Density map","data-help-body":"Zoom into hotspots and keep long traces readable with windowing.","data-help-placement":"bottom",children:_.jsx(tD,{traceStart:e.startedAt,traceEnd:e.endedAt,steps:e.steps,playheadMs:C,windowRange:tr,windowed:A,spanMs:B,onSpanChange:V,onToggleWindowed:R,onScrub:H=>k(H)})})]}):null,l==="compare"&&y?_.jsx("div",{"data-help":!0,"data-help-title":"Compare playback","data-help-body":"Sync both runs to evaluate improvements at identical timestamps.","data-help-placement":"bottom",children:_.jsx(Vw,{playheadMs:C,wallTimeMs:Math.max(e.metadata.wallTimeMs||1,y.metadata.wallTimeMs||1),isPlaying:w,speed:T,onToggle:()=>S(H=>!H),onScrub:H=>k(H),onSpeedChange:M})}):null,_.jsxs("main",{className:"stage",role:"main",children:[_.jsx("div",{className:"main",ref:me,"data-help":!0,"data-help-indicator":!0,"data-tour":"stage","data-help-title":"Trace stage","data-help-body":"Every step becomes a scene. Hover or click to open deep inspection.","data-help-placement":"top",children:_.jsxs(A9,{morph:X,onComplete:$t,children:[l==="cinema"?_.jsx(Qj,{trace:e,steps:Nt,selectedStepId:g,onSelectStep:H=>p(H),playheadMs:C,windowRange:tr,timing:t==null?void 0:t.timing,ghostTrace:P?y:null,diff:st}):null,l==="flow"?_.jsx(q6,{steps:Nt,selectedStepId:g,onSelectStep:H=>p(H),baseTrace:e,compareTrace:y,compareSteps:Ze,overlayEnabled:P,onToggleOverlay:()=>N(H=>!H)}):null,l==="compare"&&y?_.jsx($6,{baseTrace:e,compareTrace:y,playheadMs:C,safeExport:v,onExit:()=>{u("cinema"),x(null)}}):null]})}),wt?_.jsx(r8,{traceId:e.id,step:wt,safeExport:v,onClose:()=>p(null),onReplay:Qe}):_.jsx(cD,{trace:e,mode:l,selectedStepId:g,onModeChange:ge,onSelectStep:H=>p(H),onJumpToBottleneck:Be,onReplay:Qe})]}),_.jsx(mD,{mode:l,isPlaying:w,storyActive:mn,explainMode:z,onTogglePlay:Ie,onStartStory:Fe,onStopStory:Ce,onStartTour:()=>ne(!0),onOpenPalette:()=>L(!0),onShowShortcuts:()=>D(!0),onToggleExplain:()=>G(H=>!H),onJumpToBottleneck:Be}),_.jsx(oD,{open:I,onClose:()=>L(!1),actions:Nn}),_.jsx(rD,{open:E,onClose:()=>D(!1)})]})}$m.createRoot(document.getElementById("root")).render(_.jsx(q.StrictMode,{children:_.jsx(F9,{})}));
