(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ck={exports:{}},Zl={},dk={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),d2=Symbol.for("react.portal"),f2=Symbol.for("react.fragment"),h2=Symbol.for("react.strict_mode"),p2=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),g2=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),v2=Symbol.for("react.suspense"),w2=Symbol.for("react.memo"),x2=Symbol.for("react.lazy"),I0=Symbol.iterator;function _2(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var fk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hk=Object.assign,pk={};function cs(e,t,n){this.props=e,this.context=t,this.refs=pk,this.updater=n||fk}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mk(){}mk.prototype=cs.prototype;function wy(e,t,n){this.props=e,this.context=t,this.refs=pk,this.updater=n||fk}var xy=wy.prototype=new mk;xy.constructor=wy;hk(xy,cs.prototype);xy.isPureReactComponent=!0;var j0=Array.isArray,gk=Object.prototype.hasOwnProperty,_y={current:null},yk={key:!0,ref:!0,__self:!0,__source:!0};function vk(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)gk.call(t,r)&&!yk.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zo,type:e,key:s,ref:o,props:i,_owner:_y.current}}function S2(e,t){return{$$typeof:zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sy(e){return typeof e=="object"&&e!==null&&e.$$typeof===zo}function b2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var D0=/\/+/g;function Yu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b2(""+e.key):t.toString(36)}function $a(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zo:case d2:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Yu(o,0):r,j0(i)?(n="",e!=null&&(n=e.replace(D0,"$&/")+"/"),$a(i,t,n,"",function(u){return u})):i!=null&&(Sy(i)&&(i=S2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(D0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",j0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Yu(s,a);o+=$a(s,t,n,l,i)}else if(l=_2(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Yu(s,a++),o+=$a(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ua(e,t,n){if(e==null)return e;var r=[],i=0;return $a(e,r,"","",function(s){return t.call(n,s,i++)}),r}function E2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Va={transition:null},C2={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Va,ReactCurrentOwner:_y};function wk(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:ua,forEach:function(e,t,n){ua(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ua(e,function(){t++}),t},toArray:function(e){return ua(e,function(t){return t})||[]},only:function(e){if(!Sy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=cs;ae.Fragment=f2;ae.Profiler=p2;ae.PureComponent=wy;ae.StrictMode=h2;ae.Suspense=v2;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;ae.act=wk;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hk({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=_y.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)gk.call(t,l)&&!yk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zo,type:e.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:g2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m2,_context:e},e.Consumer=e};ae.createElement=vk;ae.createFactory=function(e){var t=vk.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:y2,render:e}};ae.isValidElement=Sy;ae.lazy=function(e){return{$$typeof:x2,_payload:{_status:-1,_result:e},_init:E2}};ae.memo=function(e,t){return{$$typeof:w2,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Va.transition;Va.transition={};try{e()}finally{Va.transition=t}};ae.unstable_act=wk;ae.useCallback=function(e,t){return mt.current.useCallback(e,t)};ae.useContext=function(e){return mt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return mt.current.useEffect(e,t)};ae.useId=function(){return mt.current.useId()};ae.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return mt.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};ae.useRef=function(e){return mt.current.useRef(e)};ae.useState=function(e){return mt.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return mt.current.useTransition()};ae.version="18.3.1";dk.exports=ae;var b=dk.exports;const q=vy(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2=b,T2=Symbol.for("react.element"),N2=Symbol.for("react.fragment"),M2=Object.prototype.hasOwnProperty,P2=k2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A2={key:!0,ref:!0,__self:!0,__source:!0};function xk(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)M2.call(t,r)&&!A2.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:T2,type:e,key:s,ref:o,props:i,_owner:P2.current}}Zl.Fragment=N2;Zl.jsx=xk;Zl.jsxs=xk;ck.exports=Zl;var w=ck.exports,Bm={},_k={exports:{}},Ot={},Sk={exports:{}},bk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,N){var j=P.length;P.push(N);e:for(;0<j;){var F=j-1>>>1,$=P[F];if(0<i($,N))P[F]=N,P[j]=$,j=F;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var N=P[0],j=P.pop();if(j!==N){P[0]=j;e:for(var F=0,$=P.length,O=$>>>1;F<O;){var z=2*(F+1)-1,G=P[z],Z=z+1,ne=P[Z];if(0>i(G,j))Z<$&&0>i(ne,G)?(P[F]=ne,P[Z]=j,F=Z):(P[F]=G,P[z]=j,F=z);else if(Z<$&&0>i(ne,j))P[F]=ne,P[Z]=j,F=Z;else break e}}return N}function i(P,N){var j=P.sortIndex-N.sortIndex;return j!==0?j:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=P)r(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function _(P){if(p=!1,x(P),!g)if(n(l)!==null)g=!0,A(S);else{var N=n(u);N!==null&&L(_,N.startTime-P)}}function S(P,N){g=!1,p&&(p=!1,m(T),T=-1),h=!0;var j=f;try{for(x(N),d=n(l);d!==null&&(!(d.expirationTime>N)||P&&!I());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var $=F(d.expirationTime<=N);N=e.unstable_now(),typeof $=="function"?d.callback=$:d===n(l)&&r(l),x(N)}else r(l);d=n(l)}if(d!==null)var O=!0;else{var z=n(u);z!==null&&L(_,z.startTime-N),O=!1}return O}finally{d=null,f=j,h=!1}}var C=!1,k=null,T=-1,M=5,R=-1;function I(){return!(e.unstable_now()-R<M)}function B(){if(k!==null){var P=e.unstable_now();R=P;var N=!0;try{N=k(!0,P)}finally{N?V():(C=!1,k=null)}}else C=!1}var V;if(typeof y=="function")V=function(){y(B)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,D=E.port2;E.port1.onmessage=B,V=function(){D.postMessage(null)}}else V=function(){v(B,0)};function A(P){k=P,C||(C=!0,V())}function L(P,N){T=v(function(){P(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,A(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var j=f;f=N;try{return P()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var j=f;f=P;try{return N()}finally{f=j}},e.unstable_scheduleCallback=function(P,N,j){var F=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?F+j:F):j=F,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=j+$,P={id:c++,callback:N,priorityLevel:P,startTime:j,expirationTime:$,sortIndex:-1},j>F?(P.sortIndex=j,t(u,P),n(l)===null&&P===n(u)&&(p?(m(T),T=-1):p=!0,L(_,j-F))):(P.sortIndex=$,t(l,P),g||h||(g=!0,A(S))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var N=f;return function(){var j=f;f=N;try{return P.apply(this,arguments)}finally{f=j}}}})(bk);Sk.exports=bk;var R2=Sk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2=b,jt=R2;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ek=new Set,ho={};function ui(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(ho[e]=t,e=0;e<t.length;e++)Ek.add(t[e])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zm=Object.prototype.hasOwnProperty,j2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L0={},O0={};function D2(e){return zm.call(O0,e)?!0:zm.call(L0,e)?!1:j2.test(e)?O0[e]=!0:(L0[e]=!0,!1)}function L2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O2(e,t,n,r){if(t===null||typeof t>"u"||L2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var by=/[\-:]([a-z])/g;function Ey(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(by,Ey);nt[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(by,Ey);nt[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(by,Ey);nt[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cy(e,t,n,r){var i=nt.hasOwnProperty(t)?nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O2(t,n,i,r)&&(n=null),r||i===null?D2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qn=I2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ca=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),ky=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),Ck=Symbol.for("react.provider"),kk=Symbol.for("react.context"),Ty=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Tk=Symbol.for("react.offscreen"),q0=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=q0&&e[q0]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Xu;function Os(e){if(Xu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xu=t&&t[1]||""}return`
`+Xu+e}var Zu=!1;function Qu(e,t){if(!e||Zu)return"";Zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Os(e):""}function q2(e){switch(e.tag){case 5:return Os(e.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return e=Qu(e.type,!1),e;case 11:return e=Qu(e.type.render,!1),e;case 1:return e=Qu(e.type,!0),e;default:return""}}function Wm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case bi:return"Portal";case Um:return"Profiler";case ky:return"StrictMode";case Hm:return"Suspense";case Gm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kk:return(e.displayName||"Context")+".Consumer";case Ck:return(e._context.displayName||"Context")+".Provider";case Ty:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ny:return t=e.displayName||null,t!==null?t:Wm(e.type)||"Memo";case ar:t=e._payload,e=e._init;try{return Wm(e(t))}catch{}}return null}function F2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wm(t);case 8:return t===ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $2(e){var t=Nk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function da(e){e._valueTracker||(e._valueTracker=$2(e))}function Mk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Km(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function F0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pk(e,t){t=t.checked,t!=null&&Cy(e,"checked",t,!1)}function Ym(e,t){Pk(e,t);var n=Tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xm(e,t.type,Tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xm(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qs=Array.isArray;function Vi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function V0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(qs(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tr(n)}}function Ak(e,t){var n=Tr(t.value),r=Tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function B0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fa,Ik=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function po(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V2=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){V2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function jk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function Dk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var B2=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(e,t){if(t){if(B2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function eg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=null;function My(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ng=null,Bi=null,zi=null;function z0(e){if(e=Go(e)){if(typeof ng!="function")throw Error(U(280));var t=e.stateNode;t&&(t=nu(t),ng(e.stateNode,e.type,t))}}function Lk(e){Bi?zi?zi.push(e):zi=[e]:Bi=e}function Ok(){if(Bi){var e=Bi,t=zi;if(zi=Bi=null,z0(e),t)for(e=0;e<t.length;e++)z0(t[e])}}function qk(e,t){return e(t)}function Fk(){}var Ju=!1;function $k(e,t,n){if(Ju)return e(t,n);Ju=!0;try{return qk(e,t,n)}finally{Ju=!1,(Bi!==null||zi!==null)&&(Fk(),Ok())}}function mo(e,t){var n=e.stateNode;if(n===null)return null;var r=nu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var rg=!1;if(Un)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){rg=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{rg=!1}function z2(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var eo=!1,al=null,ll=!1,ig=null,U2={onError:function(e){eo=!0,al=e}};function H2(e,t,n,r,i,s,o,a,l){eo=!1,al=null,z2.apply(U2,arguments)}function G2(e,t,n,r,i,s,o,a,l){if(H2.apply(this,arguments),eo){if(eo){var u=al;eo=!1,al=null}else throw Error(U(198));ll||(ll=!0,ig=u)}}function ci(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U0(e){if(ci(e)!==e)throw Error(U(188))}function W2(e){var t=e.alternate;if(!t){if(t=ci(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return U0(i),e;if(s===r)return U0(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Bk(e){return e=W2(e),e!==null?zk(e):null}function zk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zk(e);if(t!==null)return t;e=e.sibling}return null}var Uk=jt.unstable_scheduleCallback,H0=jt.unstable_cancelCallback,K2=jt.unstable_shouldYield,Y2=jt.unstable_requestPaint,Fe=jt.unstable_now,X2=jt.unstable_getCurrentPriorityLevel,Py=jt.unstable_ImmediatePriority,Hk=jt.unstable_UserBlockingPriority,ul=jt.unstable_NormalPriority,Z2=jt.unstable_LowPriority,Gk=jt.unstable_IdlePriority,Ql=null,_n=null;function Q2(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Ql,e,void 0,(e.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:tI,J2=Math.log,eI=Math.LN2;function tI(e){return e>>>=0,e===0?32:31-(J2(e)/eI|0)|0}var ha=64,pa=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fs(a):(s&=o,s!==0&&(r=Fs(s)))}else o=n&~i,o!==0?r=Fs(o):s!==0&&(r=Fs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-an(t),i=1<<n,r|=e[n],t&=~i;return r}function nI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-an(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nI(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function sg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wk(){var e=ha;return ha<<=1,!(ha&4194240)&&(ha=64),e}function ec(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-an(t),e[t]=n}function iI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-an(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Ay(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-an(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function Kk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yk,Ry,Xk,Zk,Qk,og=!1,ma=[],yr=null,vr=null,wr=null,go=new Map,yo=new Map,dr=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G0(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Es(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Go(t),t!==null&&Ry(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oI(e,t,n,r,i){switch(t){case"focusin":return yr=Es(yr,e,t,n,r,i),!0;case"dragenter":return vr=Es(vr,e,t,n,r,i),!0;case"mouseover":return wr=Es(wr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return go.set(s,Es(go.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yo.set(s,Es(yo.get(s)||null,e,t,n,r,i)),!0}return!1}function Jk(e){var t=Ur(e.target);if(t!==null){var n=ci(t);if(n!==null){if(t=n.tag,t===13){if(t=Vk(n),t!==null){e.blockedOn=t,Qk(e.priority,function(){Xk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ag(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tg=r,n.target.dispatchEvent(r),tg=null}else return t=Go(n),t!==null&&Ry(t),e.blockedOn=n,!1;t.shift()}return!0}function W0(e,t,n){Ba(e)&&n.delete(t)}function aI(){og=!1,yr!==null&&Ba(yr)&&(yr=null),vr!==null&&Ba(vr)&&(vr=null),wr!==null&&Ba(wr)&&(wr=null),go.forEach(W0),yo.forEach(W0)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,og||(og=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,aI)))}function vo(e){function t(i){return Cs(i,e)}if(0<ma.length){Cs(ma[0],e);for(var n=1;n<ma.length;n++){var r=ma[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yr!==null&&Cs(yr,e),vr!==null&&Cs(vr,e),wr!==null&&Cs(wr,e),go.forEach(t),yo.forEach(t),n=0;n<dr.length;n++)r=dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)Jk(n),n.blockedOn===null&&dr.shift()}var Ui=Qn.ReactCurrentBatchConfig,dl=!0;function lI(e,t,n,r){var i=me,s=Ui.transition;Ui.transition=null;try{me=1,Iy(e,t,n,r)}finally{me=i,Ui.transition=s}}function uI(e,t,n,r){var i=me,s=Ui.transition;Ui.transition=null;try{me=4,Iy(e,t,n,r)}finally{me=i,Ui.transition=s}}function Iy(e,t,n,r){if(dl){var i=ag(e,t,n,r);if(i===null)cc(e,t,r,fl,n),G0(e,r);else if(oI(i,e,t,n,r))r.stopPropagation();else if(G0(e,r),t&4&&-1<sI.indexOf(e)){for(;i!==null;){var s=Go(i);if(s!==null&&Yk(s),s=ag(e,t,n,r),s===null&&cc(e,t,r,fl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cc(e,t,r,null,n)}}var fl=null;function ag(e,t,n,r){if(fl=null,e=My(r),e=Ur(e),e!==null)if(t=ci(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fl=e,null}function eT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X2()){case Py:return 1;case Hk:return 4;case ul:case Z2:return 16;case Gk:return 536870912;default:return 16}default:return 16}}var mr=null,jy=null,za=null;function tT(){if(za)return za;var e,t=jy,n=t.length,r,i="value"in mr?mr.value:mr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return za=i.slice(e,1<r?1-r:void 0)}function Ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ga(){return!0}function K0(){return!1}function qt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ga:K0,this.isPropagationStopped=K0,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=qt(ds),Ho=Pe({},ds,{view:0,detail:0}),cI=qt(Ho),tc,nc,ks,Jl=Pe({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ly,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(tc=e.screenX-ks.screenX,nc=e.screenY-ks.screenY):nc=tc=0,ks=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),Y0=qt(Jl),dI=Pe({},Jl,{dataTransfer:0}),fI=qt(dI),hI=Pe({},Ho,{relatedTarget:0}),rc=qt(hI),pI=Pe({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),mI=qt(pI),gI=Pe({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yI=qt(gI),vI=Pe({},ds,{data:0}),X0=qt(vI),wI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_I[e])?!!t[e]:!1}function Ly(){return SI}var bI=Pe({},Ho,{key:function(e){if(e.key){var t=wI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ly,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EI=qt(bI),CI=Pe({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z0=qt(CI),kI=Pe({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ly}),TI=qt(kI),NI=Pe({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),MI=qt(NI),PI=Pe({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AI=qt(PI),RI=[9,13,27,32],Oy=Un&&"CompositionEvent"in window,to=null;Un&&"documentMode"in document&&(to=document.documentMode);var II=Un&&"TextEvent"in window&&!to,nT=Un&&(!Oy||to&&8<to&&11>=to),Q0=" ",J0=!1;function rT(e,t){switch(e){case"keyup":return RI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function jI(e,t){switch(e){case"compositionend":return iT(t);case"keypress":return t.which!==32?null:(J0=!0,Q0);case"textInput":return e=t.data,e===Q0&&J0?null:e;default:return null}}function DI(e,t){if(Ci)return e==="compositionend"||!Oy&&rT(e,t)?(e=tT(),za=jy=mr=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nT&&t.locale!=="ko"?null:t.data;default:return null}}var LI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LI[e.type]:t==="textarea"}function sT(e,t,n,r){Lk(r),t=hl(t,"onChange"),0<t.length&&(n=new Dy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var no=null,wo=null;function OI(e){gT(e,0)}function eu(e){var t=Ni(e);if(Mk(t))return e}function qI(e,t){if(e==="change")return t}var oT=!1;if(Un){var ic;if(Un){var sc="oninput"in document;if(!sc){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),sc=typeof tw.oninput=="function"}ic=sc}else ic=!1;oT=ic&&(!document.documentMode||9<document.documentMode)}function nw(){no&&(no.detachEvent("onpropertychange",aT),wo=no=null)}function aT(e){if(e.propertyName==="value"&&eu(wo)){var t=[];sT(t,wo,e,My(e)),$k(OI,t)}}function FI(e,t,n){e==="focusin"?(nw(),no=t,wo=n,no.attachEvent("onpropertychange",aT)):e==="focusout"&&nw()}function $I(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eu(wo)}function VI(e,t){if(e==="click")return eu(t)}function BI(e,t){if(e==="input"||e==="change")return eu(t)}function zI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:zI;function xo(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zm.call(t,i)||!cn(e[i],t[i]))return!1}return!0}function rw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iw(e,t){var n=rw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function lT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uT(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function qy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UI(e){var t=uT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lT(n.ownerDocument.documentElement,n)){if(r!==null&&qy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=iw(n,s);var o=iw(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HI=Un&&"documentMode"in document&&11>=document.documentMode,ki=null,lg=null,ro=null,ug=!1;function sw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ug||ki==null||ki!==ol(r)||(r=ki,"selectionStart"in r&&qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ro&&xo(ro,r)||(ro=r,r=hl(lg,"onSelect"),0<r.length&&(t=new Dy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ki)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ti={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},oc={},cT={};Un&&(cT=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function tu(e){if(oc[e])return oc[e];if(!Ti[e])return e;var t=Ti[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cT)return oc[e]=t[n];return e}var dT=tu("animationend"),fT=tu("animationiteration"),hT=tu("animationstart"),pT=tu("transitionend"),mT=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){mT.set(e,t),ui(t,[e])}for(var ac=0;ac<ow.length;ac++){var lc=ow[ac],GI=lc.toLowerCase(),WI=lc[0].toUpperCase()+lc.slice(1);Rr(GI,"on"+WI)}Rr(dT,"onAnimationEnd");Rr(fT,"onAnimationIteration");Rr(hT,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(pT,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KI=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function aw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,G2(r,t,void 0,e),e.currentTarget=null}function gT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;aw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;aw(i,a,u),s=l}}}if(ll)throw e=ig,ll=!1,ig=null,e}function ve(e,t){var n=t[pg];n===void 0&&(n=t[pg]=new Set);var r=e+"__bubble";n.has(r)||(yT(t,e,2,!1),n.add(r))}function uc(e,t,n){var r=0;t&&(r|=4),yT(n,e,r,t)}var va="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[va]){e[va]=!0,Ek.forEach(function(n){n!=="selectionchange"&&(KI.has(n)||uc(n,!1,e),uc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[va]||(t[va]=!0,uc("selectionchange",!1,t))}}function yT(e,t,n,r){switch(eT(t)){case 1:var i=lI;break;case 4:i=uI;break;default:i=Iy}n=i.bind(null,t,n,e),i=void 0,!rg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ur(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}$k(function(){var u=s,c=My(n),d=[];e:{var f=mT.get(e);if(f!==void 0){var h=Dy,g=e;switch(e){case"keypress":if(Ua(n)===0)break e;case"keydown":case"keyup":h=EI;break;case"focusin":g="focus",h=rc;break;case"focusout":g="blur",h=rc;break;case"beforeblur":case"afterblur":h=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=TI;break;case dT:case fT:case hT:h=mI;break;case pT:h=MI;break;case"scroll":h=cI;break;case"wheel":h=AI;break;case"copy":case"cut":case"paste":h=yI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Z0}var p=(t&4)!==0,v=!p&&e==="scroll",m=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,m!==null&&(_=mo(y,m),_!=null&&p.push(So(y,_,x)))),v)break;y=y.return}0<p.length&&(f=new h(f,g,null,n,c),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==tg&&(g=n.relatedTarget||n.fromElement)&&(Ur(g)||g[Hn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Ur(g):null,g!==null&&(v=ci(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(p=Y0,_="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=Z0,_="onPointerLeave",m="onPointerEnter",y="pointer"),v=h==null?f:Ni(h),x=g==null?f:Ni(g),f=new p(_,y+"leave",h,n,c),f.target=v,f.relatedTarget=x,_=null,Ur(c)===u&&(p=new p(m,y+"enter",g,n,c),p.target=x,p.relatedTarget=v,_=p),v=_,h&&g)t:{for(p=h,m=g,y=0,x=p;x;x=vi(x))y++;for(x=0,_=m;_;_=vi(_))x++;for(;0<y-x;)p=vi(p),y--;for(;0<x-y;)m=vi(m),x--;for(;y--;){if(p===m||m!==null&&p===m.alternate)break t;p=vi(p),m=vi(m)}p=null}else p=null;h!==null&&lw(d,f,h,p,!1),g!==null&&v!==null&&lw(d,v,g,p,!0)}}e:{if(f=u?Ni(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=qI;else if(ew(f))if(oT)S=BI;else{S=$I;var C=FI}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=VI);if(S&&(S=S(e,u))){sT(d,S,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Xm(f,"number",f.value)}switch(C=u?Ni(u):window,e){case"focusin":(ew(C)||C.contentEditable==="true")&&(ki=C,lg=u,ro=null);break;case"focusout":ro=lg=ki=null;break;case"mousedown":ug=!0;break;case"contextmenu":case"mouseup":case"dragend":ug=!1,sw(d,n,c);break;case"selectionchange":if(HI)break;case"keydown":case"keyup":sw(d,n,c)}var k;if(Oy)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ci?rT(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(nT&&n.locale!=="ko"&&(Ci||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ci&&(k=tT()):(mr=c,jy="value"in mr?mr.value:mr.textContent,Ci=!0)),C=hl(u,T),0<C.length&&(T=new X0(T,e,null,n,c),d.push({event:T,listeners:C}),k?T.data=k:(k=iT(n),k!==null&&(T.data=k)))),(k=II?jI(e,n):DI(e,n))&&(u=hl(u,"onBeforeInput"),0<u.length&&(c=new X0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}gT(d,t)})}function So(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mo(e,n),s!=null&&r.unshift(So(e,s,i)),s=mo(e,t),s!=null&&r.push(So(e,s,i))),e=e.return}return r}function vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lw(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=mo(n,s),l!=null&&o.unshift(So(n,l,a))):i||(l=mo(n,s),l!=null&&o.push(So(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YI=/\r\n?/g,XI=/\u0000|\uFFFD/g;function uw(e){return(typeof e=="string"?e:""+e).replace(YI,`
`).replace(XI,"")}function wa(e,t,n){if(t=uw(t),uw(e)!==t&&n)throw Error(U(425))}function pl(){}var cg=null,dg=null;function fg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hg=typeof setTimeout=="function"?setTimeout:void 0,ZI=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(e){return cw.resolve(null).then(e).catch(JI)}:hg;function JI(e){setTimeout(function(){throw e})}function dc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vo(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),wn="__reactFiber$"+fs,bo="__reactProps$"+fs,Hn="__reactContainer$"+fs,pg="__reactEvents$"+fs,ej="__reactListeners$"+fs,tj="__reactHandles$"+fs;function Ur(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dw(e);e!==null;){if(n=e[wn])return n;e=dw(e)}return t}e=n,n=e.parentNode}return null}function Go(e){return e=e[wn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function nu(e){return e[bo]||null}var mg=[],Mi=-1;function Ir(e){return{current:e}}function we(e){0>Mi||(e.current=mg[Mi],mg[Mi]=null,Mi--)}function ge(e,t){Mi++,mg[Mi]=e.current,e.current=t}var Nr={},ft=Ir(Nr),Et=Ir(!1),ni=Nr;function Zi(e,t){var n=e.type.contextTypes;if(!n)return Nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(e){return e=e.childContextTypes,e!=null}function ml(){we(Et),we(ft)}function fw(e,t,n){if(ft.current!==Nr)throw Error(U(168));ge(ft,t),ge(Et,n)}function vT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,F2(e)||"Unknown",i));return Pe({},n,r)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,ni=ft.current,ge(ft,e),ge(Et,Et.current),!0}function hw(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=vT(e,t,ni),r.__reactInternalMemoizedMergedChildContext=e,we(Et),we(ft),ge(ft,e)):we(Et),ge(Et,n)}var In=null,ru=!1,fc=!1;function wT(e){In===null?In=[e]:In.push(e)}function nj(e){ru=!0,wT(e)}function jr(){if(!fc&&In!==null){fc=!0;var e=0,t=me;try{var n=In;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}In=null,ru=!1}catch(i){throw In!==null&&(In=In.slice(e+1)),Uk(Py,jr),i}finally{me=t,fc=!1}}return null}var Pi=[],Ai=0,yl=null,vl=0,Vt=[],Bt=0,ri=null,Dn=1,Ln="";function Fr(e,t){Pi[Ai++]=vl,Pi[Ai++]=yl,yl=e,vl=t}function xT(e,t,n){Vt[Bt++]=Dn,Vt[Bt++]=Ln,Vt[Bt++]=ri,ri=e;var r=Dn;e=Ln;var i=32-an(r)-1;r&=~(1<<i),n+=1;var s=32-an(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-an(t)+i|n<<i|r,Ln=s+e}else Dn=1<<s|n<<i|r,Ln=e}function Fy(e){e.return!==null&&(Fr(e,1),xT(e,1,0))}function $y(e){for(;e===yl;)yl=Pi[--Ai],Pi[Ai]=null,vl=Pi[--Ai],Pi[Ai]=null;for(;e===ri;)ri=Vt[--Bt],Vt[Bt]=null,Ln=Vt[--Bt],Vt[Bt]=null,Dn=Vt[--Bt],Vt[Bt]=null}var Rt=null,At=null,Ee=!1,sn=null;function _T(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,At=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ri!==null?{id:Dn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rt=e,At=null,!0):!1;default:return!1}}function gg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yg(e){if(Ee){var t=At;if(t){var n=t;if(!pw(e,t)){if(gg(e))throw Error(U(418));t=xr(n.nextSibling);var r=Rt;t&&pw(e,t)?_T(r,n):(e.flags=e.flags&-4097|2,Ee=!1,Rt=e)}}else{if(gg(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ee=!1,Rt=e}}}function mw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function xa(e){if(e!==Rt)return!1;if(!Ee)return mw(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fg(e.type,e.memoizedProps)),t&&(t=At)){if(gg(e))throw ST(),Error(U(418));for(;t;)_T(e,t),t=xr(t.nextSibling)}if(mw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){At=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}At=null}}else At=Rt?xr(e.stateNode.nextSibling):null;return!0}function ST(){for(var e=At;e;)e=xr(e.nextSibling)}function Qi(){At=Rt=null,Ee=!1}function Vy(e){sn===null?sn=[e]:sn.push(e)}var rj=Qn.ReactCurrentBatchConfig;function Ts(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function _a(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gw(e){var t=e._init;return t(e._payload)}function bT(e){function t(m,y){if(e){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Er(m,y),m.index=0,m.sibling=null,m}function s(m,y,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,x,_){return y===null||y.tag!==6?(y=wc(x,m.mode,_),y.return=m,y):(y=i(y,x),y.return=m,y)}function l(m,y,x,_){var S=x.type;return S===Ei?c(m,y,x.props.children,_,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ar&&gw(S)===y.type)?(_=i(y,x.props),_.ref=Ts(m,y,x),_.return=m,_):(_=Za(x.type,x.key,x.props,null,m.mode,_),_.ref=Ts(m,y,x),_.return=m,_)}function u(m,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=xc(x,m.mode,_),y.return=m,y):(y=i(y,x.children||[]),y.return=m,y)}function c(m,y,x,_,S){return y===null||y.tag!==7?(y=Qr(x,m.mode,_,S),y.return=m,y):(y=i(y,x),y.return=m,y)}function d(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=wc(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ca:return x=Za(y.type,y.key,y.props,null,m.mode,x),x.ref=Ts(m,null,y),x.return=m,x;case bi:return y=xc(y,m.mode,x),y.return=m,y;case ar:var _=y._init;return d(m,_(y._payload),x)}if(qs(y)||Ss(y))return y=Qr(y,m.mode,x,null),y.return=m,y;_a(m,y)}return null}function f(m,y,x,_){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(m,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ca:return x.key===S?l(m,y,x,_):null;case bi:return x.key===S?u(m,y,x,_):null;case ar:return S=x._init,f(m,y,S(x._payload),_)}if(qs(x)||Ss(x))return S!==null?null:c(m,y,x,_,null);_a(m,x)}return null}function h(m,y,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(x)||null,a(y,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ca:return m=m.get(_.key===null?x:_.key)||null,l(y,m,_,S);case bi:return m=m.get(_.key===null?x:_.key)||null,u(y,m,_,S);case ar:var C=_._init;return h(m,y,x,C(_._payload),S)}if(qs(_)||Ss(_))return m=m.get(x)||null,c(y,m,_,S,null);_a(y,_)}return null}function g(m,y,x,_){for(var S=null,C=null,k=y,T=y=0,M=null;k!==null&&T<x.length;T++){k.index>T?(M=k,k=null):M=k.sibling;var R=f(m,k,x[T],_);if(R===null){k===null&&(k=M);break}e&&k&&R.alternate===null&&t(m,k),y=s(R,y,T),C===null?S=R:C.sibling=R,C=R,k=M}if(T===x.length)return n(m,k),Ee&&Fr(m,T),S;if(k===null){for(;T<x.length;T++)k=d(m,x[T],_),k!==null&&(y=s(k,y,T),C===null?S=k:C.sibling=k,C=k);return Ee&&Fr(m,T),S}for(k=r(m,k);T<x.length;T++)M=h(k,m,T,x[T],_),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?T:M.key),y=s(M,y,T),C===null?S=M:C.sibling=M,C=M);return e&&k.forEach(function(I){return t(m,I)}),Ee&&Fr(m,T),S}function p(m,y,x,_){var S=Ss(x);if(typeof S!="function")throw Error(U(150));if(x=S.call(x),x==null)throw Error(U(151));for(var C=S=null,k=y,T=y=0,M=null,R=x.next();k!==null&&!R.done;T++,R=x.next()){k.index>T?(M=k,k=null):M=k.sibling;var I=f(m,k,R.value,_);if(I===null){k===null&&(k=M);break}e&&k&&I.alternate===null&&t(m,k),y=s(I,y,T),C===null?S=I:C.sibling=I,C=I,k=M}if(R.done)return n(m,k),Ee&&Fr(m,T),S;if(k===null){for(;!R.done;T++,R=x.next())R=d(m,R.value,_),R!==null&&(y=s(R,y,T),C===null?S=R:C.sibling=R,C=R);return Ee&&Fr(m,T),S}for(k=r(m,k);!R.done;T++,R=x.next())R=h(k,m,T,R.value,_),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?T:R.key),y=s(R,y,T),C===null?S=R:C.sibling=R,C=R);return e&&k.forEach(function(B){return t(m,B)}),Ee&&Fr(m,T),S}function v(m,y,x,_){if(typeof x=="object"&&x!==null&&x.type===Ei&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ca:e:{for(var S=x.key,C=y;C!==null;){if(C.key===S){if(S=x.type,S===Ei){if(C.tag===7){n(m,C.sibling),y=i(C,x.props.children),y.return=m,m=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ar&&gw(S)===C.type){n(m,C.sibling),y=i(C,x.props),y.ref=Ts(m,C,x),y.return=m,m=y;break e}n(m,C);break}else t(m,C);C=C.sibling}x.type===Ei?(y=Qr(x.props.children,m.mode,_,x.key),y.return=m,m=y):(_=Za(x.type,x.key,x.props,null,m.mode,_),_.ref=Ts(m,y,x),_.return=m,m=_)}return o(m);case bi:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(m,y.sibling),y=i(y,x.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=xc(x,m.mode,_),y.return=m,m=y}return o(m);case ar:return C=x._init,v(m,y,C(x._payload),_)}if(qs(x))return g(m,y,x,_);if(Ss(x))return p(m,y,x,_);_a(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,x),y.return=m,m=y):(n(m,y),y=wc(x,m.mode,_),y.return=m,m=y),o(m)):n(m,y)}return v}var Ji=bT(!0),ET=bT(!1),wl=Ir(null),xl=null,Ri=null,By=null;function zy(){By=Ri=xl=null}function Uy(e){var t=wl.current;we(wl),e._currentValue=t}function vg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Hi(e,t){xl=e,By=Ri=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(By!==e)if(e={context:e,memoizedValue:t,next:null},Ri===null){if(xl===null)throw Error(U(308));Ri=e,xl.dependencies={lanes:0,firstContext:e}}else Ri=Ri.next=e;return t}var Hr=null;function Hy(e){Hr===null?Hr=[e]:Hr.push(e)}function CT(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hy(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gn(e,r)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var lr=!1;function Gy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gn(e,n)}return i=r.interleaved,i===null?(t.next=t,Hy(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gn(e,n)}function Ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ay(e,n)}}function yw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _l(e,t,n,r){var i=e.updateQueue;lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,p=a;switch(f=t,h=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=Pe({},d,f);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);si|=o,e.lanes=o,e.memoizedState=d}}function vw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Wo={},Sn=Ir(Wo),Eo=Ir(Wo),Co=Ir(Wo);function Gr(e){if(e===Wo)throw Error(U(174));return e}function Wy(e,t){switch(ge(Co,t),ge(Eo,e),ge(Sn,Wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qm(t,e)}we(Sn),ge(Sn,t)}function es(){we(Sn),we(Eo),we(Co)}function TT(e){Gr(Co.current);var t=Gr(Sn.current),n=Qm(t,e.type);t!==n&&(ge(Eo,e),ge(Sn,n))}function Ky(e){Eo.current===e&&(we(Sn),we(Eo))}var Te=Ir(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hc=[];function Yy(){for(var e=0;e<hc.length;e++)hc[e]._workInProgressVersionPrimary=null;hc.length=0}var Ga=Qn.ReactCurrentDispatcher,pc=Qn.ReactCurrentBatchConfig,ii=0,Me=null,ze=null,Ye=null,bl=!1,io=!1,ko=0,ij=0;function at(){throw Error(U(321))}function Xy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Zy(e,t,n,r,i,s){if(ii=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=e===null||e.memoizedState===null?lj:uj,e=n(r,i),io){s=0;do{if(io=!1,ko=0,25<=s)throw Error(U(301));s+=1,Ye=ze=null,t.updateQueue=null,Ga.current=cj,e=n(r,i)}while(io)}if(Ga.current=El,t=ze!==null&&ze.next!==null,ii=0,Ye=ze=Me=null,bl=!1,t)throw Error(U(300));return e}function Qy(){var e=ko!==0;return ko=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Me.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Kt(){if(ze===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ye===null?Me.memoizedState:Ye.next;if(t!==null)Ye=t,ze=e;else{if(e===null)throw Error(U(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ye===null?Me.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function To(e,t){return typeof t=="function"?t(e):t}function mc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ii&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Me.lanes|=c,si|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,cn(r,t.memoizedState)||(St=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Me.lanes|=s,si|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gc(e){var t=Kt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);cn(s,t.memoizedState)||(St=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function NT(){}function MT(e,t){var n=Me,r=Kt(),i=t(),s=!cn(r.memoizedState,i);if(s&&(r.memoizedState=i,St=!0),r=r.queue,Jy(RT.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,No(9,AT.bind(null,n,r,i,t),void 0,null),Xe===null)throw Error(U(349));ii&30||PT(n,t,i)}return i}function PT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function AT(e,t,n,r){t.value=n,t.getSnapshot=r,IT(t)&&jT(e)}function RT(e,t,n){return n(function(){IT(t)&&jT(e)})}function IT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function jT(e){var t=Gn(e,1);t!==null&&ln(t,e,1,-1)}function ww(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=aj.bind(null,Me,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DT(){return Kt().memoizedState}function Wa(e,t,n,r){var i=vn();Me.flags|=e,i.memoizedState=No(1|t,n,void 0,r===void 0?null:r)}function iu(e,t,n,r){var i=Kt();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&Xy(r,o.deps)){i.memoizedState=No(t,n,s,r);return}}Me.flags|=e,i.memoizedState=No(1|t,n,s,r)}function xw(e,t){return Wa(8390656,8,e,t)}function Jy(e,t){return iu(2048,8,e,t)}function LT(e,t){return iu(4,2,e,t)}function OT(e,t){return iu(4,4,e,t)}function qT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FT(e,t,n){return n=n!=null?n.concat([e]):null,iu(4,4,qT.bind(null,t,e),n)}function ev(){}function $T(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function VT(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function BT(e,t,n){return ii&21?(cn(n,t)||(n=Wk(),Me.lanes|=n,si|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=n)}function sj(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=pc.transition;pc.transition={};try{e(!1),t()}finally{me=n,pc.transition=r}}function zT(){return Kt().memoizedState}function oj(e,t,n){var r=br(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UT(e))HT(t,n);else if(n=CT(e,t,n,r),n!==null){var i=pt();ln(n,e,r,i),GT(n,t,r)}}function aj(e,t,n){var r=br(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UT(e))HT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,cn(a,o)){var l=t.interleaved;l===null?(i.next=i,Hy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=CT(e,t,i,r),n!==null&&(i=pt(),ln(n,e,r,i),GT(n,t,r))}}function UT(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function HT(e,t){io=bl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function GT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ay(e,n)}}var El={readContext:Wt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},lj={readContext:Wt,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:xw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wa(4194308,4,qT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wa(4,2,e,t)},useMemo:function(e,t){var n=vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oj.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:ww,useDebugValue:ev,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=ww(!1),t=e[0];return e=sj.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,i=vn();if(Ee){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Xe===null)throw Error(U(349));ii&30||PT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,xw(RT.bind(null,r,s,e),[e]),r.flags|=2048,No(9,AT.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vn(),t=Xe.identifierPrefix;if(Ee){var n=Ln,r=Dn;n=(r&~(1<<32-an(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ij++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uj={readContext:Wt,useCallback:$T,useContext:Wt,useEffect:Jy,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:OT,useMemo:VT,useReducer:mc,useRef:DT,useState:function(){return mc(To)},useDebugValue:ev,useDeferredValue:function(e){var t=Kt();return BT(t,ze.memoizedState,e)},useTransition:function(){var e=mc(To)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:NT,useSyncExternalStore:MT,useId:zT,unstable_isNewReconciler:!1},cj={readContext:Wt,useCallback:$T,useContext:Wt,useEffect:Jy,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:OT,useMemo:VT,useReducer:gc,useRef:DT,useState:function(){return gc(To)},useDebugValue:ev,useDeferredValue:function(e){var t=Kt();return ze===null?t.memoizedState=e:BT(t,ze.memoizedState,e)},useTransition:function(){var e=gc(To)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:NT,useSyncExternalStore:MT,useId:zT,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var su={isMounted:function(e){return(e=e._reactInternals)?ci(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pt(),i=br(e),s=$n(r,i);s.payload=t,n!=null&&(s.callback=n),t=_r(e,s,i),t!==null&&(ln(t,e,i,r),Ha(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pt(),i=br(e),s=$n(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=_r(e,s,i),t!==null&&(ln(t,e,i,r),Ha(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),r=br(e),i=$n(n,r);i.tag=2,t!=null&&(i.callback=t),t=_r(e,i,r),t!==null&&(ln(t,e,r,n),Ha(t,e,r))}};function _w(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!xo(n,r)||!xo(i,s):!0}function WT(e,t,n){var r=!1,i=Nr,s=t.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(i=Ct(t)?ni:ft.current,r=t.contextTypes,s=(r=r!=null)?Zi(e,i):Nr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=su,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Sw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&su.enqueueReplaceState(t,t.state,null)}function xg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Wt(s):(s=Ct(t)?ni:ft.current,i.context=Zi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(wg(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&su.enqueueReplaceState(i,i.state,null),_l(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=q2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function yc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _g(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dj=typeof WeakMap=="function"?WeakMap:Map;function KT(e,t,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kl||(kl=!0,Ag=r),_g(e,t)},n}function YT(e,t,n){n=$n(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){_g(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_g(e,t),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function bw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cj.bind(null,e,t,n),t.then(e,e))}function Ew(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$n(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var fj=Qn.ReactCurrentOwner,St=!1;function ht(e,t,n,r){t.child=e===null?ET(t,null,n,r):Ji(t,e.child,n,r)}function kw(e,t,n,r,i){n=n.render;var s=t.ref;return Hi(t,i),r=Zy(e,t,n,r,s,i),n=Qy(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(Ee&&n&&Fy(t),t.flags|=1,ht(e,t,r,i),t.child)}function Tw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!lv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,XT(e,t,s,r,i)):(e=Za(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(o,r)&&e.ref===t.ref)return Wn(e,t,i)}return t.flags|=1,e=Er(s,r),e.ref=t.ref,e.return=t,t.child=e}function XT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(xo(s,r)&&e.ref===t.ref)if(St=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,Wn(e,t,i)}return Sg(e,t,n,r,i)}function ZT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ji,Mt),Mt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(ji,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ge(ji,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ge(ji,Mt),Mt|=r;return ht(e,t,i,n),t.child}function QT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sg(e,t,n,r,i){var s=Ct(n)?ni:ft.current;return s=Zi(t,s),Hi(t,i),n=Zy(e,t,n,r,s,i),r=Qy(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wn(e,t,i)):(Ee&&r&&Fy(t),t.flags|=1,ht(e,t,n,i),t.child)}function Nw(e,t,n,r,i){if(Ct(n)){var s=!0;gl(t)}else s=!1;if(Hi(t,i),t.stateNode===null)Ka(e,t),WT(t,n,r),xg(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=Ct(n)?ni:ft.current,u=Zi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Sw(t,o,r,u),lr=!1;var f=t.memoizedState;o.state=f,_l(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Et.current||lr?(typeof c=="function"&&(wg(t,n,c,r),l=t.memoizedState),(a=lr||_w(t,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,kT(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:tn(t.type,a),o.props=u,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=Ct(n)?ni:ft.current,l=Zi(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Sw(t,o,r,l),lr=!1,f=t.memoizedState,o.state=f,_l(t,r,o,i);var g=t.memoizedState;a!==d||f!==g||Et.current||lr?(typeof h=="function"&&(wg(t,n,h,r),g=t.memoizedState),(u=lr||_w(t,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return bg(e,t,n,r,s,i)}function bg(e,t,n,r,i,s){QT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&hw(t,n,!1),Wn(e,t,s);r=t.stateNode,fj.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ji(t,e.child,null,s),t.child=Ji(t,null,a,s)):ht(e,t,a,s),t.memoizedState=r.state,i&&hw(t,n,!0),t.child}function JT(e){var t=e.stateNode;t.pendingContext?fw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fw(e,t.context,!1),Wy(e,t.containerInfo)}function Mw(e,t,n,r,i){return Qi(),Vy(i),t.flags|=256,ht(e,t,n,r),t.child}var Eg={dehydrated:null,treeContext:null,retryLane:0};function Cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function eN(e,t,n){var r=t.pendingProps,i=Te.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ge(Te,i&1),e===null)return yg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lu(o,r,0,null),e=Qr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Cg(n),t.memoizedState=Eg,e):tv(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hj(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Er(a,s):(s=Qr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Cg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Eg,r}return s=e.child,e=s.sibling,r=Er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tv(e,t){return t=lu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,n,r){return r!==null&&Vy(r),Ji(t,e.child,null,n),e=tv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hj(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=yc(Error(U(422))),Sa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=lu({mode:"visible",children:r.children},i,0,null),s=Qr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ji(t,e.child,null,o),t.child.memoizedState=Cg(o),t.memoizedState=Eg,s);if(!(t.mode&1))return Sa(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=yc(s,r,void 0),Sa(e,t,o,r)}if(a=(o&e.childLanes)!==0,St||a){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),ln(r,e,i,-1))}return av(),r=yc(Error(U(421))),Sa(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,At=xr(i.nextSibling),Rt=t,Ee=!0,sn=null,e!==null&&(Vt[Bt++]=Dn,Vt[Bt++]=Ln,Vt[Bt++]=ri,Dn=e.id,Ln=e.overflow,ri=t),t=tv(t,r.children),t.flags|=4096,t)}function Pw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vg(e.return,t,n)}function vc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tN(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ht(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pw(e,n,t);else if(e.tag===19)Pw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(Te,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),vc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}vc(t,!0,n,null,s);break;case"together":vc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),si|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pj(e,t,n){switch(t.tag){case 3:JT(t),Qi();break;case 5:TT(t);break;case 1:Ct(t.type)&&gl(t);break;case 4:Wy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ge(wl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?eN(e,t,n):(ge(Te,Te.current&1),e=Wn(e,t,n),e!==null?e.sibling:null);ge(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tN(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,ZT(e,t,n)}return Wn(e,t,n)}var nN,kg,rN,iN;nN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kg=function(){};rN=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gr(Sn.current);var s=null;switch(n){case"input":i=Km(e,i),r=Km(e,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=Zm(e,i),r=Zm(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pl)}Jm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ho.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ho.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};iN=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ns(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mj(e,t,n){var r=t.pendingProps;switch($y(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Ct(t.type)&&ml(),lt(t),null;case 3:return r=t.stateNode,es(),we(Et),we(ft),Yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sn!==null&&(jg(sn),sn=null))),kg(e,t),lt(t),null;case 5:Ky(t);var i=Gr(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)rN(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return lt(t),null}if(e=Gr(Sn.current),xa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wn]=t,r[bo]=s,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<$s.length;i++)ve($s[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":F0(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":V0(r,s),ve("invalid",r)}Jm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wa(r.textContent,a,e),i=["children",""+a]):ho.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":da(r),$0(r,s,!0);break;case"textarea":da(r),B0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=pl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[wn]=t,e[bo]=r,nN(e,t,!1,!1),t.stateNode=e;e:{switch(o=eg(n,r),n){case"dialog":ve("cancel",e),ve("close",e),i=r;break;case"iframe":case"object":case"embed":ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<$s.length;i++)ve($s[i],e);i=r;break;case"source":ve("error",e),i=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=r;break;case"details":ve("toggle",e),i=r;break;case"input":F0(e,r),i=Km(e,r),ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),ve("invalid",e);break;case"textarea":V0(e,r),i=Zm(e,r),ve("invalid",e);break;default:i=r}Jm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Dk(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ik(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&po(e,l):typeof l=="number"&&po(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ho.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ve("scroll",e):l!=null&&Cy(e,s,l,o))}switch(n){case"input":da(e),$0(e,r,!1);break;case"textarea":da(e),B0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Vi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Vi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)iN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Gr(Co.current),Gr(Sn.current),xa(t)){if(r=t.stateNode,n=t.memoizedProps,r[wn]=t,(s=r.nodeValue!==n)&&(e=Rt,e!==null))switch(e.tag){case 3:wa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=t,t.stateNode=r}return lt(t),null;case 13:if(we(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&At!==null&&t.mode&1&&!(t.flags&128))ST(),Qi(),t.flags|=98560,s=!1;else if(s=xa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[wn]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),s=!1}else sn!==null&&(jg(sn),sn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ue===0&&(Ue=3):av())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return es(),kg(e,t),e===null&&_o(t.stateNode.containerInfo),lt(t),null;case 10:return Uy(t.type._context),lt(t),null;case 17:return Ct(t.type)&&ml(),lt(t),null;case 19:if(we(Te),s=t.memoizedState,s===null)return lt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ns(s,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sl(e),o!==null){for(t.flags|=128,Ns(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(Te,Te.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fe()>ns&&(t.flags|=128,r=!0,Ns(s,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ns(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return lt(t),null}else 2*Fe()-s.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,Ns(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fe(),t.sibling=null,n=Te.current,ge(Te,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return ov(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mt&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function gj(e,t){switch($y(t),t.tag){case 1:return Ct(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),we(Et),we(ft),Yy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ky(t),null;case 13:if(we(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Te),null;case 4:return es(),null;case 10:return Uy(t.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var ba=!1,ct=!1,yj=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function Tg(e,t,n){try{n()}catch(r){je(e,t,r)}}var Aw=!1;function vj(e,t){if(cg=dl,e=uT(),qy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dg={focusedElem:e,selectionRange:n},dl=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?p:tn(t.type,p),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){je(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return g=Aw,Aw=!1,g}function so(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tg(t,n,s)}i=i.next}while(i!==r)}}function ou(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ng(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sN(e){var t=e.alternate;t!==null&&(e.alternate=null,sN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[bo],delete t[pg],delete t[ej],delete t[tj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oN(e){return e.tag===5||e.tag===3||e.tag===4}function Rw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(r!==4&&(e=e.child,e!==null))for(Mg(e,t,n),e=e.sibling;e!==null;)Mg(e,t,n),e=e.sibling}function Pg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pg(e,t,n),e=e.sibling;e!==null;)Pg(e,t,n),e=e.sibling}var Je=null,nn=!1;function rr(e,t,n){for(n=n.child;n!==null;)aN(e,t,n),n=n.sibling}function aN(e,t,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Ql,n)}catch{}switch(n.tag){case 5:ct||Ii(n,t);case 6:var r=Je,i=nn;Je=null,rr(e,t,n),Je=r,nn=i,Je!==null&&(nn?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(nn?(e=Je,n=n.stateNode,e.nodeType===8?dc(e.parentNode,n):e.nodeType===1&&dc(e,n),vo(e)):dc(Je,n.stateNode));break;case 4:r=Je,i=nn,Je=n.stateNode.containerInfo,nn=!0,rr(e,t,n),Je=r,nn=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tg(n,t,o),i=i.next}while(i!==r)}rr(e,t,n);break;case 1:if(!ct&&(Ii(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,t,a)}rr(e,t,n);break;case 21:rr(e,t,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,rr(e,t,n),ct=r):rr(e,t,n);break;default:rr(e,t,n)}}function Iw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yj),t.forEach(function(r){var i=Tj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,nn=!1;break e;case 3:Je=a.stateNode.containerInfo,nn=!0;break e;case 4:Je=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(Je===null)throw Error(U(160));aN(s,o,i),Je=null,nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){je(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lN(t,e),t=t.sibling}function lN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),gn(e),r&4){try{so(3,e,e.return),ou(3,e)}catch(p){je(e,e.return,p)}try{so(5,e,e.return)}catch(p){je(e,e.return,p)}}break;case 1:Jt(t,e),gn(e),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(Jt(t,e),gn(e),r&512&&n!==null&&Ii(n,n.return),e.flags&32){var i=e.stateNode;try{po(i,"")}catch(p){je(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Pk(i,s),eg(a,o);var u=eg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Dk(i,d):c==="dangerouslySetInnerHTML"?Ik(i,d):c==="children"?po(i,d):Cy(i,c,d,u)}switch(a){case"input":Ym(i,s);break;case"textarea":Ak(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Vi(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Vi(i,!!s.multiple,s.defaultValue,!0):Vi(i,!!s.multiple,s.multiple?[]:"",!1))}i[bo]=s}catch(p){je(e,e.return,p)}}break;case 6:if(Jt(t,e),gn(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){je(e,e.return,p)}}break;case 3:if(Jt(t,e),gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(t.containerInfo)}catch(p){je(e,e.return,p)}break;case 4:Jt(t,e),gn(e);break;case 13:Jt(t,e),gn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(iv=Fe())),r&4&&Iw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ct=(u=ct)||c,Jt(t,e),ct=u):Jt(t,e),gn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,h=f.child,f.tag){case 0:case 11:case 14:case 15:so(4,f,f.return);break;case 1:Ii(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){je(r,n,p)}}break;case 5:Ii(f,f.return);break;case 22:if(f.memoizedState!==null){Dw(d);continue}}h!==null?(h.return=f,W=h):Dw(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jk("display",o))}catch(p){je(e,e.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){je(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jt(t,e),gn(e),r&4&&Iw(e);break;case 21:break;default:Jt(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oN(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(po(i,""),r.flags&=-33);var s=Rw(e);Pg(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rw(e);Mg(e,a,o);break;default:throw Error(U(161))}}catch(l){je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wj(e,t,n){W=e,uN(e)}function uN(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ba;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ct;a=ba;var u=ct;if(ba=o,(ct=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Lw(i):l!==null?(l.return=o,W=l):Lw(i);for(;s!==null;)W=s,uN(s),s=s.sibling;W=i,ba=a,ct=u}jw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):jw(e)}}function jw(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||ou(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vw(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ct||t.flags&512&&Ng(t)}catch(f){je(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Dw(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Lw(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ou(4,t)}catch(l){je(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){je(t,i,l)}}var s=t.return;try{Ng(t)}catch(l){je(t,s,l)}break;case 5:var o=t.return;try{Ng(t)}catch(l){je(t,o,l)}}}catch(l){je(t,t.return,l)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var xj=Math.ceil,Cl=Qn.ReactCurrentDispatcher,nv=Qn.ReactCurrentOwner,Gt=Qn.ReactCurrentBatchConfig,fe=0,Xe=null,Ve=null,tt=0,Mt=0,ji=Ir(0),Ue=0,Mo=null,si=0,au=0,rv=0,oo=null,_t=null,iv=0,ns=1/0,Rn=null,kl=!1,Ag=null,Sr=null,Ea=!1,gr=null,Tl=0,ao=0,Rg=null,Ya=-1,Xa=0;function pt(){return fe&6?Fe():Ya!==-1?Ya:Ya=Fe()}function br(e){return e.mode&1?fe&2&&tt!==0?tt&-tt:rj.transition!==null?(Xa===0&&(Xa=Wk()),Xa):(e=me,e!==0||(e=window.event,e=e===void 0?16:eT(e.type)),e):1}function ln(e,t,n,r){if(50<ao)throw ao=0,Rg=null,Error(U(185));Uo(e,n,r),(!(fe&2)||e!==Xe)&&(e===Xe&&(!(fe&2)&&(au|=n),Ue===4&&fr(e,tt)),kt(e,r),n===1&&fe===0&&!(t.mode&1)&&(ns=Fe()+500,ru&&jr()))}function kt(e,t){var n=e.callbackNode;rI(e,t);var r=cl(e,e===Xe?tt:0);if(r===0)n!==null&&H0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&H0(n),t===1)e.tag===0?nj(Ow.bind(null,e)):wT(Ow.bind(null,e)),QI(function(){!(fe&6)&&jr()}),n=null;else{switch(Kk(r)){case 1:n=Py;break;case 4:n=Hk;break;case 16:n=ul;break;case 536870912:n=Gk;break;default:n=ul}n=yN(n,cN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cN(e,t){if(Ya=-1,Xa=0,fe&6)throw Error(U(327));var n=e.callbackNode;if(Gi()&&e.callbackNode!==n)return null;var r=cl(e,e===Xe?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nl(e,r);else{t=r;var i=fe;fe|=2;var s=fN();(Xe!==e||tt!==t)&&(Rn=null,ns=Fe()+500,Zr(e,t));do try{bj();break}catch(a){dN(e,a)}while(!0);zy(),Cl.current=s,fe=i,Ve!==null?t=0:(Xe=null,tt=0,t=Ue)}if(t!==0){if(t===2&&(i=sg(e),i!==0&&(r=i,t=Ig(e,i))),t===1)throw n=Mo,Zr(e,0),fr(e,r),kt(e,Fe()),n;if(t===6)fr(e,r);else{if(i=e.current.alternate,!(r&30)&&!_j(i)&&(t=Nl(e,r),t===2&&(s=sg(e),s!==0&&(r=s,t=Ig(e,s))),t===1))throw n=Mo,Zr(e,0),fr(e,r),kt(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:$r(e,_t,Rn);break;case 3:if(fr(e,r),(r&130023424)===r&&(t=iv+500-Fe(),10<t)){if(cl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hg($r.bind(null,e,_t,Rn),t);break}$r(e,_t,Rn);break;case 4:if(fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-an(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xj(r/1960))-r,10<r){e.timeoutHandle=hg($r.bind(null,e,_t,Rn),r);break}$r(e,_t,Rn);break;case 5:$r(e,_t,Rn);break;default:throw Error(U(329))}}}return kt(e,Fe()),e.callbackNode===n?cN.bind(null,e):null}function Ig(e,t){var n=oo;return e.current.memoizedState.isDehydrated&&(Zr(e,t).flags|=256),e=Nl(e,t),e!==2&&(t=_t,_t=n,t!==null&&jg(t)),e}function jg(e){_t===null?_t=e:_t.push.apply(_t,e)}function _j(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~rv,t&=~au,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-an(t),r=1<<n;e[n]=-1,t&=~r}}function Ow(e){if(fe&6)throw Error(U(327));Gi();var t=cl(e,0);if(!(t&1))return kt(e,Fe()),null;var n=Nl(e,t);if(e.tag!==0&&n===2){var r=sg(e);r!==0&&(t=r,n=Ig(e,r))}if(n===1)throw n=Mo,Zr(e,0),fr(e,t),kt(e,Fe()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,_t,Rn),kt(e,Fe()),null}function sv(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(ns=Fe()+500,ru&&jr())}}function oi(e){gr!==null&&gr.tag===0&&!(fe&6)&&Gi();var t=fe;fe|=1;var n=Gt.transition,r=me;try{if(Gt.transition=null,me=1,e)return e()}finally{me=r,Gt.transition=n,fe=t,!(fe&6)&&jr()}}function ov(){Mt=ji.current,we(ji)}function Zr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZI(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch($y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:es(),we(Et),we(ft),Yy();break;case 5:Ky(r);break;case 4:es();break;case 13:we(Te);break;case 19:we(Te);break;case 10:Uy(r.type._context);break;case 22:case 23:ov()}n=n.return}if(Xe=e,Ve=e=Er(e.current,null),tt=Mt=t,Ue=0,Mo=null,rv=au=si=0,_t=oo=null,Hr!==null){for(t=0;t<Hr.length;t++)if(n=Hr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hr=null}return e}function dN(e,t){do{var n=Ve;try{if(zy(),Ga.current=El,bl){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bl=!1}if(ii=0,Ye=ze=Me=null,io=!1,ko=0,nv.current=null,n===null||n.return===null){Ue=1,Mo=t,Ve=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Ew(o);if(h!==null){h.flags&=-257,Cw(h,o,a,s,t),h.mode&1&&bw(s,u,t),t=h,l=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(l),t.updateQueue=p}else g.add(l);break e}else{if(!(t&1)){bw(s,u,t),av();break e}l=Error(U(426))}}else if(Ee&&a.mode&1){var v=Ew(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Cw(v,o,a,s,t),Vy(ts(l,a));break e}}s=l=ts(l,a),Ue!==4&&(Ue=2),oo===null?oo=[s]:oo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=KT(s,l,t);yw(s,m);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sr===null||!Sr.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=YT(s,a,t);yw(s,_);break e}}s=s.return}while(s!==null)}pN(n)}catch(S){t=S,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function fN(){var e=Cl.current;return Cl.current=El,e===null?El:e}function av(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Xe===null||!(si&268435455)&&!(au&268435455)||fr(Xe,tt)}function Nl(e,t){var n=fe;fe|=2;var r=fN();(Xe!==e||tt!==t)&&(Rn=null,Zr(e,t));do try{Sj();break}catch(i){dN(e,i)}while(!0);if(zy(),fe=n,Cl.current=r,Ve!==null)throw Error(U(261));return Xe=null,tt=0,Ue}function Sj(){for(;Ve!==null;)hN(Ve)}function bj(){for(;Ve!==null&&!K2();)hN(Ve)}function hN(e){var t=gN(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?pN(e):Ve=t,nv.current=null}function pN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gj(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Ve=null;return}}else if(n=mj(n,t,Mt),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ue===0&&(Ue=5)}function $r(e,t,n){var r=me,i=Gt.transition;try{Gt.transition=null,me=1,Ej(e,t,n,r)}finally{Gt.transition=i,me=r}return null}function Ej(e,t,n,r){do Gi();while(gr!==null);if(fe&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(iI(e,s),e===Xe&&(Ve=Xe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ea||(Ea=!0,yN(ul,function(){return Gi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gt.transition,Gt.transition=null;var o=me;me=1;var a=fe;fe|=4,nv.current=null,vj(e,n),lN(n,e),UI(dg),dl=!!cg,dg=cg=null,e.current=n,wj(n),Y2(),fe=a,me=o,Gt.transition=s}else e.current=n;if(Ea&&(Ea=!1,gr=e,Tl=i),s=e.pendingLanes,s===0&&(Sr=null),Q2(n.stateNode),kt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kl)throw kl=!1,e=Ag,Ag=null,e;return Tl&1&&e.tag!==0&&Gi(),s=e.pendingLanes,s&1?e===Rg?ao++:(ao=0,Rg=e):ao=0,jr(),null}function Gi(){if(gr!==null){var e=Kk(Tl),t=Gt.transition,n=me;try{if(Gt.transition=null,me=16>e?16:e,gr===null)var r=!1;else{if(e=gr,gr=null,Tl=0,fe&6)throw Error(U(331));var i=fe;for(fe|=4,W=e.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:so(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,h=c.return;if(sN(c),c===u){W=null;break}if(f!==null){f.return=h,W=f;break}W=h}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:so(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,W=m;break e}W=s.return}}var y=e.current;for(W=y;W!==null;){o=W;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,W=x;else e:for(o=y;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ou(9,a)}}catch(S){je(a,a.return,S)}if(a===o){W=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,W=_;break e}W=a.return}}if(fe=i,jr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Ql,e)}catch{}r=!0}return r}finally{me=n,Gt.transition=t}}return!1}function qw(e,t,n){t=ts(n,t),t=KT(e,t,1),e=_r(e,t,1),t=pt(),e!==null&&(Uo(e,1,t),kt(e,t))}function je(e,t,n){if(e.tag===3)qw(e,e,n);else for(;t!==null;){if(t.tag===3){qw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sr===null||!Sr.has(r))){e=ts(n,e),e=YT(t,e,1),t=_r(t,e,1),e=pt(),t!==null&&(Uo(t,1,e),kt(t,e));break}}t=t.return}}function Cj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(tt&n)===n&&(Ue===4||Ue===3&&(tt&130023424)===tt&&500>Fe()-iv?Zr(e,0):rv|=n),kt(e,t)}function mN(e,t){t===0&&(e.mode&1?(t=pa,pa<<=1,!(pa&130023424)&&(pa=4194304)):t=1);var n=pt();e=Gn(e,t),e!==null&&(Uo(e,t,n),kt(e,n))}function kj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mN(e,n)}function Tj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),mN(e,n)}var gN;gN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)St=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return St=!1,pj(e,t,n);St=!!(e.flags&131072)}else St=!1,Ee&&t.flags&1048576&&xT(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Zi(t,ft.current);Hi(t,n),i=Zy(null,t,r,e,i,n);var s=Qy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(r)?(s=!0,gl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gy(t),i.updater=su,t.stateNode=i,i._reactInternals=t,xg(t,r,e,n),t=bg(null,t,r,!0,s,n)):(t.tag=0,Ee&&s&&Fy(t),ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Mj(r),e=tn(r,e),i){case 0:t=Sg(null,t,r,e,n);break e;case 1:t=Nw(null,t,r,e,n);break e;case 11:t=kw(null,t,r,e,n);break e;case 14:t=Tw(null,t,r,tn(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),Sg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),Nw(e,t,r,i,n);case 3:e:{if(JT(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,i=s.element,kT(e,t),_l(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ts(Error(U(423)),t),t=Mw(e,t,r,n,i);break e}else if(r!==i){i=ts(Error(U(424)),t),t=Mw(e,t,r,n,i);break e}else for(At=xr(t.stateNode.containerInfo.firstChild),Rt=t,Ee=!0,sn=null,n=ET(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qi(),r===i){t=Wn(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 5:return TT(t),e===null&&yg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,fg(r,i)?o=null:s!==null&&fg(r,s)&&(t.flags|=32),QT(e,t),ht(e,t,o,n),t.child;case 6:return e===null&&yg(t),null;case 13:return eN(e,t,n);case 4:return Wy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ji(t,null,r,n):ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),kw(e,t,r,i,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ge(wl,r._currentValue),r._currentValue=o,s!==null)if(cn(s.value,o)){if(s.children===i.children&&!Et.current){t=Wn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$n(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),vg(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vg(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Hi(t,n),i=Wt(i),r=r(i),t.flags|=1,ht(e,t,r,n),t.child;case 14:return r=t.type,i=tn(r,t.pendingProps),i=tn(r.type,i),Tw(e,t,r,i,n);case 15:return XT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),Ka(e,t),t.tag=1,Ct(r)?(e=!0,gl(t)):e=!1,Hi(t,n),WT(t,r,i),xg(t,r,i,n),bg(null,t,r,!0,e,n);case 19:return tN(e,t,n);case 22:return ZT(e,t,n)}throw Error(U(156,t.tag))};function yN(e,t){return Uk(e,t)}function Nj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new Nj(e,t,n,r)}function lv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mj(e){if(typeof e=="function")return lv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ty)return 11;if(e===Ny)return 14}return 2}function Er(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Za(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")lv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ei:return Qr(n.children,i,s,t);case ky:o=8,i|=8;break;case Um:return e=Ut(12,n,t,i|2),e.elementType=Um,e.lanes=s,e;case Hm:return e=Ut(13,n,t,i),e.elementType=Hm,e.lanes=s,e;case Gm:return e=Ut(19,n,t,i),e.elementType=Gm,e.lanes=s,e;case Tk:return lu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ck:o=10;break e;case kk:o=9;break e;case Ty:o=11;break e;case Ny:o=14;break e;case ar:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Ut(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Qr(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function lu(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=Tk,e.lanes=n,e.stateNode={isHidden:!1},e}function wc(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function xc(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pj(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uv(e,t,n,r,i,s,o,a,l){return e=new Pj(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ut(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gy(s),e}function Aj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vN(e){if(!e)return Nr;e=e._reactInternals;e:{if(ci(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(Ct(n))return vT(e,n,t)}return t}function wN(e,t,n,r,i,s,o,a,l){return e=uv(n,r,!0,e,i,s,o,a,l),e.context=vN(null),n=e.current,r=pt(),i=br(n),s=$n(r,i),s.callback=t??null,_r(n,s,i),e.current.lanes=i,Uo(e,i,r),kt(e,r),e}function uu(e,t,n,r){var i=t.current,s=pt(),o=br(i);return n=vN(n),t.context===null?t.context=n:t.pendingContext=n,t=$n(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(i,t,o),e!==null&&(ln(e,i,o,s),Ha(e,i,o)),o}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cv(e,t){Fw(e,t),(e=e.alternate)&&Fw(e,t)}function Rj(){return null}var xN=typeof reportError=="function"?reportError:function(e){console.error(e)};function dv(e){this._internalRoot=e}cu.prototype.render=dv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));uu(e,t,null,null)};cu.prototype.unmount=dv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oi(function(){uu(null,e,null,null)}),t[Hn]=null}};function cu(e){this._internalRoot=e}cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dr.length&&t!==0&&t<dr[n].priority;n++);dr.splice(n,0,e),n===0&&Jk(e)}};function fv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $w(){}function Ij(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ml(o);s.call(u)}}var o=wN(t,r,e,0,null,!1,!1,"",$w);return e._reactRootContainer=o,e[Hn]=o.current,_o(e.nodeType===8?e.parentNode:e),oi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ml(l);a.call(u)}}var l=uv(e,0,!1,null,null,!1,!1,"",$w);return e._reactRootContainer=l,e[Hn]=l.current,_o(e.nodeType===8?e.parentNode:e),oi(function(){uu(t,l,n,r)}),l}function fu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ml(o);a.call(l)}}uu(t,o,e,i)}else o=Ij(n,t,e,i,r);return Ml(o)}Yk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Ay(t,n|1),kt(t,Fe()),!(fe&6)&&(ns=Fe()+500,jr()))}break;case 13:oi(function(){var r=Gn(e,1);if(r!==null){var i=pt();ln(r,e,1,i)}}),cv(e,1)}};Ry=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=pt();ln(t,e,134217728,n)}cv(e,134217728)}};Xk=function(e){if(e.tag===13){var t=br(e),n=Gn(e,t);if(n!==null){var r=pt();ln(n,e,t,r)}cv(e,t)}};Zk=function(){return me};Qk=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};ng=function(e,t,n){switch(t){case"input":if(Ym(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=nu(r);if(!i)throw Error(U(90));Mk(r),Ym(r,i)}}}break;case"textarea":Ak(e,n);break;case"select":t=n.value,t!=null&&Vi(e,!!n.multiple,t,!1)}};qk=sv;Fk=oi;var jj={usingClientEntryPoint:!1,Events:[Go,Ni,nu,Lk,Ok,sv]},Ms={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dj={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bk(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{Ql=Ca.inject(Dj),_n=Ca}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jj;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fv(t))throw Error(U(200));return Aj(e,t,null,n)};Ot.createRoot=function(e,t){if(!fv(e))throw Error(U(299));var n=!1,r="",i=xN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uv(e,1,!1,null,null,n,!1,r,i),e[Hn]=t.current,_o(e.nodeType===8?e.parentNode:e),new dv(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Bk(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return oi(e)};Ot.hydrate=function(e,t,n){if(!du(t))throw Error(U(200));return fu(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!fv(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=xN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wN(t,null,e,1,n??null,i,!1,s,o),e[Hn]=t.current,_o(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new cu(t)};Ot.render=function(e,t,n){if(!du(t))throw Error(U(200));return fu(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!du(e))throw Error(U(40));return e._reactRootContainer?(oi(function(){fu(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};Ot.unstable_batchedUpdates=sv;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!du(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return fu(e,t,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function _N(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_N)}catch(e){console.error(e)}}_N(),_k.exports=Ot;var Lj=_k.exports,Vw=Lj;Bm.createRoot=Vw.createRoot,Bm.hydrateRoot=Vw.hydrateRoot;const Oj=()=>w.jsxs("svg",{className:"logo-mark",width:"54",height:"54",viewBox:"0 0 120 120",role:"img","aria-label":"Agent Director logo",children:[w.jsx("rect",{x:"8",y:"8",width:"104",height:"104",rx:"18",className:"logo-frame"}),w.jsx("rect",{x:"24",y:"28",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-a"}),w.jsx("rect",{x:"24",y:"52",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-b"}),w.jsx("rect",{x:"24",y:"76",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-c"}),w.jsx("circle",{cx:"96",cy:"36",r:"6",className:"logo-node logo-node-a"}),w.jsx("circle",{cx:"96",cy:"60",r:"6",className:"logo-node logo-node-b"}),w.jsx("circle",{cx:"96",cy:"84",r:"6",className:"logo-node logo-node-c"})]});function qj({trace:e,traces:t=[],selectedTraceId:n,onSelectTrace:r,onReload:i,onStartTour:s,onToggleStory:o,onOpenPalette:a,onToggleExplain:l,explainMode:u=!1,storyActive:c=!1}){return w.jsxs("header",{className:"header","data-help":!0,"data-help-indicator":!0,"data-tour":"header","data-help-title":"Mission control","data-help-body":"Trace identity, status, and live controls live here. Use Story, Guide, or Explain to orient new viewers.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"header-title",children:[w.jsxs("div",{className:"header-logo",children:[w.jsx(Oj,{}),w.jsx("span",{children:"Agent Director"})]}),w.jsx("div",{className:"header-tagline",children:"Cinematic trace intelligence for agent runs."}),w.jsxs("div",{className:"header-meta",children:[w.jsxs("span",{className:"header-run",children:["Run: ",(e==null?void 0:e.id)??"loading"]}),t.length>0?w.jsx("select",{className:"trace-select",value:n??(e==null?void 0:e.id)??"","aria-label":"Select trace",onChange:d=>r==null?void 0:r(d.target.value),"data-help":!0,"data-help-title":"Trace selector","data-help-body":"Switch between available runs to compare different sessions.","data-help-placement":"bottom",children:t.map(d=>w.jsxs("option",{value:d.id,children:[d.name," (",d.id,")"]},d.id))}):null,w.jsx("span",{className:`status-pill status-${(e==null?void 0:e.status)??"loading"}`,children:(e==null?void 0:e.status)??"loading"}),e!=null&&e.replay?w.jsxs("span",{className:"header-replay",title:`Replay from ${e.branchPointStepId??"unknown step"}`,children:["Replay: ",e.replay.strategy]}):null,w.jsxs("span",{className:"header-wall",children:["Wall: ",(e==null?void 0:e.metadata.wallTimeMs)??0,"ms"]})]})]}),w.jsxs("div",{className:"header-actions",children:[w.jsx("button",{className:`ghost-button ${c?"active":""}`,type:"button",onClick:o,"aria-pressed":c,"aria-label":"Toggle story mode","data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough for demos.","data-help-placement":"bottom",children:"Story"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:s,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk through the interface step by step.","data-help-placement":"bottom",children:"Guide"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:a,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search and trigger any action instantly.","data-help-placement":"bottom",children:"Command"}),w.jsx("button",{className:`ghost-button ${u?"active":""}`,type:"button",onClick:l,"aria-pressed":u,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Hover any control to see contextual guidance.","data-help-placement":"bottom",children:"Explain"}),w.jsx("button",{className:"ghost-button",onClick:i,type:"button","aria-label":"Refresh traces",title:"Refresh traces","data-help":!0,"data-help-title":"Refresh","data-help-body":"Reload traces from the data store.","data-help-placement":"bottom",children:"Refresh"}),null]})]})}function Fj({insights:e,onSelectStep:t,onJumpToBottleneck:n,onJumpToError:r}){var c,d;if(!e)return null;const i=e.timing,s=e.ioWarnings??[],o=e.concurrency,a=e.retryPatterns,l=e.costByTool??{},u=e.costByModel??{};return w.jsxs("section",{className:"insight-strip","data-help":!0,"data-help-indicator":!0,"data-tour":"insights","data-help-title":"Run insights","data-help-body":"Fast diagnostics for latency, cost, errors, and concurrency. Click chips to jump into the trace.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Top latency","data-help-body":"Largest steps by duration; jump straight to the slowest.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Top latency"}),w.jsxs("div",{className:"insight-items",children:[e.topLatencySteps.map(f=>w.jsxs("button",{className:"insight-chip",type:"button",title:`Jump to ${f.name}`,onClick:()=>t==null?void 0:t(f.stepId),children:[f.name," (",f.durationMs,"ms)"]},f.stepId)),e.topLatencySteps.length>0?w.jsx("button",{className:"insight-chip",type:"button",onClick:n,title:"Jump to longest step",children:"Jump to bottleneck"}):null]})]}),w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by type","data-help-body":"Aggregated spend by step class.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Cost by type"}),w.jsx("div",{className:"insight-items",children:Object.entries(e.costByType).map(([f,h])=>w.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}),Object.keys(l).length?w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by tool","data-help-body":"Top tools by total spend.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Cost by tool"}),w.jsx("div",{className:"insight-items",children:Object.entries(l).sort((f,h)=>h[1]-f[1]).slice(0,3).map(([f,h])=>w.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}):null,w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Errors & retries","data-help-body":"Instant visibility into failed or retried steps.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Errors / retries"}),w.jsxs("div",{className:"insight-items",children:[w.jsxs("span",{className:"insight-chip",children:["Errors: ",e.errors]}),w.jsxs("span",{className:"insight-chip",children:["Retries: ",e.retries]}),e.errors>0?w.jsx("button",{className:"insight-chip",type:"button",onClick:r,title:"Jump to first error",children:"Jump to first error"}):null,(c=a==null?void 0:a.topRetries)!=null&&c.length?w.jsxs("span",{className:"insight-chip",title:`Retry rate ${(a.retryRate*100).toFixed(1)}%`,children:["Top retries: ",a.topRetries.length]}):null]})]}),w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Wall vs work","data-help-body":"Wall time vs summed work to show parallelism.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Wall vs work"}),w.jsxs("div",{className:"insight-items",children:[w.jsxs("span",{className:"insight-chip",title:"Wall clock duration",children:["Wall: ",e.wallTimeMs,"ms"]}),w.jsxs("span",{className:"insight-chip",title:"Sum of step durations",children:["Work: ",e.workTimeMs,"ms"]}),e.criticalPathMs!=null?w.jsxs("span",{className:"insight-chip",title:"Longest parent-child chain",children:["Critical: ",e.criticalPathMs,"ms"]}):null]})]}),w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Health","data-help-body":"Timing and I/O anomalies detected in the trace.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Health"}),w.jsxs("div",{className:"insight-items",children:[i!=null&&i.degraded?w.jsx("span",{className:"insight-chip insight-warning",title:i.issues.join(" "),children:"Timing degraded"}):w.jsx("span",{className:"insight-chip",children:"Timing OK"}),s.length>0?w.jsxs("span",{className:"insight-chip insight-warning",title:s.map(f=>f.message).join(" "),children:["IO warnings: ",s.length]}):w.jsx("span",{className:"insight-chip",children:"IO OK"})]})]}),(d=o==null?void 0:o.buckets)!=null&&d.length?w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Parallelism","data-help-body":"How many steps ran concurrently over time.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Parallelism"}),w.jsx("div",{className:"insight-items",children:w.jsx("div",{className:"insight-heatmap",title:`Peak concurrency: ${o.peak}`,children:o.buckets.map((f,h)=>w.jsx("span",{className:"heatmap-bar",style:{height:`${Math.max(20,f.active/Math.max(1,o.peak)*48)}px`},title:`Bucket ${h+1}: ${f.active} active`},`${f.startMs}-${f.endMs}`))})})]}):null,Object.keys(u).length?w.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Model cost","data-help-body":"Spend by model family.","data-help-placement":"bottom",children:[w.jsx("span",{className:"insight-label",children:"Model cost"}),w.jsx("div",{className:"insight-items",children:Object.entries(u).map(([f,h])=>w.jsxs("span",{className:"insight-chip",title:`Total cost for ${f}`,children:[f,": $",h.toFixed(3)]},f))})]}):null]})}const $j=["all","llm_call","tool_call","decision","handoff","guardrail"];function Vj({query:e,typeFilter:t,onQueryChange:n,onTypeFilterChange:r}){return w.jsxs("div",{className:"search-bar",children:[w.jsx("input",{className:"search-input",placeholder:"Search steps, tools, previews...","aria-label":"Search steps",value:e,onChange:i=>n(i.target.value),"data-help":!0,"data-help-title":"Search","data-help-body":"Filter steps by name, tool, or payload preview. Great for fast recall.","data-help-placement":"bottom"}),w.jsx("select",{className:"search-select",value:t,"aria-label":"Filter by step type",onChange:i=>r(i.target.value),"data-help":!0,"data-help-title":"Type filter","data-help-body":"Narrow the timeline to a specific class of steps (LLM, tool, decision, handoff).","data-help-placement":"bottom",children:$j.map(i=>w.jsx("option",{value:i,children:i},i))})]})}function hu(e,t,n){const r=Date.parse(e),i=n.map(c=>Date.parse(c.endedAt??c.startedAt)).filter(c=>Number.isFinite(c)),s=t?Date.parse(t):i.length?Math.max(...i):r,o=Math.max(1,s-r),a=n.map(c=>{const d=Math.max(0,Date.parse(c.startedAt)-r),f=Math.max(d,Date.parse(c.endedAt??c.startedAt)-r);return{stepId:c.id,startMs:d,endMs:f}}).sort((c,d)=>c.startMs-d.startMs||c.endMs-d.endMs),l=[],u=[];for(const c of a){let d=l.findIndex(f=>f<=c.startMs);d===-1?(d=l.length,l.push(c.endMs)):l[d]=c.endMs,u.push({stepId:c.stepId,startMs:c.startMs,endMs:c.endMs,lane:d,xPct:c.startMs/o*100,wPct:Math.max(.75,(c.endMs-c.startMs)/o*100)})}return{wallTimeMs:o,intervals:u,laneCount:l.length}}function Bj(e){var g;const n=e.steps.map(p=>({stepId:p.id,name:p.name,durationMs:p.durationMs??0})).sort((p,v)=>v.durationMs-p.durationMs).slice(0,3),r={},i={};for(const p of e.steps)((g=p.metrics)==null?void 0:g.costUsd)!=null&&(r[p.type]=(r[p.type]??0)+p.metrics.costUsd,p.type==="tool_call"&&(i[p.name]=(i[p.name]??0)+p.metrics.costUsd));const s=e.steps.filter(p=>p.status==="failed").length,o=e.steps.filter(p=>!!p.retryOfStepId).length,a=e.metadata.wallTimeMs,l=e.metadata.workTimeMs??e.steps.reduce((p,v)=>p+(v.durationMs??0),0),u=zj(e),c=Uj(e.steps),d=Hj(e.steps),f=Gj(e),h=Wj(e.steps);return{topLatencySteps:n,costByType:r,costByTool:i,costByModel:{[e.metadata.modelId]:e.metadata.totalCostUsd??0},errors:s,retries:o,wallTimeMs:a,workTimeMs:l,timing:u,ioWarnings:c,criticalPathMs:d,concurrency:f,retryPatterns:h}}function SN(e){var n;const t=(n=e.metrics)==null?void 0:n.costUsd;return t==null?null:`$${t.toFixed(3)}`}function jn(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function zj(e){const t=jn(e.startedAt),n=jn(e.endedAt??void 0),r=[],i=[],s=[];return t==null&&s.push("Trace start time missing or invalid."),e.steps.forEach(o=>{const a=jn(o.startedAt),l=jn(o.endedAt??o.startedAt);if(a==null||l==null){r.push(o.id);return}if(l<a){i.push(o.id);return}t!=null&&a<t&&i.push(o.id),n!=null&&l>n&&i.push(o.id)}),r.length&&s.push(`Missing timestamps on ${r.length} steps.`),i.length&&s.push(`Timestamp skew detected on ${i.length} steps.`),{degraded:!!(r.length||i.length||t==null),issues:s,missingStepIds:r,skewedStepIds:i}}function Uj(e){const t=new Map;e.forEach(s=>{s.type==="tool_call"&&s.toolCallId&&t.set(s.toolCallId,s)});const n=new Set,r=new Set,i=[];return e.forEach(s=>{s.type!=="llm_call"||!s.io||((s.io.emittedToolCallIds??[]).forEach(o=>{n.add(o),t.has(o)||i.push({kind:"missing_tool_step",message:`Emitted toolCallId ${o} has no tool step.`,stepId:s.id,toolCallId:o})}),(s.io.consumedToolCallIds??[]).forEach(o=>{r.add(o),t.has(o)||i.push({kind:"missing_tool_step",message:`Consumed toolCallId ${o} has no tool step.`,stepId:s.id,toolCallId:o}),n.has(o)||i.push({kind:"consume_without_emit",message:`Consumed toolCallId ${o} without emission.`,stepId:s.id,toolCallId:o})}))}),t.forEach((s,o)=>{n.has(o)||i.push({kind:"unemitted_tool",message:`Tool step ${s.id} has toolCallId ${o} never emitted.`,stepId:s.id,toolCallId:o}),r.has(o)||i.push({kind:"unconsumed_tool",message:`Tool step ${s.id} has toolCallId ${o} never consumed.`,stepId:s.id,toolCallId:o})}),i}function Hj(e){const t=new Map,n=new Map,r=[];e.forEach(o=>{if(t.set(o.id,o.durationMs??0),o.parentStepId){const a=n.get(o.parentStepId)??[];a.push(o.id),n.set(o.parentStepId,a)}else r.push(o.id)});const i=new Map,s=o=>{if(i.has(o))return i.get(o)??0;const l=(n.get(o)??[]).reduce((c,d)=>Math.max(c,s(d)),0),u=(t.get(o)??0)+l;return i.set(o,u),u};return r.length?Math.max(...r.map(o=>s(o))):0}function Gj(e){const t=jn(e.startedAt);if(t==null)return{buckets:[],peak:0};const n=jn(e.endedAt??void 0)??Math.max(...e.steps.map(l=>jn(l.endedAt??l.startedAt)??t),t),r=Math.max(1,n-t),i=12,s=Math.max(1,Math.floor(r/i)),o=[];let a=0;for(let l=0;l<i;l+=1){const u=t+l*s,c=u+s;let d=0;e.steps.forEach(f=>{const h=jn(f.startedAt),g=jn(f.endedAt??f.startedAt);h==null||g==null||g>=u&&h<=c&&(d+=1)}),a=Math.max(a,d),o.push({startMs:l*s,endMs:(l+1)*s,active:d})}return{buckets:o,peak:a}}function Wj(e){const t={};e.forEach(i=>{i.retryOfStepId&&(t[i.retryOfStepId]=(t[i.retryOfStepId]??0)+1)});const n=Object.values(t).reduce((i,s)=>i+s,0),r=Object.entries(t).sort((i,s)=>s[1]-i[1]).slice(0,3);return{totalRetries:n,retryRate:e.length?n/e.length:0,topRetries:r.map(([i,s])=>({stepId:i,count:s}))}}const Kj={llm_call:{label:"LLM",icon:"LLM",description:"Model call"},tool_call:{label:"TOOL",icon:"TOOL",description:"Tool call"},decision:{label:"DEC",icon:"DEC",description:"Decision"},handoff:{label:"HAND",icon:"HAND",description:"Handoff"},guardrail:{label:"GUARD",icon:"GUARD",description:"Guardrail"}};function Yj(e){return Kj[e]}function hv({type:e,size:t="sm",showLabel:n=!1}){const r=Yj(e);return w.jsxs("span",{className:`step-badge step-badge-${e} step-badge-${t}`,title:r.description,children:[w.jsx("span",{className:"step-badge-icon",children:r.icon}),n?w.jsx("span",{className:"step-badge-label",children:r.label}):null]})}function bN({step:e,interval:t,playbackState:n,selected:r,onSelect:i,variant:s="base",diffStatus:o,disabled:a=!1,laneHeight:l=140}){var _,S,C,k,T,M;const u=SN(e),c=((_=e.preview)==null?void 0:_.subtitle)??((S=e.preview)==null?void 0:S.title)??"",d=((C=e.preview)==null?void 0:C.outputPreview)??((k=e.preview)==null?void 0:k.inputPreview)??"",f=o?`step-diff-${o}`:"",h=s==="ghost"?"step-ghost":"",g=t.wPct<8?"step-compact":"",p=e.type.replace("_"," ").toUpperCase(),v=((T=e.metrics)==null?void 0:T.tokensTotal)!=null?`${e.metrics.tokensTotal} tokens`:null,m=e.durationMs!=null?`${e.durationMs}ms`:null,y=[v,m,u].filter(Boolean).join("  "),x=`Click to inspect inputs/outputs and replay from this moment.${y?` ${y}.`:""}`;return w.jsxs("button",{type:"button",className:`step-card step-${e.type} step-${n} ${r?"step-selected":""} ${f} ${h} ${g}`,"data-step-id":e.id,"aria-label":`${e.name} (${e.type})`,"aria-pressed":r,"aria-hidden":s==="ghost",disabled:a,"data-help":!0,"data-help-title":`${e.name}  ${p}`,"data-help-body":x,"data-help-placement":"top",style:{left:`${t.xPct}%`,width:`${t.wPct}%`,top:`${t.lane*l}px`},onClick:()=>{a||i(e.id)},children:[w.jsxs("div",{className:"step-card-header",children:[w.jsxs("div",{className:"step-title-group",children:[w.jsx(hv,{type:e.type}),w.jsx("span",{className:"step-title",children:e.name})]}),w.jsx("span",{className:`status-pill status-${e.status}`,children:e.status})]}),c?w.jsx("div",{className:"step-subtitle",children:c}):null,w.jsxs("div",{className:"step-metrics",children:[((M=e.metrics)==null?void 0:M.tokensTotal)!=null?w.jsxs("span",{children:[e.metrics.tokensTotal," tok"]}):null,e.durationMs!=null?w.jsxs("span",{children:[e.durationMs,"ms"]}):null,u?w.jsx("span",{children:u}):null]}),d?w.jsx("div",{className:"step-preview",children:d}):null]})}function EN(e,t){return t<e.startMs?"future":t>e.endMs?"past":"active"}const Xj=140,Zj=132,Qj=96,Bw={llm_call:1,tool_call:2,decision:3,handoff:4,guardrail:5};function CN(e){return[...e].sort((t,n)=>(Bw[t.type]??9)-(Bw[n.type]??9))}function Dg({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:i,playheadMs:s,windowRange:o,ghostTrace:a,diff:l,laneHeight:u=Xj,cardHeight:c=Zj,compactHeight:d=Qj}){const{intervals:f,laneCount:h}=hu(e.startedAt,e.endedAt,t),g=new Map(f.map(k=>[k.stepId,k])),p=CN(t),v=e.metadata.wallTimeMs||1,m=new Set((l==null?void 0:l.removedSteps)??[]),y=new Set((l==null?void 0:l.changedSteps)??[]),x=new Set(((l==null?void 0:l.changedPairs)??[]).map(k=>k.rightId)),_=new Set((l==null?void 0:l.addedSteps)??[]);let S=f;if(o){const k=o.endMs-o.startMs,T=Math.max(1e3,k*.15),M=Math.max(0,o.startMs-T),R=o.endMs+T;if(S=f.filter(I=>I.endMs>=M&&I.startMs<=R),n&&!S.some(I=>I.stepId===n)){const I=g.get(n);I&&(S=[...S,I])}}const C=new Set(S.map(k=>k.stepId));return w.jsx("div",{className:"timeline",style:{"--step-card-height":`${c}px`,"--step-compact-height":`${d}px`},children:w.jsxs("div",{className:"timeline-grid",style:{height:`${h*u}px`},"data-help":!0,"data-help-title":"Timeline lanes","data-help-body":"Each lane stacks overlapping steps; width reflects duration.","data-help-placement":"top",children:[w.jsx("div",{className:"playback-cursor",style:{left:`${i}%`}}),p.filter(k=>C.has(k.id)).map(k=>{const T=g.get(k.id);if(!T)return null;const M=EN(T,s);return w.jsx(bN,{step:k,interval:T,playbackState:M,selected:n===k.id,diffStatus:m.has(k.id)?"removed":y.has(k.id)?"changed":null,laneHeight:u,onSelect:r},k.id)}),a?w.jsx(Jj,{ghostTrace:a,baseWallTimeMs:v,playheadMs:s,windowRange:o,diffAdded:_,diffChanged:x,laneHeight:u}):null]})})}function Jj({ghostTrace:e,baseWallTimeMs:t,playheadMs:n,windowRange:r,diffAdded:i,diffChanged:s,laneHeight:o}){const{intervals:a,laneCount:l}=hu(e.startedAt,e.endedAt,e.steps),u=new Map(a.map(p=>[p.stepId,p])),c=e.metadata.wallTimeMs||1,d=n/t*c;let f=a;if(r){const p=r.endMs-r.startMs,v=Math.max(1e3,p*.15),m=c/t,y=Math.max(0,(r.startMs-v)*m),x=Math.min(c,(r.endMs+v)*m);f=a.filter(_=>_.endMs>=y&&_.startMs<=x)}const h=new Set(f.map(p=>p.stepId)),g=CN(e.steps);return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"ghost-lanes",style:{height:`${l*o}px`}}),g.filter(p=>h.has(p.id)).map(p=>{const v=u.get(p.id);if(!v)return null;const m=EN(v,d),y=i.has(p.id)?"added":s.has(p.id)?"changed":null;return w.jsx(bN,{step:p,interval:v,playbackState:m,selected:!1,diffStatus:y,variant:"ghost",disabled:!0,laneHeight:o,onSelect:()=>{}},`ghost-${p.id}`)})]})}function eD({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadMs:i,windowRange:s,timing:o,ghostTrace:a,diff:l}){const u=e.metadata.wallTimeMs||1,c=Math.min(100,Math.max(0,i/u*100));return w.jsxs("section",{className:"cinema-mode","aria-label":"Cinema mode",children:[o!=null&&o.degraded?w.jsxs("div",{className:"timing-banner",title:o.issues.join(" "),children:["Timing degraded: ",o.issues[0]??"Check timestamps."]}):null,w.jsx(Dg,{trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:c,playheadMs:i,windowRange:s,ghostTrace:a,diff:l})]})}const tD=[.5,1,1.5,2,4];function zw({playheadMs:e,wallTimeMs:t,isPlaying:n,speed:r,onToggle:i,onScrub:s,onSpeedChange:o}){const a=l=>{s(Number(l.target.value))};return w.jsxs("div",{className:"playback-controls",children:[w.jsx("button",{className:"ghost-button",type:"button",onClick:i,"aria-label":n?"Pause playback":"Play playback","data-help":!0,"data-help-title":"Playhead","data-help-body":"Start or pause the run to experience timing as it unfolded.","data-help-placement":"bottom",children:n?"Pause":"Play"}),w.jsx("input",{className:"playback-slider",type:"range",min:0,max:t,value:e,"aria-label":"Playback position",onChange:a,"data-help":!0,"data-help-title":"Scrub timeline","data-help-body":"Drag to jump to any moment in the run.","data-help-placement":"bottom"}),w.jsx("select",{className:"playback-speed",value:r,"aria-label":"Playback speed",onChange:l=>o(Number(l.target.value)),"data-help":!0,"data-help-title":"Speed","data-help-body":"Slow down to inspect or speed up to skim.","data-help-placement":"bottom",children:tD.map(l=>w.jsxs("option",{value:l,children:[l,"x"]},l))})]})}function nD(e,t,n,r=60){const{wallTimeMs:i,intervals:s}=hu(e,t,n),o=new Array(r).fill(0);if(!i)return{buckets:o,wallTimeMs:0};const a=i/r;return!Number.isFinite(a)||a<=0?{buckets:o,wallTimeMs:i}:(s.forEach(l=>{const u=Math.max(0,Math.floor(l.startMs/a)),c=Math.min(r-1,Math.floor(l.endMs/a));for(let d=u;d<=c;d+=1)o[d]+=1}),{buckets:o,wallTimeMs:i})}const Ps=5e3;function Uw(e,t,n){return Math.min(n,Math.max(t,e))}function rD({traceStart:e,traceEnd:t,steps:n,playheadMs:r,windowRange:i,windowed:s,spanMs:o,onSpanChange:a,onToggleWindowed:l,onScrub:u}){const{buckets:c,wallTimeMs:d}=nD(e,t,n,64),f=Math.max(1,...c),h=Uw(o,Ps,Math.max(Ps,d)),g=(i==null?void 0:i.startMs)??0,p=(i==null?void 0:i.endMs)??d,v=d?g/d*100:0,m=d?(p-g)/d*100:100,y=d?r/d*100:0,x=_=>{const S=_.currentTarget.getBoundingClientRect(),C=(_.clientX-S.left)/S.width,k=Uw(Math.round(C*d),0,d);u(k)};return w.jsxs("div",{className:"mini-timeline",children:[w.jsxs("div",{className:"mini-track",onClick:x,role:"presentation","data-help":!0,"data-help-title":"Density map","data-help-body":"A compact view of activity density. Click to jump the playhead.","data-help-placement":"top",children:[w.jsx("div",{className:"mini-bars",children:c.map((_,S)=>w.jsx("span",{className:"mini-bar",style:{height:`${_/f*100}%`}},`bucket-${S}`))}),w.jsx("div",{className:"mini-window",style:{left:`${v}%`,width:`${m}%`,opacity:s?1:.4}}),w.jsx("div",{className:"mini-playhead",style:{left:`${y}%`}})]}),w.jsxs("div",{className:"mini-controls",children:[w.jsx("label",{className:"mini-label",children:"Zoom"}),w.jsx("input",{type:"range",min:Ps,max:Math.max(Ps,d),value:h,"aria-label":"Timeline zoom",onChange:_=>{l(!0),a(Number(_.target.value))},"data-help":!0,"data-help-title":"Zoom window","data-help-body":"Tighten the window to focus on hotspots.","data-help-placement":"top"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>l(!s),title:"Toggle windowed playback",children:s?"Full":"Window"}),w.jsx("button",{className:"ghost-button",type:"button",title:"Reset zoom",onClick:()=>{l(!0),a(Math.min(Math.max(d*.2,Ps),6e4))},children:"Reset"})]})]})}const iD=[{keys:"Space",action:"Play / pause"},{keys:" / ",action:"Step boundary back / forward"},{keys:"Shift +  / ",action:"Jump to start / end"},{keys:"F",action:"Toggle Flow mode"},{keys:"I",action:"Toggle Inspector"},{keys:"S",action:"Story mode"},{keys:"E",action:"Explain mode"},{keys:"T",action:"Start tour"},{keys:"Cmd/Ctrl + K",action:"Open command palette"},{keys:"?",action:"Show shortcuts"},{keys:"Esc",action:"Close modal / inspector"}];function sD({open:e,onClose:t}){const n=b.useRef(null);if(b.useEffect(()=>{var i;e&&((i=n.current)==null||i.focus())},[e]),!e)return null;const r=i=>{var l;if(i.key==="Escape"){i.preventDefault(),t();return}if(i.key!=="Tab")return;const s=Array.from(i.currentTarget.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(s.length===0)return;const o=s.indexOf(document.activeElement),a=i.shiftKey?o<=0?s.length-1:o-1:(o+1)%s.length;(l=s[a])==null||l.focus(),i.preventDefault()};return w.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",onKeyDown:r,children:w.jsxs("div",{className:"modal",tabIndex:-1,children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("div",{className:"modal-title",id:"shortcuts-title",children:"Keyboard Shortcuts"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:t,ref:n,"aria-label":"Close shortcuts",children:"Close"})]}),w.jsx("div",{className:"modal-body",children:iD.map(i=>w.jsxs("div",{className:"modal-row",children:[w.jsx("span",{className:"modal-keys",children:i.keys}),w.jsx("span",{className:"modal-action",children:i.action})]},i.keys))})]})})}const oD=e=>e.trim().toLowerCase();function aD(e){const t=new Map;return e.forEach(n=>{var i;const r=n.group??"General";t.has(r)||t.set(r,[]),(i=t.get(r))==null||i.push(n)}),t}function Hw(e,t,n){var i;if(!e.length)return 0;let r=t;for(let s=0;s<e.length;s+=1)if(r=(r+n+e.length)%e.length,!((i=e[r])!=null&&i.disabled))return r;return t}function lD({open:e,onClose:t,actions:n}){var p,v;const[r,i]=b.useState(""),[s,o]=b.useState(0),a=b.useRef(null),l=b.useRef(null),u=b.useMemo(()=>{const m=oD(r);return m?n.filter(y=>[y.label,y.description,y.group,y.keys].filter(Boolean).join(" ").toLowerCase().includes(m)):n},[n,r]),c=b.useMemo(()=>aD(u),[u]);if(b.useEffect(()=>{if(!e)return;i(""),o(0);const m=window.setTimeout(()=>{var y;return(y=a.current)==null?void 0:y.focus()},0);return()=>window.clearTimeout(m)},[e]),b.useEffect(()=>{s>=u.length&&o(0)},[s,u.length]),!e)return null;const d=m=>{m.disabled||(m.onTrigger(),t())},f=m=>{var y,x;if(m.key==="Escape"){m.preventDefault(),t();return}if(m.key==="ArrowDown"){m.preventDefault(),o(_=>Hw(u,_,1));return}if(m.key==="ArrowUp"){m.preventDefault(),o(_=>Hw(u,_,-1));return}if(m.key==="Enter"){m.preventDefault();const _=u[s];_&&d(_);return}if(m.key==="Tab"){const _=Array.from(((y=l.current)==null?void 0:y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??[]);if(!_.length)return;const S=_.indexOf(document.activeElement),C=m.shiftKey?S<=0?_.length-1:S-1:(S+1)%_.length;(x=_[C])==null||x.focus(),m.preventDefault()}},h=(p=u[s])!=null&&p.id?`palette-option-${(v=u[s])==null?void 0:v.id}`:void 0;let g=-1;return w.jsx("div",{className:"modal-backdrop palette-backdrop",role:"dialog","aria-modal":"true","aria-label":"Command palette",onKeyDown:f,onMouseDown:m=>{m.target===m.currentTarget&&t()},children:w.jsxs("div",{className:"palette",ref:l,children:[w.jsxs("div",{className:"palette-header",children:[w.jsxs("div",{children:[w.jsx("div",{className:"palette-title",children:"Command palette"}),w.jsx("div",{className:"palette-subtitle",children:"Search actions, modes, and playbook steps."})]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:t,"aria-label":"Close command palette",children:"Close"})]}),w.jsx("input",{ref:a,className:"palette-input",value:r,onChange:m=>i(m.target.value),placeholder:"Type to filter actions","aria-label":"Search commands",role:"combobox","aria-expanded":"true","aria-controls":"command-palette-list","aria-activedescendant":h,"aria-autocomplete":"list"}),w.jsxs("div",{className:"palette-list",role:"listbox",id:"command-palette-list",children:[u.length===0?w.jsx("div",{className:"palette-empty",children:"No matching commands."}):null,Array.from(c.entries()).map(([m,y])=>w.jsxs("div",{className:"palette-group",children:[w.jsx("div",{className:"palette-group-title",children:m}),w.jsx("div",{className:"palette-group-list",children:y.map(x=>{g+=1;const _=g===s;return w.jsxs("button",{id:`palette-option-${x.id}`,className:`palette-item ${_?"active":""}`,type:"button",role:"option","aria-selected":_,onMouseEnter:()=>o(g),onClick:()=>d(x),disabled:x.disabled,children:[w.jsxs("div",{className:"palette-item-main",children:[w.jsx("div",{className:"palette-item-title",children:x.label}),x.description?w.jsx("div",{className:"palette-item-description",children:x.description}):null]}),x.keys?w.jsx("div",{className:"palette-item-keys",children:x.keys}):null]},x.id)})})]},m))]})]})})}function uD(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function cD({trace:e,mode:t,playheadMs:n,selectedStepId:r,compareTrace:i,collapsed:s,onToggleCollapsed:o,onModeChange:a,onSelectStep:l,onJumpToBottleneck:u,onReplay:c,onStartTour:d}){var k;const f=e.steps??[],h=uD(f),g=r??(h==null?void 0:h.id)??((k=f[0])==null?void 0:k.id)??null,p=t==="cinema"||n>0,v=!!r,m=!!i,y=[p,v,m].filter(Boolean).length,x=[p,v,m].findIndex(T=>!T),_=x===-1?2:x,S=[0,1,2].map(T=>[p,v,m][T]?"done":T===_?"active":"next"),C=[{id:"observe",title:"Act I: Observe",summary:"Scrub the timeline to feel the pacing, bottlenecks, and tool choreography.",status:S[0],actionLabel:"Enter cinema",action:()=>a("cinema")},{id:"inspect",title:"Act II: Inspect",summary:"Open the most expensive or failed step and read the payload with context.",status:S[1],actionLabel:h?"Jump to bottleneck":"Select first step",action:()=>{if(r){a("cinema");return}if(h){u();return}g&&(l(g),a("cinema"))},disabled:!g},{id:"direct",title:"Act III: Direct",summary:"Replay from a decisive step, then compare flows and diffs side-by-side.",status:S[2],actionLabel:i?"Open compare":"Replay from step",action:()=>{if(i){a("compare");return}g&&c(g)},disabled:!g}];return s?w.jsxs("section",{className:"journey-panel journey-collapsed","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A guided path from observation to replay. Use it to show newcomers what to do first.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"journey-collapsed-main",children:[w.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),w.jsx("div",{className:"journey-collapsed-title",children:"From observe to direct"})]}),w.jsxs("div",{className:"journey-collapsed-actions",children:[w.jsxs("span",{className:"journey-progress-text",children:[y,"/3 complete"]}),d?w.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Tour"}):null,w.jsx("button",{className:"primary-button journey-expand",type:"button",onClick:o,children:"Expand"})]})]}):w.jsxs("section",{className:"journey-panel","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A three-act flow that teaches the story: observe, inspect, direct. Each act jumps to the right place.","data-help-placement":"bottom",children:[w.jsxs("div",{className:"journey-head",children:[w.jsxs("div",{children:[w.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),w.jsx("h2",{className:"journey-title",children:"Cut a perfect take in three acts."}),w.jsx("p",{className:"journey-subtitle",children:"Trace the performance, interrogate the moment, then direct a better run."})]}),w.jsxs("div",{className:"journey-head-actions",children:[d?w.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Start tour"}):null,w.jsx("button",{className:"ghost-button",type:"button",onClick:o,children:"Collapse"})]})]}),w.jsx("div",{className:"journey-track",children:C.map((T,M)=>w.jsxs("div",{className:"journey-card","data-status":T.status,children:[w.jsxs("div",{className:"journey-card-top",children:[w.jsxs("span",{className:"journey-index",children:["0",M+1]}),w.jsx("span",{className:"journey-status",children:T.status})]}),w.jsx("h3",{className:"journey-card-title",children:T.title}),w.jsx("p",{className:"journey-card-body",children:T.summary}),w.jsx("button",{className:"primary-button journey-action",type:"button",onClick:T.action,disabled:T.disabled,children:T.actionLabel})]},T.id))}),w.jsxs("div",{className:"journey-footer",children:[w.jsxs("div",{children:[w.jsx("div",{className:"journey-progress-label",children:"Progress"}),w.jsx("div",{className:"journey-progress",children:w.jsx("span",{className:"journey-progress-bar",style:{width:`${y/3*100}%`}})})]}),w.jsx("div",{className:"journey-footnote",children:"Tip: Use Flow to spot fan-out, Compare to validate your changes."})]})]})}function dD(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function fD({trace:e,mode:t,selectedStepId:n,onModeChange:r,onSelectStep:i,onJumpToBottleneck:s,onReplay:o}){var d;const a=e.steps??[],l=dD(a),u=n??(l==null?void 0:l.id)??((d=a[0])==null?void 0:d.id)??null,c=e.metadata.wallTimeMs??0;return w.jsxs("aside",{className:"inspector inspector-empty","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Select a step to open detailed payloads, redaction controls, and replay actions.","data-help-placement":"left",children:[w.jsx("div",{className:"inspector-header",children:w.jsxs("div",{children:[w.jsx("div",{className:"inspector-title",children:"Director's notes"}),w.jsx("div",{className:"inspector-subtitle",children:"Select a step to open deep inspection."})]})}),w.jsxs("div",{className:"inspector-section",children:[w.jsx("div",{className:"inspector-section-title",children:"Run summary"}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Steps"}),w.jsx("span",{children:a.length})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Wall time"}),w.jsxs("span",{children:[c,"ms"]})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Status"}),w.jsx("span",{children:e.status})]})]}),w.jsxs("div",{className:"inspector-section",children:[w.jsx("div",{className:"inspector-section-title",children:"Next actions"}),w.jsxs("div",{className:"director-actions",children:[w.jsx("button",{className:"primary-button",type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Open cinema","data-help-body":"Jump straight into the timeline.","data-help-placement":"right",children:"Open cinema"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Open flow","data-help-body":"See the dependency graph of the run.","data-help-placement":"right",children:"Switch to flow"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{if(!n){if(l){s();return}u&&i(u)}},disabled:!u||!!n,"data-help":!0,"data-help-title":"Jump to bottleneck","data-help-body":"Select the slowest step for inspection.","data-help-placement":"right",children:n?"Inspector open":l?"Jump to bottleneck":"Select first step"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>u&&o(u),disabled:!u,"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a replay from a decisive step.","data-help-placement":"right",children:"Replay from step"})]})]}),w.jsxs("div",{className:"inspector-section",children:[w.jsx("div",{className:"inspector-section-title",children:"Mode"}),w.jsxs("div",{className:"director-modes",children:[w.jsx("button",{className:`ghost-button ${t==="cinema"?"active":""}`,type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view for pacing and sequence.","data-help-placement":"right",children:"Cinema"}),w.jsx("button",{className:`ghost-button ${t==="flow"?"active":""}`,type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Graph view for dependencies.","data-help-placement":"right",children:"Flow"}),w.jsx("button",{className:"ghost-button",type:"button",disabled:!0,children:"Compare"})]})]})]})}const _c=(e,t,n)=>Math.min(n,Math.max(t,e));function hD({steps:e,open:t,onClose:n,onComplete:r}){const[i,s]=b.useState(0),[o,a]=b.useState(null),[l,u]=b.useState(null),c=b.useRef(null),d=b.useRef(null),f=b.useMemo(()=>e[i],[e,i]),h=b.useCallback(()=>{if(!t)return;const v=document.querySelector(f.target);if(!v){d.current=null,a(null);return}d.current=v;const m=v.getBoundingClientRect();a(m)},[t,f.target]),g=b.useCallback(()=>{if(!o||!c.current){u(null);return}const v=c.current.offsetWidth,m=c.current.offsetHeight,y=16;let x=_c(o.left+o.width/2-v/2,y,window.innerWidth-v-y),_=o.bottom+16;f.placement==="top"&&(_=o.top-m-16),f.placement==="left"&&(x=o.left-v-16,_=o.top+o.height/2-m/2),f.placement==="right"&&(x=o.right+16,_=o.top+o.height/2-m/2),_+m>window.innerHeight-y&&(_=o.top-m-16),_<y&&(_=o.bottom+16),x=_c(x,y,window.innerWidth-v-y),_=_c(_,y,window.innerHeight-m-y),u({top:_,left:x})},[f.placement,o]);if(b.useEffect(()=>{t&&s(0)},[t]),b.useEffect(()=>{if(!t)return;const v=document.querySelector(f.target);v&&v.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const m=window.requestAnimationFrame(()=>h());return()=>window.cancelAnimationFrame(m)},[t,f.target,h]),b.useLayoutEffect(()=>{g()},[o,g,f.title]),b.useEffect(()=>{if(!t)return;const v=()=>{h(),g()};return window.addEventListener("resize",v),window.addEventListener("scroll",v,!0),()=>{window.removeEventListener("resize",v),window.removeEventListener("scroll",v,!0)}},[t,h,g]),!t||!f)return null;const p=o?{top:o.top-6,left:o.left-6,width:o.width+12,height:o.height+12}:void 0;return w.jsxs("div",{className:"tour-overlay",role:"dialog","aria-modal":"true","aria-label":"Guided tour",children:[w.jsx("div",{className:"tour-backdrop",onClick:n}),o?w.jsx("div",{className:"tour-spotlight",style:p}):null,w.jsxs("div",{className:`tour-card ${l?"tour-card-anchored":""}`,ref:c,style:l??void 0,children:[w.jsxs("div",{className:"tour-step",children:["Step ",i+1," of ",e.length]}),w.jsx("div",{className:"tour-title",children:f.title}),w.jsx("p",{className:"tour-body",children:f.body}),w.jsxs("div",{className:"tour-actions",children:[w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>s(v=>Math.max(0,v-1)),disabled:i===0,children:"Back"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:n,children:"Skip"}),i===e.length-1?w.jsx("button",{className:"primary-button",type:"button",onClick:r,children:"Finish tour"}):w.jsx("button",{className:"primary-button",type:"button",onClick:()=>s(v=>v+1),children:"Next"})]})]})]})}const Gw=(e,t,n)=>Math.min(n,Math.max(t,e));function pD({enabled:e}){const[t,n]=b.useState(null),[r,i]=b.useState(null),s=b.useRef(null),o=b.useRef(null),a=b.useCallback(()=>{const u=s.current;if(!u){n(null);return}const c=u.getBoundingClientRect(),d=u.dataset.helpTitle??"Context",f=u.dataset.helpBody??"",h=u.dataset.helpPlacement??"right";n({rect:c,title:d,body:f,placement:h})},[]);b.useEffect(()=>{if(!e){s.current=null,n(null);return}const u=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");if(!p){s.current||n(null);return}s.current!==p&&(s.current=p,a())},c=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");p&&(s.current=p,a())},d=g=>{var v;const p=g.relatedTarget;(v=p==null?void 0:p.closest)!=null&&v.call(p,"[data-help]")||(s.current=null,n(null))},f=g=>{var v,m;const p=(m=(v=g.target)==null?void 0:v.closest)==null?void 0:m.call(v,"[data-help]");if(!p){s.current=null,n(null);return}s.current=p,a()},h=()=>{s.current&&a()};return window.addEventListener("mousemove",u),window.addEventListener("focusin",c),window.addEventListener("focusout",d),window.addEventListener("pointerdown",f),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("focusin",c),window.removeEventListener("focusout",d),window.removeEventListener("pointerdown",f),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,a]);const l=b.useCallback(()=>{if(!t||!o.current){i(null);return}const u=12,c=o.current.offsetWidth,d=o.current.offsetHeight,{rect:f,placement:h}=t;let g=f.right+16,p=f.top+f.height/2-d/2;h==="left"&&(g=f.left-c-16,p=f.top+f.height/2-d/2),h==="top"&&(g=f.left+f.width/2-c/2,p=f.top-d-16),h==="bottom"&&(g=f.left+f.width/2-c/2,p=f.bottom+16),g=Gw(g,u,window.innerWidth-c-u),p=Gw(p,u,window.innerHeight-d-u),i({left:g,top:p})},[t]);return b.useLayoutEffect(()=>{l()},[l]),!e||!t?null:w.jsxs("div",{className:"help-overlay","aria-hidden":"true",children:[w.jsx("div",{className:"help-highlight",style:{top:t.rect.top-6,left:t.rect.left-6,width:t.rect.width+12,height:t.rect.height+12}}),w.jsxs("div",{className:"help-bubble",ref:o,style:r??void 0,children:[w.jsx("div",{className:"help-title",children:t.title}),w.jsx("div",{className:"help-body",children:t.body})]})]})}const mD=1800;function gD({onComplete:e}){return b.useEffect(()=>{const t=window.setTimeout(()=>e(),mD);return()=>window.clearTimeout(t)},[e]),w.jsx("div",{className:"intro-overlay",role:"dialog","aria-modal":"true","aria-label":"Agent Director intro",children:w.jsxs("div",{className:"intro-card",children:[w.jsx("div",{className:"intro-scan"}),w.jsx("div",{className:"intro-title",children:"Agent Director"}),w.jsx("div",{className:"intro-tagline",children:"Watch your agent think. Then direct it."}),w.jsxs("div",{className:"intro-grid",children:[w.jsx("span",{}),w.jsx("span",{}),w.jsx("span",{}),w.jsx("span",{})]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:e,children:"Skip intro"})]})})}function yD({mode:e,isPlaying:t,storyActive:n,explainMode:r,hidden:i=!1,open:s,onToggleOpen:o,onTogglePlay:a,onStartStory:l,onStopStory:u,onStartTour:c,onOpenPalette:d,onShowShortcuts:f,onToggleExplain:h,onJumpToBottleneck:g}){if(i)return null;const p=t?"Pause":"Play",v=n?"Stop story":"Story mode";return s?w.jsxs("aside",{className:"quick-actions","aria-label":"Quick actions","data-help":!0,"data-help-indicator":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Launch story mode, open the command palette, or jump to the bottleneck instantly.","data-help-placement":"left",children:[w.jsxs("div",{className:"quick-actions-header",children:[w.jsxs("div",{children:[w.jsx("div",{className:"quick-actions-title",children:"Quick actions"}),w.jsx("div",{className:"quick-actions-subtitle",children:"Pin demo controls close at hand."})]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:o,"aria-label":"Collapse quick actions",children:"Collapse"})]}),w.jsxs("button",{className:`quick-action ${t?"active":""}`,type:"button",onClick:a,"aria-label":p,"data-help":!0,"data-help-title":"Play or pause","data-help-body":"Start or stop playback from anywhere.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:p}),w.jsx("span",{className:"quick-action-meta",children:e==="flow"?"Cinema":"Space"})]}),w.jsxs("button",{className:`quick-action ${n?"active":""}`,type:"button",onClick:n?u:l,"aria-label":v,"data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough of the run.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:v}),w.jsx("span",{className:"quick-action-meta",children:"S"})]}),w.jsxs("button",{className:"quick-action",type:"button",onClick:d,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search every action and jump instantly.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Command"}),w.jsx("span",{className:"quick-action-meta",children:"Cmd+K"})]}),w.jsxs("button",{className:"quick-action",type:"button",onClick:c,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk the interface with a curated tour.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Tour"}),w.jsx("span",{className:"quick-action-meta",children:"Guide"})]}),w.jsxs("button",{className:`quick-action ${r?"active":""}`,type:"button",onClick:h,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Toggle contextual overlays for every control.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Explain"}),w.jsx("span",{className:"quick-action-meta",children:r?"On":"Off"})]}),w.jsxs("button",{className:"quick-action",type:"button",onClick:g,"aria-label":"Jump to bottleneck","data-help":!0,"data-help-title":"Bottleneck jump","data-help-body":"Focus instantly on the slowest step.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Bottleneck"}),w.jsx("span",{className:"quick-action-meta",children:"Latency"})]}),w.jsxs("button",{className:"quick-action",type:"button",onClick:f,"aria-label":"Show shortcuts","data-help":!0,"data-help-title":"Shortcuts","data-help-body":"See the full keyboard map.","data-help-placement":"left",children:[w.jsx("span",{className:"quick-action-label",children:"Shortcuts"}),w.jsx("span",{className:"quick-action-meta",children:"?"})]})]}):w.jsx("button",{className:"quick-actions-toggle",type:"button",onClick:o,"aria-label":"Open quick actions","aria-expanded":"false","data-help":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Open the dock to access demos, shortcuts, and instant actions.","data-help-placement":"left",children:"Dock"})}function vD({active:e,label:t,step:n,total:r,onStop:i,onRestart:s}){if(!e)return null;const o=r>0?(n+1)/r*100:0;return w.jsxs("div",{className:"story-banner",role:"status","aria-live":"polite",children:[w.jsxs("div",{className:"story-banner-main",children:[w.jsx("div",{className:"story-banner-title",children:"Story mode"}),w.jsx("div",{className:"story-banner-step",children:t})]}),w.jsxs("div",{className:"story-banner-actions",children:[w.jsxs("span",{className:"story-banner-count",children:[Math.min(n+1,r),"/",r]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:s,children:"Restart"}),w.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Stop"})]}),w.jsx("div",{className:"story-banner-progress",children:w.jsx("span",{style:{width:`${o}%`}})})]})}function rt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=rt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var kN={exports:{}},TN={},NN={exports:{}},MN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=b;function wD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xD=typeof Object.is=="function"?Object.is:wD,_D=rs.useState,SD=rs.useEffect,bD=rs.useLayoutEffect,ED=rs.useDebugValue;function CD(e,t){var n=t(),r=_D({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return bD(function(){i.value=n,i.getSnapshot=t,Sc(i)&&s({inst:i})},[e,n,t]),SD(function(){return Sc(i)&&s({inst:i}),e(function(){Sc(i)&&s({inst:i})})},[e]),ED(n),n}function Sc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xD(e,n)}catch{return!0}}function kD(e,t){return t()}var TD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kD:CD;MN.useSyncExternalStore=rs.useSyncExternalStore!==void 0?rs.useSyncExternalStore:TD;NN.exports=MN;var ND=NN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=b,MD=ND;function PD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AD=typeof Object.is=="function"?Object.is:PD,RD=MD.useSyncExternalStore,ID=pu.useRef,jD=pu.useEffect,DD=pu.useMemo,LD=pu.useDebugValue;TN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=ID(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=DD(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var g=o.value;if(i(g,h))return d=g}return d=h}if(g=d,AD(c,h))return g;var p=r(h);return i!==void 0&&i(g,p)?(c=h,g):(c=h,d=p)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=RD(e,s[0],s[1]);return jD(function(){o.hasValue=!0,o.value=a},[a]),LD(a),a};kN.exports=TN;var OD=kN.exports;const qD=vy(OD),FD={},Ww=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(FD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},$D=e=>e?Ww(e):Ww,{useDebugValue:VD}=q,{useSyncExternalStoreWithSelector:BD}=qD,zD=e=>e;function PN(e,t=zD,n){const r=BD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return VD(r),r}const Kw=(e,t)=>{const n=$D(e),r=(i,s=t)=>PN(n,i,s);return Object.assign(r,n),r},UD=(e,t)=>e?Kw(e,t):Kw;function Ze(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var HD={value:()=>{}};function mu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qa(n)}function Qa(e){this._=e}function GD(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qa.prototype=mu.prototype={constructor:Qa,on:function(e,t){var n=this._,r=GD(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=WD(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Yw(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Yw(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qa(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function WD(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Yw(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=HD,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Lg="http://www.w3.org/1999/xhtml";const Xw={svg:"http://www.w3.org/2000/svg",xhtml:Lg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Xw.hasOwnProperty(t)?{space:Xw[t],local:e}:e}function KD(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Lg&&t.documentElement.namespaceURI===Lg?t.createElement(e):t.createElementNS(n,e)}}function YD(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function AN(e){var t=gu(e);return(t.local?YD:KD)(t)}function XD(){}function pv(e){return e==null?XD:function(){return this.querySelector(e)}}function ZD(e){typeof e!="function"&&(e=pv(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Dt(r,this._parents)}function QD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function JD(){return[]}function RN(e){return e==null?JD:function(){return this.querySelectorAll(e)}}function eL(e){return function(){return QD(e.apply(this,arguments))}}function tL(e){typeof e=="function"?e=eL(e):e=RN(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new Dt(r,i)}function IN(e){return function(){return this.matches(e)}}function jN(e){return function(t){return t.matches(e)}}var nL=Array.prototype.find;function rL(e){return function(){return nL.call(this.children,e)}}function iL(){return this.firstElementChild}function sL(e){return this.select(e==null?iL:rL(typeof e=="function"?e:jN(e)))}var oL=Array.prototype.filter;function aL(){return Array.from(this.children)}function lL(e){return function(){return oL.call(this.children,e)}}function uL(e){return this.selectAll(e==null?aL:lL(typeof e=="function"?e:jN(e)))}function cL(e){typeof e!="function"&&(e=IN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Dt(r,this._parents)}function DN(e){return new Array(e.length)}function dL(){return new Dt(this._enter||this._groups.map(DN),this._parents)}function Pl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pl.prototype={constructor:Pl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fL(e){return function(){return e}}function hL(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new Pl(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function pL(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new Pl(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function mL(e){return e.__data__}function gL(e,t){if(!arguments.length)return Array.from(this,mL);var n=t?pL:hL,r=this._parents,i=this._groups;typeof e!="function"&&(e=fL(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,h=yL(e.call(c,c&&c.__data__,u,r)),g=h.length,p=a[u]=new Array(g),v=o[u]=new Array(g),m=l[u]=new Array(f);n(c,d,p,v,m,h,t);for(var y=0,x=0,_,S;y<g;++y)if(_=p[y]){for(y>=x&&(x=y+1);!(S=v[x])&&++x<g;);_._next=S||null}}return o=new Dt(o,r),o._enter=a,o._exit=l,o}function yL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vL(){return new Dt(this._exit||this._groups.map(DN),this._parents)}function wL(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function xL(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,g=0;g<d;++g)(h=u[g]||c[g])&&(f[g]=h);for(;l<i;++l)a[l]=n[l];return new Dt(a,this._parents)}function _L(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function SL(e){e||(e=bL);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new Dt(i,this._parents).order()}function bL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function EL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function CL(){return Array.from(this)}function kL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function TL(){let e=0;for(const t of this)++e;return e}function NL(){return!this.node()}function ML(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function PL(e){return function(){this.removeAttribute(e)}}function AL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RL(e,t){return function(){this.setAttribute(e,t)}}function IL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function jL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function DL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function LL(e,t){var n=gu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?AL:PL:typeof t=="function"?n.local?DL:jL:n.local?IL:RL)(n,t))}function LN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function OL(e){return function(){this.style.removeProperty(e)}}function qL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function FL(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function $L(e,t,n){return arguments.length>1?this.each((t==null?OL:typeof t=="function"?FL:qL)(e,t,n??"")):is(this.node(),e)}function is(e,t){return e.style.getPropertyValue(t)||LN(e).getComputedStyle(e,null).getPropertyValue(t)}function VL(e){return function(){delete this[e]}}function BL(e,t){return function(){this[e]=t}}function zL(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function UL(e,t){return arguments.length>1?this.each((t==null?VL:typeof t=="function"?zL:BL)(e,t)):this.node()[e]}function ON(e){return e.trim().split(/^|\s+/)}function mv(e){return e.classList||new qN(e)}function qN(e){this._node=e,this._names=ON(e.getAttribute("class")||"")}qN.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function FN(e,t){for(var n=mv(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function $N(e,t){for(var n=mv(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function HL(e){return function(){FN(this,e)}}function GL(e){return function(){$N(this,e)}}function WL(e,t){return function(){(t.apply(this,arguments)?FN:$N)(this,e)}}function KL(e,t){var n=ON(e+"");if(arguments.length<2){for(var r=mv(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?WL:t?HL:GL)(n,t))}function YL(){this.textContent=""}function XL(e){return function(){this.textContent=e}}function ZL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function QL(e){return arguments.length?this.each(e==null?YL:(typeof e=="function"?ZL:XL)(e)):this.node().textContent}function JL(){this.innerHTML=""}function eO(e){return function(){this.innerHTML=e}}function tO(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nO(e){return arguments.length?this.each(e==null?JL:(typeof e=="function"?tO:eO)(e)):this.node().innerHTML}function rO(){this.nextSibling&&this.parentNode.appendChild(this)}function iO(){return this.each(rO)}function sO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oO(){return this.each(sO)}function aO(e){var t=typeof e=="function"?e:AN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function lO(){return null}function uO(e,t){var n=typeof e=="function"?e:AN(e),r=t==null?lO:typeof t=="function"?t:pv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cO(){var e=this.parentNode;e&&e.removeChild(this)}function dO(){return this.each(cO)}function fO(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hO(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pO(e){return this.select(e?hO:fO)}function mO(e){return arguments.length?this.property("__data__",e):this.node().__data__}function gO(e){return function(t){e.call(this,t,this.__data__)}}function yO(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function vO(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function wO(e,t,n){return function(){var r=this.__on,i,s=gO(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function xO(e,t,n){var r=yO(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?wO:vO,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function VN(e,t,n){var r=LN(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function _O(e,t){return function(){return VN(this,e,t)}}function SO(e,t){return function(){return VN(this,e,t.apply(this,arguments))}}function bO(e,t){return this.each((typeof t=="function"?SO:_O)(e,t))}function*EO(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var BN=[null];function Dt(e,t){this._groups=e,this._parents=t}function Ko(){return new Dt([[document.documentElement]],BN)}function CO(){return this}Dt.prototype=Ko.prototype={constructor:Dt,select:ZD,selectAll:tL,selectChild:sL,selectChildren:uL,filter:cL,data:gL,enter:dL,exit:vL,join:wL,merge:xL,selection:CO,order:_L,sort:SL,call:EL,nodes:CL,node:kL,size:TL,empty:NL,each:ML,attr:LL,style:$L,property:UL,classed:KL,text:QL,html:nO,raise:iO,lower:oO,append:aO,insert:uO,remove:dO,clone:pO,datum:mO,on:xO,dispatch:bO,[Symbol.iterator]:EO};function zt(e){return typeof e=="string"?new Dt([[document.querySelector(e)]],[document.documentElement]):new Dt([[e]],BN)}function kO(e){let t;for(;t=e.sourceEvent;)e=t;return e}function rn(e,t){if(e=kO(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const TO={passive:!1},Po={capture:!0,passive:!1};function bc(e){e.stopImmediatePropagation()}function Wi(e){e.preventDefault(),e.stopImmediatePropagation()}function zN(e){var t=e.document.documentElement,n=zt(e).on("dragstart.drag",Wi,Po);"onselectstart"in t?n.on("selectstart.drag",Wi,Po):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function UN(e,t){var n=e.document.documentElement,r=zt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Wi,Po),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ka=e=>()=>e;function Og(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Og.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function NO(e){return!e.ctrlKey&&!e.button}function MO(){return this.parentNode}function PO(e,t){return t??{x:e.x,y:e.y}}function AO(){return navigator.maxTouchPoints||"ontouchstart"in this}function RO(){var e=NO,t=MO,n=PO,r=AO,i={},s=mu("start","drag","end"),o=0,a,l,u,c,d=0;function f(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",m,TO).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,S){if(!(c||!e.call(this,_,S))){var C=x(this,t.call(this,_,S),_,S,"mouse");C&&(zt(_.view).on("mousemove.drag",g,Po).on("mouseup.drag",p,Po),zN(_.view),bc(_),u=!1,a=_.clientX,l=_.clientY,C("start",_))}}function g(_){if(Wi(_),!u){var S=_.clientX-a,C=_.clientY-l;u=S*S+C*C>d}i.mouse("drag",_)}function p(_){zt(_.view).on("mousemove.drag mouseup.drag",null),UN(_.view,u),Wi(_),i.mouse("end",_)}function v(_,S){if(e.call(this,_,S)){var C=_.changedTouches,k=t.call(this,_,S),T=C.length,M,R;for(M=0;M<T;++M)(R=x(this,k,_,S,C[M].identifier,C[M]))&&(bc(_),R("start",_,C[M]))}}function m(_){var S=_.changedTouches,C=S.length,k,T;for(k=0;k<C;++k)(T=i[S[k].identifier])&&(Wi(_),T("drag",_,S[k]))}function y(_){var S=_.changedTouches,C=S.length,k,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),k=0;k<C;++k)(T=i[S[k].identifier])&&(bc(_),T("end",_,S[k]))}function x(_,S,C,k,T,M){var R=s.copy(),I=rn(M||C,S),B,V,E;if((E=n.call(_,new Og("beforestart",{sourceEvent:C,target:f,identifier:T,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:R}),k))!=null)return B=E.x-I[0]||0,V=E.y-I[1]||0,function D(A,L,P){var N=I,j;switch(A){case"start":i[T]=D,j=o++;break;case"end":delete i[T],--o;case"drag":I=rn(P||L,S),j=o;break}R.call(A,_,new Og(A,{sourceEvent:L,subject:E,target:f,identifier:T,active:j,x:I[0]+B,y:I[1]+V,dx:I[0]-N[0],dy:I[1]-N[1],dispatch:R}),k)}}return f.filter=function(_){return arguments.length?(e=typeof _=="function"?_:ka(!!_),f):e},f.container=function(_){return arguments.length?(t=typeof _=="function"?_:ka(_),f):t},f.subject=function(_){return arguments.length?(n=typeof _=="function"?_:ka(_),f):n},f.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:ka(!!_),f):r},f.on=function(){var _=s.on.apply(s,arguments);return _===s?f:_},f.clickDistance=function(_){return arguments.length?(d=(_=+_)*_,f):Math.sqrt(d)},f}function gv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yo(){}var Ao=.7,Al=1/Ao,Ki="\\s*([+-]?\\d+)\\s*",Ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IO=/^#([0-9a-f]{3,8})$/,jO=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),DO=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),LO=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Ro}\\)$`),OO=new RegExp(`^rgba\\(${bn},${bn},${bn},${Ro}\\)$`),qO=new RegExp(`^hsl\\(${Ro},${bn},${bn}\\)$`),FO=new RegExp(`^hsla\\(${Ro},${bn},${bn},${Ro}\\)$`),Zw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gv(Yo,Io,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qw,formatHex:Qw,formatHex8:$O,formatHsl:VO,formatRgb:Jw,toString:Jw});function Qw(){return this.rgb().formatHex()}function $O(){return this.rgb().formatHex8()}function VO(){return GN(this).formatHsl()}function Jw(){return this.rgb().formatRgb()}function Io(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=IO.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?e1(t):n===3?new bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ta(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ta(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jO.exec(e))?new bt(t[1],t[2],t[3],1):(t=DO.exec(e))?new bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=LO.exec(e))?Ta(t[1],t[2],t[3],t[4]):(t=OO.exec(e))?Ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qO.exec(e))?r1(t[1],t[2]/100,t[3]/100,1):(t=FO.exec(e))?r1(t[1],t[2]/100,t[3]/100,t[4]):Zw.hasOwnProperty(e)?e1(Zw[e]):e==="transparent"?new bt(NaN,NaN,NaN,0):null}function e1(e){return new bt(e>>16&255,e>>8&255,e&255,1)}function Ta(e,t,n,r){return r<=0&&(e=t=n=NaN),new bt(e,t,n,r)}function BO(e){return e instanceof Yo||(e=Io(e)),e?(e=e.rgb(),new bt(e.r,e.g,e.b,e.opacity)):new bt}function qg(e,t,n,r){return arguments.length===1?BO(e):new bt(e,t,n,r??1)}function bt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gv(bt,qg,HN(Yo,{brighter(e){return e=e==null?Al:Math.pow(Al,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ao:Math.pow(Ao,e),new bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bt(Jr(this.r),Jr(this.g),Jr(this.b),Rl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t1,formatHex:t1,formatHex8:zO,formatRgb:n1,toString:n1}));function t1(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}`}function zO(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}${Wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function n1(){const e=Rl(this.opacity);return`${e===1?"rgb(":"rgba("}${Jr(this.r)}, ${Jr(this.g)}, ${Jr(this.b)}${e===1?")":`, ${e})`}`}function Rl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wr(e){return e=Jr(e),(e<16?"0":"")+e.toString(16)}function r1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,n,r)}function GN(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof Yo||(e=Io(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new on(o,a,l,e.opacity)}function UO(e,t,n,r){return arguments.length===1?GN(e):new on(e,t,n,r??1)}function on(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gv(on,UO,HN(Yo,{brighter(e){return e=e==null?Al:Math.pow(Al,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ao:Math.pow(Ao,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new bt(Ec(e>=240?e-240:e+120,i,r),Ec(e,i,r),Ec(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new on(i1(this.h),Na(this.s),Na(this.l),Rl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rl(this.opacity);return`${e===1?"hsl(":"hsla("}${i1(this.h)}, ${Na(this.s)*100}%, ${Na(this.l)*100}%${e===1?")":`, ${e})`}`}}));function i1(e){return e=(e||0)%360,e<0?e+360:e}function Na(e){return Math.max(0,Math.min(1,e||0))}function Ec(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const WN=e=>()=>e;function HO(e,t){return function(n){return e+n*t}}function GO(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function WO(e){return(e=+e)==1?KN:function(t,n){return n-t?GO(t,n,e):WN(isNaN(t)?n:t)}}function KN(e,t){var n=t-e;return n?HO(e,n):WN(isNaN(e)?t:e)}const s1=function e(t){var n=WO(t);function r(i,s){var o=n((i=qg(i)).r,(s=qg(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=KN(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function ur(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Fg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cc=new RegExp(Fg.source,"g");function KO(e){return function(){return e}}function YO(e){return function(t){return e(t)+""}}function XO(e,t){var n=Fg.lastIndex=Cc.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Fg.exec(e))&&(i=Cc.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ur(r,i)})),n=Cc.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?YO(l[0].x):KO(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var o1=180/Math.PI,$g={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function YN(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*o1,skewX:Math.atan(l)*o1,scaleX:o,scaleY:a}}var Ma;function ZO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$g:YN(t.a,t.b,t.c,t.d,t.e,t.f)}function QO(e){return e==null||(Ma||(Ma=document.createElementNS("http://www.w3.org/2000/svg","g")),Ma.setAttribute("transform",e),!(e=Ma.transform.baseVal.consolidate()))?$g:(e=e.matrix,YN(e.a,e.b,e.c,e.d,e.e,e.f))}function XN(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,g){if(u!==d||c!==f){var p=h.push("translate(",null,t,null,n);g.push({i:p-4,x:ur(u,d)},{i:p-2,x:ur(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ur(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ur(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,g){if(u!==d||c!==f){var p=h.push(i(h)+"scale(",null,",",null,")");g.push({i:p-4,x:ur(u,d)},{i:p-2,x:ur(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var g=-1,p=f.length,v;++g<p;)d[(v=f[g]).i]=v.x(h);return d.join("")}}}var JO=XN(ZO,"px, ","px)","deg)"),e3=XN(QO,", ",")",")"),t3=1e-12;function a1(e){return((e=Math.exp(e))+1/e)/2}function n3(e){return((e=Math.exp(e))-1/e)/2}function r3(e){return((e=Math.exp(2*e))-1)/(e+1)}const i3=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],h=c-a,g=d-l,p=h*h+g*g,v,m;if(p<t3)m=Math.log(f/u)/t,v=function(k){return[a+k*h,l+k*g,u*Math.exp(t*k*m)]};else{var y=Math.sqrt(p),x=(f*f-u*u+r*p)/(2*u*n*y),_=(f*f-u*u-r*p)/(2*f*n*y),S=Math.log(Math.sqrt(x*x+1)-x),C=Math.log(Math.sqrt(_*_+1)-_);m=(C-S)/t,v=function(k){var T=k*m,M=a1(S),R=u/(n*y)*(M*r3(t*T+S)-n3(S));return[a+R*h,l+R*g,u*M/a1(t*T+S)]}}return v.duration=m*1e3*t/Math.SQRT2,v}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var ss=0,Vs=0,As=0,ZN=1e3,Il,Bs,jl=0,ai=0,yu=0,jo=typeof performance=="object"&&performance.now?performance:Date,QN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yv(){return ai||(QN(s3),ai=jo.now()+yu)}function s3(){ai=0}function Dl(){this._call=this._time=this._next=null}Dl.prototype=JN.prototype={constructor:Dl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yv():+n)+(t==null?0:+t),!this._next&&Bs!==this&&(Bs?Bs._next=this:Il=this,Bs=this),this._call=e,this._time=n,Vg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vg())}};function JN(e,t,n){var r=new Dl;return r.restart(e,t,n),r}function o3(){yv(),++ss;for(var e=Il,t;e;)(t=ai-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ss}function l1(){ai=(jl=jo.now())+yu,ss=Vs=0;try{o3()}finally{ss=0,l3(),ai=0}}function a3(){var e=jo.now(),t=e-jl;t>ZN&&(yu-=t,jl=e)}function l3(){for(var e,t=Il,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Il=n);Bs=e,Vg(r)}function Vg(e){if(!ss){Vs&&(Vs=clearTimeout(Vs));var t=e-ai;t>24?(e<1/0&&(Vs=setTimeout(l1,e-jo.now()-yu)),As&&(As=clearInterval(As))):(As||(jl=jo.now(),As=setInterval(a3,ZN)),ss=1,QN(l1))}}function u1(e,t,n){var r=new Dl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var u3=mu("start","end","cancel","interrupt"),c3=[],eM=0,c1=1,Bg=2,Ja=3,d1=4,zg=5,el=6;function vu(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;d3(e,n,{name:t,index:r,group:i,on:u3,tween:c3,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:eM})}function vv(e,t){var n=dn(e,t);if(n.state>eM)throw new Error("too late; already scheduled");return n}function kn(e,t){var n=dn(e,t);if(n.state>Ja)throw new Error("too late; already running");return n}function dn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function d3(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=JN(s,0,n.time);function s(u){n.state=c1,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,h;if(n.state!==c1)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Ja)return u1(o);h.state===d1?(h.state=el,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=el,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(u1(function(){n.state===Ja&&(n.state=d1,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Bg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bg){for(n.state=Ja,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=zg,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===zg&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=el,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function tl(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Bg&&r.state<zg,r.state=el,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function f3(e){return this.each(function(){tl(this,e)})}function h3(e,t){var n,r;return function(){var i=kn(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function p3(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=kn(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function m3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=dn(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?h3:p3)(n,e,t))}function wv(e,t,n){var r=e._id;return e.each(function(){var i=kn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return dn(i,r).value[t]}}function tM(e,t){var n;return(typeof t=="number"?ur:t instanceof Io?s1:(n=Io(t))?(t=n,s1):XO)(e,t)}function g3(e){return function(){this.removeAttribute(e)}}function y3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function v3(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function w3(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function x3(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function _3(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function S3(e,t){var n=gu(e),r=n==="transform"?e3:tM;return this.attrTween(e,typeof t=="function"?(n.local?_3:x3)(n,r,wv(this,"attr."+e,t)):t==null?(n.local?y3:g3)(n):(n.local?w3:v3)(n,r,t))}function b3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function E3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function C3(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&E3(e,s)),n}return i._value=t,i}function k3(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&b3(e,s)),n}return i._value=t,i}function T3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=gu(e);return this.tween(n,(r.local?C3:k3)(r,t))}function N3(e,t){return function(){vv(this,e).delay=+t.apply(this,arguments)}}function M3(e,t){return t=+t,function(){vv(this,e).delay=t}}function P3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?N3:M3)(t,e)):dn(this.node(),t).delay}function A3(e,t){return function(){kn(this,e).duration=+t.apply(this,arguments)}}function R3(e,t){return t=+t,function(){kn(this,e).duration=t}}function I3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?A3:R3)(t,e)):dn(this.node(),t).duration}function j3(e,t){if(typeof t!="function")throw new Error;return function(){kn(this,e).ease=t}}function D3(e){var t=this._id;return arguments.length?this.each(j3(t,e)):dn(this.node(),t).ease}function L3(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;kn(this,e).ease=n}}function O3(e){if(typeof e!="function")throw new Error;return this.each(L3(this._id,e))}function q3(e){typeof e!="function"&&(e=IN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Kn(r,this._parents,this._name,this._id)}function F3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new Kn(o,this._parents,this._name,this._id)}function $3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function V3(e,t,n){var r,i,s=$3(t)?vv:kn;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function B3(e,t){var n=this._id;return arguments.length<2?dn(this.node(),n).on.on(e):this.each(V3(n,e,t))}function z3(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function U3(){return this.on("end.remove",z3(this._id))}function H3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=pv(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,vu(u[f],t,n,f,u,dn(c,n)));return new Kn(s,this._parents,t,n)}function G3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=RN(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,g=dn(c,n),p=0,v=f.length;p<v;++p)(h=f[p])&&vu(h,t,n,p,f,g);s.push(f),o.push(c)}return new Kn(s,o,t,n)}var W3=Ko.prototype.constructor;function K3(){return new W3(this._groups,this._parents)}function Y3(e,t){var n,r,i;return function(){var s=is(this,e),o=(this.style.removeProperty(e),is(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function nM(e){return function(){this.style.removeProperty(e)}}function X3(e,t,n){var r,i=n+"",s;return function(){var o=is(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function Z3(e,t,n){var r,i,s;return function(){var o=is(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),is(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function Q3(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=kn(this,e),u=l.on,c=l.value[s]==null?a||(a=nM(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function J3(e,t,n){var r=(e+="")=="transform"?JO:tM;return t==null?this.styleTween(e,Y3(e,r)).on("end.style."+e,nM(e)):typeof t=="function"?this.styleTween(e,Z3(e,r,wv(this,"style."+e,t))).each(Q3(this._id,e)):this.styleTween(e,X3(e,r,t),n).on("end.style."+e,null)}function eq(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function tq(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&eq(e,o,n)),r}return s._value=t,s}function nq(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,tq(e,t,n??""))}function rq(e){return function(){this.textContent=e}}function iq(e){return function(){var t=e(this);this.textContent=t??""}}function sq(e){return this.tween("text",typeof e=="function"?iq(wv(this,"text",e)):rq(e==null?"":e+""))}function oq(e){return function(t){this.textContent=e.call(this,t)}}function aq(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&oq(i)),t}return r._value=e,r}function lq(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,aq(e))}function uq(){for(var e=this._name,t=this._id,n=rM(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=dn(l,t);vu(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Kn(r,this._parents,e,n)}function cq(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=kn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var dq=0;function Kn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function rM(){return++dq}var Pn=Ko.prototype;Kn.prototype={constructor:Kn,select:H3,selectAll:G3,selectChild:Pn.selectChild,selectChildren:Pn.selectChildren,filter:q3,merge:F3,selection:K3,transition:uq,call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:B3,attr:S3,attrTween:T3,style:J3,styleTween:nq,text:sq,textTween:lq,remove:U3,tween:m3,delay:P3,duration:I3,ease:D3,easeVarying:O3,end:cq,[Symbol.iterator]:Pn[Symbol.iterator]};function fq(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var hq={time:null,delay:0,duration:250,ease:fq};function pq(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function mq(e){var t,n;e instanceof Kn?(t=e._id,e=e._name):(t=rM(),(n=hq).time=yv(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&vu(l,e,t,u,o,n||pq(l,t));return new Kn(r,this._parents,e,t)}Ko.prototype.interrupt=f3;Ko.prototype.transition=mq;const Pa=e=>()=>e;function gq(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function On(e,t,n){this.k=e,this.x=t,this.y=n}On.prototype={constructor:On,scale:function(e){return e===1?this:new On(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new On(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vn=new On(1,0,0);On.prototype;function kc(e){e.stopImmediatePropagation()}function Rs(e){e.preventDefault(),e.stopImmediatePropagation()}function yq(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function vq(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function f1(){return this.__zoom||Vn}function wq(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function xq(){return navigator.maxTouchPoints||"ontouchstart"in this}function _q(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function iM(){var e=yq,t=vq,n=_q,r=wq,i=xq,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=i3,u=mu("start","zoom","end"),c,d,f,h=500,g=150,p=0,v=10;function m(E){E.property("__zoom",f1).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",R).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(E,D,A,L){var P=E.selection?E.selection():E;P.property("__zoom",f1),E!==P?S(E,D,A,L):P.interrupt().each(function(){C(this,arguments).event(L).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},m.scaleBy=function(E,D,A,L){m.scaleTo(E,function(){var P=this.__zoom.k,N=typeof D=="function"?D.apply(this,arguments):D;return P*N},A,L)},m.scaleTo=function(E,D,A,L){m.transform(E,function(){var P=t.apply(this,arguments),N=this.__zoom,j=A==null?_(P):typeof A=="function"?A.apply(this,arguments):A,F=N.invert(j),$=typeof D=="function"?D.apply(this,arguments):D;return n(x(y(N,$),j,F),P,o)},A,L)},m.translateBy=function(E,D,A,L){m.transform(E,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),o)},null,L)},m.translateTo=function(E,D,A,L,P){m.transform(E,function(){var N=t.apply(this,arguments),j=this.__zoom,F=L==null?_(N):typeof L=="function"?L.apply(this,arguments):L;return n(Vn.translate(F[0],F[1]).scale(j.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof A=="function"?-A.apply(this,arguments):-A),N,o)},L,P)};function y(E,D){return D=Math.max(s[0],Math.min(s[1],D)),D===E.k?E:new On(D,E.x,E.y)}function x(E,D,A){var L=D[0]-A[0]*E.k,P=D[1]-A[1]*E.k;return L===E.x&&P===E.y?E:new On(E.k,L,P)}function _(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function S(E,D,A,L){E.on("start.zoom",function(){C(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(L).end()}).tween("zoom",function(){var P=this,N=arguments,j=C(P,N).event(L),F=t.apply(P,N),$=A==null?_(F):typeof A=="function"?A.apply(P,N):A,O=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),z=P.__zoom,G=typeof D=="function"?D.apply(P,N):D,Z=l(z.invert($).concat(O/z.k),G.invert($).concat(O/G.k));return function(ne){if(ne===1)ne=G;else{var ce=Z(ne),oe=O/ce[2];ne=new On(oe,$[0]-ce[0]*oe,$[1]-ce[1]*oe)}j.zoom(null,ne)}})}function C(E,D,A){return!A&&E.__zooming||new k(E,D)}function k(E,D){this.that=E,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,D),this.taps=0}k.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,D){return this.mouse&&E!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var D=zt(this.that).datum();u.call(E,this.that,new gq(E,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),D)}};function T(E,...D){if(!e.apply(this,arguments))return;var A=C(this,D).event(E),L=this.__zoom,P=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,r.apply(this,arguments)))),N=rn(E);if(A.wheel)(A.mouse[0][0]!==N[0]||A.mouse[0][1]!==N[1])&&(A.mouse[1]=L.invert(A.mouse[0]=N)),clearTimeout(A.wheel);else{if(L.k===P)return;A.mouse=[N,L.invert(N)],tl(this),A.start()}Rs(E),A.wheel=setTimeout(j,g),A.zoom("mouse",n(x(y(L,P),A.mouse[0],A.mouse[1]),A.extent,o));function j(){A.wheel=null,A.end()}}function M(E,...D){if(f||!e.apply(this,arguments))return;var A=E.currentTarget,L=C(this,D,!0).event(E),P=zt(E.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",O,!0),N=rn(E,A),j=E.clientX,F=E.clientY;zN(E.view),kc(E),L.mouse=[N,this.__zoom.invert(N)],tl(this),L.start();function $(z){if(Rs(z),!L.moved){var G=z.clientX-j,Z=z.clientY-F;L.moved=G*G+Z*Z>p}L.event(z).zoom("mouse",n(x(L.that.__zoom,L.mouse[0]=rn(z,A),L.mouse[1]),L.extent,o))}function O(z){P.on("mousemove.zoom mouseup.zoom",null),UN(z.view,L.moved),Rs(z),L.event(z).end()}}function R(E,...D){if(e.apply(this,arguments)){var A=this.__zoom,L=rn(E.changedTouches?E.changedTouches[0]:E,this),P=A.invert(L),N=A.k*(E.shiftKey?.5:2),j=n(x(y(A,N),L,P),t.apply(this,D),o);Rs(E),a>0?zt(this).transition().duration(a).call(S,j,L,E):zt(this).call(m.transform,j,L,E)}}function I(E,...D){if(e.apply(this,arguments)){var A=E.touches,L=A.length,P=C(this,D,E.changedTouches.length===L).event(E),N,j,F,$;for(kc(E),j=0;j<L;++j)F=A[j],$=rn(F,this),$=[$,this.__zoom.invert($),F.identifier],P.touch0?!P.touch1&&P.touch0[2]!==$[2]&&(P.touch1=$,P.taps=0):(P.touch0=$,N=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),N&&(P.taps<2&&(d=$[0],c=setTimeout(function(){c=null},h)),tl(this),P.start())}}function B(E,...D){if(this.__zooming){var A=C(this,D).event(E),L=E.changedTouches,P=L.length,N,j,F,$;for(Rs(E),N=0;N<P;++N)j=L[N],F=rn(j,this),A.touch0&&A.touch0[2]===j.identifier?A.touch0[0]=F:A.touch1&&A.touch1[2]===j.identifier&&(A.touch1[0]=F);if(j=A.that.__zoom,A.touch1){var O=A.touch0[0],z=A.touch0[1],G=A.touch1[0],Z=A.touch1[1],ne=(ne=G[0]-O[0])*ne+(ne=G[1]-O[1])*ne,ce=(ce=Z[0]-z[0])*ce+(ce=Z[1]-z[1])*ce;j=y(j,Math.sqrt(ne/ce)),F=[(O[0]+G[0])/2,(O[1]+G[1])/2],$=[(z[0]+Z[0])/2,(z[1]+Z[1])/2]}else if(A.touch0)F=A.touch0[0],$=A.touch0[1];else return;A.zoom("touch",n(x(j,F,$),A.extent,o))}}function V(E,...D){if(this.__zooming){var A=C(this,D).event(E),L=E.changedTouches,P=L.length,N,j;for(kc(E),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),N=0;N<P;++N)j=L[N],A.touch0&&A.touch0[2]===j.identifier?delete A.touch0:A.touch1&&A.touch1[2]===j.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(j=rn(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<v)){var F=zt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return m.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Pa(+E),m):r},m.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Pa(!!E),m):e},m.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:Pa(!!E),m):i},m.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Pa([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),m):t},m.scaleExtent=function(E){return arguments.length?(s[0]=+E[0],s[1]=+E[1],m):[s[0],s[1]]},m.translateExtent=function(E){return arguments.length?(o[0][0]=+E[0][0],o[1][0]=+E[1][0],o[0][1]=+E[0][1],o[1][1]=+E[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(E){return arguments.length?(n=E,m):n},m.duration=function(E){return arguments.length?(a=+E,m):a},m.interpolate=function(E){return arguments.length?(l=E,m):l},m.on=function(){var E=u.on.apply(u,arguments);return E===u?m:E},m.clickDistance=function(E){return arguments.length?(p=(E=+E)*E,m):Math.sqrt(p)},m.tapDistance=function(E){return arguments.length?(v=+E,m):v},m}const wu=b.createContext(null),Sq=wu.Provider,Yn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},sM=Yn.error001();function ye(e,t){const n=b.useContext(wu);if(n===null)throw new Error(sM);return PN(n,e,t)}const He=()=>{const e=b.useContext(wu);if(e===null)throw new Error(sM);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},bq=e=>e.userSelectionActive?"none":"all";function xv({position:e,children:t,className:n,style:r,...i}){const s=ye(bq),o=`${e}`.split("-");return q.createElement("div",{className:rt(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i},t)}function Eq({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:q.createElement(xv,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},q.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Cq=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const d=b.useRef(null),[f,h]=b.useState({x:0,y:0,width:0,height:0}),g=rt(["react-flow__edge-textwrapper",u]);return b.useEffect(()=>{if(d.current){const p=d.current.getBBox();h({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n>"u"||!n?null:q.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:g,visibility:f.width?"visible":"hidden",...c},i&&q.createElement("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),q.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),l)};var kq=b.memo(Cq);const _v=e=>({width:e.offsetWidth,height:e.offsetHeight}),os=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Sv=(e={x:0,y:0},t)=>({x:os(e.x,t[0][0],t[1][0]),y:os(e.y,t[0][1],t[1][1])}),h1=(e,t,n)=>e<t?os(Math.abs(e-t),1,50)/50:e>n?-os(Math.abs(e-n),1,50)/50:0,oM=(e,t)=>{const n=h1(e.x,35,t.width-35)*20,r=h1(e.y,35,t.height-35)*20;return[n,r]},aM=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},lM=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Do=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),uM=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),p1=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Tq=(e,t)=>uM(lM(Do(e),Do(t))),Ug=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Nq=e=>Ht(e.width)&&Ht(e.height)&&Ht(e.x)&&Ht(e.y),Ht=e=>!isNaN(e)&&isFinite(e),De=Symbol.for("internals"),cM=["Enter"," ","Escape"],Mq=(e,t)=>{},Pq=e=>"nativeEvent"in e;function Hg(e){var i,s;const t=Pq(e)?e.nativeEvent:e,n=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const dM=e=>"clientX"in e,Cr=(e,t)=>{var s,o;const n=dM(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Ll=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Xo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h=20})=>q.createElement(q.Fragment,null,q.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),h&&q.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Ht(n)&&Ht(r)?q.createElement(kq,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Xo.displayName="BaseEdge";function Is(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(s=>s.id===e);i&&n(r,{...i})}}function fM({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function hM({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,u=t*.125+s*.375+a*.375+r*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}var li;(function(e){e.Strict="strict",e.Loose="loose"})(li||(li={}));var Kr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Kr||(Kr={}));var Lo;(function(e){e.Partial="partial",e.Full="full"})(Lo||(Lo={}));var hr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(hr||(hr={}));var Ol;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ol||(Ol={}));var Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));function m1({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Q.Left||e===Q.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function pM({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:i,targetPosition:s=Q.Top}){const[o,a]=m1({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=m1({pos:s,x1:r,y1:i,x2:e,y2:t}),[c,d,f,h]=hM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${i}`,c,d,f,h]}const bv=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Q.Bottom,targetPosition:s=Q.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:p})=>{const[v,m,y]=pM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return q.createElement(Xo,{path:v,labelX:m,labelY:y,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:p})});bv.displayName="SimpleBezierEdge";const g1={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}},Aq=({source:e,sourcePosition:t=Q.Bottom,target:n})=>t===Q.Left||t===Q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},y1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Rq({source:e,sourcePosition:t=Q.Bottom,target:n,targetPosition:r=Q.Top,center:i,offset:s}){const o=g1[t],a=g1[r],l={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=Aq({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let h=[],g,p;const v={x:0,y:0},m={x:0,y:0},[y,x,_,S]=fM({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){g=i.x??y,p=i.y??x;const k=[{x:g,y:l.y},{x:g,y:u.y}],T=[{x:l.x,y:p},{x:u.x,y:p}];o[d]===f?h=d==="x"?k:T:h=d==="x"?T:k}else{const k=[{x:l.x,y:u.y}],T=[{x:u.x,y:l.y}];if(d==="x"?h=o.x===f?T:k:h=o.y===f?k:T,t===r){const V=Math.abs(e[d]-n[d]);if(V<=s){const E=Math.min(s-1,s-V);o[d]===f?v[d]=(l[d]>e[d]?-1:1)*E:m[d]=(u[d]>n[d]?-1:1)*E}}if(t!==r){const V=d==="x"?"y":"x",E=o[d]===a[V],D=l[V]>u[V],A=l[V]<u[V];(o[d]===1&&(!E&&D||E&&A)||o[d]!==1&&(!E&&A||E&&D))&&(h=d==="x"?k:T)}const M={x:l.x+v.x,y:l.y+v.y},R={x:u.x+m.x,y:u.y+m.y},I=Math.max(Math.abs(M.x-h[0].x),Math.abs(R.x-h[0].x)),B=Math.max(Math.abs(M.y-h[0].y),Math.abs(R.y-h[0].y));I>=B?(g=(M.x+R.x)/2,p=h[0].y):(g=h[0].x,p=(M.y+R.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...h,{x:u.x+m.x,y:u.y+m.y},n],g,p,_,S]}function Iq(e,t,n,r){const i=Math.min(y1(e,t)/2,y1(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Gg({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:i,targetPosition:s=Q.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[c,d,f,h,g]=Rq({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[c.reduce((v,m,y)=>{let x="";return y>0&&y<c.length-1?x=Iq(c[y-1],m,c[y+1],o):x=`${y===0?"M":"L"}${m.x} ${m.y}`,v+=x,v},""),d,f,h,g]}const xu=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:d=Q.Bottom,targetPosition:f=Q.Top,markerEnd:h,markerStart:g,pathOptions:p,interactionWidth:v})=>{const[m,y,x]=Gg({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return q.createElement(Xo,{path:m,labelX:y,labelY:x,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:h,markerStart:g,interactionWidth:v})});xu.displayName="SmoothStepEdge";const Ev=b.memo(e=>{var t;return q.createElement(xu,{...e,pathOptions:b.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Ev.displayName="StepEdge";function jq({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=fM({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const Cv=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h})=>{const[g,p,v]=jq({sourceX:e,sourceY:t,targetX:n,targetY:r});return q.createElement(Xo,{path:g,labelX:p,labelY:v,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:h})});Cv.displayName="StraightEdge";function Aa(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function v1({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case Q.Left:return[t-Aa(t-r,s),n];case Q.Right:return[t+Aa(r-t,s),n];case Q.Top:return[t,n-Aa(n-i,s)];case Q.Bottom:return[t,n+Aa(i-n,s)]}}function mM({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:i,targetPosition:s=Q.Top,curvature:o=.25}){const[a,l]=v1({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,c]=v1({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[d,f,h,g]=hM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,d,f,h,g]}const ql=b.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Q.Bottom,targetPosition:s=Q.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,pathOptions:p,interactionWidth:v})=>{const[m,y,x]=mM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:p==null?void 0:p.curvature});return q.createElement(Xo,{path:m,labelX:y,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:g,interactionWidth:v})});ql.displayName="BezierEdge";const kv=b.createContext(null),Dq=kv.Provider;kv.Consumer;const Lq=()=>b.useContext(kv),Oq=e=>"id"in e&&"source"in e&&"target"in e,qq=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Wg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Fq=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),$q=(e,t)=>{if(!e.source||!e.target)return t;let n;return Oq(e)?n={...e}:n={...e,id:qq(e)},Fq(n,t)?t:t.concat(n)},Kg=({x:e,y:t},[n,r,i],s,[o,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},gM=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),ei=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},_u=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:s,y:o}=ei(i,t).positionAbsolute;return lM(r,Do({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return uM(n)},yM=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:h=!0,hidden:g=!1}=c;if(o&&!h||g)return!1;const{positionAbsolute:p}=ei(c,a),v={x:p.x,y:p.y,width:d||0,height:f||0},m=Ug(l,v),y=typeof d>"u"||typeof f>"u"||d===null||f===null,x=s&&m>0,_=(d||0)*(f||0);(y||x||m>=_||c.dragging)&&u.push(c)}),u},vM=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},wM=(e,t,n,r,i,s=.1)=>{const o=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(o,a),u=os(l,r,i),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,h=n/2-d*u;return{x:f,y:h,zoom:u}},Vr=(e,t=0)=>e.transition().duration(t);function w1(e,t,n,r){return(t[n]||[]).reduce((i,s)=>{var o,a;return`${e.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function Vq(e,t,n,r,i,s){const{x:o,y:a}=Cr(e),u=t.elementsFromPoint(o,a).find(g=>g.classList.contains("react-flow__handle"));if(u){const g=u.getAttribute("data-nodeid");if(g){const p=Tv(void 0,u),v=u.getAttribute("data-handleid"),m=s({nodeId:g,id:v,type:p});if(m){const y=i.find(x=>x.nodeId===g&&x.type===p&&x.id===v);return{handle:{id:v,type:p,nodeId:g,x:(y==null?void 0:y.x)||n.x,y:(y==null?void 0:y.y)||n.y},validHandleResult:m}}}}let c=[],d=1/0;if(i.forEach(g=>{const p=Math.sqrt((g.x-n.x)**2+(g.y-n.y)**2);if(p<=r){const v=s(g);p<=d&&(p<d?c=[{handle:g,validHandleResult:v}]:p===d&&c.push({handle:g,validHandleResult:v}),d=p)}}),!c.length)return{handle:null,validHandleResult:xM()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:g})=>g.isValid),h=c.some(({handle:g})=>g.type==="target");return c.find(({handle:g,validHandleResult:p})=>h?g.type==="target":f?p.isValid:!0)||c[0]}const Bq={source:null,target:null,sourceHandle:null,targetHandle:null},xM=()=>({handleDomNode:null,isValid:!1,connection:Bq,endHandle:null});function _M(e,t,n,r,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...xM(),handleDomNode:l};if(l){const c=Tv(void 0,l),d=l.getAttribute("data-nodeid"),f=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),g=l.classList.contains("connectableend"),p={source:a?d:n,sourceHandle:a?f:r,target:a?n:d,targetHandle:a?r:f};u.connection=p,h&&g&&(t===li.Strict?a&&c==="source"||!a&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=s(p))}return u}function zq({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,s)=>{if(s[De]){const{handleBounds:o}=s[De];let a=[],l=[];o&&(a=w1(s,o,"source",`${t}-${n}-${r}`),l=w1(s,o,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function Tv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Tc(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Uq(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function SM({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=aM(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:h,connectionRadius:g,onConnectStart:p,panBy:v,getNodes:m,cancelConnection:y}=s();let x=0,_;const{x:S,y:C}=Cr(e),k=c==null?void 0:c.elementFromPoint(S,C),T=Tv(l,k),M=f==null?void 0:f.getBoundingClientRect();if(!M||!T)return;let R,I=Cr(e,M),B=!1,V=null,E=!1,D=null;const A=zq({nodes:m(),nodeId:n,handleId:t,handleType:T}),L=()=>{if(!h)return;const[j,F]=oM(I,M);v({x:j,y:F}),x=requestAnimationFrame(L)};o({connectionPosition:I,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:T,connectionStartHandle:{nodeId:n,handleId:t,type:T},connectionEndHandle:null}),p==null||p(e,{nodeId:n,handleId:t,handleType:T});function P(j){const{transform:F}=s();I=Cr(j,M);const{handle:$,validHandleResult:O}=Vq(j,c,Kg(I,F,!1,[1,1]),g,A,z=>_M(z,d,n,t,i?"target":"source",a,c));if(_=$,B||(L(),B=!0),D=O.handleDomNode,V=O.connection,E=O.isValid,o({connectionPosition:_&&E?gM({x:_.x,y:_.y},F):I,connectionStatus:Uq(!!_,E),connectionEndHandle:O.endHandle}),!_&&!E&&!D)return Tc(R);V.source!==V.target&&D&&(Tc(R),R=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",E),D.classList.toggle("react-flow__handle-valid",E))}function N(j){var F,$;(_||D)&&V&&E&&(r==null||r(V)),($=(F=s()).onConnectEnd)==null||$.call(F,j),l&&(u==null||u(j)),Tc(R),y(),cancelAnimationFrame(x),B=!1,E=!1,V=null,D=null,c.removeEventListener("mousemove",P),c.removeEventListener("mouseup",N),c.removeEventListener("touchmove",P),c.removeEventListener("touchend",N)}c.addEventListener("mousemove",P),c.addEventListener("mouseup",N),c.addEventListener("touchmove",P),c.addEventListener("touchend",N)}const x1=()=>!0,Hq=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Gq=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},bM=b.forwardRef(({type:e="source",position:t=Q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...f},h)=>{var M,R;const g=o||null,p=e==="target",v=He(),m=Lq(),{connectOnClick:y,noPanClassName:x}=ye(Hq,Ze),{connecting:_,clickConnecting:S}=ye(Gq(m,g,e),Ze);m||(R=(M=v.getState()).onError)==null||R.call(M,"010",Yn.error010());const C=I=>{const{defaultEdgeOptions:B,onConnect:V,hasDefaultEdges:E}=v.getState(),D={...B,...I};if(E){const{edges:A,setEdges:L}=v.getState();L($q(D,A))}V==null||V(D),a==null||a(D)},k=I=>{if(!m)return;const B=dM(I);i&&(B&&I.button===0||!B)&&SM({event:I,handleId:g,nodeId:m,onConnect:C,isTarget:p,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||x1}),B?c==null||c(I):d==null||d(I)},T=I=>{const{onClickConnectStart:B,onClickConnectEnd:V,connectionClickStartHandle:E,connectionMode:D,isValidConnection:A}=v.getState();if(!m||!E&&!i)return;if(!E){B==null||B(I,{nodeId:m,handleId:g,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:g}});return}const L=aM(I.target),P=n||A||x1,{connection:N,isValid:j}=_M({nodeId:m,id:g,type:e},D,E.nodeId,E.handleId||null,E.type,P,L);j&&C(N),V==null||V(I),v.setState({connectionClickStartHandle:null})};return q.createElement("div",{"data-handleid":g,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${g}-${e}`,className:rt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!p,target:p,connectable:r,connectablestart:i,connectableend:s,connecting:S,connectionindicator:r&&(i&&!_||s&&_)}]),onMouseDown:k,onTouchStart:k,onClick:y?T:void 0,ref:h,...f},l)});bM.displayName="Handle";var Fl=b.memo(bM);const EM=({data:e,isConnectable:t,targetPosition:n=Q.Top,sourcePosition:r=Q.Bottom})=>q.createElement(q.Fragment,null,q.createElement(Fl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,q.createElement(Fl,{type:"source",position:r,isConnectable:t}));EM.displayName="DefaultNode";var Yg=b.memo(EM);const CM=({data:e,isConnectable:t,sourcePosition:n=Q.Bottom})=>q.createElement(q.Fragment,null,e==null?void 0:e.label,q.createElement(Fl,{type:"source",position:n,isConnectable:t}));CM.displayName="InputNode";var kM=b.memo(CM);const TM=({data:e,isConnectable:t,targetPosition:n=Q.Top})=>q.createElement(q.Fragment,null,q.createElement(Fl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);TM.displayName="OutputNode";var NM=b.memo(TM);const Nv=()=>null;Nv.displayName="GroupNode";const Wq=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ra=e=>e.id;function Kq(e,t){return Ze(e.selectedNodes.map(Ra),t.selectedNodes.map(Ra))&&Ze(e.selectedEdges.map(Ra),t.selectedEdges.map(Ra))}const MM=b.memo(({onSelectionChange:e})=>{const t=He(),{selectedNodes:n,selectedEdges:r}=ye(Wq,Kq);return b.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[n,r,e]),null});MM.displayName="SelectionListener";const Yq=e=>!!e.onSelectionChange;function Xq({onSelectionChange:e}){const t=ye(Yq);return e||t?q.createElement(MM,{onSelectionChange:e}):null}const Zq=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function wi(e,t){b.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function se(e,t,n){b.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Qq=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:h,elevateNodesOnSelect:g,minZoom:p,maxZoom:v,nodeExtent:m,onNodesChange:y,onEdgesChange:x,elementsSelectable:_,connectionMode:S,snapGrid:C,snapToGrid:k,translateExtent:T,connectOnClick:M,defaultEdgeOptions:R,fitView:I,fitViewOptions:B,onNodesDelete:V,onEdgesDelete:E,onNodeDrag:D,onNodeDragStart:A,onNodeDragStop:L,onSelectionDrag:P,onSelectionDragStart:N,onSelectionDragStop:j,noPanClassName:F,nodeOrigin:$,rfId:O,autoPanOnConnect:z,autoPanOnNodeDrag:G,onError:Z,connectionRadius:ne,isValidConnection:ce,nodeDragThreshold:oe})=>{const{setNodes:le,setEdges:Le,setDefaultNodesAndEdges:de,setMinZoom:te,setMaxZoom:ke,setTranslateExtent:J,setNodeExtent:Ae,reset:Y}=ye(Zq,Ze),K=He();return b.useEffect(()=>{const _e=r==null?void 0:r.map(yt=>({...yt,...R}));return de(n,_e),()=>{Y()}},[]),se("defaultEdgeOptions",R,K.setState),se("connectionMode",S,K.setState),se("onConnect",i,K.setState),se("onConnectStart",s,K.setState),se("onConnectEnd",o,K.setState),se("onClickConnectStart",a,K.setState),se("onClickConnectEnd",l,K.setState),se("nodesDraggable",u,K.setState),se("nodesConnectable",c,K.setState),se("nodesFocusable",d,K.setState),se("edgesFocusable",f,K.setState),se("edgesUpdatable",h,K.setState),se("elementsSelectable",_,K.setState),se("elevateNodesOnSelect",g,K.setState),se("snapToGrid",k,K.setState),se("snapGrid",C,K.setState),se("onNodesChange",y,K.setState),se("onEdgesChange",x,K.setState),se("connectOnClick",M,K.setState),se("fitViewOnInit",I,K.setState),se("fitViewOnInitOptions",B,K.setState),se("onNodesDelete",V,K.setState),se("onEdgesDelete",E,K.setState),se("onNodeDrag",D,K.setState),se("onNodeDragStart",A,K.setState),se("onNodeDragStop",L,K.setState),se("onSelectionDrag",P,K.setState),se("onSelectionDragStart",N,K.setState),se("onSelectionDragStop",j,K.setState),se("noPanClassName",F,K.setState),se("nodeOrigin",$,K.setState),se("rfId",O,K.setState),se("autoPanOnConnect",z,K.setState),se("autoPanOnNodeDrag",G,K.setState),se("onError",Z,K.setState),se("connectionRadius",ne,K.setState),se("isValidConnection",ce,K.setState),se("nodeDragThreshold",oe,K.setState),wi(e,le),wi(t,Le),wi(p,te),wi(v,ke),wi(T,J),wi(m,Ae),null},_1={display:"none"},Jq={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},PM="react-flow__node-desc",AM="react-flow__edge-desc",eF="react-flow__aria-live",tF=e=>e.ariaLiveMessage;function nF({rfId:e}){const t=ye(tF);return q.createElement("div",{id:`${eF}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Jq},t)}function rF({rfId:e,disableKeyboardA11y:t}){return q.createElement(q.Fragment,null,q.createElement("div",{id:`${PM}-${e}`,style:_1},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),q.createElement("div",{id:`${AM}-${e}`,style:_1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&q.createElement(nF,{rfId:e}))}var Oo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=b.useState(!1),i=b.useRef(!1),s=b.useRef(new Set([])),[o,a]=b.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return b.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Hg(h))return!1;const p=b1(h.code,a);s.current.add(h[p]),S1(o,s.current,!1)&&(h.preventDefault(),r(!0))},d=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Hg(h))return!1;const p=b1(h.code,a);S1(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[p]),h.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function S1(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function b1(e,t){return t.includes(e)?"code":"key"}function RM(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),o=ei(s,r);return RM(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[De])==null?void 0:a.z)??0)>(n.z??0)?((l=s[De])==null?void 0:l.z)??0:n.z??0},r)}function IM(e,t,n){e.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:a,z:l}=RM(r,e,{...r.position,z:((s=r[De])==null?void 0:s.z)??0},t);r.positionAbsolute={x:o,y:a},r[De].z=l,n!=null&&n[r.id]&&(r[De].isParent=!0)}})}function Nc(e,t,n,r){const i=new Map,s={},o=r?1e3:0;return e.forEach(a=>{var h;const l=(Ht(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(s[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,De,{enumerable:!1,value:{handleBounds:f||(h=u==null?void 0:u[De])==null?void 0:h.handleBounds,z:l}}),i.set(a.id,c)}),IM(i,n,s),i}function jM(e,t={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(a&&l&&(f||!t.initial)){const g=n().filter(v=>{var y;const m=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return(y=t.nodes)!=null&&y.length?m&&t.nodes.some(x=>x.id===v.id):m}),p=g.every(v=>v.width&&v.height);if(g.length>0&&p){const v=_u(g,d),{x:m,y,zoom:x}=wM(v,r,i,t.minZoom??s,t.maxZoom??o,t.padding??.1),_=Vn.translate(m,y).scale(x);return typeof t.duration=="number"&&t.duration>0?a.transform(Vr(l,t.duration),_):a.transform(l,_),!0}}return!1}function iF(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[De]:r[De],selected:n.selected})}),new Map(t)}function sF(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ia({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:iF(e,i)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:sF(t,s)}),a==null||a(t))}const xi=()=>{},oF={zoomIn:xi,zoomOut:xi,zoomTo:xi,getZoom:()=>1,setViewport:xi,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:xi,fitBounds:xi,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},aF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),lF=()=>{const e=He(),{d3Zoom:t,d3Selection:n}=ye(aF,Ze);return b.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Vr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Vr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(Vr(n,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=e.getState().transform,u=Vn.translate(i.x??o,i.y??a).scale(i.zoom??l);t.transform(Vr(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,o]=e.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>jM(e.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,d=a/2-i*c,f=l/2-s*c,h=Vn.translate(d,f).scale(c);t.transform(Vr(n,o==null?void 0:o.duration),h)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=wM(i,o,a,l,u,(s==null?void 0:s.padding)??.1),h=Vn.translate(c,d).scale(f);t.transform(Vr(n,s==null?void 0:s.duration),h)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Kg(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return Kg(d,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=e.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),u=gM(i,s);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:oF,[t,n])};function Mv(){const e=lF(),t=He(),n=b.useCallback(()=>t.getState().getNodes().map(p=>({...p})),[]),r=b.useCallback(p=>t.getState().nodeInternals.get(p),[]),i=b.useCallback(()=>{const{edges:p=[]}=t.getState();return p.map(v=>({...v}))},[]),s=b.useCallback(p=>{const{edges:v=[]}=t.getState();return v.find(m=>m.id===p)},[]),o=b.useCallback(p=>{const{getNodes:v,setNodes:m,hasDefaultNodes:y,onNodesChange:x}=t.getState(),_=v(),S=typeof p=="function"?p(_):p;if(y)m(S);else if(x){const C=S.length===0?_.map(k=>({type:"remove",id:k.id})):S.map(k=>({item:k,type:"reset"}));x(C)}},[]),a=b.useCallback(p=>{const{edges:v=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:x}=t.getState(),_=typeof p=="function"?p(v):p;if(y)m(_);else if(x){const S=_.length===0?v.map(C=>({type:"remove",id:C.id})):_.map(C=>({item:C,type:"reset"}));x(S)}},[]),l=b.useCallback(p=>{const v=Array.isArray(p)?p:[p],{getNodes:m,setNodes:y,hasDefaultNodes:x,onNodesChange:_}=t.getState();if(x){const C=[...m(),...v];y(C)}else if(_){const S=v.map(C=>({item:C,type:"add"}));_(S)}},[]),u=b.useCallback(p=>{const v=Array.isArray(p)?p:[p],{edges:m=[],setEdges:y,hasDefaultEdges:x,onEdgesChange:_}=t.getState();if(x)y([...m,...v]);else if(_){const S=v.map(C=>({item:C,type:"add"}));_(S)}},[]),c=b.useCallback(()=>{const{getNodes:p,edges:v=[],transform:m}=t.getState(),[y,x,_]=m;return{nodes:p().map(S=>({...S})),edges:v.map(S=>({...S})),viewport:{x:y,y:x,zoom:_}}},[]),d=b.useCallback(({nodes:p,edges:v})=>{const{nodeInternals:m,getNodes:y,edges:x,hasDefaultNodes:_,hasDefaultEdges:S,onNodesDelete:C,onEdgesDelete:k,onNodesChange:T,onEdgesChange:M}=t.getState(),R=(p||[]).map(D=>D.id),I=(v||[]).map(D=>D.id),B=y().reduce((D,A)=>{const L=A.parentNode||A.parentId,P=!R.includes(A.id)&&L&&D.find(j=>j.id===L);return(typeof A.deletable=="boolean"?A.deletable:!0)&&(R.includes(A.id)||P)&&D.push(A),D},[]),V=x.filter(D=>typeof D.deletable=="boolean"?D.deletable:!0),E=V.filter(D=>I.includes(D.id));if(B||E){const D=vM(B,V),A=[...E,...D],L=A.reduce((P,N)=>(P.includes(N.id)||P.push(N.id),P),[]);if((S||_)&&(S&&t.setState({edges:x.filter(P=>!L.includes(P.id))}),_&&(B.forEach(P=>{m.delete(P.id)}),t.setState({nodeInternals:new Map(m)}))),L.length>0&&(k==null||k(A),M&&M(L.map(P=>({id:P,type:"remove"})))),B.length>0&&(C==null||C(B),T)){const P=B.map(N=>({id:N.id,type:"remove"}));T(P)}}},[]),f=b.useCallback(p=>{const v=Nq(p),m=v?null:t.getState().nodeInternals.get(p.id);return!v&&!m?[null,null,v]:[v?p:p1(m),m,v]},[]),h=b.useCallback((p,v=!0,m)=>{const[y,x,_]=f(p);return y?(m||t.getState().getNodes()).filter(S=>{if(!_&&(S.id===x.id||!S.positionAbsolute))return!1;const C=p1(S),k=Ug(C,y);return v&&k>0||k>=y.width*y.height}):[]},[]),g=b.useCallback((p,v,m=!0)=>{const[y]=f(p);if(!y)return!1;const x=Ug(y,v);return m&&x>0||x>=y.width*y.height},[]);return b.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:g}),[e,n,r,i,s,o,a,l,u,c,d,h,g])}const uF={actInsideInputWithModifier:!1};var cF=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=He(),{deleteElements:r}=Mv(),i=Oo(e,uF),s=Oo(t);b.useEffect(()=>{if(i){const{edges:o,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=o.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),b.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function dF(e){const t=He();b.useEffect(()=>{let n;const r=()=>{var s,o;if(!e.current)return;const i=_v(e.current);(i.height===0||i.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",Yn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Pv={position:"absolute",width:"100%",height:"100%",top:0,left:0},fF=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ja=e=>({x:e.x,y:e.y,zoom:e.k}),_i=(e,t)=>e.target.closest(`.${t}`),E1=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),C1=e=>{const t=e.ctrlKey&&Ll()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},hF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),pF=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Kr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:g,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:m=!0,children:y,noWheelClassName:x,noPanClassName:_})=>{const S=b.useRef(),C=He(),k=b.useRef(!1),T=b.useRef(!1),M=b.useRef(null),R=b.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:B,d3ZoomHandler:V,userSelectionActive:E}=ye(hF,Ze),D=Oo(v),A=b.useRef(0),L=b.useRef(!1),P=b.useRef();return dF(M),b.useEffect(()=>{if(M.current){const N=M.current.getBoundingClientRect(),j=iM().scaleExtent([g,p]).translateExtent(h),F=zt(M.current).call(j),$=Vn.translate(f.x,f.y).scale(os(f.zoom,g,p)),O=[[0,0],[N.width,N.height]],z=j.constrain()($,O,h);j.transform(F,z),j.wheelDelta(C1),C.setState({d3Zoom:j,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[z.x,z.y,z.k],domNode:M.current.closest(".react-flow")})}},[]),b.useEffect(()=>{B&&I&&(o&&!D&&!E?B.on("wheel.zoom",N=>{if(_i(N,x))return!1;N.preventDefault(),N.stopImmediatePropagation();const j=B.property("__zoom").k||1;if(N.ctrlKey&&s){const ce=rn(N),oe=C1(N),le=j*Math.pow(2,oe);I.scaleTo(B,le,ce,N);return}const F=N.deltaMode===1?20:1;let $=l===Kr.Vertical?0:N.deltaX*F,O=l===Kr.Horizontal?0:N.deltaY*F;!Ll()&&N.shiftKey&&l!==Kr.Vertical&&($=N.deltaY*F,O=0),I.translateBy(B,-($/j)*a,-(O/j)*a,{internal:!0});const z=ja(B.property("__zoom")),{onViewportChangeStart:G,onViewportChange:Z,onViewportChangeEnd:ne}=C.getState();clearTimeout(P.current),L.current||(L.current=!0,t==null||t(N,z),G==null||G(z)),L.current&&(e==null||e(N,z),Z==null||Z(z),P.current=setTimeout(()=>{n==null||n(N,z),ne==null||ne(z),L.current=!1},150))},{passive:!1}):typeof V<"u"&&B.on("wheel.zoom",function(N,j){if(!m&&N.type==="wheel"&&!N.ctrlKey||_i(N,x))return null;N.preventDefault(),V.call(this,N,j)},{passive:!1}))},[E,o,l,B,I,V,D,s,m,x,t,e,n]),b.useEffect(()=>{I&&I.on("start",N=>{var $,O;if(!N.sourceEvent||N.sourceEvent.internal)return null;A.current=($=N.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:j}=C.getState(),F=ja(N.transform);k.current=!0,R.current=F,((O=N.sourceEvent)==null?void 0:O.type)==="mousedown"&&C.setState({paneDragging:!0}),j==null||j(F),t==null||t(N.sourceEvent,F)})},[I,t]),b.useEffect(()=>{I&&(E&&!k.current?I.on("zoom",null):E||I.on("zoom",N=>{var F;const{onViewportChange:j}=C.getState();if(C.setState({transform:[N.transform.x,N.transform.y,N.transform.k]}),T.current=!!(r&&E1(d,A.current??0)),(e||j)&&!((F=N.sourceEvent)!=null&&F.internal)){const $=ja(N.transform);j==null||j($),e==null||e(N.sourceEvent,$)}}))},[E,I,e,d,r]),b.useEffect(()=>{I&&I.on("end",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;const{onViewportChangeEnd:j}=C.getState();if(k.current=!1,C.setState({paneDragging:!1}),r&&E1(d,A.current??0)&&!T.current&&r(N.sourceEvent),T.current=!1,(n||j)&&fF(R.current,N.transform)){const F=ja(N.transform);R.current=F,clearTimeout(S.current),S.current=setTimeout(()=>{j==null||j(F),n==null||n(N.sourceEvent,F)},o?150:0)}})},[I,o,d,n,r]),b.useEffect(()=>{I&&I.filter(N=>{const j=D||i,F=s&&N.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&N.button===1&&N.type==="mousedown"&&(_i(N,"react-flow__node")||_i(N,"react-flow__edge")))return!0;if(!d&&!j&&!o&&!u&&!s||E||!u&&N.type==="dblclick"||_i(N,x)&&N.type==="wheel"||_i(N,_)&&(N.type!=="wheel"||o&&N.type==="wheel"&&!D)||!s&&N.ctrlKey&&N.type==="wheel"||!j&&!o&&!F&&N.type==="wheel"||!d&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(d)&&!d.includes(N.button)&&N.type==="mousedown")return!1;const $=Array.isArray(d)&&d.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&$})},[E,I,i,s,o,u,d,c,D]),q.createElement("div",{className:"react-flow__renderer",ref:M,style:Pv},y)},mF=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function gF(){const{userSelectionActive:e,userSelectionRect:t}=ye(mF,Ze);return e&&t?q.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function k1(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function yF(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const s=e.filter(a=>a.id===i.id);if(s.length===0)return r.push(i),r;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&k1(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&k1(r,o);break}case"remove":return r}return r.push(o),r},n)}function vF(e,t){return yF(e,t)}const cr=(e,t)=>({id:e,type:"select",selected:t});function Di(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(cr(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(cr(r.id,!1))),n},[])}const Mc=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},wF=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),DM=b.memo(({isSelecting:e,selectionMode:t=Lo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=b.useRef(null),h=He(),g=b.useRef(0),p=b.useRef(0),v=b.useRef(),{userSelectionActive:m,elementsSelectable:y,dragging:x}=ye(wF,Ze),_=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,p.current=0},S=V=>{s==null||s(V),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=V=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){V.preventDefault();return}o==null||o(V)},k=a?V=>a(V):void 0,T=V=>{const{resetSelectedElements:E,domNode:D}=h.getState();if(v.current=D==null?void 0:D.getBoundingClientRect(),!y||!e||V.button!==0||V.target!==f.current||!v.current)return;const{x:A,y:L}=Cr(V,v.current);E(),h.setState({userSelectionRect:{width:0,height:0,startX:A,startY:L,x:A,y:L}}),r==null||r(V)},M=V=>{const{userSelectionRect:E,nodeInternals:D,edges:A,transform:L,onNodesChange:P,onEdgesChange:N,nodeOrigin:j,getNodes:F}=h.getState();if(!e||!v.current||!E)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=Cr(V,v.current),O=E.startX??0,z=E.startY??0,G={...E,x:$.x<O?$.x:O,y:$.y<z?$.y:z,width:Math.abs($.x-O),height:Math.abs($.y-z)},Z=F(),ne=yM(D,G,L,t===Lo.Partial,!0,j),ce=vM(ne,A).map(le=>le.id),oe=ne.map(le=>le.id);if(g.current!==oe.length){g.current=oe.length;const le=Di(Z,oe);le.length&&(P==null||P(le))}if(p.current!==ce.length){p.current=ce.length;const le=Di(A,ce);le.length&&(N==null||N(le))}h.setState({userSelectionRect:G})},R=V=>{if(V.button!==0)return;const{userSelectionRect:E}=h.getState();!m&&E&&V.target===f.current&&(S==null||S(V)),h.setState({nodesSelectionActive:g.current>0}),_(),i==null||i(V)},I=V=>{m&&(h.setState({nodesSelectionActive:g.current>0}),i==null||i(V)),_()},B=y&&(e||m);return q.createElement("div",{className:rt(["react-flow__pane",{dragging:x,selection:e}]),onClick:B?void 0:Mc(S,f),onContextMenu:Mc(C,f),onWheel:Mc(k,f),onMouseEnter:B?void 0:l,onMouseDown:B?T:void 0,onMouseMove:B?M:u,onMouseUp:B?R:void 0,onMouseLeave:B?I:c,ref:f,style:Pv},d,q.createElement(gF,null))});DM.displayName="Pane";function LM(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:LM(r,t):!1}function T1(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function xF(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!LM(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function _F(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function OM(e,t,n,r,i=[0,0],s){const o=_F(e,e.extent||r);let a=o;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:f,y:h}=ei(d,i).positionAbsolute;a=d&&Ht(f)&&Ht(h)&&Ht(d.width)&&Ht(d.height)?[[f+e.width*i[0],h+e.height*i[1]],[f+d.width-e.width+e.width*i[0],h+d.height-e.height+e.height*i[1]]]:a}else s==null||s("005",Yn.error005()),a=o;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:f,y:h}=ei(d,i).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+h],[e.extent[1][0]+f,e.extent[1][1]+h]]}let u={x:0,y:0};if(l){const d=n.get(l);u=ei(d,i).positionAbsolute}const c=a&&a!=="parent"?Sv(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Pc({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const N1=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,..._v(l)}})};function js(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Xg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",Yn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function SF(){const e=He();return b.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function Ac(e){return(t,n,r)=>e==null?void 0:e(t,r)}function qM({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=He(),[l,u]=b.useState(!1),c=b.useRef([]),d=b.useRef({x:null,y:null}),f=b.useRef(0),h=b.useRef(null),g=b.useRef({x:0,y:0}),p=b.useRef(null),v=b.useRef(!1),m=b.useRef(!1),y=b.useRef(!1),x=SF();return b.useEffect(()=>{if(e!=null&&e.current){const _=zt(e.current),S=({x:T,y:M})=>{const{nodeInternals:R,onNodeDrag:I,onSelectionDrag:B,updateNodePositions:V,nodeExtent:E,snapGrid:D,snapToGrid:A,nodeOrigin:L,onError:P}=a.getState();d.current={x:T,y:M};let N=!1,j={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&E){const $=_u(c.current,L);j=Do($)}if(c.current=c.current.map($=>{const O={x:T-$.distance.x,y:M-$.distance.y};A&&(O.x=D[0]*Math.round(O.x/D[0]),O.y=D[1]*Math.round(O.y/D[1]));const z=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];c.current.length>1&&E&&!$.extent&&(z[0][0]=$.positionAbsolute.x-j.x+E[0][0],z[1][0]=$.positionAbsolute.x+($.width??0)-j.x2+E[1][0],z[0][1]=$.positionAbsolute.y-j.y+E[0][1],z[1][1]=$.positionAbsolute.y+($.height??0)-j.y2+E[1][1]);const G=OM($,O,R,z,L,P);return N=N||$.position.x!==G.position.x||$.position.y!==G.position.y,$.position=G.position,$.positionAbsolute=G.positionAbsolute,$}),!N)return;V(c.current,!0,!0),u(!0);const F=i?I:Ac(B);if(F&&p.current){const[$,O]=Pc({nodeId:i,dragItems:c.current,nodeInternals:R});F(p.current,$,O)}},C=()=>{if(!h.current)return;const[T,M]=oM(g.current,h.current);if(T!==0||M!==0){const{transform:R,panBy:I}=a.getState();d.current.x=(d.current.x??0)-T/R[2],d.current.y=(d.current.y??0)-M/R[2],I({x:T,y:M})&&S(d.current)}f.current=requestAnimationFrame(C)},k=T=>{var L;const{nodeInternals:M,multiSelectionActive:R,nodesDraggable:I,unselectNodesAndEdges:B,onNodeDragStart:V,onSelectionDragStart:E}=a.getState();m.current=!0;const D=i?V:Ac(E);(!o||!s)&&!R&&i&&((L=M.get(i))!=null&&L.selected||B()),i&&s&&o&&Xg({id:i,store:a,nodeRef:e});const A=x(T);if(d.current=A,c.current=xF(M,I,A,i),D&&c.current){const[P,N]=Pc({nodeId:i,dragItems:c.current,nodeInternals:M});D(T.sourceEvent,P,N)}};if(t)_.on(".drag",null);else{const T=RO().on("start",M=>{const{domNode:R,nodeDragThreshold:I}=a.getState();I===0&&k(M),y.current=!1;const B=x(M);d.current=B,h.current=(R==null?void 0:R.getBoundingClientRect())||null,g.current=Cr(M.sourceEvent,h.current)}).on("drag",M=>{var V,E;const R=x(M),{autoPanOnNodeDrag:I,nodeDragThreshold:B}=a.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!v.current&&m.current&&I&&(v.current=!0,C()),!m.current){const D=R.xSnapped-(((V=d==null?void 0:d.current)==null?void 0:V.x)??0),A=R.ySnapped-(((E=d==null?void 0:d.current)==null?void 0:E.y)??0);Math.sqrt(D*D+A*A)>B&&k(M)}(d.current.x!==R.xSnapped||d.current.y!==R.ySnapped)&&c.current&&m.current&&(p.current=M.sourceEvent,g.current=Cr(M.sourceEvent,h.current),S(R))}}).on("end",M=>{if(!(!m.current||y.current)&&(u(!1),v.current=!1,m.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:R,nodeInternals:I,onNodeDragStop:B,onSelectionDragStop:V}=a.getState(),E=i?B:Ac(V);if(R(c.current,!1,!1),E){const[D,A]=Pc({nodeId:i,dragItems:c.current,nodeInternals:I});E(M.sourceEvent,D,A)}}}).filter(M=>{const R=M.target;return!M.button&&(!n||!T1(R,`.${n}`,e))&&(!r||T1(R,r,e))});return _.call(T),()=>{_.on(".drag",null)}}}},[e,t,n,r,s,a,i,o,x]),l}function FM(){const e=He();return b.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),d=o().filter(y=>y.selected&&(y.draggable||c&&typeof y.draggable>"u")),f=a?l[0]:5,h=a?l[1]:5,g=n.isShiftPressed?4:1,p=n.x*f*g,v=n.y*h*g,m=d.map(y=>{if(y.positionAbsolute){const x={x:y.positionAbsolute.x+p,y:y.positionAbsolute.y+v};a&&(x.x=l[0]*Math.round(x.x/l[0]),x.y=l[1]*Math.round(x.y/l[1]));const{positionAbsolute:_,position:S}=OM(y,x,r,i,void 0,u);y.position=S,y.positionAbsolute=_}return y});s(m,!0,!1)},[])}const Yi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ds=e=>{const t=({id:n,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onContextMenu:g,onDoubleClick:p,style:v,className:m,isDraggable:y,isSelectable:x,isConnectable:_,isFocusable:S,selectNodesOnDrag:C,sourcePosition:k,targetPosition:T,hidden:M,resizeObserver:R,dragHandle:I,zIndex:B,isParent:V,noDragClassName:E,noPanClassName:D,initialized:A,disableKeyboardA11y:L,ariaLabel:P,rfId:N,hasHandleBounds:j})=>{const F=He(),$=b.useRef(null),O=b.useRef(null),z=b.useRef(k),G=b.useRef(T),Z=b.useRef(r),ne=x||y||c||d||f||h,ce=FM(),oe=js(n,F.getState,d),le=js(n,F.getState,f),Le=js(n,F.getState,h),de=js(n,F.getState,g),te=js(n,F.getState,p),ke=Y=>{const{nodeDragThreshold:K}=F.getState();if(x&&(!C||!y||K>0)&&Xg({id:n,store:F,nodeRef:$}),c){const _e=F.getState().nodeInternals.get(n);_e&&c(Y,{..._e})}},J=Y=>{if(!Hg(Y)&&!L)if(cM.includes(Y.key)&&x){const K=Y.key==="Escape";Xg({id:n,store:F,unselect:K,nodeRef:$})}else y&&u&&Object.prototype.hasOwnProperty.call(Yi,Y.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${Y.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),ce({x:Yi[Y.key].x,y:Yi[Y.key].y,isShiftPressed:Y.shiftKey}))};b.useEffect(()=>()=>{O.current&&(R==null||R.unobserve(O.current),O.current=null)},[]),b.useEffect(()=>{if($.current&&!M){const Y=$.current;(!A||!j||O.current!==Y)&&(O.current&&(R==null||R.unobserve(O.current)),R==null||R.observe(Y),O.current=Y)}},[M,A,j]),b.useEffect(()=>{const Y=Z.current!==r,K=z.current!==k,_e=G.current!==T;$.current&&(Y||K||_e)&&(Y&&(Z.current=r),K&&(z.current=k),_e&&(G.current=T),F.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,k,T]);const Ae=qM({nodeRef:$,disabled:M||!y,noDragClassName:E,handleSelector:I,nodeId:n,isSelectable:x,selectNodesOnDrag:C});return M?null:q.createElement("div",{className:rt(["react-flow__node",`react-flow__node-${r}`,{[D]:y},m,{selected:u,selectable:x,parent:V,dragging:Ae}]),ref:$,style:{zIndex:B,transform:`translate(${a}px,${l}px)`,pointerEvents:ne?"all":"none",visibility:A?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:oe,onMouseMove:le,onMouseLeave:Le,onContextMenu:de,onClick:ke,onDoubleClick:te,onKeyDown:S?J:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":L?void 0:`${PM}-${N}`,"aria-label":P},q.createElement(Dq,{value:n},q.createElement(e,{id:n,data:i,type:r,xPos:s,yPos:o,selected:u,isConnectable:_,sourcePosition:k,targetPosition:T,dragging:Ae,dragHandle:I,zIndex:B})))};return t.displayName="NodeWrapper",b.memo(t)};const bF=e=>{const t=e.getNodes().filter(n=>n.selected);return{..._u(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function EF({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=He(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:u}=ye(bF,Ze),c=FM(),d=b.useRef(null);if(b.useEffect(()=>{var g;n||(g=d.current)==null||g.focus({preventScroll:!0})},[n]),qM({nodeRef:d}),u||!i||!s)return null;const f=e?g=>{const p=r.getState().getNodes().filter(v=>v.selected);e(g,p)}:void 0,h=g=>{Object.prototype.hasOwnProperty.call(Yi,g.key)&&c({x:Yi[g.key].x,y:Yi[g.key].y,isShiftPressed:g.shiftKey})};return q.createElement("div",{className:rt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},q.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s,top:a,left:o}}))}var CF=b.memo(EF);const kF=e=>e.nodesSelectionActive,$M=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:g,onSelectionEnd:p,multiSelectionKeyCode:v,panActivationKeyCode:m,zoomActivationKeyCode:y,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:k,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:R,defaultViewport:I,translateExtent:B,minZoom:V,maxZoom:E,preventScrolling:D,onSelectionContextMenu:A,noWheelClassName:L,noPanClassName:P,disableKeyboardA11y:N})=>{const j=ye(kF),F=Oo(d),$=Oo(m),O=$||R,z=$||C,G=F||f&&O!==!0;return cF({deleteKeyCode:a,multiSelectionKeyCode:v}),q.createElement(pF,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:_,zoomOnPinch:S,panOnScroll:z,panOnScrollSpeed:k,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:!F&&O,defaultViewport:I,translateExtent:B,minZoom:V,maxZoom:E,zoomActivationKeyCode:y,preventScrolling:D,noWheelClassName:L,noPanClassName:P},q.createElement(DM,{onSelectionStart:g,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:O,isSelecting:!!G,selectionMode:h},e,j&&q.createElement(CF,{onSelectionContextMenu:A,noPanClassName:P,disableKeyboardA11y:N})))};$M.displayName="FlowRenderer";var TF=b.memo($M);function NF(e){return ye(b.useCallback(n=>e?yM(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function MF(e){const t={input:Ds(e.input||kM),default:Ds(e.default||Yg),output:Ds(e.output||NM),group:Ds(e.group||Nv)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=Ds(e[s]||Yg),i),n);return{...t,...r}}const PF=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},AF=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),VM=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:o}=ye(AF,Ze),a=NF(e.onlyRenderVisibleElements),l=b.useRef(),u=b.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(f)});return l.current=c,c},[]);return b.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),q.createElement("div",{className:"react-flow__nodes",style:Pv},a.map(c=>{var S,C,k;let d=c.type||"default";e.nodeTypes[d]||(o==null||o("003",Yn.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),g=!!(c.selectable||i&&typeof c.selectable>"u"),p=!!(c.connectable||n&&typeof c.connectable>"u"),v=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?Sv(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,y=(m==null?void 0:m.x)??0,x=(m==null?void 0:m.y)??0,_=PF({x:y,y:x,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return q.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||Q.Bottom,targetPosition:c.targetPosition||Q.Top,hidden:c.hidden,xPos:y,yPos:x,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:g,isConnectable:p,isFocusable:v,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[De])==null?void 0:S.z)??0,isParent:!!((C=c[De])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((k=c[De])!=null&&k.handleBounds)})}))};VM.displayName="NodeRenderer";var RF=b.memo(VM);const IF=(e,t,n)=>n===Q.Left?e-t:n===Q.Right?e+t:e,jF=(e,t,n)=>n===Q.Top?e-t:n===Q.Bottom?e+t:e,M1="react-flow__edgeupdater",P1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>q.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:rt([M1,`${M1}-${a}`]),cx:IF(t,r,e),cy:jF(n,r,e),r,stroke:"transparent",fill:"transparent"}),DF=()=>!0;var Si=e=>{const t=({id:n,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,style:v,source:m,target:y,sourceX:x,sourceY:_,targetX:S,targetY:C,sourcePosition:k,targetPosition:T,elementsSelectable:M,hidden:R,sourceHandleId:I,targetHandleId:B,onContextMenu:V,onMouseEnter:E,onMouseMove:D,onMouseLeave:A,reconnectRadius:L,onReconnect:P,onReconnectStart:N,onReconnectEnd:j,markerEnd:F,markerStart:$,rfId:O,ariaLabel:z,isFocusable:G,isReconnectable:Z,pathOptions:ne,interactionWidth:ce,disableKeyboardA11y:oe})=>{const le=b.useRef(null),[Le,de]=b.useState(!1),[te,ke]=b.useState(!1),J=He(),Ae=b.useMemo(()=>`url('#${Wg($,O)}')`,[$,O]),Y=b.useMemo(()=>`url('#${Wg(F,O)}')`,[F,O]);if(R)return null;const K=Re=>{var st;const{edges:he,addSelectedEdges:$e,unselectNodesAndEdges:be,multiSelectionActive:pn}=J.getState(),xt=he.find(Or=>Or.id===n);xt&&(M&&(J.setState({nodesSelectionActive:!1}),xt.selected&&pn?(be({nodes:[],edges:[xt]}),(st=le.current)==null||st.blur()):$e([n])),o&&o(Re,xt))},_e=Is(n,J.getState,a),yt=Is(n,J.getState,V),vt=Is(n,J.getState,E),Ge=Is(n,J.getState,D),Se=Is(n,J.getState,A),it=(Re,he)=>{if(Re.button!==0)return;const{edges:$e,isValidConnection:be}=J.getState(),pn=he?y:m,xt=(he?B:I)||null,st=he?"target":"source",Or=be||DF,xs=he,tr=$e.find(Mn=>Mn.id===n);ke(!0),N==null||N(Re,tr,st);const Nn=Mn=>{ke(!1),j==null||j(Mn,tr,st)};SM({event:Re,handleId:xt,nodeId:pn,onConnect:Mn=>P==null?void 0:P(tr,Mn),isTarget:xs,getState:J.getState,setState:J.setState,isValidConnection:Or,edgeUpdaterType:st,onReconnectEnd:Nn})},wt=Re=>it(Re,!0),Zt=Re=>it(Re,!1),Nt=()=>de(!0),Oe=()=>de(!1),We=!M&&!o,Qt=Re=>{var he;if(!oe&&cM.includes(Re.key)&&M){const{unselectNodesAndEdges:$e,addSelectedEdges:be,edges:pn}=J.getState();Re.key==="Escape"?((he=le.current)==null||he.blur(),$e({edges:[pn.find(st=>st.id===n)]})):be([n])}};return q.createElement("g",{className:rt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:We,updating:Le}]),onClick:K,onDoubleClick:_e,onContextMenu:yt,onMouseEnter:vt,onMouseMove:Ge,onMouseLeave:Se,onKeyDown:G?Qt:void 0,tabIndex:G?0:void 0,role:G?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":z===null?void 0:z||`Edge from ${m} to ${y}`,"aria-describedby":G?`${AM}-${O}`:void 0,ref:le},!te&&q.createElement(e,{id:n,source:m,target:y,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:p,data:s,style:v,sourceX:x,sourceY:_,targetX:S,targetY:C,sourcePosition:k,targetPosition:T,sourceHandleId:I,targetHandleId:B,markerStart:Ae,markerEnd:Y,pathOptions:ne,interactionWidth:ce}),Z&&q.createElement(q.Fragment,null,(Z==="source"||Z===!0)&&q.createElement(P1,{position:k,centerX:x,centerY:_,radius:L,onMouseDown:wt,onMouseEnter:Nt,onMouseOut:Oe,type:"source"}),(Z==="target"||Z===!0)&&q.createElement(P1,{position:T,centerX:S,centerY:C,radius:L,onMouseDown:Zt,onMouseEnter:Nt,onMouseOut:Oe,type:"target"})))};return t.displayName="EdgeWrapper",b.memo(t)};function LF(e){const t={default:Si(e.default||ql),straight:Si(e.bezier||Cv),step:Si(e.step||Ev),smoothstep:Si(e.step||xu),simplebezier:Si(e.simplebezier||bv)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Si(e[s]||ql),i),n);return{...t,...r}}function A1(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Q.Top:return{x:r+s/2,y:i};case Q.Right:return{x:r+s,y:i+o/2};case Q.Bottom:return{x:r+s/2,y:i+o};case Q.Left:return{x:r,y:i+o/2}}}function R1(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const OF=(e,t,n,r,i,s)=>{const o=A1(n,e,t),a=A1(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function qF({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Do({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function I1(e){var r,i,s,o,a;const t=((r=e==null?void 0:e[De])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const FF=[{level:0,isMaxLevel:!0,edges:[]}];function $F(e,t,n=!1){let r=-1;const i=e.reduce((o,a)=>{var c,d;const l=Ht(a.zIndex);let u=l?a.zIndex:0;if(n){const f=t.get(a.target),h=t.get(a.source),g=a.selected||(f==null?void 0:f.selected)||(h==null?void 0:h.selected),p=Math.max(((c=h==null?void 0:h[De])==null?void 0:c.z)||0,((d=f==null?void 0:f[De])==null?void 0:d.z)||0,1e3);u=(l?a.zIndex:0)+(g?p:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?FF:s}function VF(e,t,n){const r=ye(b.useCallback(i=>e?i.edges.filter(s=>{const o=t.get(s.source),a=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&qF({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return $F(r,t,n)}const BF=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zF=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),j1={[Ol.Arrow]:BF,[Ol.ArrowClosed]:zF};function UF(e){const t=He();return b.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(j1,e)?j1[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Yn.error009(e)),null)},[e])}const HF=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=UF(t);return l?q.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},q.createElement(l,{color:n,strokeWidth:o})):null},GF=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=Wg(o,t);r.includes(a)||(i.push({id:a,color:o.color||e,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},BM=({defaultColor:e,rfId:t})=>{const n=ye(b.useCallback(GF({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return q.createElement("defs",null,n.map(r=>q.createElement(HF,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};BM.displayName="MarkerDefinitions";var WF=b.memo(BM);const KF=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),zM=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:p,children:v,disableKeyboardA11y:m})=>{const{edgesFocusable:y,edgesUpdatable:x,elementsSelectable:_,width:S,height:C,connectionMode:k,nodeInternals:T,onError:M}=ye(KF,Ze),R=VF(t,T,n);return S?q.createElement(q.Fragment,null,R.map(({level:I,edges:B,isMaxLevel:V})=>q.createElement("svg",{key:I,style:{zIndex:I},width:S,height:C,className:"react-flow__edges react-flow__container"},V&&q.createElement(WF,{defaultColor:e,rfId:r}),q.createElement("g",null,B.map(E=>{const[D,A,L]=I1(T.get(E.source)),[P,N,j]=I1(T.get(E.target));if(!L||!j)return null;let F=E.type||"default";i[F]||(M==null||M("011",Yn.error011(F)),F="default");const $=i[F]||i.default,O=k===li.Strict?N.target:(N.target??[]).concat(N.source??[]),z=R1(A.source,E.sourceHandle),G=R1(O,E.targetHandle),Z=(z==null?void 0:z.position)||Q.Bottom,ne=(G==null?void 0:G.position)||Q.Top,ce=!!(E.focusable||y&&typeof E.focusable>"u"),oe=E.reconnectable||E.updatable,le=typeof f<"u"&&(oe||x&&typeof oe>"u");if(!z||!G)return M==null||M("008",Yn.error008(z,E)),null;const{sourceX:Le,sourceY:de,targetX:te,targetY:ke}=OF(D,z,Z,P,G,ne);return q.createElement($,{key:E.id,id:E.id,className:rt([E.className,s]),type:F,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:Le,sourceY:de,targetX:te,targetY:ke,sourcePosition:Z,targetPosition:ne,elementsSelectable:_,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:g,reconnectRadius:p,rfId:r,ariaLabel:E.ariaLabel,isFocusable:ce,isReconnectable:le,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:m})})))),v):null};zM.displayName="EdgeRenderer";var YF=b.memo(zM);const XF=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function ZF({children:e}){const t=ye(XF);return q.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function QF(e){const t=Mv(),n=b.useRef(!1);b.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const JF={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top},UM=({nodeId:e,handleType:t,style:n,type:r=hr.Bezier,CustomComponent:i,connectionStatus:s})=>{var C,k,T;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:c}=ye(b.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Ze),d=(C=o==null?void 0:o[De])==null?void 0:C.handleBounds;let f=d==null?void 0:d[t];if(c===li.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!o||!f)return null;const h=a?f.find(M=>M.id===a):f[0],g=h?h.x+h.width/2:(o.width??0)/2,p=h?h.y+h.height/2:o.height??0,v=(((k=o.positionAbsolute)==null?void 0:k.x)??0)+g,m=(((T=o.positionAbsolute)==null?void 0:T.y)??0)+p,y=h==null?void 0:h.position,x=y?JF[y]:null;if(!y||!x)return null;if(i)return q.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:v,fromY:m,toX:l,toY:u,fromPosition:y,toPosition:x,connectionStatus:s});let _="";const S={sourceX:v,sourceY:m,sourcePosition:y,targetX:l,targetY:u,targetPosition:x};return r===hr.Bezier?[_]=mM(S):r===hr.Step?[_]=Gg({...S,borderRadius:0}):r===hr.SmoothStep?[_]=Gg(S):r===hr.SimpleBezier?[_]=pM(S):_=`M${v},${m} ${l},${u}`,q.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};UM.displayName="ConnectionLine";const e$=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function t$({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:u}=ye(e$,Ze);return!(i&&s&&a&&o)?null:q.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},q.createElement("g",{className:rt(["react-flow__connection",u])},q.createElement(UM,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function D1(e,t){return b.useRef(null),He(),b.useMemo(()=>t(e),[e])}const HM=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:g,onSelectionStart:p,onSelectionEnd:v,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:x,connectionLineContainerStyle:_,selectionKeyCode:S,selectionOnDrag:C,selectionMode:k,multiSelectionKeyCode:T,panActivationKeyCode:M,zoomActivationKeyCode:R,deleteKeyCode:I,onlyRenderVisibleElements:B,elementsSelectable:V,selectNodesOnDrag:E,defaultViewport:D,translateExtent:A,minZoom:L,maxZoom:P,preventScrolling:N,defaultMarkerColor:j,zoomOnScroll:F,zoomOnPinch:$,panOnScroll:O,panOnScrollSpeed:z,panOnScrollMode:G,zoomOnDoubleClick:Z,panOnDrag:ne,onPaneClick:ce,onPaneMouseEnter:oe,onPaneMouseMove:le,onPaneMouseLeave:Le,onPaneScroll:de,onPaneContextMenu:te,onEdgeContextMenu:ke,onEdgeMouseEnter:J,onEdgeMouseMove:Ae,onEdgeMouseLeave:Y,onReconnect:K,onReconnectStart:_e,onReconnectEnd:yt,reconnectRadius:vt,noDragClassName:Ge,noWheelClassName:Se,noPanClassName:it,elevateEdgesOnSelect:wt,disableKeyboardA11y:Zt,nodeOrigin:Nt,nodeExtent:Oe,rfId:We})=>{const Qt=D1(e,MF),Re=D1(t,LF);return QF(s),q.createElement(TF,{onPaneClick:ce,onPaneMouseEnter:oe,onPaneMouseMove:le,onPaneMouseLeave:Le,onPaneContextMenu:te,onPaneScroll:de,deleteKeyCode:I,selectionKeyCode:S,selectionOnDrag:C,selectionMode:k,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:T,panActivationKeyCode:M,zoomActivationKeyCode:R,elementsSelectable:V,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:$,zoomOnDoubleClick:Z,panOnScroll:O,panOnScrollSpeed:z,panOnScrollMode:G,panOnDrag:ne,defaultViewport:D,translateExtent:A,minZoom:L,maxZoom:P,onSelectionContextMenu:g,preventScrolling:N,noDragClassName:Ge,noWheelClassName:Se,noPanClassName:it,disableKeyboardA11y:Zt},q.createElement(ZF,null,q.createElement(YF,{edgeTypes:Re,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:ke,onEdgeMouseEnter:J,onEdgeMouseMove:Ae,onEdgeMouseLeave:Y,onReconnect:K,onReconnectStart:_e,onReconnectEnd:yt,reconnectRadius:vt,defaultMarkerColor:j,noPanClassName:it,elevateEdgesOnSelect:!!wt,disableKeyboardA11y:Zt,rfId:We},q.createElement(t$,{style:y,type:m,component:x,containerStyle:_})),q.createElement("div",{className:"react-flow__edgelabel-renderer"}),q.createElement(RF,{nodeTypes:Qt,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,selectNodesOnDrag:E,onlyRenderVisibleElements:B,noPanClassName:it,noDragClassName:Ge,disableKeyboardA11y:Zt,nodeOrigin:Nt,nodeExtent:Oe,rfId:We})))};HM.displayName="GraphView";var n$=b.memo(HM);const Zg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ir={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Zg,nodeExtent:Zg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:li.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Mq,isValidConnection:void 0},r$=()=>UD((e,t)=>({...ir,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:Nc(n,r,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",o=i?Nc(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((p,v)=>{const m=i.get(v.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[De]:{...m[De],handleBounds:void 0}});else if(m){const y=_v(v.nodeElement);!!(y.width&&y.height&&(m.width!==y.width||m.height!==y.height||v.forceUpdate))&&(i.set(m.id,{...m,[De]:{...m[De],handleBounds:{source:N1(".source",v.nodeElement,f,u),target:N1(".target",v.nodeElement,f,u)}},...y}),p.push({id:m.id,type:"dimensions",dimensions:y}))}return p},[]);IM(i,u);const g=o||s&&!o&&jM(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:g}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const u=vF(n,a()),c=Nc(u,i,o,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>cr(l,!0)):(o=Di(s(),n),a=Di(i,[])),Ia({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>cr(l,!0)):(o=Di(i,n),a=Di(s(),[])),Ia({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=t(),o=n||s(),a=r||i,l=o.map(c=>(c.selected=!1,cr(c.id,!1))),u=a.map(c=>cr(c.id,!1));Ia({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(a=>a.selected).map(a=>cr(a.id,!1)),o=n.filter(a=>a.selected).map(a=>cr(a.id,!1));Ia({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Sv(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=Vn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,s]],d=o==null?void 0:o.constrain()(u,c,l);return o.transform(a,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:ir.connectionNodeId,connectionHandleId:ir.connectionHandleId,connectionHandleType:ir.connectionHandleType,connectionStatus:ir.connectionStatus,connectionStartHandle:ir.connectionStartHandle,connectionEndHandle:ir.connectionEndHandle}),reset:()=>e({...ir})}),Object.is),GM=({children:e})=>{const t=b.useRef(null);return t.current||(t.current=r$()),q.createElement(Sq,{value:t.current},e)};GM.displayName="ReactFlowProvider";const WM=({children:e})=>b.useContext(wu)?q.createElement(q.Fragment,null,e):q.createElement(GM,null,e);WM.displayName="ReactFlowWrapper";const i$={input:kM,default:Yg,output:NM,group:Nv},s$={default:ql,straight:Cv,step:Ev,smoothstep:xu,simplebezier:bv},o$=[0,0],a$=[15,15],l$={x:0,y:0,zoom:1},u$={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},KM=b.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=i$,edgeTypes:o=s$,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:g,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:M,onNodesDelete:R,onEdgesDelete:I,onSelectionChange:B,onSelectionDragStart:V,onSelectionDrag:E,onSelectionDragStop:D,onSelectionContextMenu:A,onSelectionStart:L,onSelectionEnd:P,connectionMode:N=li.Strict,connectionLineType:j=hr.Bezier,connectionLineStyle:F,connectionLineComponent:$,connectionLineContainerStyle:O,deleteKeyCode:z="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Z=!1,selectionMode:ne=Lo.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:oe=Ll()?"Meta":"Control",zoomActivationKeyCode:le=Ll()?"Meta":"Control",snapToGrid:Le=!1,snapGrid:de=a$,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:ke=!0,nodesDraggable:J,nodesConnectable:Ae,nodesFocusable:Y,nodeOrigin:K=o$,edgesFocusable:_e,edgesUpdatable:yt,elementsSelectable:vt,defaultViewport:Ge=l$,minZoom:Se=.5,maxZoom:it=2,translateExtent:wt=Zg,preventScrolling:Zt=!0,nodeExtent:Nt,defaultMarkerColor:Oe="#b1b1b7",zoomOnScroll:We=!0,zoomOnPinch:Qt=!0,panOnScroll:Re=!1,panOnScrollSpeed:he=.5,panOnScrollMode:$e=Kr.Free,zoomOnDoubleClick:be=!0,panOnDrag:pn=!0,onPaneClick:xt,onPaneMouseEnter:st,onPaneMouseMove:Or,onPaneMouseLeave:xs,onPaneScroll:tr,onPaneContextMenu:Nn,children:_s,onEdgeContextMenu:Mn,onEdgeDoubleClick:Gu,onEdgeMouseEnter:Wu,onEdgeMouseMove:oa,onEdgeMouseLeave:H,onEdgeUpdate:X,onEdgeUpdateStart:ue,onEdgeUpdateEnd:Ke,onReconnect:yi,onReconnectStart:ot,onReconnectEnd:Qe,reconnectRadius:nr=10,edgeUpdaterRadius:mn=10,onNodesChange:aa,onEdgesChange:HR,noDragClassName:GR="nodrag",noWheelClassName:WR="nowheel",noPanClassName:P0="nopan",fitView:KR=!1,fitViewOptions:YR,connectOnClick:XR=!0,attributionPosition:ZR,proOptions:QR,defaultEdgeOptions:JR,elevateNodesOnSelect:e2=!0,elevateEdgesOnSelect:t2=!1,disableKeyboardA11y:A0=!1,autoPanOnConnect:n2=!0,autoPanOnNodeDrag:r2=!0,connectionRadius:i2=20,isValidConnection:s2,onError:o2,style:a2,id:R0,nodeDragThreshold:l2,...u2},c2)=>{const Ku=R0||"1";return q.createElement("div",{...u2,style:{...a2,...u$},ref:c2,className:rt(["react-flow",i]),"data-testid":"rf__wrapper",id:R0},q.createElement(WM,null,q.createElement(n$,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:_,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:o,connectionLineType:j,connectionLineStyle:F,connectionLineComponent:$,connectionLineContainerStyle:O,selectionKeyCode:G,selectionOnDrag:Z,selectionMode:ne,deleteKeyCode:z,multiSelectionKeyCode:oe,panActivationKeyCode:ce,zoomActivationKeyCode:le,onlyRenderVisibleElements:te,selectNodesOnDrag:ke,defaultViewport:Ge,translateExtent:wt,minZoom:Se,maxZoom:it,preventScrolling:Zt,zoomOnScroll:We,zoomOnPinch:Qt,zoomOnDoubleClick:be,panOnScroll:Re,panOnScrollSpeed:he,panOnScrollMode:$e,panOnDrag:pn,onPaneClick:xt,onPaneMouseEnter:st,onPaneMouseMove:Or,onPaneMouseLeave:xs,onPaneScroll:tr,onPaneContextMenu:Nn,onSelectionContextMenu:A,onSelectionStart:L,onSelectionEnd:P,onEdgeContextMenu:Mn,onEdgeDoubleClick:Gu,onEdgeMouseEnter:Wu,onEdgeMouseMove:oa,onEdgeMouseLeave:H,onReconnect:yi??X,onReconnectStart:ot??ue,onReconnectEnd:Qe??Ke,reconnectRadius:nr??mn,defaultMarkerColor:Oe,noDragClassName:GR,noWheelClassName:WR,noPanClassName:P0,elevateEdgesOnSelect:t2,rfId:Ku,disableKeyboardA11y:A0,nodeOrigin:K,nodeExtent:Nt}),q.createElement(Qq,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:g,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:m,nodesDraggable:J,nodesConnectable:Ae,nodesFocusable:Y,edgesFocusable:_e,edgesUpdatable:yt,elementsSelectable:vt,elevateNodesOnSelect:e2,minZoom:Se,maxZoom:it,nodeExtent:Nt,onNodesChange:aa,onEdgesChange:HR,snapToGrid:Le,snapGrid:de,connectionMode:N,translateExtent:wt,connectOnClick:XR,defaultEdgeOptions:JR,fitView:KR,fitViewOptions:YR,onNodesDelete:R,onEdgesDelete:I,onNodeDragStart:k,onNodeDrag:T,onNodeDragStop:M,onSelectionDrag:E,onSelectionDragStart:V,onSelectionDragStop:D,noPanClassName:P0,nodeOrigin:K,rfId:Ku,autoPanOnConnect:n2,autoPanOnNodeDrag:r2,onError:o2,connectionRadius:i2,isValidConnection:s2,nodeDragThreshold:l2}),q.createElement(Xq,{onSelectionChange:B}),_s,q.createElement(Eq,{proOptions:QR,position:ZR}),q.createElement(rF,{rfId:Ku,disableKeyboardA11y:A0})))});KM.displayName="ReactFlow";const YM=({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:h})=>{const{background:g,backgroundColor:p}=s||{},v=o||g||p;return q.createElement("rect",{className:rt(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:v,stroke:a,strokeWidth:l,shapeRendering:d,onClick:f?m=>f(m,e):void 0})};YM.displayName="MiniMapNode";var c$=b.memo(YM);const d$=e=>e.nodeOrigin,f$=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Rc=e=>e instanceof Function?e:()=>e;function h$({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=c$,onClick:o}){const a=ye(f$,Ze),l=ye(d$),u=Rc(t),c=Rc(e),d=Rc(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return q.createElement(q.Fragment,null,a.map(h=>{const{x:g,y:p}=ei(h,l).positionAbsolute;return q.createElement(s,{key:h.id,x:g,y:p,width:h.width,height:h.height,style:h.style,selected:h.selected,className:d(h),color:u(h),borderRadius:r,strokeColor:c(h),strokeWidth:i,shapeRendering:f,onClick:o,id:h.id})}))}var p$=b.memo(h$);const m$=200,g$=150,y$=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?Tq(_u(t,e.nodeOrigin),n):n,rfId:e.rfId}},v$="react-flow__minimap-desc";function XM({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:h,pannable:g=!1,zoomable:p=!1,ariaLabel:v="React Flow mini map",inversePan:m=!1,zoomStep:y=10,offsetScale:x=5}){const _=He(),S=b.useRef(null),{boundingRect:C,viewBB:k,rfId:T}=ye(y$,Ze),M=(e==null?void 0:e.width)??m$,R=(e==null?void 0:e.height)??g$,I=C.width/M,B=C.height/R,V=Math.max(I,B),E=V*M,D=V*R,A=x*V,L=C.x-(E-C.width)/2-A,P=C.y-(D-C.height)/2-A,N=E+A*2,j=D+A*2,F=`${v$}-${T}`,$=b.useRef(0);$.current=V,b.useEffect(()=>{if(S.current){const G=zt(S.current),Z=oe=>{const{transform:le,d3Selection:Le,d3Zoom:de}=_.getState();if(oe.sourceEvent.type!=="wheel"||!Le||!de)return;const te=-oe.sourceEvent.deltaY*(oe.sourceEvent.deltaMode===1?.05:oe.sourceEvent.deltaMode?1:.002)*y,ke=le[2]*Math.pow(2,te);de.scaleTo(Le,ke)},ne=oe=>{const{transform:le,d3Selection:Le,d3Zoom:de,translateExtent:te,width:ke,height:J}=_.getState();if(oe.sourceEvent.type!=="mousemove"||!Le||!de)return;const Ae=$.current*Math.max(1,le[2])*(m?-1:1),Y={x:le[0]-oe.sourceEvent.movementX*Ae,y:le[1]-oe.sourceEvent.movementY*Ae},K=[[0,0],[ke,J]],_e=Vn.translate(Y.x,Y.y).scale(le[2]),yt=de.constrain()(_e,K,te);de.transform(Le,yt)},ce=iM().on("zoom",g?ne:null).on("zoom.wheel",p?Z:null);return G.call(ce),()=>{G.on("zoom",null)}}},[g,p,m,y]);const O=f?G=>{const Z=rn(G);f(G,{x:Z[0],y:Z[1]})}:void 0,z=h?(G,Z)=>{const ne=_.getState().nodeInternals.get(Z);h(G,ne)}:void 0;return q.createElement(xv,{position:d,style:e,className:rt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},q.createElement("svg",{width:M,height:R,viewBox:`${L} ${P} ${N} ${j}`,role:"img","aria-labelledby":F,ref:S,onClick:O},v&&q.createElement("title",{id:F},v),q.createElement(p$,{onClick:z,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),q.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-A},${P-A}h${N+A*2}v${j+A*2}h${-N-A*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}XM.displayName="MiniMap";var w$=b.memo(XM);function x$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},q.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function _$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},q.createElement("path",{d:"M0 0h32v4.2H0z"}))}function S$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},q.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function b$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function E$(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const zs=({children:e,className:t,...n})=>q.createElement("button",{type:"button",className:rt(["react-flow__controls-button",t]),...n},e);zs.displayName="ControlButton";const C$=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),ZM=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left"})=>{const f=He(),[h,g]=b.useState(!1),{isInteractive:p,minZoomReached:v,maxZoomReached:m}=ye(C$,Ze),{zoomIn:y,zoomOut:x,fitView:_}=Mv();if(b.useEffect(()=>{g(!0)},[]),!h)return null;const S=()=>{y(),s==null||s()},C=()=>{x(),o==null||o()},k=()=>{_(i),a==null||a()},T=()=>{f.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),l==null||l(!p)};return q.createElement(xv,{className:rt(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&q.createElement(q.Fragment,null,q.createElement(zs,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},q.createElement(x$,null)),q.createElement(zs,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},q.createElement(_$,null))),n&&q.createElement(zs,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view"},q.createElement(S$,null)),r&&q.createElement(zs,{className:"react-flow__controls-interactive",onClick:T,title:"toggle interactivity","aria-label":"toggle interactivity"},p?q.createElement(E$,null):q.createElement(b$,null)),c)};ZM.displayName="Controls";var k$=b.memo(ZM),un;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(un||(un={}));function T$({color:e,dimensions:t,lineWidth:n}){return q.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function N$({color:e,radius:t}){return q.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const M$={[un.Dots]:"#91919a",[un.Lines]:"#eee",[un.Cross]:"#e2e2e2"},P$={[un.Dots]:1,[un.Lines]:1,[un.Cross]:6},A$=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function QM({id:e,variant:t=un.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const u=b.useRef(null),{transform:c,patternId:d}=ye(A$,Ze),f=o||M$[t],h=r||P$[t],g=t===un.Dots,p=t===un.Cross,v=Array.isArray(n)?n:[n,n],m=[v[0]*c[2]||1,v[1]*c[2]||1],y=h*c[2],x=p?[y,y]:m,_=g?[y/s,y/s]:[x[0]/s,x[1]/s];return q.createElement("svg",{className:rt(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},q.createElement("pattern",{id:d+e,x:c[0]%m[0],y:c[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},g?q.createElement(N$,{color:f,radius:y/s}):q.createElement(T$,{dimensions:x,color:f,lineWidth:i})),q.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}QM.displayName="Background";var R$=b.memo(QM);function nl(e){const t=new Map;for(const r of e)r.type==="tool_call"&&r.toolCallId&&t.set(r.toolCallId,r.id);const n=[];for(const r of e)if(!(r.type!=="llm_call"||!r.io)){for(const i of r.io.emittedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_emit_${r.id}_${s}`,source:r.id,target:s,kind:"io",toolCallId:i})}for(const i of r.io.consumedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_consume_${s}_${r.id}`,source:s,target:r.id,kind:"io",toolCallId:i})}}return n}function Av(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ic,L1;function I$(){if(L1)return Ic;L1=1;function e(){this.__data__=[],this.size=0}return Ic=e,Ic}var jc,O1;function hs(){if(O1)return jc;O1=1;function e(t,n){return t===n||t!==t&&n!==n}return jc=e,jc}var Dc,q1;function Su(){if(q1)return Dc;q1=1;var e=hs();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Dc=t,Dc}var Lc,F1;function j$(){if(F1)return Lc;F1=1;var e=Su(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Lc=r,Lc}var Oc,$1;function D$(){if($1)return Oc;$1=1;var e=Su();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Oc=t,Oc}var qc,V1;function L$(){if(V1)return qc;V1=1;var e=Su();function t(n){return e(this.__data__,n)>-1}return qc=t,qc}var Fc,B1;function O$(){if(B1)return Fc;B1=1;var e=Su();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Fc=t,Fc}var $c,z1;function bu(){if(z1)return $c;z1=1;var e=I$(),t=j$(),n=D$(),r=L$(),i=O$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,$c=s,$c}var Vc,U1;function q$(){if(U1)return Vc;U1=1;var e=bu();function t(){this.__data__=new e,this.size=0}return Vc=t,Vc}var Bc,H1;function F$(){if(H1)return Bc;H1=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Bc=e,Bc}var zc,G1;function $$(){if(G1)return zc;G1=1;function e(t){return this.__data__.get(t)}return zc=e,zc}var Uc,W1;function V$(){if(W1)return Uc;W1=1;function e(t){return this.__data__.has(t)}return Uc=e,Uc}var Hc,K1;function JM(){if(K1)return Hc;K1=1;var e=typeof la=="object"&&la&&la.Object===Object&&la;return Hc=e,Hc}var Gc,Y1;function fn(){if(Y1)return Gc;Y1=1;var e=JM(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Gc=n,Gc}var Wc,X1;function ps(){if(X1)return Wc;X1=1;var e=fn(),t=e.Symbol;return Wc=t,Wc}var Kc,Z1;function B$(){if(Z1)return Kc;Z1=1;var e=ps(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(a?o[i]=l:delete o[i]),c}return Kc=s,Kc}var Yc,Q1;function z$(){if(Q1)return Yc;Q1=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Yc=n,Yc}var Xc,J1;function di(){if(J1)return Xc;J1=1;var e=ps(),t=B$(),n=z$(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return Xc=o,Xc}var Zc,ex;function Yt(){if(ex)return Zc;ex=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Zc=e,Zc}var Qc,tx;function Zo(){if(tx)return Qc;tx=1;var e=di(),t=Yt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==s}return Qc=o,Qc}var Jc,nx;function U$(){if(nx)return Jc;nx=1;var e=fn(),t=e["__core-js_shared__"];return Jc=t,Jc}var ed,rx;function H$(){if(rx)return ed;rx=1;var e=U$(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return ed=n,ed}var td,ix;function eP(){if(ix)return td;ix=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return td=n,td}var nd,sx;function G$(){if(sx)return nd;sx=1;var e=Zo(),t=H$(),n=Yt(),r=eP(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?c:s;return h.test(r(f))}return nd=d,nd}var rd,ox;function W$(){if(ox)return rd;ox=1;function e(t,n){return t==null?void 0:t[n]}return rd=e,rd}var id,ax;function fi(){if(ax)return id;ax=1;var e=G$(),t=W$();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return id=n,id}var sd,lx;function Rv(){if(lx)return sd;lx=1;var e=fi(),t=fn(),n=e(t,"Map");return sd=n,sd}var od,ux;function Eu(){if(ux)return od;ux=1;var e=fi(),t=e(Object,"create");return od=t,od}var ad,cx;function K$(){if(cx)return ad;cx=1;var e=Eu();function t(){this.__data__=e?e(null):{},this.size=0}return ad=t,ad}var ld,dx;function Y$(){if(dx)return ld;dx=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return ld=e,ld}var ud,fx;function X$(){if(fx)return ud;fx=1;var e=Eu(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return ud=i,ud}var cd,hx;function Z$(){if(hx)return cd;hx=1;var e=Eu(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return cd=r,cd}var dd,px;function Q$(){if(px)return dd;px=1;var e=Eu(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return dd=n,dd}var fd,mx;function J$(){if(mx)return fd;mx=1;var e=K$(),t=Y$(),n=X$(),r=Z$(),i=Q$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,fd=s,fd}var hd,gx;function eV(){if(gx)return hd;gx=1;var e=J$(),t=bu(),n=Rv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return hd=r,hd}var pd,yx;function tV(){if(yx)return pd;yx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return pd=e,pd}var md,vx;function Cu(){if(vx)return md;vx=1;var e=tV();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return md=t,md}var gd,wx;function nV(){if(wx)return gd;wx=1;var e=Cu();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return gd=t,gd}var yd,xx;function rV(){if(xx)return yd;xx=1;var e=Cu();function t(n){return e(this,n).get(n)}return yd=t,yd}var vd,_x;function iV(){if(_x)return vd;_x=1;var e=Cu();function t(n){return e(this,n).has(n)}return vd=t,vd}var wd,Sx;function sV(){if(Sx)return wd;Sx=1;var e=Cu();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return wd=t,wd}var xd,bx;function Iv(){if(bx)return xd;bx=1;var e=eV(),t=nV(),n=rV(),r=iV(),i=sV();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,xd=s,xd}var _d,Ex;function oV(){if(Ex)return _d;Ex=1;var e=bu(),t=Rv(),n=Iv(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return _d=i,_d}var Sd,Cx;function ku(){if(Cx)return Sd;Cx=1;var e=bu(),t=q$(),n=F$(),r=$$(),i=V$(),s=oV();function o(a){var l=this.__data__=new e(a);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,Sd=o,Sd}var bd,kx;function jv(){if(kx)return bd;kx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return bd=e,bd}var Ed,Tx;function tP(){if(Tx)return Ed;Tx=1;var e=fi(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Ed=t,Ed}var Cd,Nx;function Tu(){if(Nx)return Cd;Nx=1;var e=tP();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Cd=t,Cd}var kd,Mx;function Nu(){if(Mx)return kd;Mx=1;var e=Tu(),t=hs(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&t(l,a))||a===void 0&&!(o in s))&&e(s,o,a)}return kd=i,kd}var Td,Px;function Qo(){if(Px)return Td;Px=1;var e=Nu(),t=Tu();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=o?o(s[c],r[c],c,s,r):void 0;d===void 0&&(d=r[c]),a?t(s,c,d):e(s,c,d)}return s}return Td=n,Td}var Nd,Ax;function aV(){if(Ax)return Nd;Ax=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Nd=e,Nd}var Md,Rx;function Tn(){if(Rx)return Md;Rx=1;function e(t){return t!=null&&typeof t=="object"}return Md=e,Md}var Pd,Ix;function lV(){if(Ix)return Pd;Ix=1;var e=di(),t=Tn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Pd=r,Pd}var Ad,jx;function Jo(){if(jx)return Ad;jx=1;var e=lV(),t=Tn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Ad=s,Ad}var Rd,Dx;function Be(){if(Dx)return Rd;Dx=1;var e=Array.isArray;return Rd=e,Rd}var Us={exports:{}},Id,Lx;function uV(){if(Lx)return Id;Lx=1;function e(){return!1}return Id=e,Id}Us.exports;var Ox;function ms(){return Ox||(Ox=1,function(e,t){var n=fn(),r=uV(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Us,Us.exports)),Us.exports}var jd,qx;function Mu(){if(qx)return jd;qx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return jd=n,jd}var Dd,Fx;function Dv(){if(Fx)return Dd;Fx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Dd=t,Dd}var Ld,$x;function cV(){if($x)return Ld;$x=1;var e=di(),t=Dv(),n=Tn(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",g="[object String]",p="[object WeakMap]",v="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",I={};I[y]=I[x]=I[_]=I[S]=I[C]=I[k]=I[T]=I[M]=I[R]=!0,I[r]=I[i]=I[v]=I[s]=I[m]=I[o]=I[a]=I[l]=I[u]=I[c]=I[d]=I[f]=I[h]=I[g]=I[p]=!1;function B(V){return n(V)&&t(V.length)&&!!I[e(V)]}return Ld=B,Ld}var Od,Vx;function Pu(){if(Vx)return Od;Vx=1;function e(t){return function(n){return t(n)}}return Od=e,Od}var Hs={exports:{}};Hs.exports;var Bx;function Lv(){return Bx||(Bx=1,function(e,t){var n=JM(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(Hs,Hs.exports)),Hs.exports}var qd,zx;function ea(){if(zx)return qd;zx=1;var e=cV(),t=Pu(),n=Lv(),r=n&&n.isTypedArray,i=r?t(r):e;return qd=i,qd}var Fd,Ux;function nP(){if(Ux)return Fd;Ux=1;var e=aV(),t=Jo(),n=Be(),r=ms(),i=Mu(),s=ea(),o=Object.prototype,a=o.hasOwnProperty;function l(u,c){var d=n(u),f=!d&&t(u),h=!d&&!f&&r(u),g=!d&&!f&&!h&&s(u),p=d||f||h||g,v=p?e(u.length,String):[],m=v.length;for(var y in u)(c||a.call(u,y))&&!(p&&(y=="length"||h&&(y=="offset"||y=="parent")||g&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,m)))&&v.push(y);return v}return Fd=l,Fd}var $d,Hx;function Au(){if(Hx)return $d;Hx=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return $d=t,$d}var Vd,Gx;function rP(){if(Gx)return Vd;Gx=1;function e(t,n){return function(r){return t(n(r))}}return Vd=e,Vd}var Bd,Wx;function dV(){if(Wx)return Bd;Wx=1;var e=rP(),t=e(Object.keys,Object);return Bd=t,Bd}var zd,Kx;function Ov(){if(Kx)return zd;Kx=1;var e=Au(),t=dV(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return zd=i,zd}var Ud,Yx;function Jn(){if(Yx)return Ud;Yx=1;var e=Zo(),t=Dv();function n(r){return r!=null&&t(r.length)&&!e(r)}return Ud=n,Ud}var Hd,Xx;function Dr(){if(Xx)return Hd;Xx=1;var e=nP(),t=Ov(),n=Jn();function r(i){return n(i)?e(i):t(i)}return Hd=r,Hd}var Gd,Zx;function fV(){if(Zx)return Gd;Zx=1;var e=Qo(),t=Dr();function n(r,i){return r&&e(i,t(i),r)}return Gd=n,Gd}var Wd,Qx;function hV(){if(Qx)return Wd;Qx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Wd=e,Wd}var Kd,Jx;function pV(){if(Jx)return Kd;Jx=1;var e=Yt(),t=Au(),n=hV(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return Kd=s,Kd}var Yd,e_;function hi(){if(e_)return Yd;e_=1;var e=nP(),t=pV(),n=Jn();function r(i){return n(i)?e(i,!0):t(i)}return Yd=r,Yd}var Xd,t_;function mV(){if(t_)return Xd;t_=1;var e=Qo(),t=hi();function n(r,i){return r&&e(i,t(i),r)}return Xd=n,Xd}var Gs={exports:{}};Gs.exports;var n_;function iP(){return n_||(n_=1,function(e,t){var n=fn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=a?a(d):new u.constructor(d);return u.copy(f),f}e.exports=l}(Gs,Gs.exports)),Gs.exports}var Zd,r_;function sP(){if(r_)return Zd;r_=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Zd=e,Zd}var Qd,i_;function oP(){if(i_)return Qd;i_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return Qd=e,Qd}var Jd,s_;function aP(){if(s_)return Jd;s_=1;function e(){return[]}return Jd=e,Jd}var ef,o_;function qv(){if(o_)return ef;o_=1;var e=oP(),t=aP(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return ef=s,ef}var tf,a_;function gV(){if(a_)return tf;a_=1;var e=Qo(),t=qv();function n(r,i){return e(r,t(r),i)}return tf=n,tf}var nf,l_;function Fv(){if(l_)return nf;l_=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return nf=e,nf}var rf,u_;function Ru(){if(u_)return rf;u_=1;var e=rP(),t=e(Object.getPrototypeOf,Object);return rf=t,rf}var sf,c_;function lP(){if(c_)return sf;c_=1;var e=Fv(),t=Ru(),n=qv(),r=aP(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return sf=s,sf}var of,d_;function yV(){if(d_)return of;d_=1;var e=Qo(),t=lP();function n(r,i){return e(r,t(r),i)}return of=n,of}var af,f_;function uP(){if(f_)return af;f_=1;var e=Fv(),t=Be();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return af=n,af}var lf,h_;function cP(){if(h_)return lf;h_=1;var e=uP(),t=qv(),n=Dr();function r(i){return e(i,n,t)}return lf=r,lf}var uf,p_;function vV(){if(p_)return uf;p_=1;var e=uP(),t=lP(),n=hi();function r(i){return e(i,n,t)}return uf=r,uf}var cf,m_;function wV(){if(m_)return cf;m_=1;var e=fi(),t=fn(),n=e(t,"DataView");return cf=n,cf}var df,g_;function xV(){if(g_)return df;g_=1;var e=fi(),t=fn(),n=e(t,"Promise");return df=n,df}var ff,y_;function dP(){if(y_)return ff;y_=1;var e=fi(),t=fn(),n=e(t,"Set");return ff=n,ff}var hf,v_;function _V(){if(v_)return hf;v_=1;var e=fi(),t=fn(),n=e(t,"WeakMap");return hf=n,hf}var pf,w_;function gs(){if(w_)return pf;w_=1;var e=wV(),t=Rv(),n=xV(),r=dP(),i=_V(),s=di(),o=eP(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),g=o(t),p=o(n),v=o(r),m=o(i),y=s;return(e&&y(new e(new ArrayBuffer(1)))!=f||t&&y(new t)!=a||n&&y(n.resolve())!=u||r&&y(new r)!=c||i&&y(new i)!=d)&&(y=function(x){var _=s(x),S=_==l?x.constructor:void 0,C=S?o(S):"";if(C)switch(C){case h:return f;case g:return a;case p:return u;case v:return c;case m:return d}return _}),pf=y,pf}var mf,x_;function SV(){if(x_)return mf;x_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return mf=n,mf}var gf,__;function fP(){if(__)return gf;__=1;var e=fn(),t=e.Uint8Array;return gf=t,gf}var yf,S_;function $v(){if(S_)return yf;S_=1;var e=fP();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return yf=t,yf}var vf,b_;function bV(){if(b_)return vf;b_=1;var e=$v();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return vf=t,vf}var wf,E_;function EV(){if(E_)return wf;E_=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return wf=t,wf}var xf,C_;function CV(){if(C_)return xf;C_=1;var e=ps(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return xf=r,xf}var _f,k_;function hP(){if(k_)return _f;k_=1;var e=$v();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return _f=t,_f}var Sf,T_;function kV(){if(T_)return Sf;T_=1;var e=$v(),t=bV(),n=EV(),r=CV(),i=hP(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",v="[object Float64Array]",m="[object Int8Array]",y="[object Int16Array]",x="[object Int32Array]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]";function T(M,R,I){var B=M.constructor;switch(R){case h:return e(M);case s:case o:return new B(+M);case g:return t(M,I);case p:case v:case m:case y:case x:case _:case S:case C:case k:return i(M,I);case a:return new B;case l:case d:return new B(M);case u:return n(M);case c:return new B;case f:return r(M)}}return Sf=T,Sf}var bf,N_;function pP(){if(N_)return bf;N_=1;var e=Yt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return bf=n,bf}var Ef,M_;function mP(){if(M_)return Ef;M_=1;var e=pP(),t=Ru(),n=Au();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Ef=r,Ef}var Cf,P_;function TV(){if(P_)return Cf;P_=1;var e=gs(),t=Tn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Cf=r,Cf}var kf,A_;function NV(){if(A_)return kf;A_=1;var e=TV(),t=Pu(),n=Lv(),r=n&&n.isMap,i=r?t(r):e;return kf=i,kf}var Tf,R_;function MV(){if(R_)return Tf;R_=1;var e=gs(),t=Tn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Tf=r,Tf}var Nf,I_;function PV(){if(I_)return Nf;I_=1;var e=MV(),t=Pu(),n=Lv(),r=n&&n.isSet,i=r?t(r):e;return Nf=i,Nf}var Mf,j_;function gP(){if(j_)return Mf;j_=1;var e=ku(),t=jv(),n=Nu(),r=fV(),i=mV(),s=iP(),o=sP(),a=gV(),l=yV(),u=cP(),c=vV(),d=gs(),f=SV(),h=kV(),g=mP(),p=Be(),v=ms(),m=NV(),y=Yt(),x=PV(),_=Dr(),S=hi(),C=1,k=2,T=4,M="[object Arguments]",R="[object Array]",I="[object Boolean]",B="[object Date]",V="[object Error]",E="[object Function]",D="[object GeneratorFunction]",A="[object Map]",L="[object Number]",P="[object Object]",N="[object RegExp]",j="[object Set]",F="[object String]",$="[object Symbol]",O="[object WeakMap]",z="[object ArrayBuffer]",G="[object DataView]",Z="[object Float32Array]",ne="[object Float64Array]",ce="[object Int8Array]",oe="[object Int16Array]",le="[object Int32Array]",Le="[object Uint8Array]",de="[object Uint8ClampedArray]",te="[object Uint16Array]",ke="[object Uint32Array]",J={};J[M]=J[R]=J[z]=J[G]=J[I]=J[B]=J[Z]=J[ne]=J[ce]=J[oe]=J[le]=J[A]=J[L]=J[P]=J[N]=J[j]=J[F]=J[$]=J[Le]=J[de]=J[te]=J[ke]=!0,J[V]=J[E]=J[O]=!1;function Ae(Y,K,_e,yt,vt,Ge){var Se,it=K&C,wt=K&k,Zt=K&T;if(_e&&(Se=vt?_e(Y,yt,vt,Ge):_e(Y)),Se!==void 0)return Se;if(!y(Y))return Y;var Nt=p(Y);if(Nt){if(Se=f(Y),!it)return o(Y,Se)}else{var Oe=d(Y),We=Oe==E||Oe==D;if(v(Y))return s(Y,it);if(Oe==P||Oe==M||We&&!vt){if(Se=wt||We?{}:g(Y),!it)return wt?l(Y,i(Se,Y)):a(Y,r(Se,Y))}else{if(!J[Oe])return vt?Y:{};Se=h(Y,Oe,it)}}Ge||(Ge=new e);var Qt=Ge.get(Y);if(Qt)return Qt;Ge.set(Y,Se),x(Y)?Y.forEach(function($e){Se.add(Ae($e,K,_e,$e,Y,Ge))}):m(Y)&&Y.forEach(function($e,be){Se.set(be,Ae($e,K,_e,be,Y,Ge))});var Re=Zt?wt?c:u:wt?S:_,he=Nt?void 0:Re(Y);return t(he||Y,function($e,be){he&&(be=$e,$e=Y[be]),n(Se,be,Ae($e,K,_e,be,Y,Ge))}),Se}return Mf=Ae,Mf}var Pf,D_;function AV(){if(D_)return Pf;D_=1;var e=gP(),t=4;function n(r){return e(r,t)}return Pf=n,Pf}var Af,L_;function Vv(){if(L_)return Af;L_=1;function e(t){return function(){return t}}return Af=e,Af}var Rf,O_;function RV(){if(O_)return Rf;O_=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++s];if(r(o[u],u,o)===!1)break}return n}}return Rf=e,Rf}var If,q_;function Bv(){if(q_)return If;q_=1;var e=RV(),t=e();return If=t,If}var jf,F_;function zv(){if(F_)return jf;F_=1;var e=Bv(),t=Dr();function n(r,i){return r&&e(r,i,t)}return jf=n,jf}var Df,$_;function IV(){if($_)return Df;$_=1;var e=Jn();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return Df=t,Df}var Lf,V_;function Iu(){if(V_)return Lf;V_=1;var e=zv(),t=IV(),n=t(e);return Lf=n,Lf}var Of,B_;function pi(){if(B_)return Of;B_=1;function e(t){return t}return Of=e,Of}var qf,z_;function yP(){if(z_)return qf;z_=1;var e=pi();function t(n){return typeof n=="function"?n:e}return qf=t,qf}var Ff,U_;function vP(){if(U_)return Ff;U_=1;var e=jv(),t=Iu(),n=yP(),r=Be();function i(s,o){var a=r(s)?e:t;return a(s,n(o))}return Ff=i,Ff}var $f,H_;function wP(){return H_||(H_=1,$f=vP()),$f}var Vf,G_;function jV(){if(G_)return Vf;G_=1;var e=Iu();function t(n,r){var i=[];return e(n,function(s,o,a){r(s,o,a)&&i.push(s)}),i}return Vf=t,Vf}var Bf,W_;function DV(){if(W_)return Bf;W_=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Bf=t,Bf}var zf,K_;function LV(){if(K_)return zf;K_=1;function e(t){return this.__data__.has(t)}return zf=e,zf}var Uf,Y_;function xP(){if(Y_)return Uf;Y_=1;var e=Iv(),t=DV(),n=LV();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Uf=r,Uf}var Hf,X_;function OV(){if(X_)return Hf;X_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Hf=e,Hf}var Gf,Z_;function _P(){if(Z_)return Gf;Z_=1;function e(t,n){return t.has(n)}return Gf=e,Gf}var Wf,Q_;function SP(){if(Q_)return Wf;Q_=1;var e=xP(),t=OV(),n=_P(),r=1,i=2;function s(o,a,l,u,c,d){var f=l&r,h=o.length,g=a.length;if(h!=g&&!(f&&g>h))return!1;var p=d.get(o),v=d.get(a);if(p&&v)return p==a&&v==o;var m=-1,y=!0,x=l&i?new e:void 0;for(d.set(o,a),d.set(a,o);++m<h;){var _=o[m],S=a[m];if(u)var C=f?u(S,_,m,a,o,d):u(_,S,m,o,a,d);if(C!==void 0){if(C)continue;y=!1;break}if(x){if(!t(a,function(k,T){if(!n(x,T)&&(_===k||c(_,k,l,u,d)))return x.push(T)})){y=!1;break}}else if(!(_===S||c(_,S,l,u,d))){y=!1;break}}return d.delete(o),d.delete(a),y}return Wf=s,Wf}var Kf,J_;function qV(){if(J_)return Kf;J_=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return Kf=e,Kf}var Yf,eS;function Uv(){if(eS)return Yf;eS=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Yf=e,Yf}var Xf,tS;function FV(){if(tS)return Xf;tS=1;var e=ps(),t=fP(),n=hs(),r=SP(),i=qV(),s=Uv(),o=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",g="[object Set]",p="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",x=e?e.prototype:void 0,_=x?x.valueOf:void 0;function S(C,k,T,M,R,I,B){switch(T){case y:if(C.byteLength!=k.byteLength||C.byteOffset!=k.byteOffset)return!1;C=C.buffer,k=k.buffer;case m:return!(C.byteLength!=k.byteLength||!I(new t(C),new t(k)));case l:case u:case f:return n(+C,+k);case c:return C.name==k.name&&C.message==k.message;case h:case p:return C==k+"";case d:var V=i;case g:var E=M&o;if(V||(V=s),C.size!=k.size&&!E)return!1;var D=B.get(C);if(D)return D==k;M|=a,B.set(C,k);var A=r(V(C),V(k),M,R,I,B);return B.delete(C),A;case v:if(_)return _.call(C)==_.call(k)}return!1}return Xf=S,Xf}var Zf,nS;function $V(){if(nS)return Zf;nS=1;var e=cP(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,u,c){var d=a&t,f=e(s),h=f.length,g=e(o),p=g.length;if(h!=p&&!d)return!1;for(var v=h;v--;){var m=f[v];if(!(d?m in o:r.call(o,m)))return!1}var y=c.get(s),x=c.get(o);if(y&&x)return y==o&&x==s;var _=!0;c.set(s,o),c.set(o,s);for(var S=d;++v<h;){m=f[v];var C=s[m],k=o[m];if(l)var T=d?l(k,C,m,o,s,c):l(C,k,m,s,o,c);if(!(T===void 0?C===k||u(C,k,a,l,c):T)){_=!1;break}S||(S=m=="constructor")}if(_&&!S){var M=s.constructor,R=o.constructor;M!=R&&"constructor"in s&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof R=="function"&&R instanceof R)&&(_=!1)}return c.delete(s),c.delete(o),_}return Zf=i,Zf}var Qf,rS;function VV(){if(rS)return Qf;rS=1;var e=ku(),t=SP(),n=FV(),r=$V(),i=gs(),s=Be(),o=ms(),a=ea(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function g(p,v,m,y,x,_){var S=s(p),C=s(v),k=S?c:i(p),T=C?c:i(v);k=k==u?d:k,T=T==u?d:T;var M=k==d,R=T==d,I=k==T;if(I&&o(p)){if(!o(v))return!1;S=!0,M=!1}if(I&&!M)return _||(_=new e),S||a(p)?t(p,v,m,y,x,_):n(p,v,k,m,y,x,_);if(!(m&l)){var B=M&&h.call(p,"__wrapped__"),V=R&&h.call(v,"__wrapped__");if(B||V){var E=B?p.value():p,D=V?v.value():v;return _||(_=new e),x(E,D,m,y,_)}}return I?(_||(_=new e),r(p,v,m,y,x,_)):!1}return Qf=g,Qf}var Jf,iS;function bP(){if(iS)return Jf;iS=1;var e=VV(),t=Tn();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return Jf=n,Jf}var eh,sS;function BV(){if(sS)return eh;sS=1;var e=ku(),t=bP(),n=1,r=2;function i(s,o,a,l){var u=a.length,c=u,d=!l;if(s==null)return!c;for(s=Object(s);u--;){var f=a[u];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++u<c;){f=a[u];var h=f[0],g=s[h],p=f[1];if(d&&f[2]){if(g===void 0&&!(h in s))return!1}else{var v=new e;if(l)var m=l(g,p,h,s,o,v);if(!(m===void 0?t(p,g,n|r,l,v):m))return!1}}return!0}return eh=i,eh}var th,oS;function EP(){if(oS)return th;oS=1;var e=Yt();function t(n){return n===n&&!e(n)}return th=t,th}var nh,aS;function zV(){if(aS)return nh;aS=1;var e=EP(),t=Dr();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return nh=n,nh}var rh,lS;function CP(){if(lS)return rh;lS=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return rh=e,rh}var ih,uS;function UV(){if(uS)return ih;uS=1;var e=BV(),t=zV(),n=CP();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return ih=r,ih}var sh,cS;function ys(){if(cS)return sh;cS=1;var e=di(),t=Tn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return sh=r,sh}var oh,dS;function Hv(){if(dS)return oh;dS=1;var e=Be(),t=ys(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return oh=i,oh}var ah,fS;function HV(){if(fS)return ah;fS=1;var e=Iv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,ah=n,ah}var lh,hS;function GV(){if(hS)return lh;hS=1;var e=HV(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return lh=n,lh}var uh,pS;function WV(){if(pS)return uh;pS=1;var e=GV(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,u){s.push(l?u.replace(n,"$1"):a||o)}),s});return uh=r,uh}var ch,mS;function ju(){if(mS)return ch;mS=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return ch=e,ch}var dh,gS;function KV(){if(gS)return dh;gS=1;var e=ps(),t=ju(),n=Be(),r=ys(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return dh=o,dh}var fh,yS;function kP(){if(yS)return fh;yS=1;var e=KV();function t(n){return n==null?"":e(n)}return fh=t,fh}var hh,vS;function Du(){if(vS)return hh;vS=1;var e=Be(),t=Hv(),n=WV(),r=kP();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return hh=i,hh}var ph,wS;function ta(){if(wS)return ph;wS=1;var e=ys();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return ph=t,ph}var mh,xS;function Lu(){if(xS)return mh;xS=1;var e=Du(),t=ta();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return mh=n,mh}var gh,_S;function YV(){if(_S)return gh;_S=1;var e=Lu();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return gh=t,gh}var yh,SS;function XV(){if(SS)return yh;SS=1;function e(t,n){return t!=null&&n in Object(t)}return yh=e,yh}var vh,bS;function TP(){if(bS)return vh;bS=1;var e=Du(),t=Jo(),n=Be(),r=Mu(),i=Dv(),s=ta();function o(a,l,u){l=e(l,a);for(var c=-1,d=l.length,f=!1;++c<d;){var h=s(l[c]);if(!(f=a!=null&&u(a,h)))break;a=a[h]}return f||++c!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(h,d)&&(n(a)||t(a)))}return vh=o,vh}var wh,ES;function NP(){if(ES)return wh;ES=1;var e=XV(),t=TP();function n(r,i){return r!=null&&t(r,i,e)}return wh=n,wh}var xh,CS;function ZV(){if(CS)return xh;CS=1;var e=bP(),t=YV(),n=NP(),r=Hv(),i=EP(),s=CP(),o=ta(),a=1,l=2;function u(c,d){return r(c)&&i(d)?s(o(c),d):function(f){var h=t(f,c);return h===void 0&&h===d?n(f,c):e(d,h,a|l)}}return xh=u,xh}var _h,kS;function MP(){if(kS)return _h;kS=1;function e(t){return function(n){return n==null?void 0:n[t]}}return _h=e,_h}var Sh,TS;function QV(){if(TS)return Sh;TS=1;var e=Lu();function t(n){return function(r){return e(r,n)}}return Sh=t,Sh}var bh,NS;function JV(){if(NS)return bh;NS=1;var e=MP(),t=QV(),n=Hv(),r=ta();function i(s){return n(s)?e(r(s)):t(s)}return bh=i,bh}var Eh,MS;function er(){if(MS)return Eh;MS=1;var e=UV(),t=ZV(),n=pi(),r=Be(),i=JV();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return Eh=s,Eh}var Ch,PS;function PP(){if(PS)return Ch;PS=1;var e=oP(),t=jV(),n=er(),r=Be();function i(s,o){var a=r(s)?e:t;return a(s,n(o,3))}return Ch=i,Ch}var kh,AS;function eB(){if(AS)return kh;AS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return kh=n,kh}var Th,RS;function AP(){if(RS)return Th;RS=1;var e=eB(),t=TP();function n(r,i){return r!=null&&t(r,i,e)}return Th=n,Th}var Nh,IS;function tB(){if(IS)return Nh;IS=1;var e=Ov(),t=gs(),n=Jo(),r=Be(),i=Jn(),s=ms(),o=Au(),a=ea(),l="[object Map]",u="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||s(h)||a(h)||n(h)))return!h.length;var g=t(h);if(g==l||g==u)return!h.size;if(o(h))return!e(h).length;for(var p in h)if(d.call(h,p))return!1;return!0}return Nh=f,Nh}var Mh,jS;function RP(){if(jS)return Mh;jS=1;function e(t){return t===void 0}return Mh=e,Mh}var Ph,DS;function IP(){if(DS)return Ph;DS=1;var e=Iu(),t=Jn();function n(r,i){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return Ph=n,Ph}var Ah,LS;function jP(){if(LS)return Ah;LS=1;var e=ju(),t=er(),n=IP(),r=Be();function i(s,o){var a=r(s)?e:n;return a(s,t(o,3))}return Ah=i,Ah}var Rh,OS;function nB(){if(OS)return Rh;OS=1;function e(t,n,r,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(r=t[++s]);++s<o;)r=n(r,t[s],s,t);return r}return Rh=e,Rh}var Ih,qS;function rB(){if(qS)return Ih;qS=1;function e(t,n,r,i,s){return s(t,function(o,a,l){r=i?(i=!1,o):n(r,o,a,l)}),r}return Ih=e,Ih}var jh,FS;function DP(){if(FS)return jh;FS=1;var e=nB(),t=Iu(),n=er(),r=rB(),i=Be();function s(o,a,l){var u=i(o)?e:r,c=arguments.length<3;return u(o,n(a,4),l,c,t)}return jh=s,jh}var Dh,$S;function iB(){if($S)return Dh;$S=1;var e=di(),t=Be(),n=Tn(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return Dh=i,Dh}var Lh,VS;function sB(){if(VS)return Lh;VS=1;var e=MP(),t=e("length");return Lh=t,Lh}var Oh,BS;function oB(){if(BS)return Oh;BS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+e+i+s+"]");function l(u){return a.test(u)}return Oh=l,Oh}var qh,zS;function aB(){if(zS)return qh;zS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=u+"?",p="["+s+"]?",v="(?:"+h+"(?:"+[c,d,f].join("|")+")"+p+g+")*",m=p+g+v,y="(?:"+[c+a+"?",a,d,f,o].join("|")+")",x=RegExp(l+"(?="+l+")|"+y+m,"g");function _(S){for(var C=x.lastIndex=0;x.test(S);)++C;return C}return qh=_,qh}var Fh,US;function lB(){if(US)return Fh;US=1;var e=sB(),t=oB(),n=aB();function r(i){return t(i)?n(i):e(i)}return Fh=r,Fh}var $h,HS;function uB(){if(HS)return $h;HS=1;var e=Ov(),t=gs(),n=Jn(),r=iB(),i=lB(),s="[object Map]",o="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==s||u==o?l.size:e(l).length}return $h=a,$h}var Vh,GS;function cB(){if(GS)return Vh;GS=1;var e=jv(),t=pP(),n=zv(),r=er(),i=Ru(),s=Be(),o=ms(),a=Zo(),l=Yt(),u=ea();function c(d,f,h){var g=s(d),p=g||o(d)||u(d);if(f=r(f,4),h==null){var v=d&&d.constructor;p?h=g?new v:[]:l(d)?h=a(v)?t(i(d)):{}:h={}}return(p?e:n)(d,function(m,y,x){return f(h,m,y,x)}),h}return Vh=c,Vh}var Bh,WS;function dB(){if(WS)return Bh;WS=1;var e=ps(),t=Jo(),n=Be(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return Bh=i,Bh}var zh,KS;function Gv(){if(KS)return zh;KS=1;var e=Fv(),t=dB();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=t),a||(a=[]);++l<u;){var c=r[l];i>0&&s(c)?i>1?n(c,i-1,s,o,a):e(a,c):o||(a[a.length]=c)}return a}return zh=n,zh}var Uh,YS;function fB(){if(YS)return Uh;YS=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Uh=e,Uh}var Hh,XS;function LP(){if(XS)return Hh;XS=1;var e=fB(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=t(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=o[a];return c[i]=s(u),e(r,this,c)}}return Hh=n,Hh}var Gh,ZS;function hB(){if(ZS)return Gh;ZS=1;var e=Vv(),t=tP(),n=pi(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Gh=r,Gh}var Wh,QS;function pB(){if(QS)return Wh;QS=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=t-(a-o);if(o=a,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Wh=r,Wh}var Kh,JS;function OP(){if(JS)return Kh;JS=1;var e=hB(),t=pB(),n=t(e);return Kh=n,Kh}var Yh,eb;function Ou(){if(eb)return Yh;eb=1;var e=pi(),t=LP(),n=OP();function r(i,s){return n(t(i,s,e),i+"")}return Yh=r,Yh}var Xh,tb;function qP(){if(tb)return Xh;tb=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return Xh=e,Xh}var Zh,nb;function mB(){if(nb)return Zh;nb=1;function e(t){return t!==t}return Zh=e,Zh}var Qh,rb;function gB(){if(rb)return Qh;rb=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return Qh=e,Qh}var Jh,ib;function yB(){if(ib)return Jh;ib=1;var e=qP(),t=mB(),n=gB();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return Jh=r,Jh}var ep,sb;function vB(){if(sb)return ep;sb=1;var e=yB();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return ep=t,ep}var tp,ob;function wB(){if(ob)return tp;ob=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return tp=e,tp}var np,ab;function xB(){if(ab)return np;ab=1;function e(){}return np=e,np}var rp,lb;function _B(){if(lb)return rp;lb=1;var e=dP(),t=xB(),n=Uv(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return rp=i,rp}var ip,ub;function SB(){if(ub)return ip;ub=1;var e=xP(),t=vB(),n=wB(),r=_P(),i=_B(),s=Uv(),o=200;function a(l,u,c){var d=-1,f=t,h=l.length,g=!0,p=[],v=p;if(c)g=!1,f=n;else if(h>=o){var m=u?null:i(l);if(m)return s(m);g=!1,f=r,v=new e}else v=u?[]:p;e:for(;++d<h;){var y=l[d],x=u?u(y):y;if(y=c||y!==0?y:0,g&&x===x){for(var _=v.length;_--;)if(v[_]===x)continue e;u&&v.push(x),p.push(y)}else f(v,x,c)||(v!==p&&v.push(x),p.push(y))}return p}return ip=a,ip}var sp,cb;function FP(){if(cb)return sp;cb=1;var e=Jn(),t=Tn();function n(r){return t(r)&&e(r)}return sp=n,sp}var op,db;function bB(){if(db)return op;db=1;var e=Gv(),t=Ou(),n=SB(),r=FP(),i=t(function(s){return n(e(s,1,r,!0))});return op=i,op}var ap,fb;function EB(){if(fb)return ap;fb=1;var e=ju();function t(n,r){return e(r,function(i){return n[i]})}return ap=t,ap}var lp,hb;function $P(){if(hb)return lp;hb=1;var e=EB(),t=Dr();function n(r){return r==null?[]:e(r,t(r))}return lp=n,lp}var up,pb;function Xt(){if(pb)return up;pb=1;var e;if(typeof Av=="function")try{e={clone:AV(),constant:Vv(),each:wP(),filter:PP(),has:AP(),isArray:Be(),isEmpty:tB(),isFunction:Zo(),isUndefined:RP(),keys:Dr(),map:jP(),reduce:DP(),size:uB(),transform:cB(),union:bB(),values:$P()}}catch{}return e||(e=window._),up=e,up}var cp,mb;function Wv(){if(mb)return cp;mb=1;var e=Xt();cp=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,h=this;return e.each(c,function(g){f.length>1?h.setNode(g,d):h.setNode(g)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){d.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(p,v){c(v)&&d.setNode(v,p)}),e.each(this._edgeObjs,function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,f.edge(p))});var h={};function g(p){var v=f.parent(p);return v===void 0||d.hasNode(v)?(h[p]=v,v):v in h?h[v]:g(v)}return this._isCompound&&e.each(d.nodes(),function(p){d.setParent(p,g(p))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,h=arguments;return e.reduce(c,function(g,p){return h.length>1?f.setEdge(g,p,d):f.setEdge(g,p),p}),this},i.prototype.setEdge=function(){var c,d,f,h,g=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(c=p.v,d=p.w,f=p.name,arguments.length===2&&(h=arguments[1],g=!0)):(c=p,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var v=a(this._isDirected,c,d,f);if(e.has(this._edgeLabels,v))return g&&(this._edgeLabels[v]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[v]=g?h:this._defaultEdgeLabelFn(c,d,f);var m=l(this._isDirected,c,d,f);return c=m.v,d=m.w,Object.freeze(m),this._edgeObjs[v]=m,s(this._preds[d],c),s(this._sucs[c],d),this._in[d][v]=m,this._out[c][v]=m,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,d,f){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,d,f),g=this._edgeObjs[h];return g&&(c=g.v,d=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var h=e.values(f);return d?e.filter(h,function(g){return g.v===d}):h}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var h=e.values(f);return d?e.filter(h,function(g){return g.w===d}):h}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function s(c,d){c[d]?c[d]++:c[d]=1}function o(c,d){--c[d]||delete c[d]}function a(c,d,f,h){var g=""+d,p=""+f;if(!c&&g>p){var v=g;g=p,p=v}return g+r+p+r+(e.isUndefined(h)?t:h)}function l(c,d,f,h){var g=""+d,p=""+f;if(!c&&g>p){var v=g;g=p,p=v}var m={v:g,w:p};return h&&(m.name=h),m}function u(c,d){return a(c,d.v,d.w,d.name)}return cp}var dp,gb;function CB(){return gb||(gb=1,dp="2.1.8"),dp}var fp,yb;function kB(){return yb||(yb=1,fp={Graph:Wv(),version:CB()}),fp}var hp,vb;function TB(){if(vb)return hp;vb=1;var e=Xt(),t=Wv();hp={write:n,read:s};function n(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:i(o)};return e.isUndefined(o.graph())||(a.value=e.clone(o.graph())),a}function r(o){return e.map(o.nodes(),function(a){var l=o.node(a),u=o.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(o){return e.map(o.edges(),function(a){var l=o.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function s(o){var a=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(o.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return hp}var pp,wb;function NB(){if(wb)return pp;wb=1;var e=Xt();pp=t;function t(n){var r={},i=[],s;function o(a){e.has(r,a)||(r[a]=!0,s.push(a),e.each(n.successors(a),o),e.each(n.predecessors(a),o))}return e.each(n.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return pp}var mp,xb;function VP(){if(xb)return mp;xb=1;var e=Xt();mp=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r},mp}var gp,_b;function BP(){if(_b)return gp;_b=1;var e=Xt(),t=VP();gp=r;var n=e.constant(1);function r(s,o,a,l){return i(s,String(o),a||n,l||function(u){return s.outEdges(u)})}function i(s,o,a,l){var u={},c=new t,d,f,h=function(g){var p=g.v!==d?g.v:g.w,v=u[p],m=a(g),y=f.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+m);y<v.distance&&(v.distance=y,v.predecessor=d,c.decrease(p,y))};for(s.nodes().forEach(function(g){var p=g===o?0:Number.POSITIVE_INFINITY;u[g]={distance:p},c.add(g,p)});c.size()>0&&(d=c.removeMin(),f=u[d],f.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(h);return u}return gp}var yp,Sb;function MB(){if(Sb)return yp;Sb=1;var e=BP(),t=Xt();yp=n;function n(r,i,s){return t.transform(r.nodes(),function(o,a){o[a]=e(r,a,i,s)},{})}return yp}var vp,bb;function zP(){if(bb)return vp;bb=1;var e=Xt();vp=t;function t(n){var r=0,i=[],s={},o=[];function a(l){var u=s[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(f){e.has(s,f)?s[f].onStack&&(u.lowlink=Math.min(u.lowlink,s[f].index)):(a(f),u.lowlink=Math.min(u.lowlink,s[f].lowlink))}),u.lowlink===u.index){var c=[],d;do d=i.pop(),s[d].onStack=!1,c.push(d);while(l!==d);o.push(c)}}return n.nodes().forEach(function(l){e.has(s,l)||a(l)}),o}return vp}var wp,Eb;function PB(){if(Eb)return wp;Eb=1;var e=Xt(),t=zP();wp=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return wp}var xp,Cb;function AB(){if(Cb)return xp;Cb=1;var e=Xt();xp=n;var t=e.constant(1);function n(i,s,o){return r(i,s||t,o||function(a){return i.outEdges(a)})}function r(i,s,o){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(c){var d=c.v===u?c.w:c.v,f=s(c);a[u][d]={distance:f,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(d){var f=a[d];l.forEach(function(h){var g=f[u],p=c[h],v=f[h],m=g.distance+p.distance;m<v.distance&&(v.distance=m,v.predecessor=p.predecessor)})})}),a}return xp}var _p,kb;function UP(){if(kb)return _p;kb=1;var e=Xt();_p=t,t.CycleException=n;function t(r){var i={},s={},o=[];function a(l){if(e.has(s,l))throw new n;e.has(i,l)||(s[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete s[l],o.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,_p}var Sp,Tb;function RB(){if(Tb)return Sp;Tb=1;var e=UP();Sp=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Sp}var bp,Nb;function HP(){if(Nb)return bp;Nb=1;var e=Xt();bp=t;function t(r,i,s){e.isArray(i)||(i=[i]);var o=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,s==="post",l,o,a)}),a}function n(r,i,s,o,a,l){e.has(o,i)||(o[i]=!0,s||l.push(i),e.each(a(i),function(u){n(r,u,s,o,a,l)}),s&&l.push(i))}return bp}var Ep,Mb;function IB(){if(Mb)return Ep;Mb=1;var e=HP();Ep=t;function t(n,r){return e(n,r,"post")}return Ep}var Cp,Pb;function jB(){if(Pb)return Cp;Pb=1;var e=HP();Cp=t;function t(n,r){return e(n,r,"pre")}return Cp}var kp,Ab;function DB(){if(Ab)return kp;Ab=1;var e=Xt(),t=Wv(),n=VP();kp=r;function r(i,s){var o=new t,a={},l=new n,u;function c(f){var h=f.v===u?f.w:f.v,g=l.priority(h);if(g!==void 0){var p=s(f);p<g&&(a[h]=u,l.decrease(h,p))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(f){l.add(f,Number.POSITIVE_INFINITY),o.setNode(f)}),l.decrease(i.nodes()[0],0);for(var d=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))o.setEdge(u,a[u]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(u).forEach(c)}return o}return kp}var Tp,Rb;function LB(){return Rb||(Rb=1,Tp={components:NB(),dijkstra:BP(),dijkstraAll:MB(),findCycles:PB(),floydWarshall:AB(),isAcyclic:RB(),postorder:IB(),preorder:jB(),prim:DB(),tarjan:zP(),topsort:UP()}),Tp}var Np,Ib;function OB(){if(Ib)return Np;Ib=1;var e=kB();return Np={Graph:e.Graph,json:TB(),alg:LB(),version:e.version},Np}var $l;if(typeof Av=="function")try{$l=OB()}catch{}$l||($l=window.graphlib);var hn=$l,Mp,jb;function qB(){if(jb)return Mp;jb=1;var e=gP(),t=1,n=4;function r(i){return e(i,t|n)}return Mp=r,Mp}var Pp,Db;function qu(){if(Db)return Pp;Db=1;var e=hs(),t=Jn(),n=Mu(),r=Yt();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?t(a)&&n(o,a.length):l=="string"&&o in a)?e(a[o],s):!1}return Pp=i,Pp}var Ap,Lb;function FB(){if(Lb)return Ap;Lb=1;var e=Ou(),t=hs(),n=qu(),r=hi(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,l){a=Object(a);var u=-1,c=l.length,d=c>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(c=1);++u<c;)for(var f=l[u],h=r(f),g=-1,p=h.length;++g<p;){var v=h[g],m=a[v];(m===void 0||t(m,i[v])&&!s.call(a,v))&&(a[v]=f[v])}return a});return Ap=o,Ap}var Rp,Ob;function $B(){if(Ob)return Rp;Ob=1;var e=er(),t=Jn(),n=Dr();function r(i){return function(s,o,a){var l=Object(s);if(!t(s)){var u=e(o,3);s=n(s),o=function(d){return u(l[d],d,l)}}var c=i(s,o,a);return c>-1?l[u?s[c]:c]:void 0}}return Rp=r,Rp}var Ip,qb;function VB(){if(qb)return Ip;qb=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Ip=t,Ip}var jp,Fb;function BB(){if(Fb)return jp;Fb=1;var e=VB(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return jp=n,jp}var Dp,$b;function zB(){if($b)return Dp;$b=1;var e=BB(),t=Yt(),n=ys(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=s.test(u);return d||o.test(u)?a(u.slice(2),d?2:8):i.test(u)?r:+u}return Dp=l,Dp}var Lp,Vb;function GP(){if(Vb)return Lp;Vb=1;var e=zB(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return Lp=r,Lp}var Op,Bb;function UB(){if(Bb)return Op;Bb=1;var e=GP();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Op=t,Op}var qp,zb;function HB(){if(zb)return qp;zb=1;var e=qP(),t=er(),n=UB(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(s,t(o,3),u)}return qp=i,qp}var Fp,Ub;function GB(){if(Ub)return Fp;Ub=1;var e=$B(),t=HB(),n=e(t);return Fp=n,Fp}var $p,Hb;function WP(){if(Hb)return $p;Hb=1;var e=Gv();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return $p=t,$p}var Vp,Gb;function WB(){if(Gb)return Vp;Gb=1;var e=Bv(),t=yP(),n=hi();function r(i,s){return i==null?i:e(i,t(s),n)}return Vp=r,Vp}var Bp,Wb;function KB(){if(Wb)return Bp;Wb=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Bp=e,Bp}var zp,Kb;function YB(){if(Kb)return zp;Kb=1;var e=Tu(),t=zv(),n=er();function r(i,s){var o={};return s=n(s,3),t(i,function(a,l,u){e(o,l,s(a,l,u))}),o}return zp=r,zp}var Up,Yb;function Kv(){if(Yb)return Up;Yb=1;var e=ys();function t(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return Up=t,Up}var Hp,Xb;function XB(){if(Xb)return Hp;Xb=1;function e(t,n){return t>n}return Hp=e,Hp}var Gp,Zb;function ZB(){if(Zb)return Gp;Zb=1;var e=Kv(),t=XB(),n=pi();function r(i){return i&&i.length?e(i,n,t):void 0}return Gp=r,Gp}var Wp,Qb;function KP(){if(Qb)return Wp;Qb=1;var e=Tu(),t=hs();function n(r,i,s){(s!==void 0&&!t(r[i],s)||s===void 0&&!(i in r))&&e(r,i,s)}return Wp=n,Wp}var Kp,Jb;function QB(){if(Jb)return Kp;Jb=1;var e=di(),t=Ru(),n=Tn(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==l}return Kp=u,Kp}var Yp,eE;function YP(){if(eE)return Yp;eE=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Yp=e,Yp}var Xp,tE;function JB(){if(tE)return Xp;tE=1;var e=Qo(),t=hi();function n(r){return e(r,t(r))}return Xp=n,Xp}var Zp,nE;function e4(){if(nE)return Zp;nE=1;var e=KP(),t=iP(),n=hP(),r=sP(),i=mP(),s=Jo(),o=Be(),a=FP(),l=ms(),u=Zo(),c=Yt(),d=QB(),f=ea(),h=YP(),g=JB();function p(v,m,y,x,_,S,C){var k=h(v,y),T=h(m,y),M=C.get(T);if(M){e(v,y,M);return}var R=S?S(k,T,y+"",v,m,C):void 0,I=R===void 0;if(I){var B=o(T),V=!B&&l(T),E=!B&&!V&&f(T);R=T,B||V||E?o(k)?R=k:a(k)?R=r(k):V?(I=!1,R=t(T,!0)):E?(I=!1,R=n(T,!0)):R=[]:d(T)||s(T)?(R=k,s(k)?R=g(k):(!c(k)||u(k))&&(R=i(T))):I=!1}I&&(C.set(T,R),_(R,T,x,S,C),C.delete(T)),e(v,y,R)}return Zp=p,Zp}var Qp,rE;function t4(){if(rE)return Qp;rE=1;var e=ku(),t=KP(),n=Bv(),r=e4(),i=Yt(),s=hi(),o=YP();function a(l,u,c,d,f){l!==u&&n(u,function(h,g){if(f||(f=new e),i(h))r(l,u,g,c,a,d,f);else{var p=d?d(o(l,g),h,g+"",l,u,f):void 0;p===void 0&&(p=h),t(l,g,p)}},s)}return Qp=a,Qp}var Jp,iE;function n4(){if(iE)return Jp;iE=1;var e=Ou(),t=qu();function n(r){return e(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var c=s[o];c&&r(i,c,o,l)}return i})}return Jp=n,Jp}var em,sE;function r4(){if(sE)return em;sE=1;var e=t4(),t=n4(),n=t(function(r,i,s){e(r,i,s)});return em=n,em}var tm,oE;function XP(){if(oE)return tm;oE=1;function e(t,n){return t<n}return tm=e,tm}var nm,aE;function i4(){if(aE)return nm;aE=1;var e=Kv(),t=XP(),n=pi();function r(i){return i&&i.length?e(i,n,t):void 0}return nm=r,nm}var rm,lE;function s4(){if(lE)return rm;lE=1;var e=Kv(),t=er(),n=XP();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return rm=r,rm}var im,uE;function o4(){if(uE)return im;uE=1;var e=fn(),t=function(){return e.Date.now()};return im=t,im}var sm,cE;function a4(){if(cE)return sm;cE=1;var e=Nu(),t=Du(),n=Mu(),r=Yt(),i=ta();function s(o,a,l,u){if(!r(o))return o;a=t(a,o);for(var c=-1,d=a.length,f=d-1,h=o;h!=null&&++c<d;){var g=i(a[c]),p=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return o;if(c!=f){var v=h[g];p=u?u(v,g,h):void 0,p===void 0&&(p=r(v)?v:n(a[c+1])?[]:{})}e(h,g,p),h=h[g]}return o}return sm=s,sm}var om,dE;function l4(){if(dE)return om;dE=1;var e=Lu(),t=a4(),n=Du();function r(i,s,o){for(var a=-1,l=s.length,u={};++a<l;){var c=s[a],d=e(i,c);o(d,c)&&t(u,n(c,i),d)}return u}return om=r,om}var am,fE;function u4(){if(fE)return am;fE=1;var e=l4(),t=NP();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return am=n,am}var lm,hE;function c4(){if(hE)return lm;hE=1;var e=WP(),t=LP(),n=OP();function r(i){return n(t(i,void 0,e),i+"")}return lm=r,lm}var um,pE;function d4(){if(pE)return um;pE=1;var e=u4(),t=c4(),n=t(function(r,i){return r==null?{}:e(r,i)});return um=n,um}var cm,mE;function f4(){if(mE)return cm;mE=1;var e=Math.ceil,t=Math.max;function n(r,i,s,o){for(var a=-1,l=t(e((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return cm=n,cm}var dm,gE;function h4(){if(gE)return dm;gE=1;var e=f4(),t=qu(),n=GP();function r(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),e(s,o,a,i)}}return dm=r,dm}var fm,yE;function p4(){if(yE)return fm;yE=1;var e=h4(),t=e();return fm=t,fm}var hm,vE;function m4(){if(vE)return hm;vE=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return hm=e,hm}var pm,wE;function g4(){if(wE)return pm;wE=1;var e=ys();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,d=e(r);if(!u&&!d&&!a&&n>r||a&&l&&c&&!u&&!d||s&&l&&c||!i&&c||!o)return 1;if(!s&&!a&&!d&&n<r||d&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!c)return-1}return 0}return pm=t,pm}var mm,xE;function y4(){if(xE)return mm;xE=1;var e=g4();function t(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var c=e(o[s],a[s]);if(c){if(s>=u)return c;var d=i[s];return c*(d=="desc"?-1:1)}}return n.index-r.index}return mm=t,mm}var gm,_E;function v4(){if(_E)return gm;_E=1;var e=ju(),t=Lu(),n=er(),r=IP(),i=m4(),s=Pu(),o=y4(),a=pi(),l=Be();function u(c,d,f){d.length?d=e(d,function(p){return l(p)?function(v){return t(v,p.length===1?p[0]:p)}:p}):d=[a];var h=-1;d=e(d,s(n));var g=r(c,function(p,v,m){var y=e(d,function(x){return x(p)});return{criteria:y,index:++h,value:p}});return i(g,function(p,v){return o(p,v,f)})}return gm=u,gm}var ym,SE;function w4(){if(SE)return ym;SE=1;var e=Gv(),t=v4(),n=Ou(),r=qu(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return ym=i,ym}var vm,bE;function x4(){if(bE)return vm;bE=1;var e=kP(),t=0;function n(r){var i=++t;return e(r)+i}return vm=n,vm}var wm,EE;function _4(){if(EE)return wm;EE=1;function e(t,n,r){for(var i=-1,s=t.length,o=n.length,a={};++i<s;){var l=i<o?n[i]:void 0;r(a,t[i],l)}return a}return wm=e,wm}var xm,CE;function S4(){if(CE)return xm;CE=1;var e=Nu(),t=_4();function n(r,i){return t(r||[],i||[],e)}return xm=n,xm}var Vl;if(typeof Av=="function")try{Vl={cloneDeep:qB(),constant:Vv(),defaults:FB(),each:wP(),filter:PP(),find:GB(),flatten:WP(),forEach:vP(),forIn:WB(),has:AP(),isUndefined:RP(),last:KB(),map:jP(),mapValues:YB(),max:ZB(),merge:r4(),min:i4(),minBy:s4(),now:o4(),pick:d4(),range:p4(),reduce:DP(),sortBy:w4(),uniqueId:x4(),values:$P(),zipObject:S4()}}catch{}Vl||(Vl=window._);var Ce=Vl,b4=Fu;function Fu(){var e={};e._next=e._prev=e,this._sentinel=e}Fu.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return ZP(t),t};Fu.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&ZP(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Fu.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,E4)),n=n._prev;return"["+e.join(", ")+"]"};function ZP(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function E4(e,t){if(e!=="_next"&&e!=="_prev")return t}var qn=Ce,C4=hn.Graph,k4=b4,T4=M4,N4=qn.constant(1);function M4(e,t){if(e.nodeCount()<=1)return[];var n=A4(e,t||N4),r=P4(n.graph,n.buckets,n.zeroIdx);return qn.flatten(qn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function P4(e,t,n){for(var r=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)_m(e,t,n,o);for(;o=i.dequeue();)_m(e,t,n,o);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(o=t[a].dequeue(),o){r=r.concat(_m(e,t,n,o,!0));break}}}return r}function _m(e,t,n,r,i){var s=i?[]:void 0;return qn.forEach(e.inEdges(r.v),function(o){var a=e.edge(o),l=e.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=a,Qg(t,n,l)}),qn.forEach(e.outEdges(r.v),function(o){var a=e.edge(o),l=o.w,u=e.node(l);u.in-=a,Qg(t,n,u)}),e.removeNode(r.v),s}function A4(e,t){var n=new C4,r=0,i=0;qn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),qn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var s=qn.range(i+r+3).map(function(){return new k4}),o=r+1;return qn.forEach(n.nodes(),function(a){Qg(s,o,n.node(a))}),{graph:n,buckets:s,zeroIdx:o}}function Qg(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Yr=Ce,R4=T4,I4={run:j4,undo:L4};function j4(e){var t=e.graph().acyclicer==="greedy"?R4(e,n(e)):D4(e);Yr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Yr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function D4(e){var t=[],n={},r={};function i(s){Yr.has(r,s)||(r[s]=!0,n[s]=!0,Yr.forEach(e.outEdges(s),function(o){Yr.has(n,o.w)?t.push(o):i(o.w)}),delete n[s])}return Yr.forEach(e.nodes(),i),t}function L4(e){Yr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var pe=Ce,QP=hn.Graph,Tt={addDummyNode:JP,simplify:O4,asNonCompoundGraph:q4,successorWeights:F4,predecessorWeights:$4,intersectRect:V4,buildLayerMatrix:B4,normalizeRanks:z4,removeEmptyRanks:U4,addBorderNode:H4,maxRank:eA,partition:G4,time:W4,notime:K4};function JP(e,t,n,r){var i;do i=pe.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function O4(e){var t=new QP().setGraph(e.graph());return pe.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),pe.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function q4(e){var t=new QP({multigraph:e.isMultigraph()}).setGraph(e.graph());return pe.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),pe.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function F4(e){var t=pe.map(e.nodes(),function(n){var r={};return pe.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return pe.zipObject(e.nodes(),t)}function $4(e){var t=pe.map(e.nodes(),function(n){var r={};return pe.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return pe.zipObject(e.nodes(),t)}function V4(e,t){var n=e.x,r=e.y,i=t.x-n,s=t.y-r,o=e.width/2,a=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=a*i/s,u=a):(i<0&&(o=-o),l=o,u=o*s/i),{x:n+l,y:r+u}}function B4(e){var t=pe.map(pe.range(eA(e)+1),function(){return[]});return pe.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;pe.isUndefined(i)||(t[i][r.order]=n)}),t}function z4(e){var t=pe.min(pe.map(e.nodes(),function(n){return e.node(n).rank}));pe.forEach(e.nodes(),function(n){var r=e.node(n);pe.has(r,"rank")&&(r.rank-=t)})}function U4(e){var t=pe.min(pe.map(e.nodes(),function(s){return e.node(s).rank})),n=[];pe.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;n[o]||(n[o]=[]),n[o].push(s)});var r=0,i=e.graph().nodeRankFactor;pe.forEach(n,function(s,o){pe.isUndefined(s)&&o%i!==0?--r:r&&pe.forEach(s,function(a){e.node(a).rank+=r})})}function H4(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),JP(e,"border",i,t)}function eA(e){return pe.max(pe.map(e.nodes(),function(t){var n=e.node(t).rank;if(!pe.isUndefined(n))return n}))}function G4(e,t){var n={lhs:[],rhs:[]};return pe.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function W4(e,t){var n=pe.now();try{return t()}finally{console.log(e+" time: "+(pe.now()-n)+"ms")}}function K4(e,t){return t()}var tA=Ce,Y4=Tt,X4={run:Z4,undo:J4};function Z4(e){e.graph().dummyChains=[],tA.forEach(e.edges(),function(t){Q4(e,t)})}function Q4(e,t){var n=t.v,r=e.node(n).rank,i=t.w,s=e.node(i).rank,o=t.name,a=e.edge(t),l=a.labelRank;if(s!==r+1){e.removeEdge(t);var u,c,d;for(d=0,++r;r<s;++d,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=Y4.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},o),d===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},o)}}function J4(e){tA.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Da=Ce,$u={longestPath:ez,slack:tz};function ez(e){var t={};function n(r){var i=e.node(r);if(Da.has(t,r))return i.rank;t[r]=!0;var s=Da.min(Da.map(e.outEdges(r),function(o){return n(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}Da.forEach(e.sources(),n)}function tz(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Bl=Ce,nz=hn.Graph,zl=$u.slack,nA=rz;function rz(e){var t=new nz({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,s;iz(t,e)<r;)i=sz(t,e),s=t.hasNode(i.v)?zl(e,i):-zl(e,i),oz(t,e,s);return t}function iz(e,t){function n(r){Bl.forEach(t.nodeEdges(r),function(i){var s=i.v,o=r===s?i.w:s;!e.hasNode(o)&&!zl(t,i)&&(e.setNode(o,{}),e.setEdge(r,o,{}),n(o))})}return Bl.forEach(e.nodes(),n),e.nodeCount()}function sz(e,t){return Bl.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return zl(t,n)})}function oz(e,t,n){Bl.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Xn=Ce,az=nA,lz=$u.slack,uz=$u.longestPath,cz=hn.alg.preorder,dz=hn.alg.postorder,fz=Tt.simplify,hz=mi;mi.initLowLimValues=Xv;mi.initCutValues=Yv;mi.calcCutValue=rA;mi.leaveEdge=sA;mi.enterEdge=oA;mi.exchangeEdges=aA;function mi(e){e=fz(e),uz(e);var t=az(e);Xv(t),Yv(t,e);for(var n,r;n=sA(t);)r=oA(t,e,n),aA(t,e,n,r)}function Yv(e,t){var n=dz(e,e.nodes());n=n.slice(0,n.length-1),Xn.forEach(n,function(r){pz(e,t,r)})}function pz(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=rA(e,t,n)}function rA(e,t,n){var r=e.node(n),i=r.parent,s=!0,o=t.edge(n,i),a=0;return o||(s=!1,o=t.edge(i,n)),a=o.weight,Xn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var d=u===s,f=t.edge(l).weight;if(a+=d?f:-f,gz(e,n,c)){var h=e.edge(n,c).cutvalue;a+=d?-h:h}}}),a}function Xv(e,t){arguments.length<2&&(t=e.nodes()[0]),iA(e,{},1,t)}function iA(e,t,n,r,i){var s=n,o=e.node(r);return t[r]=!0,Xn.forEach(e.neighbors(r),function(a){Xn.has(t,a)||(n=iA(e,t,n,a,r))}),o.low=s,o.lim=n++,i?o.parent=i:delete o.parent,n}function sA(e){return Xn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function oA(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),o=e.node(i),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var u=Xn.filter(t.edges(),function(c){return l===kE(e,e.node(c.v),a)&&l!==kE(e,e.node(c.w),a)});return Xn.minBy(u,function(c){return lz(t,c)})}function aA(e,t,n,r){var i=n.v,s=n.w;e.removeEdge(i,s),e.setEdge(r.v,r.w,{}),Xv(e),Yv(e,t),mz(e,t)}function mz(e,t){var n=Xn.find(e.nodes(),function(i){return!t.node(i).parent}),r=cz(e,n);r=r.slice(1),Xn.forEach(r,function(i){var s=e.node(i).parent,o=t.edge(i,s),a=!1;o||(o=t.edge(s,i),a=!0),t.node(i).rank=t.node(s).rank+(a?o.minlen:-o.minlen)})}function gz(e,t,n){return e.hasEdge(t,n)}function kE(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var yz=$u,lA=yz.longestPath,vz=nA,wz=hz,xz=_z;function _z(e){switch(e.graph().ranker){case"network-simplex":TE(e);break;case"tight-tree":bz(e);break;case"longest-path":Sz(e);break;default:TE(e)}}var Sz=lA;function bz(e){lA(e),vz(e)}function TE(e){wz(e)}var Jg=Ce,Ez=Cz;function Cz(e){var t=Tz(e);Jg.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,s=kz(e,t,i.v,i.w),o=s.path,a=s.lca,l=0,u=o[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=o[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<o.length-1&&e.node(u=o[l+1]).minRank<=r.rank;)l++;u=o[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function kz(e,t,n,r){var i=[],s=[],o=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>o||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function Tz(e){var t={},n=0;function r(i){var s=n;Jg.forEach(e.children(i),r),t[i]={low:s,lim:n++}}return Jg.forEach(e.children(),r),t}var Fn=Ce,ey=Tt,Nz={run:Mz,cleanup:Rz};function Mz(e){var t=ey.addDummyNode(e,"root",{},"_root"),n=Pz(e),r=Fn.max(Fn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Fn.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=Az(e)+1;Fn.forEach(e.children(),function(o){uA(e,t,i,s,r,n,o)}),e.graph().nodeRankFactor=i}function uA(e,t,n,r,i,s,o){var a=e.children(o);if(!a.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=ey.addBorderNode(e,"_bt"),u=ey.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(l,o),c.borderTop=l,e.setParent(u,o),c.borderBottom=u,Fn.forEach(a,function(d){uA(e,t,n,r,i,s,d);var f=e.node(d),h=f.borderTop?f.borderTop:d,g=f.borderBottom?f.borderBottom:d,p=f.borderTop?r:2*r,v=h!==g?1:i-s[o]+1;e.setEdge(l,h,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(g,u,{weight:p,minlen:v,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:i+s[o]})}function Pz(e){var t={};function n(r,i){var s=e.children(r);s&&s.length&&Fn.forEach(s,function(o){n(o,i+1)}),t[r]=i}return Fn.forEach(e.children(),function(r){n(r,1)}),t}function Az(e){return Fn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function Rz(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Fn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var Sm=Ce,Iz=Tt,jz=Dz;function Dz(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&Sm.forEach(r,t),Sm.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)NE(e,"borderLeft","_bl",n,i,s),NE(e,"borderRight","_br",n,i,s)}}Sm.forEach(e.children(),t)}function NE(e,t,n,r,i,s){var o={width:0,height:0,rank:s,borderType:t},a=i[t][s-1],l=Iz.addDummyNode(e,"border",o,n);i[t][s]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var xn=Ce,Lz={adjust:Oz,undo:qz};function Oz(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&cA(e)}function qz(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&Fz(e),(t==="lr"||t==="rl")&&($z(e),cA(e))}function cA(e){xn.forEach(e.nodes(),function(t){ME(e.node(t))}),xn.forEach(e.edges(),function(t){ME(e.edge(t))})}function ME(e){var t=e.width;e.width=e.height,e.height=t}function Fz(e){xn.forEach(e.nodes(),function(t){bm(e.node(t))}),xn.forEach(e.edges(),function(t){var n=e.edge(t);xn.forEach(n.points,bm),xn.has(n,"y")&&bm(n)})}function bm(e){e.y=-e.y}function $z(e){xn.forEach(e.nodes(),function(t){Em(e.node(t))}),xn.forEach(e.edges(),function(t){var n=e.edge(t);xn.forEach(n.points,Em),xn.has(n,"x")&&Em(n)})}function Em(e){var t=e.x;e.x=e.y,e.y=t}var An=Ce,Vz=Bz;function Bz(e){var t={},n=An.filter(e.nodes(),function(a){return!e.children(a).length}),r=An.max(An.map(n,function(a){return e.node(a).rank})),i=An.map(An.range(r+1),function(){return[]});function s(a){if(!An.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),An.forEach(e.successors(a),s)}}var o=An.sortBy(n,function(a){return e.node(a).rank});return An.forEach(o,s),i}var sr=Ce,zz=Uz;function Uz(e,t){for(var n=0,r=1;r<t.length;++r)n+=Hz(e,t[r-1],t[r]);return n}function Hz(e,t,n){for(var r=sr.zipObject(n,sr.map(n,function(u,c){return c})),i=sr.flatten(sr.map(t,function(u){return sr.sortBy(sr.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var o=2*s-1;s-=1;var a=sr.map(new Array(o),function(){return 0}),l=0;return sr.forEach(i.forEach(function(u){var c=u.pos+s;a[c]+=u.weight;for(var d=0;c>0;)c%2&&(d+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*d})),l}var PE=Ce,Gz=Wz;function Wz(e,t){return PE.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=PE.reduce(r,function(s,o){var a=e.edge(o),l=e.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var Pt=Ce,Kz=Yz;function Yz(e,t){var n={};Pt.forEach(e,function(i,s){var o=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};Pt.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Pt.forEach(t.edges(),function(i){var s=n[i.v],o=n[i.w];!Pt.isUndefined(s)&&!Pt.isUndefined(o)&&(o.indegree++,s.out.push(n[i.w]))});var r=Pt.filter(n,function(i){return!i.indegree});return Xz(r)}function Xz(e){var t=[];function n(s){return function(o){o.merged||(Pt.isUndefined(o.barycenter)||Pt.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&Zz(s,o)}}function r(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),Pt.forEach(i.in.reverse(),n(i)),Pt.forEach(i.out,r(i))}return Pt.map(Pt.filter(t,function(s){return!s.merged}),function(s){return Pt.pick(s,["vs","i","barycenter","weight"])})}function Zz(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Ws=Ce,Qz=Tt,Jz=e5;function e5(e,t){var n=Qz.partition(e,function(c){return Ws.has(c,"barycenter")}),r=n.lhs,i=Ws.sortBy(n.rhs,function(c){return-c.i}),s=[],o=0,a=0,l=0;r.sort(t5(!!t)),l=AE(s,i,l),Ws.forEach(r,function(c){l+=c.vs.length,s.push(c.vs),o+=c.barycenter*c.weight,a+=c.weight,l=AE(s,i,l)});var u={vs:Ws.flatten(s,!0)};return a&&(u.barycenter=o/a,u.weight=a),u}function AE(e,t,n){for(var r;t.length&&(r=Ws.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function t5(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var pr=Ce,n5=Gz,r5=Kz,i5=Jz,s5=dA;function dA(e,t,n,r){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(i=pr.filter(i,function(g){return g!==o&&g!==a}));var u=n5(e,i);pr.forEach(u,function(g){if(e.children(g.v).length){var p=dA(e,g.v,n,r);l[g.v]=p,pr.has(p,"barycenter")&&a5(g,p)}});var c=r5(u,n);o5(c,l);var d=i5(c,r);if(o&&(d.vs=pr.flatten([o,d.vs,a],!0),e.predecessors(o).length)){var f=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(a)[0]);pr.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function o5(e,t){pr.forEach(e,function(n){n.vs=pr.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function a5(e,t){pr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ks=Ce,l5=hn.Graph,u5=c5;function c5(e,t,n){var r=d5(e),i=new l5({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return e.node(s)});return Ks.forEach(e.nodes(),function(s){var o=e.node(s),a=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||r),Ks.forEach(e[n](s),function(l){var u=l.v===s?l.w:l.v,c=i.edge(u,s),d=Ks.isUndefined(c)?0:c.weight;i.setEdge(u,s,{weight:e.edge(l).weight+d})}),Ks.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function d5(e){for(var t;e.hasNode(t=Ks.uniqueId("_root")););return t}var f5=Ce,h5=p5;function p5(e,t,n){var r={},i;f5.forEach(n,function(s){for(var o=e.parent(s),a,l;o;){if(a=e.parent(o),a?(l=r[a],r[a]=o):(l=i,i=o),l&&l!==o){t.setEdge(l,o);return}o=a}})}var kr=Ce,m5=Vz,g5=zz,y5=s5,v5=u5,w5=h5,x5=hn.Graph,RE=Tt,_5=S5;function S5(e){var t=RE.maxRank(e),n=IE(e,kr.range(1,t+1),"inEdges"),r=IE(e,kr.range(t-1,-1,-1),"outEdges"),i=m5(e);jE(e,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){b5(a%2?n:r,a%4>=2),i=RE.buildLayerMatrix(e);var u=g5(e,i);u<s&&(l=0,o=kr.cloneDeep(i),s=u)}jE(e,o)}function IE(e,t,n){return kr.map(t,function(r){return v5(e,r,n)})}function b5(e,t){var n=new x5;kr.forEach(e,function(r){var i=r.graph().root,s=y5(r,i,n,t);kr.forEach(s.vs,function(o,a){r.node(o).order=a}),w5(r,n,s.vs)})}function jE(e,t){kr.forEach(t,function(n){kr.forEach(n,function(r,i){e.node(r).order=i})})}var re=Ce,E5=hn.Graph,C5=Tt,k5={positionX:O5};function T5(e,t){var n={};function r(i,s){var o=0,a=0,l=i.length,u=re.last(s);return re.forEach(s,function(c,d){var f=M5(e,c),h=f?e.node(f).order:l;(f||c===u)&&(re.forEach(s.slice(a,d+1),function(g){re.forEach(e.predecessors(g),function(p){var v=e.node(p),m=v.order;(m<o||h<m)&&!(v.dummy&&e.node(g).dummy)&&fA(n,p,g)})}),a=d+1,o=h)}),s}return re.reduce(t,r),n}function N5(e,t){var n={};function r(s,o,a,l,u){var c;re.forEach(re.range(o,a),function(d){c=s[d],e.node(c).dummy&&re.forEach(e.predecessors(c),function(f){var h=e.node(f);h.dummy&&(h.order<l||h.order>u)&&fA(n,f,c)})})}function i(s,o){var a=-1,l,u=0;return re.forEach(o,function(c,d){if(e.node(c).dummy==="border"){var f=e.predecessors(c);f.length&&(l=e.node(f[0]).order,r(o,u,d,a,l),u=d,a=l)}r(o,u,o.length,l,s.length)}),o}return re.reduce(t,i),n}function M5(e,t){if(e.node(t).dummy)return re.find(e.predecessors(t),function(n){return e.node(n).dummy})}function fA(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function P5(e,t,n){if(t>n){var r=t;t=n,n=r}return re.has(e[t],n)}function A5(e,t,n,r){var i={},s={},o={};return re.forEach(t,function(a){re.forEach(a,function(l,u){i[l]=l,s[l]=l,o[l]=u})}),re.forEach(t,function(a){var l=-1;re.forEach(a,function(u){var c=r(u);if(c.length){c=re.sortBy(c,function(p){return o[p]});for(var d=(c.length-1)/2,f=Math.floor(d),h=Math.ceil(d);f<=h;++f){var g=c[f];s[u]===u&&l<o[g]&&!P5(n,u,g)&&(s[g]=u,s[u]=i[u]=i[g],l=o[g])}}})}),{root:i,align:s}}function R5(e,t,n,r,i){var s={},o=I5(e,t,n,i),a=i?"borderLeft":"borderRight";function l(d,f){for(var h=o.nodes(),g=h.pop(),p={};g;)p[g]?d(g):(p[g]=!0,h.push(g),h=h.concat(f(g))),g=h.pop()}function u(d){s[d]=o.inEdges(d).reduce(function(f,h){return Math.max(f,s[h.v]+o.edge(h))},0)}function c(d){var f=o.outEdges(d).reduce(function(g,p){return Math.min(g,s[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=e.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(s[d]=Math.max(s[d],f))}return l(u,o.predecessors.bind(o)),l(c,o.successors.bind(o)),re.forEach(r,function(d){s[d]=s[n[d]]}),s}function I5(e,t,n,r){var i=new E5,s=e.graph(),o=q5(s.nodesep,s.edgesep,r);return re.forEach(t,function(a){var l;re.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var d=n[l],f=i.edge(d,c);i.setEdge(d,c,Math.max(o(e,u,l),f||0))}l=u})}),i}function j5(e,t){return re.minBy(re.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return re.forIn(n,function(s,o){var a=F5(e,o)/2;r=Math.max(s+a,r),i=Math.min(s-a,i)}),r-i})}function D5(e,t){var n=re.values(t),r=re.min(n),i=re.max(n);re.forEach(["u","d"],function(s){re.forEach(["l","r"],function(o){var a=s+o,l=e[a],u;if(l!==t){var c=re.values(l);u=o==="l"?r-re.min(c):i-re.max(c),u&&(e[a]=re.mapValues(l,function(d){return d+u}))}})})}function L5(e,t){return re.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=re.sortBy(re.map(e,r));return(i[1]+i[2])/2})}function O5(e){var t=C5.buildLayerMatrix(e),n=re.merge(T5(e,t),N5(e,t)),r={},i;re.forEach(["u","d"],function(o){i=o==="u"?t:re.values(t).reverse(),re.forEach(["l","r"],function(a){a==="r"&&(i=re.map(i,function(d){return re.values(d).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),u=A5(e,i,n,l),c=R5(e,i,u.root,u.align,a==="r");a==="r"&&(c=re.mapValues(c,function(d){return-d})),r[o+a]=c})});var s=j5(e,r);return D5(r,s),L5(r,e.graph().align)}function q5(e,t,n){return function(r,i,s){var o=r.node(i),a=r.node(s),l=0,u;if(l+=o.width/2,re.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(o.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,re.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function F5(e,t){return e.node(t).width}var Ys=Ce,hA=Tt,$5=k5.positionX,V5=B5;function B5(e){e=hA.asNonCompoundGraph(e),z5(e),Ys.forEach($5(e),function(t,n){e.node(n).x=t})}function z5(e){var t=hA.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Ys.forEach(t,function(i){var s=Ys.max(Ys.map(i,function(o){return e.node(o).height}));Ys.forEach(i,function(o){e.node(o).y=r+s/2}),r+=s+n})}var ie=Ce,DE=I4,LE=X4,U5=xz,H5=Tt.normalizeRanks,G5=Ez,W5=Tt.removeEmptyRanks,OE=Nz,K5=jz,qE=Lz,Y5=_5,X5=V5,Mr=Tt,Z5=hn.Graph,Q5=J5;function J5(e,t){var n=t&&t.debugTiming?Mr.time:Mr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return c6(e)});n("  runLayout",function(){e6(r,n)}),n("  updateInputGraph",function(){t6(e,r)})})}function e6(e,t){t("    makeSpaceForEdgeLabels",function(){d6(e)}),t("    removeSelfEdges",function(){x6(e)}),t("    acyclic",function(){DE.run(e)}),t("    nestingGraph.run",function(){OE.run(e)}),t("    rank",function(){U5(Mr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){f6(e)}),t("    removeEmptyRanks",function(){W5(e)}),t("    nestingGraph.cleanup",function(){OE.cleanup(e)}),t("    normalizeRanks",function(){H5(e)}),t("    assignRankMinMax",function(){h6(e)}),t("    removeEdgeLabelProxies",function(){p6(e)}),t("    normalize.run",function(){LE.run(e)}),t("    parentDummyChains",function(){G5(e)}),t("    addBorderSegments",function(){K5(e)}),t("    order",function(){Y5(e)}),t("    insertSelfEdges",function(){_6(e)}),t("    adjustCoordinateSystem",function(){qE.adjust(e)}),t("    position",function(){X5(e)}),t("    positionSelfEdges",function(){S6(e)}),t("    removeBorderNodes",function(){w6(e)}),t("    normalize.undo",function(){LE.undo(e)}),t("    fixupEdgeLabelCoords",function(){y6(e)}),t("    undoCoordinateSystem",function(){qE.undo(e)}),t("    translateGraph",function(){m6(e)}),t("    assignNodeIntersects",function(){g6(e)}),t("    reversePoints",function(){v6(e)}),t("    acyclic.undo",function(){DE.undo(e)})}function t6(e,t){ie.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),ie.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,ie.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var n6=["nodesep","edgesep","ranksep","marginx","marginy"],r6={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},i6=["acyclicer","ranker","rankdir","align"],s6=["width","height"],o6={width:0,height:0},a6=["minlen","weight","width","height","labeloffset"],l6={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},u6=["labelpos"];function c6(e){var t=new Z5({multigraph:!0,compound:!0}),n=km(e.graph());return t.setGraph(ie.merge({},r6,Cm(n,n6),ie.pick(n,i6))),ie.forEach(e.nodes(),function(r){var i=km(e.node(r));t.setNode(r,ie.defaults(Cm(i,s6),o6)),t.setParent(r,e.parent(r))}),ie.forEach(e.edges(),function(r){var i=km(e.edge(r));t.setEdge(r,ie.merge({},l6,Cm(i,a6),ie.pick(i,u6)))}),t}function d6(e){var t=e.graph();t.ranksep/=2,ie.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function f6(e){ie.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-r.rank)/2+r.rank,e:t};Mr.addDummyNode(e,"edge-proxy",s,"_ep")}})}function h6(e){var t=0;ie.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=ie.max(t,r.maxRank))}),e.graph().maxRank=t}function p6(e){ie.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function m6(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,a=s.marginy||0;function l(u){var c=u.x,d=u.y,f=u.width,h=u.height;t=Math.min(t,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,d-h/2),i=Math.max(i,d+h/2)}ie.forEach(e.nodes(),function(u){l(e.node(u))}),ie.forEach(e.edges(),function(u){var c=e.edge(u);ie.has(c,"x")&&l(c)}),t-=o,r-=a,ie.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),ie.forEach(e.edges(),function(u){var c=e.edge(u);ie.forEach(c.points,function(d){d.x-=t,d.y-=r}),ie.has(c,"x")&&(c.x-=t),ie.has(c,"y")&&(c.y-=r)}),s.width=n-t+o,s.height=i-r+a}function g6(e){ie.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),s,o;n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=i,o=r),n.points.unshift(Mr.intersectRect(r,s)),n.points.push(Mr.intersectRect(i,o))})}function y6(e){ie.forEach(e.edges(),function(t){var n=e.edge(t);if(ie.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function v6(e){ie.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function w6(e){ie.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),s=e.node(ie.last(n.borderLeft)),o=e.node(ie.last(n.borderRight));n.width=Math.abs(o.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),ie.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function x6(e){ie.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function _6(e){var t=Mr.buildLayerMatrix(e);ie.forEach(t,function(n){var r=0;ie.forEach(n,function(i,s){var o=e.node(i);o.order=s+r,ie.forEach(o.selfEdges,function(a){Mr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++r,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function S6(e){ie.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,s=r.y,o=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}function Cm(e,t){return ie.mapValues(ie.pick(e,t),Number)}function km(e){var t={};return ie.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var La=Ce,b6=Tt,E6=hn.Graph,C6={debugOrdering:k6};function k6(e){var t=b6.buildLayerMatrix(e),n=new E6({compound:!0,multigraph:!0}).setGraph({});return La.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),La.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),La.forEach(t,function(r,i){var s="layer"+i;n.setNode(s,{rank:"same"}),La.reduce(r,function(o,a){return n.setEdge(o,a,{style:"invis"}),a})}),n}var T6="0.8.5",N6={graphlib:hn,layout:Q5,debug:C6,util:{time:Tt.time,notime:Tt.notime},version:T6};const FE=vy(N6),$E=new Map;function M6(e,t){const n=e.map(i=>i.id).join("|"),r=t.map(i=>`${i.source}->${i.target}`).join("|");return`${e.length}:${t.length}:${n}:${r}`}function ty(e,t,n){if(n){const r=M6(e,t),i=$E.get(n);if(i&&i.signature===r)return i.layout;const s=VE(e,t);return $E.set(n,{signature:r,layout:s}),s}return VE(e,t)}function VE(e,t){if(e.length>2500){const r=Math.ceil(Math.sqrt(e.length));return e.map((i,s)=>{const o=Math.floor(s/r),a=s%r;return{id:i.id,position:{x:a*260,y:o*160}}})}const n=new FE.graphlib.Graph;return n.setGraph({rankdir:"LR",nodesep:48,ranksep:80}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:220,height:120})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),FE.layout(n),e.map(r=>{const i=n.node(r.id);return{id:r.id,position:{x:i.x-i.width/2,y:i.y-i.height/2}}})}function P6(e,t,n=200){const r=e.zoom||1,i=(0-e.x)/r-n,s=(0-e.y)/r-n,o=(t.width-e.x)/r+n,a=(t.height-e.y)/r+n;return{minX:i,minY:s,maxX:o,maxY:a}}function A6(e,t,n,r=200){if(n.width<=0||n.height<=0)return e;const i=P6(t,n,r);return e.filter(s=>{const o=s.x,a=s.y,l=s.x+s.width,u=s.y+s.height;return!(l<i.minX||o>i.maxX||u<i.minY||a>i.maxY)})}function Zv(e,t){const n=R6(e,t),r=new Set(n.map(d=>d.leftId)),i=new Set(n.map(d=>d.rightId)),s=t.steps.filter(d=>!i.has(d.id)).map(d=>d.id),o=e.steps.filter(d=>!r.has(d.id)).map(d=>d.id),a=n.filter(d=>{const f=e.steps.find(g=>g.id===d.leftId),h=t.steps.find(g=>g.id===d.rightId);return!f||!h?!1:BE(f)!==BE(h)}),l=a.map(d=>d.leftId),u=(t.metadata.totalCostUsd??0)-(e.metadata.totalCostUsd??0),c=t.metadata.wallTimeMs-e.metadata.wallTimeMs;return{addedSteps:s,removedSteps:o,changedSteps:l,changedPairs:a,alignedSteps:n,costDeltaUsd:u,wallTimeDeltaMs:c}}function R6(e,t){const n=[],r=new Set(e.steps.map(c=>c.id)),i=new Set(t.steps.map(c=>c.id));Array.from(r).forEach(c=>{i.has(c)&&(n.push({leftId:c,rightId:c}),r.delete(c),i.delete(c))});const s=new Map;t.steps.forEach(c=>{c.toolCallId&&s.set(c.toolCallId,c.id)}),e.steps.forEach(c=>{if(!c.toolCallId)return;const d=s.get(c.toolCallId);d&&i.has(d)&&(n.push({leftId:c.id,rightId:d}),r.delete(c.id),i.delete(d))});const o=HE(e),a=HE(t),l=I6(e,t),u={};return i.forEach(c=>{const d=a.get(c);if(!d)return;const f=zE(d.step);f&&(u[f]||(u[f]=[]),u[f].push(c))}),Object.values(u).forEach(c=>{c.sort((d,f)=>{var h,g;return(((h=a.get(d))==null?void 0:h.startMs)??0)-(((g=a.get(f))==null?void 0:g.startMs)??0)})}),Array.from(r).forEach(c=>{var g;const d=o.get(c);if(!d)return;const f=zE(d.step);if(!f||!((g=u[f])!=null&&g.length))return;const h=j6(d,u[f],a,l);h&&(n.push({leftId:c,rightId:h}),r.delete(c),i.delete(h),u[f]=u[f].filter(p=>p!==h))}),n}function BE(e){var r,i;const t=((r=e.preview)==null?void 0:r.outputPreview)??null,n=((i=e.metrics)==null?void 0:i.costUsd)??null;return`${e.status}|${t??""}|${n??""}`}function zE(e){return e.type?`${e.type}:${e.name??""}`:null}function UE(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function HE(e){const t=UE(e.startedAt),n=new Map;return e.steps.forEach(r=>{const i=UE(r.startedAt),s=t!=null&&i!=null?i-t:null;n.set(r.id,{step:r,startMs:s})}),n}function I6(e,t){const n=Math.max(e.metadata.wallTimeMs,t.metadata.wallTimeMs,1);return Math.max(1e3,Math.min(5e3,Math.round(n*.1)))}function j6(e,t,n,r){const i=e.startMs;if(i==null)return null;let s=null,o=r+1;return t.forEach(a=>{const l=n.get(a);if(!l||l.startMs==null)return;const u=Math.abs(l.startMs-i);u<o&&(o=u,s=a)}),o<=r?s:null}function D6({layers:e,onChange:t}){return w.jsxs("div",{className:"edge-toggles",children:[w.jsxs("label",{title:"Parent/child span edges","data-help":!0,"data-help-title":"Structure edges","data-help-body":"Shows parent-child spans to reveal hierarchy.","data-help-placement":"top",children:[w.jsx("input",{type:"checkbox",checked:e.structure,onChange:n=>t({...e,structure:n.target.checked})}),"Structure"]}),w.jsxs("label",{title:"Chronological sequence edges","data-help":!0,"data-help-title":"Sequence edges","data-help-body":"Shows chronological ordering of steps.","data-help-placement":"top",children:[w.jsx("input",{type:"checkbox",checked:e.sequence,onChange:n=>t({...e,sequence:n.target.checked})}),"Sequence"]}),w.jsxs("label",{title:"Tool call I/O binding edges","data-help":!0,"data-help-title":"I/O edges","data-help-body":"Connects tool calls to their inputs and outputs.","data-help-placement":"top",children:[w.jsx("input",{type:"checkbox",checked:e.io,onChange:n=>t({...e,io:n.target.checked})}),"I/O Binding"]})]})}function L6({data:e}){var c,d,f,h;const t=e.step,n=SN(t),r=e.diffStatus?`diff-${e.diffStatus}`:"",i=e.ghost?"ghost-node":"",s=t.type.replace("_"," ").toUpperCase(),o=((c=t.metrics)==null?void 0:c.tokensTotal)!=null?`${t.metrics.tokensTotal} tokens`:null,a=t.durationMs!=null?`${t.durationMs}ms`:null,l=[o,a,n].filter(Boolean).join("  "),u=`Click to inspect or replay this step.${l?` ${l}.`:""}`;return w.jsxs("div",{className:`flow-node step-${t.type} ${r} ${i}`,"data-help":!0,"data-help-title":`${t.name}  ${s}`,"data-help-body":u,"data-help-placement":"right",children:[w.jsxs("div",{className:"flow-node-header",children:[w.jsxs("div",{className:"flow-node-title",children:[w.jsx(hv,{type:t.type}),w.jsx("span",{children:t.name})]}),w.jsx("span",{className:`status-pill status-${t.status}`,children:t.status})]}),w.jsx("div",{className:"flow-node-preview",children:((d=t.preview)==null?void 0:d.outputPreview)??((f=t.preview)==null?void 0:f.inputPreview)}),w.jsxs("div",{className:"flow-node-metrics",children:[((h=t.metrics)==null?void 0:h.tokensTotal)!=null?w.jsxs("span",{children:[t.metrics.tokensTotal," tok"]}):null,t.durationMs!=null?w.jsxs("span",{children:[t.durationMs,"ms"]}):null,n?w.jsx("span",{children:n}):null]})]})}const O6={stepNode:L6},q6={structure:!0,sequence:!1,io:!0};function Tm(e){return e.filter(t=>t.parentStepId).map(t=>({id:`structure_${t.parentStepId}_${t.id}`,source:t.parentStepId,target:t.id,kind:"structure"}))}function Nm(e){const t=[...e].sort((r,i)=>r.index-i.index),n=[];for(let r=1;r<t.length;r+=1)n.push({id:`sequence_${t[r-1].id}_${t[r].id}`,source:t[r-1].id,target:t[r].id,kind:"sequence"});return n}function F6({steps:e,onSelectStep:t,selectedStepId:n,baseTrace:r,compareTrace:i,compareSteps:s=[],overlayEnabled:o,onToggleOverlay:a}){var F,$;const[l,u]=b.useState(q6),[c,d]=b.useState(e.length>500),[f,h]=b.useState({x:0,y:0,zoom:1}),g=b.useRef(null),p=b.useRef(f),v=b.useRef(null);b.useEffect(()=>{e.length<=500&&d(!1)},[e.length]),b.useEffect(()=>()=>{v.current&&cancelAnimationFrame(v.current)},[]);const m=b.useMemo(()=>{const O=Tm(e),z=Nm(e),G=nl(e),Z=[];return l.structure&&Z.push(...O),l.sequence&&Z.push(...z),l.io&&Z.push(...G),Z},[e,l]),y=b.useMemo(()=>{const O=Tm(e),z=Nm(e),G=nl(e);return[...O,...z,...G]},[e]),x=b.useMemo(()=>ty(e,y.map(O=>({source:O.source,target:O.target})),r.id),[e,y,r.id]),_=b.useMemo(()=>i?Zv(r,i):null,[r,i]),S=b.useMemo(()=>new Set((_==null?void 0:_.addedSteps)??[]),[_]),C=b.useMemo(()=>new Set((_==null?void 0:_.changedSteps)??[]),[_]),k=b.useMemo(()=>new Set((_==null?void 0:_.removedSteps)??[]),[_]),T=new Map(x.map(O=>[O.id,O.position])),M=e.map(O=>({id:O.id,type:"stepNode",position:T.get(O.id)??{x:0,y:0},data:{step:O,diffStatus:C.has(O.id)?"changed":k.has(O.id)?"removed":null,ghost:!1}})),R=M.map(O=>({id:O.id,x:O.position.x,y:O.position.y,width:220,height:120})),I={width:((F=g.current)==null?void 0:F.clientWidth)??0,height:(($=g.current)==null?void 0:$.clientHeight)??0},B=new Map(M.map(O=>[O.id,O]));let V=c?A6(R,f,I,300).map(O=>B.get(O.id)):[...M];const E=new Set(V.filter(Boolean).map(O=>O.id));if(n&&!E.has(n)){const O=B.get(n);O&&(E.add(O.id),V=[...V,O])}const D=m.filter(O=>E.has(O.source)&&E.has(O.target)).map(O=>({id:O.id,source:O.source,target:O.target,type:"smoothstep",animated:O.kind==="io",style:O.kind==="io"?{stroke:"var(--accent-io)",strokeWidth:2}:O.kind==="sequence"?{stroke:"var(--accent-sequence)",strokeDasharray:"6 6"}:{stroke:"var(--accent-structure)"}})),A=V.filter(Boolean).map(O=>({...O})),L=b.useMemo(()=>{if(!i)return[];const O=Tm(i.steps),z=Nm(i.steps),G=nl(i.steps);return[...O,...z,...G]},[i]),P=b.useMemo(()=>i?ty(i.steps,L.map(O=>({source:O.source,target:O.target})),i.id):[],[i,L]),N=b.useMemo(()=>new Map(P.map(O=>[O.id,O.position])),[P]),j=b.useMemo(()=>!i||!o?[]:s.filter(O=>S.has(O.id)).map(O=>({id:`ghost-${O.id}`,type:"stepNode",position:N.get(O.id)??{x:0,y:0},data:{step:O,diffStatus:"added",ghost:!0}})),[i,s,N,S,o]);return w.jsxs("div",{className:"flow-mode",children:[w.jsxs("div",{className:"flow-controls","data-help":!0,"data-help-title":"Flow controls","data-help-body":"Toggle edge layers and windowing for high-density graphs.","data-help-placement":"bottom",children:[w.jsx(D6,{layers:l,onChange:u}),e.length>500?w.jsxs("label",{className:"toggle",title:"Window nodes based on viewport for large graphs","data-help":!0,"data-help-title":"Windowed flow","data-help-body":"Limits the graph to the visible region for performance.","data-help-placement":"bottom",children:[w.jsx("input",{type:"checkbox",checked:c,onChange:()=>d(O=>!O)}),"Windowed"]}):null,i?w.jsxs("button",{className:"ghost-button",type:"button",onClick:a,title:"Show or hide ghost overlay from replay","data-help":!0,"data-help-title":"Overlay diff","data-help-body":"Layer the replay on top to see what changed.","data-help-placement":"bottom",children:[o?"Hide overlay":"Show overlay"," (",(_==null?void 0:_.addedSteps.length)??0,"/",(_==null?void 0:_.removedSteps.length)??0,"/",(_==null?void 0:_.changedSteps.length)??0,")"]}):null]}),w.jsx("div",{className:"flow-canvas",ref:g,"data-help":!0,"data-help-indicator":!0,"data-help-title":"Flow canvas","data-help-body":"A spatial map of step dependencies. Click nodes to inspect.","data-help-placement":"top",children:w.jsxs(KM,{nodes:o?[...A,...j]:A,edges:D,nodeTypes:O6,onNodeClick:(O,z)=>{const G=z.id.startsWith("ghost-")?z.id.replace("ghost-",""):z.id;t(G)},onMove:(O,z)=>{p.current=z,!v.current&&(v.current=requestAnimationFrame(()=>{h(p.current),v.current=null}))},fitView:!0,children:[w.jsx(w$,{nodeColor:O=>{switch(O.data.step.type){case"llm_call":return"var(--accent-llm)";case"tool_call":return"var(--accent-tool)";case"decision":return"var(--accent-decision)";case"handoff":return"var(--accent-handoff)";case"guardrail":return"var(--accent-guardrail)";default:return"var(--accent-structure)"}},maskColor:"rgba(15, 17, 21, 0.6)"}),w.jsx(R$,{gap:20}),w.jsx(k$,{position:"bottom-right"})]})})]})}function $6({steps:e,onSelectStep:t,selectedStepId:n,baseTrace:r,compareTrace:i,compareSteps:s,overlayEnabled:o,onToggleOverlay:a}){return w.jsx("section",{className:"flow-mode-wrapper","aria-label":"Flow mode",children:w.jsx(F6,{steps:e,selectedStepId:n,onSelectStep:t,baseTrace:r,compareTrace:i,compareSteps:s,overlayEnabled:o,onToggleOverlay:a})})}function V6(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(r)}function GE(e,t,n){return Math.min(n,Math.max(t,e))}function B6({baseTrace:e,compareTrace:t,playheadMs:n,onExit:r,safeExport:i}){const s=Zv(e,t),o=e.metadata.wallTimeMs||1,a=t.metadata.wallTimeMs||1,l=GE(n/o*100,0,100),u=GE(n/a*100,0,100),c={generatedAt:new Date().toISOString(),base:{id:e.id,name:e.name,parentTraceId:e.parentTraceId,startedAt:e.startedAt,endedAt:e.endedAt},compare:{id:t.id,name:t.name,parentTraceId:t.parentTraceId,branchPointStepId:t.branchPointStepId,replay:t.replay,startedAt:t.startedAt,endedAt:t.endedAt},deltas:{added:s.addedSteps.length,removed:s.removedSteps.length,changed:s.changedSteps.length,costDeltaUsd:s.costDeltaUsd,wallTimeDeltaMs:s.wallTimeDeltaMs},alignment:s.alignedSteps,changedPairs:s.changedPairs,safeExport:!!i};return w.jsxs("section",{className:"compare-view","data-help":!0,"data-tour":"compare-view","data-help-title":"Compare runs","data-help-body":"Side-by-side playback showing deltas in steps, cost, and wall time after a replay.","data-help-placement":"top",children:[w.jsxs("div",{className:"compare-header",children:[w.jsxs("div",{children:[w.jsx("div",{className:"compare-title",children:"Compare Runs"}),w.jsxs("div",{className:"compare-subtitle",children:["+",s.addedSteps.length," steps, ",s.costDeltaUsd.toFixed(3)," USD, ",s.wallTimeDeltaMs,"ms"]})]}),w.jsxs("div",{className:"compare-actions",children:[w.jsx("button",{className:"ghost-button",type:"button",onClick:()=>V6(`agent-director-diff-${e.id}-${t.id}.json`,c),title:"Export diff summary","data-help":!0,"data-help-title":"Export diff","data-help-body":"Download a JSON summary you can share or archive.","data-help-placement":"bottom",children:"Export diff"}),w.jsx("button",{className:"ghost-button",type:"button",onClick:r,"data-help":!0,"data-help-title":"Exit compare","data-help-body":"Return to the primary run timeline.","data-help-placement":"bottom",children:"Exit compare"})]})]}),w.jsxs("div",{className:"compare-grid",children:[w.jsxs("div",{className:"compare-pane","data-help":!0,"data-help-title":"Base run","data-help-body":"Original timeline for baseline comparison.","data-help-placement":"top",children:[w.jsx("div",{className:"compare-pane-title",children:"Base run"}),w.jsx(Dg,{trace:e,steps:e.steps,selectedStepId:null,onSelectStep:()=>{},playheadPct:l,playheadMs:n,windowRange:null,laneHeight:110,cardHeight:100,compactHeight:78})]}),w.jsxs("div",{className:"compare-pane","data-help":!0,"data-help-title":"Replay run","data-help-body":"Replay timeline to validate improvements.","data-help-placement":"top",children:[w.jsx("div",{className:"compare-pane-title",children:"Replay run"}),w.jsx(Dg,{trace:t,steps:t.steps,selectedStepId:null,onSelectStep:()=>{},playheadPct:u,playheadMs:n,windowRange:null,laneHeight:110,cardHeight:100,compactHeight:78})]})]})]})}const z6="demo-trace-overlap-001",U6="Overlap + ToolCallId Demo",H6="2026-01-27T10:00:00.000Z",G6="2026-01-27T10:00:05.000Z",W6="completed",K6={source:"openai_agents",agentName:"DemoAgent",modelId:"gpt-4o-2024-11-20",wallTimeMs:5e3,workTimeMs:7200,totalTokens:1400,totalCostUsd:.018},Y6=[{id:"s1",index:0,type:"llm_call",name:"plan",startedAt:"2026-01-27T10:00:00.000Z",endedAt:"2026-01-27T10:00:01.000Z",durationMs:1e3,childStepIds:[],metrics:{tokensTotal:300,costUsd:.004},preview:{title:"LLM: plan",subtitle:"gpt-4o",outputPreview:"I'll fetch two sources..."},status:"completed"},{id:"s2",index:1,type:"llm_call",name:"call_tools",startedAt:"2026-01-27T10:00:01.000Z",endedAt:"2026-01-27T10:00:01.200Z",durationMs:200,childStepIds:[],metrics:{tokensTotal:120,costUsd:.002},preview:{title:"LLM: call tools",outputPreview:"Calling web_search + database_query"},io:{emittedToolCallIds:["tc-001","tc-002"]},status:"completed"},{id:"s3",index:2,type:"tool_call",name:"web_search",toolCallId:"tc-001",startedAt:"2026-01-27T10:00:01.200Z",endedAt:"2026-01-27T10:00:03.200Z",durationMs:2e3,childStepIds:[],metrics:{costUsd:0},preview:{title:"Tool: web_search",inputPreview:'{"q":"EU AI Act"}',outputPreview:"[3 results...]"},status:"completed"},{id:"s4",index:3,type:"tool_call",name:"database_query",toolCallId:"tc-002",startedAt:"2026-01-27T10:00:01.500Z",endedAt:"2026-01-27T10:00:02.700Z",durationMs:1200,childStepIds:[],preview:{title:"Tool: database_query",inputPreview:'{"sql":"SELECT..."}',outputPreview:'{"rows":42}'},status:"completed"},{id:"s5",index:4,type:"llm_call",name:"analyze",startedAt:"2026-01-27T10:00:03.200Z",endedAt:"2026-01-27T10:00:04.600Z",durationMs:1400,childStepIds:[],metrics:{tokensTotal:700,costUsd:.012},preview:{title:"LLM: analyze",outputPreview:"Synthesis based on tool outputs..."},io:{consumedToolCallIds:["tc-001","tc-002"]},status:"completed"}],pA={id:z6,name:U6,startedAt:H6,endedAt:G6,status:W6,metadata:K6,steps:Y6},X6=new Map,Z6=new Map;async function Q6(){return[pA]}async function J6(e){return{trace:pA}}async function mA(e,t,n,r=[],i=!1){return null}async function e8(e,t,n){await mA(e,t,"redacted",[],n)}function t8(){X6.clear(),Z6.clear()}async function n8(e,t,n,r,i){return i?r8(i,t,n,r):null}function r8(e,t,n,r){var g;const i=JSON.parse(JSON.stringify(e)),s=6e4,o=Date.parse("2024-01-01T00:00:00.000Z"),a=Date.parse(e.endedAt??e.startedAt??""),u=(Number.isNaN(a)?o:a)+s,c=new Date(u);i.id=`${e.id}-replay-${u}`,i.parentTraceId=e.id,i.branchPointStepId=t,i.replay={strategy:n,modifiedStepId:t,modifications:r,createdAt:c.toISOString()};const d=p=>{if(!p)return p;const v=Date.parse(p);return Number.isNaN(v)?p:new Date(v+s).toISOString()};i.startedAt=d(i.startedAt)??i.startedAt,i.endedAt=d(i.endedAt);const f=new Set,h=((g=i.steps.find(p=>p.id===t))==null?void 0:g.index)??-1;return i.steps.forEach(p=>{p.index>h&&f.add(p.id)}),i.steps=i.steps.map(p=>{var m;const v={...p};if(v.startedAt=d(p.startedAt)??p.startedAt,v.endedAt=d(p.endedAt),p.id===t){const y=((m=p.preview)==null?void 0:m.outputPreview)??"";v.preview={...p.preview,outputPreview:`${y} (modified)`.trim()}}return f.has(p.id)&&(v.status="pending",v.endedAt=null,v.durationMs=void 0,v.metrics=void 0,v.preview={...p.preview,outputPreview:"[invalidated for replay]"}),v}),i}function i8(e){return JSON.stringify(e,null,2)}function s8({traceId:e,step:t,safeExport:n,onClose:r,onReplay:i}){var g,p;const[s,o]=b.useState(null),[a,l]=b.useState("redacted"),[u,c]=b.useState([]);if(b.useEffect(()=>{c([]),l("redacted")},[t==null?void 0:t.id,n]),b.useEffect(()=>{if(!t)return;let v=!0;return(async()=>{const y=n?"redacted":a,x=await mA(e,t.id,y,y==="redacted"?u:[],n);v&&o(x)})(),()=>{v=!1}},[e,t,a,n,u]),!t)return null;const d=s==null?void 0:s.redaction,f=(d==null?void 0:d.fieldsRedacted)??[],h=(d==null?void 0:d.revealedFields)??[];return w.jsxs("aside",{className:"inspector","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Deep dive into a single step: payloads, redaction, metrics, and replay.","data-help-placement":"left",children:[w.jsxs("div",{className:"inspector-header",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"inspector-title",children:[w.jsx(hv,{type:t.type,size:"md",showLabel:!0}),w.jsx("span",{children:t.name}),w.jsx("span",{className:`status-pill status-${t.status}`,children:t.status})]}),w.jsx("div",{className:"inspector-subtitle",children:t.type})]}),w.jsx("button",{className:"ghost-button",type:"button",onClick:r,"aria-label":"Close inspector",children:"Close"})]}),w.jsxs("div",{className:"inspector-section",children:[w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Status"}),w.jsx("span",{children:t.status})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Duration"}),w.jsxs("span",{children:[t.durationMs??0,"ms"]})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Tokens"}),w.jsx("span",{children:((g=t.metrics)==null?void 0:g.tokensTotal)??"-"})]}),w.jsxs("div",{className:"inspector-row",children:[w.jsx("span",{children:"Cost"}),w.jsx("span",{children:((p=t.metrics)==null?void 0:p.costUsd)!=null?`$${t.metrics.costUsd.toFixed(3)}`:"-"})]})]}),w.jsxs("div",{className:"inspector-section",children:[w.jsx("div",{className:"inspector-section-title",children:"Payload"}),w.jsxs("div",{className:"inspector-controls",children:[w.jsxs("label",{title:n?"Safe export enabled: raw view disabled.":"Toggle raw payload view.","data-help":!0,"data-help-title":"Raw payload","data-help-body":"Switch between redacted and raw payloads when Safe export is off.","data-help-placement":"top",children:[w.jsx("input",{type:"checkbox",checked:a==="raw",disabled:n,onChange:v=>l(v.target.checked?"raw":"redacted")}),"Reveal raw (dangerous)"]}),w.jsx("button",{className:"ghost-button",type:"button","aria-label":"Copy payload JSON",onClick:async()=>{s&&await navigator.clipboard.writeText(JSON.stringify(s.data,null,2))},"data-help":!0,"data-help-title":"Copy JSON","data-help-body":"Copy the payload to your clipboard.","data-help-placement":"top",children:"Copy JSON"}),u.length>0&&a==="redacted"?w.jsx("button",{className:"ghost-button",type:"button","aria-label":"Reset revealed fields",onClick:()=>c([]),"data-help":!0,"data-help-title":"Reset reveals","data-help-body":"Re-hide any fields you temporarily revealed.","data-help-placement":"top",children:"Reset reveals"}):null]}),w.jsx("pre",{className:"inspector-json",children:s?i8(s.data):"Loading..."}),f.length>0?w.jsxs("div",{className:"inspector-redaction",children:["Redacted fields:",w.jsx("ul",{children:f.map(v=>{const m=!n&&a==="redacted";return w.jsxs("li",{children:[v.path," (",v.kind,")",m?w.jsx("button",{className:"ghost-button",type:"button","aria-label":`Reveal ${v.path}`,onClick:()=>c(y=>y.includes(v.path)?y:[...y,v.path]),children:"Reveal"}):null]},v.path)})}),h.length>0?w.jsxs("div",{className:"inspector-revealed",children:["Revealed:",w.jsx("ul",{children:h.map(v=>w.jsxs("li",{children:[v.path," (",v.kind,")"]},v.path))})]}):null]}):null]}),w.jsx("div",{className:"inspector-section",children:w.jsx("button",{className:"primary-button",type:"button",onClick:()=>i(t.id),"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a new run starting from this step.","data-help-placement":"top",children:"Replay from this step"})})]})}const gA=b.createContext({});function o8(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qv=b.createContext(null),yA=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function a8(e=!0){const t=b.useContext(Qv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=b.useId();b.useEffect(()=>{e&&i(s)},[e]);const o=b.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Jv=typeof window<"u",l8=Jv?b.useLayoutEffect:b.useEffect,It=e=>e;let vA=It;function e0(e){let t;return()=>(t===void 0&&(t=e()),t)}const as=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Bn=e=>e*1e3,zn=e=>e/1e3,u8={useManualTiming:!1};function c8(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,c=!1,d=!1)=>{const h=d&&r?t:n;return c&&s.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Oa=["read","resolveKeyframes","update","preRender","render","postRender"],d8=40;function wA(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Oa.reduce((m,y)=>(m[y]=c8(s),m),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:f}=o,h=()=>{const m=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(m-i.timestamp,d8),1),i.timestamp=m,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:Oa.reduce((m,y)=>{const x=o[y];return m[y]=(_,S=!1,C=!1)=>(n||g(),x.schedule(_,S,C)),m},{}),cancel:m=>{for(let y=0;y<Oa.length;y++)o[Oa[y]].cancel(m)},state:i,steps:o}}const{schedule:xe,cancel:Pr,state:et,steps:Mm}=wA(typeof requestAnimationFrame<"u"?requestAnimationFrame:It,!0),xA=b.createContext({strict:!1}),WE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ls={};for(const e in WE)ls[e]={isEnabled:t=>WE[e].some(n=>!!t[n])};function f8(e){for(const t in e)ls[t]={...ls[t],...e[t]}}const h8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ul(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||h8.has(e)}let _A=e=>!Ul(e);function p8(e){e&&(_A=t=>t.startsWith("on")?!Ul(t):e(t))}try{p8(require("@emotion/is-prop-valid").default)}catch{}function m8(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(_A(i)||n===!0&&Ul(i)||!t&&!Ul(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function g8(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Vu=b.createContext({});function qo(e){return typeof e=="string"||Array.isArray(e)}function Bu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const t0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],n0=["initial",...t0];function zu(e){return Bu(e.animate)||n0.some(t=>qo(e[t]))}function SA(e){return!!(zu(e)||e.variants)}function y8(e,t){if(zu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||qo(n)?n:void 0,animate:qo(r)?r:void 0}}return e.inherit!==!1?t:{}}function v8(e){const{initial:t,animate:n}=y8(e,b.useContext(Vu));return b.useMemo(()=>({initial:t,animate:n}),[KE(t),KE(n)])}function KE(e){return Array.isArray(e)?e.join(" "):e}const w8=Symbol.for("motionComponentSymbol");function Li(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function x8(e,t,n){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Li(n)&&(n.current=r))},[t])}const r0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_8="framerAppearId",bA="data-"+r0(_8),{schedule:i0}=wA(queueMicrotask,!1),EA=b.createContext({});function S8(e,t,n,r,i){var s,o;const{visualElement:a}=b.useContext(Vu),l=b.useContext(xA),u=b.useContext(Qv),c=b.useContext(yA).reducedMotion,d=b.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,h=b.useContext(EA);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&b8(d.current,n,i,h);const g=b.useRef(!1);b.useInsertionEffect(()=>{f&&g.current&&f.update(n,u)});const p=n[bA],v=b.useRef(!!p&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return l8(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),i0.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,p)}),v.current=!1))}),f}function b8(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CA(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Li(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function CA(e){if(e)return e.options.allowProjection!==!1?e.projection:CA(e.parent)}function E8({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&f8(e);function a(u,c){let d;const f={...b.useContext(yA),...u,layoutId:C8(u)},{isStatic:h}=f,g=v8(u),p=r(u,h);if(!h&&Jv){k8();const v=T8(f);d=v.MeasureLayout,g.visualElement=S8(i,p,f,t,v.ProjectionNode)}return w.jsxs(Vu.Provider,{value:g,children:[d&&g.visualElement?w.jsx(d,{visualElement:g.visualElement,...f}):null,n(i,u,x8(p,g.visualElement,c),p,h,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=b.forwardRef(a);return l[w8]=i,l}function C8({layoutId:e}){const t=b.useContext(gA).id;return t&&e!==void 0?t+"-"+e:e}function k8(e,t){b.useContext(xA).strict}function T8(e){const{drag:t,layout:n}=ls;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const N8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s0(e){return typeof e!="string"||e.includes("-")?!1:!!(N8.indexOf(e)>-1||/[A-Z]/u.test(e))}function YE(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function o0(e,t,n,r){if(typeof t=="function"){const[i,s]=YE(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=YE(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const ny=e=>Array.isArray(e),M8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),P8=e=>ny(e)?e[e.length-1]||0:e,dt=e=>!!(e&&e.getVelocity);function rl(e){const t=dt(e)?e.get():e;return M8(t)?t.toValue():t}function A8({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:R8(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const kA=e=>(t,n)=>{const r=b.useContext(Vu),i=b.useContext(Qv),s=()=>A8(e,t,r,i);return n?s():o8(s)};function R8(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=rl(s[f]);let{initial:o,animate:a}=e;const l=zu(e),u=SA(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Bu(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const g=o0(e,f[h]);if(g){const{transitionEnd:p,transition:v,...m}=g;for(const y in m){let x=m[y];if(Array.isArray(x)){const _=c?x.length-1:0;x=x[_]}x!==null&&(i[y]=x)}for(const y in p)i[y]=p[y]}}}return i}const vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(vs),TA=e=>t=>typeof t=="string"&&t.startsWith(e),NA=TA("--"),I8=TA("var(--"),a0=e=>I8(e)?j8.test(e.split("/*")[0].trim()):!1,j8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,MA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zn=(e,t,n)=>n>t?t:n<e?e:n,ws={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fo={...ws,transform:e=>Zn(0,1,e)},qa={...ws,default:1},na=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),or=na("deg"),En=na("%"),ee=na("px"),D8=na("vh"),L8=na("vw"),XE={...En,parse:e=>En.parse(e)/100,transform:e=>En.transform(e*100)},O8={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee},q8={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:qa,scaleX:qa,scaleY:qa,scaleZ:qa,skew:or,skewX:or,skewY:or,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:Fo,originX:XE,originY:XE,originZ:ee},ZE={...ws,transform:Math.round},l0={...O8,...q8,zIndex:ZE,size:ee,fillOpacity:Fo,strokeOpacity:Fo,numOctaves:ZE},F8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$8=vs.length;function V8(e,t,n){let r="",i=!0;for(let s=0;s<$8;s++){const o=vs[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=MA(a,l0[o]);if(!l){i=!1;const c=F8[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function u0(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(gi.has(l)){o=!0;continue}else if(NA(l)){i[l]=u;continue}else{const c=MA(u,l0[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=V8(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const B8={offset:"stroke-dashoffset",array:"stroke-dasharray"},z8={offset:"strokeDashoffset",array:"strokeDasharray"};function U8(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?B8:z8;e[s.offset]=ee.transform(-r);const o=ee.transform(t),a=ee.transform(n);e[s.array]=`${o} ${a}`}function QE(e,t,n){return typeof e=="string"?e:ee.transform(t+n*e)}function H8(e,t,n){const r=QE(t,e.x,e.width),i=QE(n,e.y,e.height);return`${r} ${i}`}function c0(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d){if(u0(e,u,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h,dimensions:g}=e;f.transform&&(g&&(h.transform=f.transform),delete f.transform),g&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=H8(g,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&U8(f,o,a,l,!1)}const d0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),PA=()=>({...d0(),attrs:{}}),f0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function AA(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const RA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IA(e,t,n,r){AA(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(RA.has(i)?i:r0(i),t.attrs[i])}const Hl={};function G8(e){Object.assign(Hl,e)}function jA(e,{layout:t,layoutId:n}){return gi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hl[e]||e==="opacity")}function h0(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(dt(i[o])||t.style&&dt(t.style[o])||jA(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function DA(e,t,n){const r=h0(e,t,n);for(const i in e)if(dt(e[i])||dt(t[i])){const s=vs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function W8(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const JE=["x","y","width","height","cx","cy","r"],K8={useVisualState:kA({scrapeMotionValuesFromProps:DA,createRenderState:PA,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(gi.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<JE.length;a++){const l=JE[a];e[l]!==t[l]&&(o=!0)}o&&xe.read(()=>{W8(n,r),xe.render(()=>{c0(r,i,f0(n.tagName),e.transformTemplate),IA(n,r)})})}})},Y8={useVisualState:kA({scrapeMotionValuesFromProps:h0,createRenderState:d0})};function LA(e,t,n){for(const r in t)!dt(t[r])&&!jA(r,n)&&(e[r]=t[r])}function X8({transformTemplate:e},t){return b.useMemo(()=>{const n=d0();return u0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Z8(e,t){const n=e.style||{},r={};return LA(r,n,e),Object.assign(r,X8(e,t)),r}function Q8(e,t){const n={},r=Z8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function J8(e,t,n,r){const i=b.useMemo(()=>{const s=PA();return c0(s,t,f0(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};LA(s,e.style,e),i.style={...s,...i.style}}return i}function eU(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(s0(n)?J8:Q8)(r,s,o,n),u=m8(r,typeof n=="string",e),c=n!==b.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=b.useMemo(()=>dt(d)?d.get():d,[d]);return b.createElement(n,{...c,children:f})}}function tU(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...s0(r)?K8:Y8,preloadedFeatures:e,useRender:eU(i),createVisualElement:t,Component:r};return E8(o)}}function OA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Uu(e,t,n){const r=e.getProps();return o0(r,t,n!==void 0?n:r.custom,e)}const nU=e0(()=>window.ScrollTimeline!==void 0);class rU{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(nU()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iU extends rU{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function p0(e,t){return e?e[t]||e.default||e:void 0}const ry=2e4;function qA(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ry;)t+=n,r=e.next(t);return t>=ry?1/0:t}function m0(e){return typeof e=="function"}function eC(e,t){e.timeline=t,e.onfinish=null}const g0=e=>Array.isArray(e)&&typeof e[0]=="number",sU={linearEasing:void 0};function oU(e,t){const n=e0(e);return()=>{var r;return(r=sU[t])!==null&&r!==void 0?r:n()}}const Gl=oU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),FA=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(as(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function $A(e){return!!(typeof e=="function"&&Gl()||!e||typeof e=="string"&&(e in iy||Gl())||g0(e)||Array.isArray(e)&&e.every($A))}const Xs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,iy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xs([0,.65,.55,1]),circOut:Xs([.55,0,1,.45]),backIn:Xs([.31,.01,.66,-.59]),backOut:Xs([.33,1.53,.69,.99])};function VA(e,t){if(e)return typeof e=="function"&&Gl()?FA(e,t):g0(e)?Xs(e):Array.isArray(e)?e.map(n=>VA(n,t)||iy.easeOut):iy[e]}const en={x:!1,y:!1};function BA(){return en.x||en.y}function aU(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function zA(e,t){const n=aU(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function tC(e){return t=>{t.pointerType==="touch"||BA()||e(t)}}function lU(e,t,n={}){const[r,i,s]=zA(e,n),o=tC(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const c=tC(d=>{u(d),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const UA=(e,t)=>t?e===t?!0:UA(e,t.parentElement):!1,y0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,uU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cU(e){return uU.has(e.tagName)||e.tabIndex!==-1}const Zs=new WeakSet;function nC(e){return t=>{t.key==="Enter"&&e(t)}}function Pm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const dU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=nC(()=>{if(Zs.has(n))return;Pm(n,"down");const i=nC(()=>{Pm(n,"up")}),s=()=>Pm(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function rC(e){return y0(e)&&!BA()}function fU(e,t,n={}){const[r,i,s]=zA(e,n),o=a=>{const l=a.currentTarget;if(!rC(a)||Zs.has(l))return;Zs.add(l);const u=t(a),c=(h,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!rC(h)||!Zs.has(l))&&(Zs.delete(l),typeof u=="function"&&u(h,{success:g}))},d=h=>{c(h,n.useGlobalTarget||UA(l,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{!cU(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>dU(u,i),i)}),s}function hU(e){return e==="x"||e==="y"?en[e]?null:(en[e]=!0,()=>{en[e]=!1}):en.x||en.y?null:(en.x=en.y=!0,()=>{en.x=en.y=!1})}const HA=new Set(["width","height","top","left","right","bottom",...vs]);let il;function pU(){il=void 0}const Cn={now:()=>(il===void 0&&Cn.set(et.isProcessing||u8.useManualTiming?et.timestamp:performance.now()),il),set:e=>{il=e,queueMicrotask(pU)}};function v0(e,t){e.indexOf(t)===-1&&e.push(t)}function w0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class x0{constructor(){this.subscriptions=[]}add(t){return v0(this.subscriptions,t),()=>w0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function GA(e,t){return t?e*(1e3/t):0}const iC=30,mU=e=>!isNaN(parseFloat(e));class gU{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Cn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new x0);const r=this.events[t].add(n);return t==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iC);return GA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(e,t){return new gU(e,t)}function yU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$o(n))}function vU(e,t){const n=Uu(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=P8(s[o]);yU(e,o,a)}}function wU(e){return!!(dt(e)&&e.add)}function sy(e,t){const n=e.getValue("willChange");if(wU(n))return n.add(t)}function WA(e){return e.props[bA]}const KA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xU=1e-7,_U=12;function SU(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=KA(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>xU&&++a<_U);return o}function ra(e,t,n,r){if(e===t&&n===r)return It;const i=s=>SU(s,0,1,e,n);return s=>s===0||s===1?s:KA(i(s),t,r)}const YA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,XA=e=>t=>1-e(1-t),ZA=ra(.33,1.53,.69,.99),_0=XA(ZA),QA=YA(_0),JA=e=>(e*=2)<1?.5*_0(e):.5*(2-Math.pow(2,-10*(e-1))),S0=e=>1-Math.sin(Math.acos(e)),eR=XA(S0),tR=YA(S0),nR=e=>/^0[^.\s]+$/u.test(e);function bU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||nR(e):!0}const lo=e=>Math.round(e*1e5)/1e5,b0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EU(e){return e==null}const CU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,E0=(e,t)=>n=>!!(typeof n=="string"&&CU.test(n)&&n.startsWith(e)||t&&!EU(n)&&Object.prototype.hasOwnProperty.call(n,t)),rR=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(b0);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},kU=e=>Zn(0,255,e),Am={...ws,transform:e=>Math.round(kU(e))},Xr={test:E0("rgb","red"),parse:rR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Am.transform(e)+", "+Am.transform(t)+", "+Am.transform(n)+", "+lo(Fo.transform(r))+")"};function TU(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const oy={test:E0("#"),parse:TU,transform:Xr.transform},Oi={test:E0("hsl","hue"),parse:rR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+En.transform(lo(t))+", "+En.transform(lo(n))+", "+lo(Fo.transform(r))+")"},ut={test:e=>Xr.test(e)||oy.test(e)||Oi.test(e),parse:e=>Xr.test(e)?Xr.parse(e):Oi.test(e)?Oi.parse(e):oy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Xr.transform(e):Oi.transform(e)},NU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MU(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(b0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(NU))===null||n===void 0?void 0:n.length)||0)>0}const iR="number",sR="color",PU="var",AU="var(",sC="${}",RU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(RU,l=>(ut.test(l)?(r.color.push(s),i.push(sR),n.push(ut.parse(l))):l.startsWith(AU)?(r.var.push(s),i.push(PU),n.push(l)):(r.number.push(s),i.push(iR),n.push(parseFloat(l))),++s,sC)).split(sC);return{values:n,split:a,indexes:r,types:i}}function oR(e){return Vo(e).values}function aR(e){const{split:t,types:n}=Vo(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===iR?s+=lo(i[o]):a===sR?s+=ut.transform(i[o]):s+=i[o]}return s}}const IU=e=>typeof e=="number"?0:e;function jU(e){const t=oR(e);return aR(e)(t.map(IU))}const Ar={test:MU,parse:oR,createTransformer:aR,getAnimatableNone:jU},DU=new Set(["brightness","contrast","saturate","opacity"]);function LU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(b0)||[];if(!r)return e;const i=n.replace(r,"");let s=DU.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const OU=/\b([a-z-]*)\(.*?\)/gu,ay={...Ar,getAnimatableNone:e=>{const t=e.match(OU);return t?t.map(LU).join(" "):e}},qU={...l0,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:ay,WebkitFilter:ay},C0=e=>qU[e];function lR(e,t){let n=C0(e);return n!==ay&&(n=Ar),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const FU=new Set(["auto","none","0"]);function $U(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!FU.has(s)&&Vo(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=lR(n,i)}const oC=e=>e===ws||e===ee,aC=(e,t)=>parseFloat(e.split(", ")[t]),lC=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return aC(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?aC(s[1],e):0}},VU=new Set(["x","y","z"]),BU=vs.filter(e=>!VU.has(e));function zU(e){const t=[];return BU.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const us={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lC(4,13),y:lC(5,14)};us.translateX=us.x;us.translateY=us.y;const ti=new Set;let ly=!1,uy=!1;function uR(){if(uy){const e=Array.from(ti).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=zU(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uy=!1,ly=!1,ti.forEach(e=>e.complete()),ti.clear()}function cR(){ti.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(uy=!0)})}function UU(){cR(),uR()}class k0{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ti.add(this),ly||(ly=!0,xe.read(cR),xe.resolveKeyframes(uR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ti.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ti.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),HU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GU(e){const t=HU.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function fR(e,t,n=1){const[r,i]=GU(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return dR(o)?parseFloat(o):o}return a0(i)?fR(i,t,n+1):i}const hR=e=>t=>t.test(e),WU={test:e=>e==="auto",parse:e=>e},pR=[ws,ee,En,or,L8,D8,WU],uC=e=>pR.find(hR(e));class mR extends k0{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),a0(u))){const c=fR(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!HA.has(r)||t.length!==2)return;const[i,s]=t,o=uC(i),a=uC(s);if(o!==a)if(oC(o)&&oC(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)bU(t[i])&&r.push(i);r.length&&$U(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=us[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=us[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const cC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ar.test(e)||e==="0")&&!e.startsWith("url("));function KU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function YU(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=cC(i,t),a=cC(s,t);return!o||!a?!1:KU(e)||(n==="spring"||m0(n))&&r}const XU=e=>e!==null;function Hu(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(XU),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const ZU=40;class gR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Cn.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UU(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Cn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!YU(t,r,i,s))if(o)this.options.duration=0;else{l&&l(Hu(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ne=(e,t,n)=>e+(t-e)*n;function Rm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function QU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Rm(l,a,e+1/3),s=Rm(l,a,e),o=Rm(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Wl(e,t){return n=>n>0?t:e}const Im=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},JU=[oy,Xr,Oi],eH=e=>JU.find(t=>t.test(e));function dC(e){const t=eH(e);if(!t)return!1;let n=t.parse(e);return t===Oi&&(n=QU(n)),n}const fC=(e,t)=>{const n=dC(e),r=dC(t);if(!n||!r)return Wl(e,t);const i={...n};return s=>(i.red=Im(n.red,r.red,s),i.green=Im(n.green,r.green,s),i.blue=Im(n.blue,r.blue,s),i.alpha=Ne(n.alpha,r.alpha,s),Xr.transform(i))},tH=(e,t)=>n=>t(e(n)),ia=(...e)=>e.reduce(tH),cy=new Set(["none","hidden"]);function nH(e,t){return cy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function rH(e,t){return n=>Ne(e,t,n)}function T0(e){return typeof e=="number"?rH:typeof e=="string"?a0(e)?Wl:ut.test(e)?fC:oH:Array.isArray(e)?yR:typeof e=="object"?ut.test(e)?fC:iH:Wl}function yR(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>T0(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function iH(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=T0(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function sH(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const oH=(e,t)=>{const n=Ar.createTransformer(t),r=Vo(e),i=Vo(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?cy.has(e)&&!i.values.length||cy.has(t)&&!r.values.length?nH(e,t):ia(yR(sH(r,i),i.values),n):Wl(e,t)};function vR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ne(e,t,n):T0(e)(e,t)}const aH=5;function wR(e,t,n){const r=Math.max(t-aH,0);return GA(n-e(r),t-r)}const Ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jm=.001;function lH({duration:e=Ie.duration,bounce:t=Ie.bounce,velocity:n=Ie.velocity,mass:r=Ie.mass}){let i,s,o=1-t;o=Zn(Ie.minDamping,Ie.maxDamping,o),e=Zn(Ie.minDuration,Ie.maxDuration,zn(e)),o<1?(i=u=>{const c=u*o,d=c*e,f=c-n,h=dy(u,o),g=Math.exp(-d);return jm-f/h*g},s=u=>{const d=u*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-d),p=dy(Math.pow(u,2),o);return(-i(u)+jm>0?-1:1)*((f-h)*g)/p}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-jm+c*d},s=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=cH(i,s,a);if(e=Bn(e),isNaN(l))return{stiffness:Ie.stiffness,damping:Ie.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const uH=12;function cH(e,t,n){let r=n;for(let i=1;i<uH;i++)r=r-e(r)/t(r);return r}function dy(e,t){return e*Math.sqrt(1-t*t)}const dH=["duration","bounce"],fH=["stiffness","damping","mass"];function hC(e,t){return t.some(n=>e[n]!==void 0)}function hH(e){let t={velocity:Ie.velocity,stiffness:Ie.stiffness,damping:Ie.damping,mass:Ie.mass,isResolvedFromDuration:!1,...e};if(!hC(e,fH)&&hC(e,dH))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Zn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ie.mass,stiffness:i,damping:s}}else{const n=lH(e);t={...t,...n,mass:Ie.mass},t.isResolvedFromDuration=!0}return t}function xR(e=Ie.visualDuration,t=Ie.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=hH({...n,velocity:-zn(n.velocity||0)}),g=f||0,p=u/(2*Math.sqrt(l*c)),v=o-s,m=zn(Math.sqrt(l/c)),y=Math.abs(v)<5;r||(r=y?Ie.restSpeed.granular:Ie.restSpeed.default),i||(i=y?Ie.restDelta.granular:Ie.restDelta.default);let x;if(p<1){const S=dy(m,p);x=C=>{const k=Math.exp(-p*m*C);return o-k*((g+p*m*v)/S*Math.sin(S*C)+v*Math.cos(S*C))}}else if(p===1)x=S=>o-Math.exp(-m*S)*(v+(g+m*v)*S);else{const S=m*Math.sqrt(p*p-1);x=C=>{const k=Math.exp(-p*m*C),T=Math.min(S*C,300);return o-k*((g+p*m*v)*Math.sinh(T)+S*v*Math.cosh(T))/S}}const _={calculatedDuration:h&&d||null,next:S=>{const C=x(S);if(h)a.done=S>=d;else{let k=0;p<1&&(k=S===0?Bn(g):wR(x,S,C));const T=Math.abs(k)<=r,M=Math.abs(o-C)<=i;a.done=T&&M}return a.value=a.done?o:C,a},toString:()=>{const S=Math.min(qA(_),ry),C=FA(k=>_.next(S*k).value,S,30);return S+"ms "+C}};return _}function pC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},h=T=>a!==void 0&&T<a||l!==void 0&&T>l,g=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let p=n*t;const v=d+p,m=o===void 0?v:o(v);m!==v&&(p=m-d);const y=T=>-p*Math.exp(-T/r),x=T=>m+y(T),_=T=>{const M=y(T),R=x(T);f.done=Math.abs(M)<=u,f.value=f.done?m:R};let S,C;const k=T=>{h(f.value)&&(S=T,C=xR({keyframes:[f.value,g(f.value)],velocity:wR(x,T,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:T=>{let M=!1;return!C&&S===void 0&&(M=!0,_(T),k(T)),S!==void 0&&T>=S?C.next(T-S):(!M&&_(T),f)}}}const pH=ra(.42,0,1,1),mH=ra(0,0,.58,1),_R=ra(.42,0,.58,1),gH=e=>Array.isArray(e)&&typeof e[0]!="number",yH={linear:It,easeIn:pH,easeInOut:_R,easeOut:mH,circIn:S0,circInOut:tR,circOut:eR,backIn:_0,backInOut:QA,backOut:ZA,anticipate:JA},mC=e=>{if(g0(e)){vA(e.length===4);const[t,n,r,i]=e;return ra(t,n,r,i)}else if(typeof e=="string")return yH[e];return e};function vH(e,t,n){const r=[],i=n||vR,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||It:t;a=ia(l,a)}r.push(a)}return r}function wH(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(vA(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=vH(t,r,i),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=as(e[d],e[d+1],c);return a[d](f)};return n?c=>u(Zn(e[0],e[s-1],c)):u}function xH(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=as(0,t,r);e.push(Ne(n,1,i))}}function _H(e){const t=[0];return xH(t,e.length-1),t}function SH(e,t){return e.map(n=>n*t)}function bH(e,t){return e.map(()=>t||_R).splice(0,e.length-1)}function Kl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=gH(r)?r.map(mC):mC(r),s={done:!1,value:t[0]},o=SH(n&&n.length===t.length?n:_H(t),e),a=wH(o,t,{ease:Array.isArray(i)?i:bH(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const EH=e=>{const t=({timestamp:n})=>e(n);return{start:()=>xe.update(t,!0),stop:()=>Pr(t),now:()=>et.isProcessing?et.timestamp:Cn.now()}},CH={decay:pC,inertia:pC,tween:Kl,keyframes:Kl,spring:xR},kH=e=>e/100;class N0 extends gR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||k0,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=m0(n)?n:CH[n]||Kl;let l,u;a!==Kl&&typeof t[0]!="number"&&(l=ia(kH,vR(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});s==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=qA(c));const{calculatedDuration:d}=c,f=d+i,h=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:h,repeatType:g,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>c;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let x=this.currentTime,_=s;if(h){const T=Math.min(this.currentTime,c)/d;let M=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(g==="reverse"?(R=1-R,p&&(R-=p/d)):g==="mirror"&&(_=o)),x=Zn(0,1,R)*d}const S=y?{done:!1,value:l[0]}:_.next(x);a&&(S.value=a(S.value));let{done:C}=S;!y&&u!==null&&(C=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&i!==void 0&&(S.value=Hu(l,this.options,i)),v&&v(S.value),k&&this.finish(),S}get duration(){const{resolved:t}=this;return t?zn(t.calculatedDuration):0}get time(){return zn(this.currentTime)}set time(t){t=Bn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=zn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=EH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const TH=new Set(["opacity","clipPath","filter","transform"]);function NH(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=VA(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const MH=e0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yl=10,PH=2e4;function AH(e){return m0(e.type)||e.type==="spring"||!$A(e.ease)}function RH(e,t){const n=new N0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<PH;)r=n.sample(s),i.push(r.value),s+=Yl;return{times:void 0,keyframes:i,duration:s-Yl,ease:"linear"}}const SR={anticipate:JA,backInOut:QA,circInOut:tR};function IH(e){return e in SR}class gC extends gR{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new mR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Gl()&&IH(s)&&(s=SR[s]),AH(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,element:g,...p}=this.options,v=RH(t,p);t=v.keyframes,t.length===1&&(t[1]=t[0]),r=v.duration,i=v.times,s=v.ease,o="keyframes"}const c=NH(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(eC(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;a.set(Hu(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return zn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return zn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Bn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return It;const{animation:r}=n;eC(r,t)}return It}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:f,...h}=this.options,g=new N0({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),p=Bn(this.time);u.setWithVelocity(g.sample(p-Yl).value,g.sample(p).value,Yl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return MH()&&r&&TH.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const jH={type:"spring",stiffness:500,damping:25,restSpeed:10},DH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),LH={type:"keyframes",duration:.8},OH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qH=(e,{keyframes:t})=>t.length>2?LH:gi.has(e)?e.startsWith("scale")?DH(t[1]):jH:OH;function FH({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const M0=(e,t,n,r={},i,s)=>o=>{const a=p0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Bn(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};FH(a)||(c={...c,...qH(e,c)}),c.duration&&(c.duration=Bn(c.duration)),c.repeatDelay&&(c.repeatDelay=Bn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!s&&t.get()!==void 0){const f=Hu(c.keyframes,a);if(f!==void 0)return xe.update(()=>{c.onUpdate(f),c.onComplete()}),new iU([])}return!s&&gC.supports(c)?new gC(c):new N0(c)};function $H({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function bR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,(s=e.latestValues[d])!==null&&s!==void 0?s:null),h=l[d];if(h===void 0||c&&$H(c,d))continue;const g={delay:n,...p0(o||{},d)};let p=!1;if(window.MotionHandoffAnimation){const m=WA(e);if(m){const y=window.MotionHandoffAnimation(m,d,xe);y!==null&&(g.startTime=y,p=!0)}}sy(e,d),f.start(M0(d,f,h,e.shouldReduceMotion&&HA.has(d)?{type:!1}:g,e,p));const v=f.animation;v&&u.push(v)}return a&&Promise.all(u).then(()=>{xe.update(()=>{a&&vU(e,a)})}),u}function fy(e,t,n={}){var r;const i=Uu(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(bR(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return VH(e,t,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function VH(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(BH).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(fy(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function BH(e,t){return e.sortNodePosition(t)}function zH(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>fy(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=fy(e,t,n);else{const i=typeof t=="function"?Uu(e,t,n.custom):t;r=Promise.all(bR(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const UH=n0.length;function ER(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ER(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<UH;n++){const r=n0[n],i=e.props[r];(qo(i)||i===!1)&&(t[r]=i)}return t}const HH=[...t0].reverse(),GH=t0.length;function WH(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zH(e,n,r)))}function KH(e){let t=WH(e),n=yC(),r=!0;const i=l=>(u,c)=>{var d;const f=Uu(e,c,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:g,...p}=f;u={...u,...p,...g}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=ER(e.parent)||{},d=[],f=new Set;let h={},g=1/0;for(let v=0;v<GH;v++){const m=HH[v],y=n[m],x=u[m]!==void 0?u[m]:c[m],_=qo(x),S=m===l?y.isActive:null;S===!1&&(g=v);let C=x===c[m]&&x!==u[m]&&_;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...h},!y.isActive&&S===null||!x&&!y.prevProp||Bu(x)||typeof x=="boolean")continue;const k=YH(y.prevProp,x);let T=k||m===l&&y.isActive&&!C&&_||v>g&&_,M=!1;const R=Array.isArray(x)?x:[x];let I=R.reduce(i(m),{});S===!1&&(I={});const{prevResolvedValues:B={}}=y,V={...B,...I},E=L=>{T=!0,f.has(L)&&(M=!0,f.delete(L)),y.needsAnimating[L]=!0;const P=e.getValue(L);P&&(P.liveStyle=!1)};for(const L in V){const P=I[L],N=B[L];if(h.hasOwnProperty(L))continue;let j=!1;ny(P)&&ny(N)?j=!OA(P,N):j=P!==N,j?P!=null?E(L):f.add(L):P!==void 0&&f.has(L)?E(L):y.protectedKeys[L]=!0}y.prevProp=x,y.prevResolvedValues=I,y.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(C&&k)||M)&&d.push(...R.map(L=>({animation:L,options:{type:m}})))}if(f.size){const v={};f.forEach(m=>{const y=e.getBaseTarget(m),x=e.getValue(m);x&&(x.liveStyle=!0),v[m]=y??null}),d.push({animation:v})}let p=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(d):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(f=>{var h;return(h=f.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=yC(),r=!0}}}function YH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OA(t,e):!1}function qr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yC(){return{animate:qr(!0),whileInView:qr(),whileHover:qr(),whileTap:qr(),whileDrag:qr(),whileFocus:qr(),exit:qr()}}class Lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class XH extends Lr{constructor(t){super(t),t.animationState||(t.animationState=KH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ZH=0;class QH extends Lr{constructor(){super(...arguments),this.id=ZH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const JH={animation:{Feature:XH},exit:{Feature:QH}};function Bo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function sa(e){return{point:{x:e.pageX,y:e.pageY}}}const eG=e=>t=>y0(t)&&e(t,sa(t));function uo(e,t,n,r){return Bo(e,t,eG(n),r)}const vC=(e,t)=>Math.abs(e-t);function tG(e,t){const n=vC(e.x,t.x),r=vC(e.y,t.y);return Math.sqrt(n**2+r**2)}class CR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Lm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=tG(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:g}=d,{timestamp:p}=et;this.history.push({...g,timestamp:p});const{onStart:v,onMove:m}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Dm(f,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Lm(d.type==="pointercancel"?this.lastMoveEventInfo:Dm(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,v),g&&g(d,v)},!y0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=sa(t),a=Dm(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=et;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,Lm(a,this.history)),this.removeListeners=ia(uo(this.contextWindow,"pointermove",this.handlePointerMove),uo(this.contextWindow,"pointerup",this.handlePointerUp),uo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pr(this.updatePoint)}}function Dm(e,t){return t?{point:t(e.point)}:e}function wC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Lm({point:e},t){return{point:e,delta:wC(e,kR(t)),offset:wC(e,nG(t)),velocity:rG(t,.1)}}function nG(e){return e[0]}function kR(e){return e[e.length-1]}function rG(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=kR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Bn(t)));)n--;if(!r)return{x:0,y:0};const s=zn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const TR=1e-4,iG=1-TR,sG=1+TR,NR=.01,oG=0-NR,aG=0+NR;function Lt(e){return e.max-e.min}function lG(e,t,n){return Math.abs(e-t)<=n}function xC(e,t,n,r=.5){e.origin=r,e.originPoint=Ne(t.min,t.max,e.origin),e.scale=Lt(n)/Lt(t),e.translate=Ne(n.min,n.max,e.origin)-e.originPoint,(e.scale>=iG&&e.scale<=sG||isNaN(e.scale))&&(e.scale=1),(e.translate>=oG&&e.translate<=aG||isNaN(e.translate))&&(e.translate=0)}function co(e,t,n,r){xC(e.x,t.x,n.x,r?r.originX:void 0),xC(e.y,t.y,n.y,r?r.originY:void 0)}function _C(e,t,n){e.min=n.min+t.min,e.max=e.min+Lt(t)}function uG(e,t,n){_C(e.x,t.x,n.x),_C(e.y,t.y,n.y)}function SC(e,t,n){e.min=t.min-n.min,e.max=e.min+Lt(t)}function fo(e,t,n){SC(e.x,t.x,n.x),SC(e.y,t.y,n.y)}function cG(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ne(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ne(n,e,r.max):Math.min(e,n)),e}function bC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function dG(e,{top:t,left:n,bottom:r,right:i}){return{x:bC(e.x,n,i),y:bC(e.y,t,r)}}function EC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function fG(e,t){return{x:EC(e.x,t.x),y:EC(e.y,t.y)}}function hG(e,t){let n=.5;const r=Lt(e),i=Lt(t);return i>r?n=as(t.min,t.max-r,e.min):r>i&&(n=as(e.min,e.max-i,t.min)),Zn(0,1,n)}function pG(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const hy=.35;function mG(e=hy){return e===!1?e=0:e===!0&&(e=hy),{x:CC(e,"left","right"),y:CC(e,"top","bottom")}}function CC(e,t,n){return{min:kC(e,t),max:kC(e,n)}}function kC(e,t){return typeof e=="number"?e:e[t]||0}const TC=()=>({translate:0,scale:1,origin:0,originPoint:0}),qi=()=>({x:TC(),y:TC()}),NC=()=>({min:0,max:0}),qe=()=>({x:NC(),y:NC()});function $t(e){return[e("x"),e("y")]}function MR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function gG({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yG(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Om(e){return e===void 0||e===1}function py({scale:e,scaleX:t,scaleY:n}){return!Om(e)||!Om(t)||!Om(n)}function Br(e){return py(e)||PR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function PR(e){return MC(e.x)||MC(e.y)}function MC(e){return e&&e!=="0%"}function Xl(e,t,n){const r=e-n,i=t*r;return n+i}function PC(e,t,n,r,i){return i!==void 0&&(e=Xl(e,i,r)),Xl(e,n,r)+t}function my(e,t=0,n=1,r,i){e.min=PC(e.min,t,n,r,i),e.max=PC(e.max,t,n,r,i)}function AR(e,{x:t,y:n}){my(e.x,t.translate,t.scale,t.originPoint),my(e.y,n.translate,n.scale,n.originPoint)}const AC=.999999999999,RC=1.0000000000001;function vG(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$i(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,AR(e,o)),r&&Br(s.latestValues)&&$i(e,s.latestValues))}t.x<RC&&t.x>AC&&(t.x=1),t.y<RC&&t.y>AC&&(t.y=1)}function Fi(e,t){e.min=e.min+t,e.max=e.max+t}function IC(e,t,n,r,i=.5){const s=Ne(e.min,e.max,i);my(e,t,n,s,r)}function $i(e,t){IC(e.x,t.x,t.scaleX,t.scale,t.originX),IC(e.y,t.y,t.scaleY,t.scale,t.originY)}function RR(e,t){return MR(yG(e.getBoundingClientRect(),t))}function wG(e,t,n){const r=RR(e,n),{scroll:i}=t;return i&&(Fi(r.x,i.offset.x),Fi(r.y,i.offset.y)),r}const IR=({current:e})=>e?e.ownerDocument.defaultView:null,xG=new WeakMap;class _G{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sa(c).point)},s=(c,d)=>{const{drag:f,dragPropagation:h,onDragStart:g}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hU(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$t(v=>{let m=this.getAxisMotionValue(v).get()||0;if(En.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(m=Lt(x)*(parseFloat(m)/100))}}this.originPoint[v]=m}),g&&xe.postRender(()=>g(c,d)),sy(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:g,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(h&&this.currentDirection===null){this.currentDirection=SG(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),p&&p(c,d)},a=(c,d)=>this.stop(c,d),l=()=>$t(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new CR(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:IR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&xe.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Fa(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=cG(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Li(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=dG(i.layoutBox,n):this.constraints=!1,this.elastic=mG(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&$t(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=pG(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Li(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=wG(r,i.root,this.visualElement.getTransformPagePoint());let o=fG(i.layout.layoutBox,s);if(n){const a=n(gG(o));this.hasMutatedConstraints=!!a,a&&(o=MR(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=$t(c=>{if(!Fa(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return sy(this.visualElement,t),r.start(M0(t,r,0,n,this.visualElement,!1))}stopAnimation(){$t(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$t(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){$t(n=>{const{drag:r}=this.getProps();if(!Fa(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Li(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};$t(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=hG({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$t(o=>{if(!Fa(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ne(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;xG.set(this.visualElement,this);const t=this.visualElement.current,n=uo(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Li(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xe.read(r);const o=Bo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&($t(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=hy,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Fa(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SG(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class bG extends Lr{constructor(t){super(t),this.removeGroupControls=It,this.removeListeners=It,this.controls=new _G(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||It}unmount(){this.removeGroupControls(),this.removeListeners()}}const jC=e=>(t,n)=>{e&&xe.postRender(()=>e(t,n))};class EG extends Lr{constructor(){super(...arguments),this.removePointerDownListener=It}onPointerDown(t){this.session=new CR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jC(t),onStart:jC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&xe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=uo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ls={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=DC(e,t.target.x),r=DC(e,t.target.y);return`${n}% ${r}%`}},CG={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ar.parse(e);if(i.length>5)return r;const s=Ar.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class kG extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;G8(TG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),sl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||xe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),i0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jR(e){const[t,n]=a8(),r=b.useContext(gA);return w.jsx(kG,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(EA),isPresent:t,safeToRemove:n})}const TG={borderRadius:{...Ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ls,borderTopRightRadius:Ls,borderBottomLeftRadius:Ls,borderBottomRightRadius:Ls,boxShadow:CG};function NG(e,t,n){const r=dt(e)?e:$o(e);return r.start(M0("",r,t,n)),r.animation}function MG(e){return e instanceof SVGElement&&e.tagName!=="svg"}const PG=(e,t)=>e.depth-t.depth;class AG{constructor(){this.children=[],this.isDirty=!1}add(t){v0(this.children,t),this.isDirty=!0}remove(t){w0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(PG),this.isDirty=!1,this.children.forEach(t)}}function RG(e,t){const n=Cn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Pr(r),e(s-t))};return xe.read(r,!0),()=>Pr(r)}const DR=["TopLeft","TopRight","BottomLeft","BottomRight"],IG=DR.length,LC=e=>typeof e=="string"?parseFloat(e):e,OC=e=>typeof e=="number"||ee.test(e);function jG(e,t,n,r,i,s){i?(e.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,DG(r)),e.opacityExit=Ne(t.opacity!==void 0?t.opacity:1,0,LG(r))):s&&(e.opacity=Ne(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<IG;o++){const a=`border${DR[o]}Radius`;let l=qC(t,a),u=qC(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||OC(l)===OC(u)?(e[a]=Math.max(Ne(LC(l),LC(u),r),0),(En.test(u)||En.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Ne(t.rotate||0,n.rotate||0,r))}function qC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DG=LR(0,.5,eR),LG=LR(.5,.95,It);function LR(e,t,n){return r=>r<e?0:r>t?1:n(as(e,t,r))}function FC(e,t){e.min=t.min,e.max=t.max}function Ft(e,t){FC(e.x,t.x),FC(e.y,t.y)}function $C(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function VC(e,t,n,r,i){return e-=t,e=Xl(e,1/n,r),i!==void 0&&(e=Xl(e,1/i,r)),e}function OG(e,t=0,n=1,r=.5,i,s=e,o=e){if(En.test(t)&&(t=parseFloat(t),t=Ne(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ne(s.min,s.max,r);e===s&&(a-=t),e.min=VC(e.min,t,n,a,i),e.max=VC(e.max,t,n,a,i)}function BC(e,t,[n,r,i],s,o){OG(e,t[n],t[r],t[i],t.scale,s,o)}const qG=["x","scaleX","originX"],FG=["y","scaleY","originY"];function zC(e,t,n,r){BC(e.x,t,qG,n?n.x:void 0,r?r.x:void 0),BC(e.y,t,FG,n?n.y:void 0,r?r.y:void 0)}function UC(e){return e.translate===0&&e.scale===1}function OR(e){return UC(e.x)&&UC(e.y)}function HC(e,t){return e.min===t.min&&e.max===t.max}function $G(e,t){return HC(e.x,t.x)&&HC(e.y,t.y)}function GC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qR(e,t){return GC(e.x,t.x)&&GC(e.y,t.y)}function WC(e){return Lt(e.x)/Lt(e.y)}function KC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class VG{constructor(){this.members=[]}add(t){v0(this.members,t),t.scheduleRender()}remove(t){if(w0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BG(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Qs=typeof window<"u"&&window.MotionDebug!==void 0,qm=["","X","Y","Z"],zG={visibility:"hidden"},YC=1e3;let UG=0;function Fm(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function FR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=WA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xe,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&FR(r)}function $R({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=UG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qs&&(zr.totalNodes=zr.resolvedTargetDeltas=zr.recalculatedProjection=0),this.nodes.forEach(WG),this.nodes.forEach(QG),this.nodes.forEach(JG),this.nodes.forEach(KG),Qs&&window.MotionDebug.record(zr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new AG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new x0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=MG(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=RG(f,250),sl.hasAnimatedSinceResize&&(sl.hasAnimatedSinceResize=!1,this.nodes.forEach(ZC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||i9,{onLayoutAnimationStart:v,onLayoutAnimationComplete:m}=c.getProps(),y=!this.targetLayout||!qR(this.targetLayout,g)||h,x=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const _={...p0(p,"layout"),onPlay:v,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||ZC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XC);return}this.isUpdating||this.nodes.forEach(XG),this.isUpdating=!1,this.nodes.forEach(ZG),this.nodes.forEach(HG),this.nodes.forEach(GG),this.clearAllSnapshots();const a=Cn.now();et.delta=Zn(0,1e3/60,a-et.timestamp),et.timestamp=a,et.isProcessing=!0,Mm.update.process(et),Mm.preRender.process(et),Mm.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,i0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YG),this.sharedNodes.forEach(t9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!OR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Br(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),s9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return qe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(o9))){const{scroll:c}=this.root;c&&(Fi(l.x,c.offset.x),Fi(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=qe();if(Ft(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Ft(l,o),Fi(l.x,d.offset.x),Fi(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=qe();Ft(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$i(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Br(c.latestValues)&&$i(l,c.latestValues)}return Br(this.latestValues)&&$i(l,this.latestValues),l}removeTransform(o){const a=qe();Ft(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Br(u.latestValues))continue;py(u.latestValues)&&u.updateSnapshot();const c=qe(),d=u.measurePageBox();Ft(c,d),zC(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Br(this.latestValues)&&zC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),fo(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ft(this.target,this.layout.layoutBox),AR(this.target,this.targetDelta)):Ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),fo(this.relativeTargetOrigin,this.target,h.target),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qs&&zr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||py(this.parent.latestValues)||PR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===et.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Ft(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;vG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=qe());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($C(this.prevProjectionDelta.x,this.projectionDelta.x),$C(this.prevProjectionDelta.y,this.projectionDelta.y)),co(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!KC(this.projectionDelta.x,this.prevProjectionDelta.x)||!KC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Qs&&zr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qi(),this.projectionDelta=qi(),this.projectionDeltaWithTransform=qi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=qi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=qe(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,p=h!==g,v=this.getStack(),m=!v||v.members.length<=1,y=!!(p&&!m&&this.options.crossfade===!0&&!this.path.some(r9));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const S=_/1e3;QC(d.x,o.x,S),QC(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n9(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&$G(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=qe()),Ft(x,this.relativeTarget)),p&&(this.animationValues=c,jG(c,u,this.latestValues,S,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{sl.hasAnimatedSinceResize=!0,this.currentAnimation=NG(0,YC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&VR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||qe();const d=Lt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Lt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Ft(a,l),$i(a,c),co(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new VG),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Fm("z",o,u,this.animationValues);for(let c=0;c<qm.length;c++)Fm(`rotate${qm[c]}`,o,u,this.animationValues),Fm(`skew${qm[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zG;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=rl(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=rl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Br(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=BG(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:h,y:g}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in Hl){if(f[p]===void 0)continue;const{correct:v,applyTo:m}=Hl[p],y=u.transform==="none"?f[p]:v(f[p],d);if(m){const x=m.length;for(let _=0;_<x;_++)u[m[_]]=y}else u[p]=y}return this.options.layoutId&&(u.pointerEvents=d===this?rl(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(XC),this.root.sharedNodes.clear()}}}function HG(e){e.updateLayout()}function GG(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?$t(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Lt(f);f.min=r[d].min,f.max=f.min+h}):VR(s,n.layoutBox,r)&&$t(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],h=Lt(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=qi();co(a,r,n.layoutBox);const l=qi();o?co(l,e.applyTransform(i,!0),n.measuredBox):co(l,r,n.layoutBox);const u=!OR(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const g=qe();fo(g,n.layoutBox,f.layoutBox);const p=qe();fo(p,r,h.layoutBox),qR(g,p)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function WG(e){Qs&&zr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KG(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function YG(e){e.clearSnapshot()}function XC(e){e.clearMeasurements()}function XG(e){e.isLayoutDirty=!1}function ZG(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QG(e){e.resolveTargetDelta()}function JG(e){e.calcProjection()}function e9(e){e.resetSkewAndRotation()}function t9(e){e.removeLeadSnapshot()}function QC(e,t,n){e.translate=Ne(t.translate,0,n),e.scale=Ne(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function JC(e,t,n,r){e.min=Ne(t.min,n.min,r),e.max=Ne(t.max,n.max,r)}function n9(e,t,n,r){JC(e.x,t.x,n.x,r),JC(e.y,t.y,n.y,r)}function r9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const i9={duration:.45,ease:[.4,0,.1,1]},ek=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tk=ek("applewebkit/")&&!ek("chrome/")?Math.round:It;function nk(e){e.min=tk(e.min),e.max=tk(e.max)}function s9(e){nk(e.x),nk(e.y)}function VR(e,t,n){return e==="position"||e==="preserve-aspect"&&!lG(WC(t),WC(n),.2)}function o9(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const a9=$R({attachResizeListener:(e,t)=>Bo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$m={current:void 0},BR=$R({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$m.current){const e=new a9({});e.mount(window),e.setOptions({layoutScroll:!0}),$m.current=e}return $m.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),l9={pan:{Feature:EG},drag:{Feature:bG,ProjectionNode:BR,MeasureLayout:jR}};function rk(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&xe.postRender(()=>s(t,sa(t)))}class u9 extends Lr{mount(){const{current:t}=this.node;t&&(this.unmount=lU(t,n=>(rk(this.node,n,"Start"),r=>rk(this.node,r,"End"))))}unmount(){}}class c9 extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ia(Bo(this.node.current,"focus",()=>this.onFocus()),Bo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ik(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&xe.postRender(()=>s(t,sa(t)))}class d9 extends Lr{mount(){const{current:t}=this.node;t&&(this.unmount=fU(t,n=>(ik(this.node,n,"Start"),(r,{success:i})=>ik(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gy=new WeakMap,Vm=new WeakMap,f9=e=>{const t=gy.get(e.target);t&&t(e)},h9=e=>{e.forEach(f9)};function p9({root:e,...t}){const n=e||document;Vm.has(n)||Vm.set(n,{});const r=Vm.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(h9,{root:e,...t})),r[i]}function m9(e,t,n){const r=p9(t);return gy.set(e,n),r.observe(e),()=>{gy.delete(e),r.unobserve(e)}}const g9={some:0,all:1};class y9 extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:g9[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return m9(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(v9(t,n))&&this.startObserver()}unmount(){}}function v9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const w9={inView:{Feature:y9},tap:{Feature:d9},focus:{Feature:c9},hover:{Feature:u9}},x9={layout:{ProjectionNode:BR,MeasureLayout:jR}},yy={current:null},zR={current:!1};function _9(){if(zR.current=!0,!!Jv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yy.current=e.matches;e.addListener(t),t()}else yy.current=!1}const S9=[...pR,ut,Ar],b9=e=>S9.find(hR(e)),sk=new WeakMap;function E9(e,t,n){for(const r in t){const i=t[r],s=n[r];if(dt(i))e.addValue(r,i);else if(dt(s))e.addValue(r,$o(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,$o(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const ok=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Cn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,xe.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=zu(n),this.isVariantNode=SA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const g=f[h];l[h]!==void 0&&dt(g)&&g.set(l[h],!1)}}mount(t){this.current=t,sk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zR.current||_9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sk.delete(this.current),this.projection&&this.projection.unmount(),Pr(this.notifyUpdate),Pr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=gi.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ls){const n=ls[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ok.length;r++){const i=ok[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=E9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=$o(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(dR(i)||nR(i))?i=parseFloat(i):!b9(i)&&Ar.test(n)&&(i=lR(t,n)),this.setBaseTarget(t,dt(i)?i.get():i)),dt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=o0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!dt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new x0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class UR extends C9{constructor(){super(...arguments),this.KeyframeResolver=mR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function k9(e){return window.getComputedStyle(e)}class T9 extends UR{constructor(){super(...arguments),this.type="html",this.renderInstance=AA}readValueFromInstance(t,n){if(gi.has(n)){const r=C0(n);return r&&r.default||0}else{const r=k9(t),i=(NA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return RR(t,n)}build(t,n,r){u0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return h0(t,n,r)}}class N9 extends UR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gi.has(n)){const r=C0(n);return r&&r.default||0}return n=RA.has(n)?n:r0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return DA(t,n,r)}build(t,n,r){c0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){IA(t,n,r,i)}mount(t){this.isSVGTag=f0(t.tagName),super.mount(t)}}const M9=(e,t)=>s0(e)?new N9(t):new T9(t,{allowProjection:e!==b.Fragment}),P9=tU({...JH,...w9,...l9,...x9},M9),A9=g8(P9);function R9({steps:e,fromRects:t,toRects:n,onComplete:r}){return b.useEffect(()=>{const i=window.setTimeout(r,550);return()=>window.clearTimeout(i)},[r]),w.jsx("div",{className:"morph-layer",children:e.map(i=>{var a;const s=t[i.id],o=n[i.id];return!s||!o?null:w.jsxs(A9.div,{className:`morph-card step-${i.type}`,initial:{left:s.left,top:s.top,width:s.width,height:s.height},animate:{left:o.left,top:o.top,width:o.width,height:o.height},transition:{duration:.5,ease:"easeInOut"},children:[w.jsx("div",{className:"morph-card-title",children:i.name}),w.jsx("div",{className:"morph-card-subtitle",children:((a=i.preview)==null?void 0:a.title)??i.type})]},i.id)})})}function I9({morph:e,onComplete:t,children:n}){return w.jsxs("div",{className:"morph-orchestrator",children:[n,e?w.jsx(R9,{steps:e.steps,fromRects:e.fromRects,toRects:e.toRects,onComplete:t}):null]})}function j9(){const[e,t]=b.useState(null),[n,r]=b.useState(null),[i,s]=b.useState(!0),[o,a]=b.useState(null),[l,u]=b.useState([]),[c,d]=b.useState(null),f=b.useCallback(async g=>{const p=await J6(),v=(p==null?void 0:p.trace)??null;t(v),r(v?(p==null?void 0:p.insights)??Bj(v):null)},[t,r]),h=b.useCallback(async()=>{var g;s(!0),a(null);try{const p=await Q6();u(p);const v=((g=p[p.length-1])==null?void 0:g.id)??null,m=c??v;if(!m){t(null),r(null);return}if(!c||c!==m){d(m);return}await f(m)}catch(p){a(p instanceof Error?p.message:"Failed to load trace")}finally{s(!1)}},[c,f]);return b.useEffect(()=>{h()},[h]),b.useEffect(()=>{c&&(s(!0),f(c).catch(g=>{a(g instanceof Error?g.message:"Failed to load trace")}).finally(()=>s(!1)))},[c,f]),{trace:e,insights:n,loading:i,error:o,reload:h,traces:l,selectedTraceId:c,setSelectedTraceId:d}}function yn(e,t){const[n,r]=b.useState(()=>{if(typeof window>"u")return t;try{const i=window.localStorage.getItem(e);return i==null?t:JSON.parse(i)}catch{return t}});return b.useEffect(()=>{try{window.localStorage.setItem(e,JSON.stringify(n))}catch{}},[e,n]),[n,r]}function D9(e,t,n){const{intervals:r}=hu(e,t,n),i=new Set;return r.forEach(s=>{i.add(s.startMs),i.add(s.endMs)}),Array.from(i).sort((s,o)=>s-o)}function L9(e,t,n){if(!e.length)return null;if(n===1){for(const r of e)if(r>t+1)return r;return e[e.length-1]}for(let r=e.length-1;r>=0;r-=1){const i=e[r];if(i<t-1)return i}return e[0]}const ak=220,lk=120;function O9(e){return e.filter(t=>t.parentStepId).map(t=>({source:t.parentStepId,target:t.id}))}function q9(e){const t=[...e].sort((n,r)=>n.index-r.index);return t.slice(1).map((n,r)=>({source:t[r].id,target:n.id}))}function F9(e){const t={},n=e.getBoundingClientRect();return e.querySelectorAll(".step-card").forEach(i=>{const s=i.dataset.stepId;if(!s)return;const o=i.getBoundingClientRect();t[s]={left:o.left-n.left,top:o.top-n.top,width:o.width,height:o.height}}),t}function $9(e,t,n){const r=[...O9(e),...q9(e),...nl(e).map(g=>({source:g.source,target:g.target}))],i=ty(e,r,n),s=t.getBoundingClientRect(),o=Math.min(...i.map(g=>g.position.x)),a=Math.min(...i.map(g=>g.position.y)),l=Math.max(...i.map(g=>g.position.x)),u=Math.max(...i.map(g=>g.position.y)),c=l-o+ak,d=u-a+lk,f=Math.max(32,(s.width-c)/2),h=Math.max(24,(s.height-d)/2);return i.reduce((g,p)=>(g[p.id]={left:p.position.x-o+f,top:p.position.y-a+h,width:ak,height:lk},g),{})}function uk(e,t,n){const r=t.trim().toLowerCase();return e.filter(i=>{var o,a,l;return n!=="all"&&i.type!==n?!1:r?[i.name,(o=i.preview)==null?void 0:o.title,(a=i.preview)==null?void 0:a.outputPreview,(l=i.preview)==null?void 0:l.inputPreview].filter(Boolean).join(" ").toLowerCase().includes(r):!0})}function V9(){var oa;const{trace:e,insights:t,loading:n,error:r,reload:i,traces:s,selectedTraceId:o,setSelectedTraceId:a}=j9(),[l,u]=yn("agentDirector.mode","cinema"),[c,d]=b.useState(""),[f,h]=b.useState("all"),[g,p]=b.useState(null),[v,m]=yn("agentDirector.safeExport",!1),[y,x]=b.useState(null),[_,S]=b.useState(!1),[C,k]=b.useState(0),[T,M]=yn("agentDirector.speed",1),[R,I]=yn("agentDirector.windowed",!1),[B,V]=b.useState(2e4),[E,D]=b.useState(!1),[A,L]=b.useState(!1),[P,N]=yn("agentDirector.overlayEnabled",!1),[j,F]=yn("agentDirector.onboarded",!1),[$,O]=yn("agentDirector.tourCompleted",!1),[z,G]=yn("agentDirector.explainMode",!0),[Z,ne]=yn("agentDirector.dockOpen",!1),ce=!1,[oe,le]=yn("agentDirector.introDismissed",ce),[Le,de]=b.useState(!1),[te,ke]=b.useState(null),[J,Ae]=b.useState([]),[Y,K]=b.useState(null),[_e,yt]=b.useState(null),vt=b.useRef(null),Ge=b.useRef(null),Se=b.useMemo(()=>e?uk(e.steps,c,f):[],[e,c,f]),it=b.useMemo(()=>y?uk(y.steps,c,f):[],[y,c,f]),wt=b.useMemo(()=>e?D9(e.startedAt,e.endedAt,e.steps):[],[e]),Zt=b.useMemo(()=>!e||!y?null:Zv(e,y),[e,y]),Nt=b.useMemo(()=>e?e.steps.find(H=>H.id===g)??null:null,[e,g]);b.useEffect(()=>{Ge.current=y},[y]),b.useEffect(()=>{l==="compare"&&ne(!1)},[l,ne]);const Oe=b.useCallback(async H=>{if(!e)return;const X=await n8(e.id,H,"hybrid",{note:"UI replay"},e);X&&(x(X),N(!0),u("flow"))},[e,x,u,N]),We=b.useCallback(()=>{if(!e)return;const H=[...e.steps].sort((X,ue)=>(ue.durationMs??0)-(X.durationMs??0))[0];H&&(p(H.id),u("cinema"))},[e,u]),Qt=b.useCallback(()=>{if(!e||e.steps.length===0)return null;const H=[...e.steps].sort((X,ue)=>(ue.durationMs??0)-(X.durationMs??0))[0];return(H==null?void 0:H.id)??null},[e]),Re=b.useCallback(()=>{if(!e)return;const H=e.steps.find(X=>X.status==="failed");H&&(p(H.id),u("cinema"))},[e,u]),he=b.useCallback(H=>{if(!(H===l||!e)){if(H==="flow"&&S(!1),H==="flow"&&l==="cinema"&&vt.current){const X=vt.current,ue=F9(X),Ke=$9(e.steps,X,e.id);yt({steps:e.steps,fromRects:ue,toRects:Ke});return}u(H)}},[l,e,S,u]),$e=b.useCallback(()=>{l==="flow"&&he("cinema"),S(H=>!H)},[l,he]),be=b.useCallback(()=>{ke(null),Ae([]),K(null),S(!1)},[S]),pn=b.useCallback(H=>[{id:"setup",label:"Opening the reel",duration:1100,action:()=>{G(!0),S(!1),k(0),p(null),N(!1),M(1),e&&e.steps.length<500&&I(!1),he("cinema")}},{id:"pace",label:"Pacing the timeline",duration:2200,action:()=>{he("cinema"),S(!0),M(1.1)}},{id:"bottleneck",label:"Freeze on the bottleneck",duration:1600,action:()=>{S(!1),We()}},{id:"inspect",label:"Inspect the moment",duration:1600,action:()=>{H&&p(H)}},{id:"flow",label:"Morph into flow",duration:2100,action:()=>{he("flow")}},{id:"replay",label:"Directors Cut replay",duration:2200,action:async()=>{if(!e)return;!Ge.current&&H&&await Oe(H),N(!0),u("compare")}},{id:"compare",label:"Compare the cut",duration:2e3,action:()=>{S(!0),M(1)}},{id:"finale",label:"Final frame",duration:1100,action:()=>{S(!1)}}],[he,Oe,We,G,S,u,N,k,p,M,I,e]),xt=b.useCallback(()=>{var X;if(!e)return;const H=g??Qt()??((X=e.steps[0])==null?void 0:X.id)??null;Ae(pn(H)),ke({active:!0,step:0}),K(e.id),de(!1),D(!1),L(!1)},[pn,Qt,g,e,L,D,Ae,ke,K,de]),st=b.useCallback(()=>{if(te!=null&&te.active){be();return}xt()},[xt,be,te==null?void 0:te.active]),Or=b.useMemo(()=>[{id:"header",title:"Mission control",body:"Confirm the run, status, and metadata. Use Guide and Explain to orient the room instantly.",target:'[data-tour="header"]',placement:"bottom"},{id:"insights",title:"Fast diagnosis",body:"Jump straight to bottlenecks, errors, and high-cost steps with one click.",target:'[data-tour="insights"]',placement:"bottom"},{id:"journey",title:"Director journey",body:"A narrative path that teaches how to watch, inspect, and direct a better run.",target:'[data-tour="journey"]',placement:"bottom"},{id:"toolbar",title:"Filters + modes",body:"Search, filter, and switch between Cinema, Flow, and Compare as the story evolves.",target:'[data-tour="toolbar"]',placement:"bottom"},{id:"quick-actions",title:"Quick actions",body:"Launch Story Mode, open the command palette, or jump to bottlenecks instantly.",target:'[data-tour="quick-actions"]',placement:"left"},{id:"stage",title:"Cinema stage",body:"The timeline shows every step as a scene. Scrub to see pacing and concurrency.",target:'[data-tour="stage"]',placement:"top"},{id:"inspector",title:"Inspector",body:"Open any step to read payloads, apply redaction, and replay from that moment.",target:'[data-tour="inspector"]',placement:"left"},{id:"compare",title:"Compare runs",body:y?"Compare is live. Review deltas in cost, steps, and wall time side by side.":"Replay from a step to unlock compare mode and validate improvements.",target:'[data-tour="compare"]',placement:"top"}],[y]),xs=b.useCallback(()=>{yt(null),u("flow")},[u]);b.useEffect(()=>{if(!e)return;t8(),k(0),S(!1);const H=Math.min(Math.max((e.metadata.wallTimeMs||1)*.2,5e3),6e4);V(H),e.steps.length>500&&I(!0),y||N(!1),l==="compare"&&!y&&u("cinema")},[e,y,l,u,I,N]),b.useEffect(()=>{!$&&oe&&de(!0)},[$,oe]),b.useEffect(()=>(document.body.classList.toggle("explain-mode",z),()=>{document.body.classList.remove("explain-mode")}),[z]),b.useEffect(()=>(document.body.classList.toggle("story-mode",!!(te!=null&&te.active)),()=>{document.body.classList.remove("story-mode")}),[te==null?void 0:te.active]),b.useEffect(()=>{if(!(te!=null&&te.active))return;const H=J[te.step];if(!H){be();return}Promise.resolve(H.action());const X=window.setTimeout(()=>{ke(ue=>ue&&ue.active?{...ue,step:ue.step+1}:ue)},H.duration);return()=>window.clearTimeout(X)},[J,be,te]),b.useEffect(()=>{te!=null&&te.active&&(!e||!Y||e.id!==Y&&be())},[te==null?void 0:te.active,e,Y,be]),b.useEffect(()=>{if(!e)return;const X=Date.parse(e.startedAt)+C;let ue=0,Ke=Number.POSITIVE_INFINITY;e.steps.forEach((ot,Qe)=>{const nr=Date.parse(ot.startedAt),mn=Date.parse(ot.endedAt??ot.startedAt);if(X>=nr&&X<=mn){ue=Qe,Ke=0;return}const aa=Math.min(Math.abs(X-nr),Math.abs(X-mn));aa<Ke&&(Ke=aa,ue=Qe)}),[ue,ue-1,ue+1].filter(ot=>ot>=0&&ot<e.steps.length).forEach(ot=>{const Qe=e.steps[ot];Qe&&e8(e.id,Qe.id,v)})},[e,C,v]),b.useEffect(()=>{if(!e||!_||l!=="cinema"&&l!=="compare")return;const H=(y==null?void 0:y.metadata.wallTimeMs)??0,X=l==="compare"?Math.max(e.metadata.wallTimeMs||1,H||1):e.metadata.wallTimeMs||1;let ue=0,Ke=performance.now();const yi=ot=>{const Qe=(ot-Ke)*T;Ke=ot,k(nr=>{const mn=nr+Qe;return mn>=X?(S(!1),X):mn}),ue=requestAnimationFrame(yi)};return ue=requestAnimationFrame(yi),()=>cancelAnimationFrame(ue)},[e,y,_,T,l]),b.useEffect(()=>{const H=X=>{var ot;const ue=X.target,Ke=(ot=ue==null?void 0:ue.tagName)==null?void 0:ot.toLowerCase();if(!(Ke==="input"||Ke==="textarea"||Ke==="select"||ue!=null&&ue.isContentEditable)){if((X.metaKey||X.ctrlKey)&&X.key.toLowerCase()==="k"){X.preventDefault(),L(Qe=>!Qe);return}if(X.key==="?"||X.key==="/"&&X.shiftKey){X.preventDefault(),D(!0);return}if(X.key.toLowerCase()==="s"){X.preventDefault(),st();return}if(X.key.toLowerCase()==="e"){X.preventDefault(),G(Qe=>!Qe);return}if(X.key.toLowerCase()==="t"){X.preventDefault(),de(!0);return}if(X.key==="Escape"){D(!1),L(!1),p(null);return}if(X.key===" "){X.preventDefault(),(l==="cinema"||l==="compare")&&S(Qe=>!Qe);return}if(X.key.toLowerCase()==="f"){X.preventDefault(),l==="flow"?u("cinema"):l==="cinema"&&he("flow");return}if(X.key.toLowerCase()==="i"){X.preventDefault(),g?p(null):e!=null&&e.steps.length&&p(e.steps[0].id);return}if(X.key==="ArrowLeft"||X.key==="ArrowRight"){if(X.preventDefault(),!e)return;const Qe=e.metadata.wallTimeMs||1;if(X.shiftKey){k(X.key==="ArrowLeft"?0:Qe),S(!1),u("cinema");return}const nr=X.key==="ArrowRight"?1:-1,mn=L9(wt,C,nr);mn!=null&&(k(mn),S(!1),u("cinema"))}}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[l,g,e,C,wt,he,u,G,L,de,st]);const tr=b.useMemo(()=>{if(!e||!R||c)return null;const H=e.metadata.wallTimeMs||1,X=Math.min(Math.max(B,5e3),H);let ue=Math.max(0,C-X/2);const Ke=Math.min(H,ue+X);return Ke-ue<X&&(ue=Math.max(0,Ke-X)),{startMs:ue,endMs:Ke}},[e,R,C,c,B]),Nn=!!(te!=null&&te.active),_s=(te==null?void 0:te.step)??0,Mn=((oa=J[_s])==null?void 0:oa.label)??"Wrapping up",Gu=J.length,Wu=b.useMemo(()=>[{id:"story-toggle",label:Nn?"Stop story mode":"Start story mode",description:"Auto-runs a cinematic walkthrough.",group:"Story",keys:"S",onTrigger:st},{id:"tour-start",label:"Start guided tour",description:"Walk the interface step by step.",group:"Onboarding",keys:"T",onTrigger:()=>de(!0)},{id:"explain-toggle",label:z?"Disable explain mode":"Enable explain mode",description:"Toggle contextual overlays.",group:"Onboarding",keys:"E",onTrigger:()=>G(H=>!H)},{id:"shortcuts",label:"Show shortcuts",description:"Open the keyboard map.",group:"Onboarding",keys:"?",onTrigger:()=>D(!0)},{id:"playback-toggle",label:_?"Pause playback":"Play playback",description:"Start or stop the run.",group:"Playback",keys:"Space",onTrigger:$e},{id:"mode-cinema",label:"Switch to Cinema",description:"Timeline playback view.",group:"Modes",keys:"C",onTrigger:()=>he("cinema")},{id:"mode-flow",label:"Switch to Flow",description:"Graph dependency view.",group:"Modes",keys:"F",onTrigger:()=>he("flow")},{id:"mode-compare",label:"Open Compare",description:"Side-by-side diff view.",group:"Modes",onTrigger:()=>he("compare"),disabled:!y},{id:"jump-bottleneck",label:"Jump to bottleneck",description:"Select the slowest step.",group:"Navigation",onTrigger:We},{id:"jump-error",label:"Jump to error",description:"Select the first failed step.",group:"Navigation",onTrigger:Re},{id:"replay-step",label:"Replay from selected step",description:"Branch a Directors Cut.",group:"Tools",onTrigger:()=>g&&Oe(g),disabled:!g},{id:"overlay-toggle",label:P?"Hide overlay":"Show overlay",description:"Ghost diff in Cinema/Flow.",group:"Tools",onTrigger:()=>N(H=>!H),disabled:!y},{id:"safe-export",label:v?"Disable safe export":"Enable safe export",description:"Redact sensitive payloads.",group:"Safety",onTrigger:()=>m(H=>!H)},{id:"reload",label:"Reload traces",description:"Refresh trace data.",group:"Meta",onTrigger:i}],[Nn,st,z,_,$e,he,y,We,Re,g,Oe,P,v,i,G,N,m,D,de]);return n?w.jsx("div",{className:"loading",children:"Loading trace..."}):r||!e?w.jsxs("div",{className:"error",children:[w.jsx("p",{children:r??"Failed to load trace."}),w.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Retry"})]}):w.jsxs("div",{className:`app ${z?"explain-mode":""} ${l==="compare"?"mode-compare":""}`,children:[w.jsx(qj,{trace:e,traces:s,selectedTraceId:o,onSelectTrace:a,onReload:i,onStartTour:()=>de(!0),onToggleStory:st,onOpenPalette:()=>L(!0),onToggleExplain:()=>G(H=>!H),explainMode:z,storyActive:Nn}),!oe&&!ce?w.jsx(gD,{onComplete:()=>le(!0)}):null,w.jsx(hD,{steps:Or,open:Le,onClose:()=>{de(!1),O(!0)},onComplete:()=>{de(!1),O(!0)}}),w.jsx(pD,{enabled:z}),w.jsx(vD,{active:Nn,label:Mn,step:_s,total:Gu,onStop:be,onRestart:xt}),w.jsx(Fj,{insights:t,onSelectStep:H=>{p(H),l!=="cinema"&&u("cinema")},onJumpToError:Re,onJumpToBottleneck:We}),w.jsx(cD,{trace:e,mode:l,playheadMs:C,selectedStepId:g,compareTrace:y,collapsed:j,onToggleCollapsed:()=>F(H=>!H),onModeChange:he,onSelectStep:H=>{p(H),l!=="cinema"&&u("cinema")},onJumpToBottleneck:We,onReplay:Oe,onStartTour:()=>de(!0)}),w.jsxs("div",{className:"toolbar","data-help":!0,"data-help-indicator":!0,"data-tour":"toolbar","data-help-title":"Search + filters","data-help-body":"Filter by step type, enable Safe export, and jump between Cinema, Flow, and Compare.","data-help-placement":"bottom",children:[w.jsx(Vj,{query:c,typeFilter:f,onQueryChange:d,onTypeFilterChange:h}),w.jsxs("div",{className:"toolbar-actions",children:[w.jsx("button",{className:`ghost-button ${l==="cinema"?"active":""}`,type:"button","aria-pressed":l==="cinema",title:"Timeline playback",onClick:()=>he("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view with step cards ordered by time.","data-help-placement":"bottom",children:"Cinema"}),w.jsx("button",{className:`ghost-button ${l==="flow"?"active":""}`,type:"button","aria-pressed":l==="flow",title:"Graph view",onClick:()=>he("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Dependency graph of steps and tool calls.","data-help-placement":"bottom",children:"Flow"}),w.jsx("button",{className:`ghost-button ${l==="compare"?"active":""}`,type:"button","aria-pressed":l==="compare",title:y?"Side-by-side compare":"Run a replay to enable compare",onClick:()=>he("compare"),disabled:!y,"data-tour":"compare","data-help":!0,"data-help-title":"Compare mode","data-help-body":"Side-by-side view after a replay. Enabled once you replay.","data-help-placement":"bottom",children:"Compare"}),w.jsxs("label",{className:"toggle",title:"Redact payloads and disable raw views for safe sharing","data-help":!0,"data-help-title":"Safe export","data-help-body":"Redacts secrets and disables raw payload views for safe sharing.","data-help-placement":"bottom",children:[w.jsx("input",{type:"checkbox",checked:v,onChange:()=>m(H=>!H)}),"Safe export"]}),e.steps.length>200||R?w.jsxs("label",{className:"toggle",title:"Window steps around the playhead for large traces","data-help":!0,"data-help-title":"Windowed mode","data-help-body":"Limits rendering to a playhead window for large traces.","data-help-placement":"bottom",children:[w.jsx("input",{type:"checkbox",checked:R,onChange:()=>I(H=>!H)}),"Windowed"]}):null,y?w.jsxs("label",{className:"toggle",title:"Show ghost overlay of replay in Cinema/Flow","data-help":!0,"data-help-title":"Overlay replay","data-help-body":"Layer the replay over the base run to spot differences.","data-help-placement":"bottom",children:[w.jsx("input",{type:"checkbox",checked:P,onChange:()=>N(H=>!H)}),"Overlay"]}):null]})]}),l==="cinema"?w.jsxs("div",{className:"playback-stack","data-tour":"playback",children:[w.jsx("div",{"data-help":!0,"data-help-title":"Playback controls","data-help-body":"Play, pause, scrub, and adjust speed to feel the rhythm of the run.","data-help-placement":"bottom",children:w.jsx(zw,{playheadMs:C,wallTimeMs:e.metadata.wallTimeMs||1,isPlaying:_,speed:T,onToggle:()=>S(H=>!H),onScrub:H=>k(H),onSpeedChange:M})}),w.jsx("div",{"data-help":!0,"data-help-title":"Density map","data-help-body":"Zoom into hotspots and keep long traces readable with windowing.","data-help-placement":"bottom",children:w.jsx(rD,{traceStart:e.startedAt,traceEnd:e.endedAt,steps:e.steps,playheadMs:C,windowRange:tr,windowed:R,spanMs:B,onSpanChange:V,onToggleWindowed:I,onScrub:H=>k(H)})})]}):null,l==="compare"&&y?w.jsx("div",{"data-help":!0,"data-help-title":"Compare playback","data-help-body":"Sync both runs to evaluate improvements at identical timestamps.","data-help-placement":"bottom",children:w.jsx(zw,{playheadMs:C,wallTimeMs:Math.max(e.metadata.wallTimeMs||1,y.metadata.wallTimeMs||1),isPlaying:_,speed:T,onToggle:()=>S(H=>!H),onScrub:H=>k(H),onSpeedChange:M})}):null,w.jsxs("main",{className:`stage ${l==="compare"?"stage-compare":""}`,role:"main",children:[w.jsx("div",{className:"main",ref:vt,"data-help":!0,"data-help-indicator":!0,"data-tour":"stage","data-help-title":"Trace stage","data-help-body":"Every step becomes a scene. Hover or click to open deep inspection.","data-help-placement":"top",children:w.jsxs(I9,{morph:_e,onComplete:xs,children:[l==="cinema"?w.jsx(eD,{trace:e,steps:Se,selectedStepId:g,onSelectStep:H=>p(H),playheadMs:C,windowRange:tr,timing:t==null?void 0:t.timing,ghostTrace:P?y:null,diff:Zt}):null,l==="flow"?w.jsx($6,{steps:Se,selectedStepId:g,onSelectStep:H=>p(H),baseTrace:e,compareTrace:y,compareSteps:it,overlayEnabled:P,onToggleOverlay:()=>N(H=>!H)}):null,l==="compare"&&y?w.jsx(B6,{baseTrace:e,compareTrace:y,playheadMs:C,safeExport:v,onExit:()=>{u("cinema"),x(null)}}):null]})}),l==="compare"?null:Nt?w.jsx(s8,{traceId:e.id,step:Nt,safeExport:v,onClose:()=>p(null),onReplay:Oe}):w.jsx(fD,{trace:e,mode:l,selectedStepId:g,onModeChange:he,onSelectStep:H=>p(H),onJumpToBottleneck:We,onReplay:Oe})]}),w.jsx(yD,{mode:l,isPlaying:_,storyActive:Nn,explainMode:z,hidden:l==="compare",open:Z,onToggleOpen:()=>ne(H=>!H),onTogglePlay:$e,onStartStory:xt,onStopStory:be,onStartTour:()=>de(!0),onOpenPalette:()=>L(!0),onShowShortcuts:()=>D(!0),onToggleExplain:()=>G(H=>!H),onJumpToBottleneck:We}),w.jsx(lD,{open:A,onClose:()=>L(!1),actions:Wu}),w.jsx(sD,{open:E,onClose:()=>D(!1)})]})}Bm.createRoot(document.getElementById("root")).render(w.jsx(q.StrictMode,{children:w.jsx(V9,{})}));
