import{r as S,j as yl,c as Mr,g as A0,R as q}from"./vendor-react-D4yGots9.js";const R0=S.createContext({});function x1(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const ef=S.createContext(null),C0=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function S1(e=!0){const t=S.useContext(ef);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=S.useId();S.useEffect(()=>{e&&i(o)},[e]);const s=S.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const tf=typeof window<"u",E1=tf?S.useLayoutEffect:S.useEffect,ke=e=>e;let P0=ke;function nf(e){let t;return()=>(t===void 0&&(t=e()),t)}const wn=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},gt=e=>e*1e3,vt=e=>e/1e3,T1={useManualTiming:!1};function A1(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(l){o.has(l)&&(u.schedule(l),e()),l(s)}const u={schedule:(l,c=!1,f=!1)=>{const h=f&&r?t:n;return c&&o.add(l),h.has(l)||h.add(l),l},cancel:l=>{n.delete(l),o.delete(l)},process:l=>{if(s=l,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,u.process(l))}};return u}const Ir=["read","resolveKeyframes","update","preRender","render","postRender"],R1=40;function M0(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Ir.reduce((g,y)=>(g[y]=A1(o),g),{}),{read:a,resolveKeyframes:u,update:l,preRender:c,render:f,postRender:d}=s,h=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,R1),1),i.timestamp=g,i.isProcessing=!0,a.process(i),u.process(i),l.process(i),c.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},m=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:Ir.reduce((g,y)=>{const w=s[y];return g[y]=(_,x=!1,E=!1)=>(n||m(),w.schedule(_,x,E)),g},{}),cancel:g=>{for(let y=0;y<Ir.length;y++)s[Ir[y]].cancel(g)},state:i,steps:s}}const{schedule:se,cancel:kt,state:xe,steps:es}=M0(typeof requestAnimationFrame<"u"?requestAnimationFrame:ke,!0),I0=S.createContext({strict:!1}),_d={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xn={};for(const e in _d)xn[e]={isEnabled:t=>_d[e].some(n=>!!t[n])};function C1(e){for(const t in e)xn[t]={...xn[t],...e[t]}}const P1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jr(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||P1.has(e)}let q0=e=>!Jr(e);function M1(e){e&&(q0=t=>t.startsWith("on")?!Jr(t):e(t))}try{M1(require("@emotion/is-prop-valid").default)}catch{}function I1(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(q0(i)||n===!0&&Jr(i)||!t&&!Jr(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function q1(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const bi=S.createContext({});function sr(e){return typeof e=="string"||Array.isArray(e)}function _i(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sf=["initial",...rf];function wi(e){return _i(e.animate)||sf.some(t=>sr(e[t]))}function N0(e){return!!(wi(e)||e.variants)}function N1(e,t){if(wi(e)){const{initial:n,animate:r}=e;return{initial:n===!1||sr(n)?n:void 0,animate:sr(r)?r:void 0}}return e.inherit!==!1?t:{}}function D1(e){const{initial:t,animate:n}=N1(e,S.useContext(bi));return S.useMemo(()=>({initial:t,animate:n}),[wd(t),wd(n)])}function wd(e){return Array.isArray(e)?e.join(" "):e}const k1=Symbol.for("motionComponentSymbol");function dn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O1(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):dn(n)&&(n.current=r))},[t])}const of=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V1="framerAppearId",D0="data-"+of(V1),{schedule:af}=M0(queueMicrotask,!1),k0=S.createContext({});function L1(e,t,n,r,i){var o,s;const{visualElement:a}=S.useContext(bi),u=S.useContext(I0),l=S.useContext(ef),c=S.useContext(C0).reducedMotion,f=S.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,h=S.useContext(k0);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&F1(f.current,n,i,h);const m=S.useRef(!1);S.useInsertionEffect(()=>{d&&m.current&&d.update(n,l)});const p=n[D0],v=S.useRef(!!p&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,p))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,p)));return E1(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),af.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,p)}),v.current=!1))}),d}function F1(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:u,layoutRoot:l}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:O0(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&dn(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:l})}function O0(e){if(e)return e.options.allowProjection!==!1?e.projection:O0(e.parent)}function $1({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var o,s;e&&C1(e);function a(l,c){let f;const d={...S.useContext(C0),...l,layoutId:B1(l)},{isStatic:h}=d,m=D1(l),p=r(l,h);if(!h&&tf){j1();const v=z1(d);f=v.MeasureLayout,m.visualElement=L1(i,p,d,t,v.ProjectionNode)}return yl.jsxs(bi.Provider,{value:m,children:[f&&m.visualElement?yl.jsx(f,{visualElement:m.visualElement,...d}):null,n(i,l,O1(p,m.visualElement,c),p,h,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const u=S.forwardRef(a);return u[k1]=i,u}function B1({layoutId:e}){const t=S.useContext(R0).id;return t&&e!==void 0?t+"-"+e:e}function j1(e,t){S.useContext(I0).strict}function z1(e){const{drag:t,layout:n}=xn;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const H1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uf(e){return typeof e!="string"||e.includes("-")?!1:!!(H1.indexOf(e)>-1||/[A-Z]/u.test(e))}function xd(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function cf(e,t,n,r){if(typeof t=="function"){const[i,o]=xd(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=xd(r);t=t(n!==void 0?n:e.custom,i,o)}return t}const bl=e=>Array.isArray(e),U1=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),G1=e=>bl(e)?e[e.length-1]||0:e,Ae=e=>!!(e&&e.getVelocity);function Ur(e){const t=Ae(e)?e.get():e;return U1(t)?t.toValue():t}function K1({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,o){const s={latestValues:W1(r,i,o,e),renderState:t()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const V0=e=>(t,n)=>{const r=S.useContext(bi),i=S.useContext(ef),o=()=>K1(e,t,r,i);return n?o():x1(o)};function W1(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=Ur(o[d]);let{initial:s,animate:a}=e;const u=wi(e),l=N0(e);t&&l&&!u&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;if(f&&typeof f!="boolean"&&!_i(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const m=cf(e,d[h]);if(m){const{transitionEnd:p,transition:v,...g}=m;for(const y in g){let w=g[y];if(Array.isArray(w)){const _=c?w.length-1:0;w=w[_]}w!==null&&(i[y]=w)}for(const y in p)i[y]=p[y]}}}return i}const Cn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tn=new Set(Cn),L0=e=>t=>typeof t=="string"&&t.startsWith(e),F0=L0("--"),Y1=L0("var(--"),lf=e=>Y1(e)?X1.test(e.split("/*")[0].trim()):!1,X1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$0=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bt=(e,t,n)=>n>t?t:n<e?e:n,Pn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},or={...Pn,transform:e=>bt(0,1,e)},qr={...Pn,default:1},yr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ct=yr("deg"),rt=yr("%"),K=yr("px"),Z1=yr("vh"),J1=yr("vw"),Sd={...rt,parse:e=>rt.parse(e)/100,transform:e=>rt.transform(e*100)},Q1={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K},eS={rotate:Ct,rotateX:Ct,rotateY:Ct,rotateZ:Ct,scale:qr,scaleX:qr,scaleY:qr,scaleZ:qr,skew:Ct,skewX:Ct,skewY:Ct,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:or,originX:Sd,originY:Sd,originZ:K},Ed={...Pn,transform:Math.round},ff={...Q1,...eS,zIndex:Ed,size:K,fillOpacity:or,strokeOpacity:or,numOctaves:Ed},tS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nS=Cn.length;function rS(e,t,n){let r="",i=!0;for(let o=0;o<nS;o++){const s=Cn[o],a=e[s];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(s.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const l=$0(a,ff[s]);if(!u){i=!1;const c=tS[s]||s;r+=`${c}(${l}) `}n&&(t[s]=l)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function df(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const u in t){const l=t[u];if(tn.has(u)){s=!0;continue}else if(F0(u)){i[u]=l;continue}else{const c=$0(l,ff[u]);u.startsWith("origin")?(a=!0,o[u]=c):r[u]=c}}if(t.transform||(s||n?r.transform=rS(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:l="50%",originZ:c=0}=o;r.transformOrigin=`${u} ${l} ${c}`}}const iS={offset:"stroke-dashoffset",array:"stroke-dasharray"},sS={offset:"strokeDashoffset",array:"strokeDasharray"};function oS(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?iS:sS;e[o.offset]=K.transform(-r);const s=K.transform(t),a=K.transform(n);e[o.array]=`${s} ${a}`}function Td(e,t,n){return typeof e=="string"?e:K.transform(t+n*e)}function aS(e,t,n){const r=Td(t,e.x,e.width),i=Td(n,e.y,e.height);return`${r} ${i}`}function hf(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...l},c,f){if(df(e,l,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h,dimensions:m}=e;d.transform&&(m&&(h.transform=d.transform),delete d.transform),m&&(i!==void 0||o!==void 0||h.transform)&&(h.transformOrigin=aS(m,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&oS(d,s,a,u,!1)}const pf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),B0=()=>({...pf(),attrs:{}}),mf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function j0(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const z0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H0(e,t,n,r){j0(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(z0.has(i)?i:of(i),t.attrs[i])}const Qr={};function uS(e){Object.assign(Qr,e)}function U0(e,{layout:t,layoutId:n}){return tn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Qr[e]||e==="opacity")}function gf(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Ae(i[s])||t.style&&Ae(t.style[s])||U0(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function G0(e,t,n){const r=gf(e,t,n);for(const i in e)if(Ae(e[i])||Ae(t[i])){const o=Cn.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function cS(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Ad=["x","y","width","height","cx","cy","r"],lS={useVisualState:V0({scrapeMotionValuesFromProps:G0,createRenderState:B0,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const a in i)if(tn.has(a)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let a=0;a<Ad.length;a++){const u=Ad[a];e[u]!==t[u]&&(s=!0)}s&&se.read(()=>{cS(n,r),se.render(()=>{hf(r,i,mf(n.tagName),e.transformTemplate),H0(n,r)})})}})},fS={useVisualState:V0({scrapeMotionValuesFromProps:gf,createRenderState:pf})};function K0(e,t,n){for(const r in t)!Ae(t[r])&&!U0(r,n)&&(e[r]=t[r])}function dS({transformTemplate:e},t){return S.useMemo(()=>{const n=pf();return df(n,t,e),Object.assign({},n.vars,n.style)},[t])}function hS(e,t){const n=e.style||{},r={};return K0(r,n,e),Object.assign(r,dS(e,t)),r}function pS(e,t){const n={},r=hS(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function mS(e,t,n,r){const i=S.useMemo(()=>{const o=B0();return hf(o,t,mf(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};K0(o,e.style,e),i.style={...o,...i.style}}return i}function gS(e=!1){return(n,r,i,{latestValues:o},s)=>{const u=(uf(n)?mS:pS)(r,o,s,n),l=I1(r,typeof n=="string",e),c=n!==S.Fragment?{...l,...u,ref:i}:{},{children:f}=r,d=S.useMemo(()=>Ae(f)?f.get():f,[f]);return S.createElement(n,{...c,children:d})}}function vS(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...uf(r)?lS:fS,preloadedFeatures:e,useRender:gS(i),createVisualElement:t,Component:r};return $1(s)}}function W0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function xi(e,t,n){const r=e.getProps();return cf(r,t,n!==void 0?n:r.custom,e)}const yS=nf(()=>window.ScrollTimeline!==void 0);class bS{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(yS()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _S extends bS{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function vf(e,t){return e?e[t]||e.default||e:void 0}const _l=2e4;function Y0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<_l;)t+=n,r=e.next(t);return t>=_l?1/0:t}function yf(e){return typeof e=="function"}function Rd(e,t){e.timeline=t,e.onfinish=null}const bf=e=>Array.isArray(e)&&typeof e[0]=="number",wS={linearEasing:void 0};function xS(e,t){const n=nf(e);return()=>{var r;return(r=wS[t])!==null&&r!==void 0?r:n()}}const ei=xS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),X0=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(wn(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Z0(e){return!!(typeof e=="function"&&ei()||!e||typeof e=="string"&&(e in wl||ei())||bf(e)||Array.isArray(e)&&e.every(Z0))}const zn=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,wl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zn([0,.65,.55,1]),circOut:zn([.55,0,1,.45]),backIn:zn([.31,.01,.66,-.59]),backOut:zn([.33,1.53,.69,.99])};function J0(e,t){if(e)return typeof e=="function"&&ei()?X0(e,t):bf(e)?zn(e):Array.isArray(e)?e.map(n=>J0(n,t)||wl.easeOut):wl[e]}const Ge={x:!1,y:!1};function Q0(){return Ge.x||Ge.y}function SS(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function eb(e,t){const n=SS(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Cd(e){return t=>{t.pointerType==="touch"||Q0()||e(t)}}function ES(e,t,n={}){const[r,i,o]=eb(e,n),s=Cd(a=>{const{target:u}=a,l=t(a);if(typeof l!="function"||!u)return;const c=Cd(f=>{l(f),u.removeEventListener("pointerleave",c)});u.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const tb=(e,t)=>t?e===t?!0:tb(e,t.parentElement):!1,_f=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,TS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AS(e){return TS.has(e.tagName)||e.tabIndex!==-1}const Hn=new WeakSet;function Pd(e){return t=>{t.key==="Enter"&&e(t)}}function ts(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RS=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Pd(()=>{if(Hn.has(n))return;ts(n,"down");const i=Pd(()=>{ts(n,"up")}),o=()=>ts(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Md(e){return _f(e)&&!Q0()}function CS(e,t,n={}){const[r,i,o]=eb(e,n),s=a=>{const u=a.currentTarget;if(!Md(a)||Hn.has(u))return;Hn.add(u);const l=t(a),c=(h,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!Md(h)||!Hn.has(u))&&(Hn.delete(u),typeof l=="function"&&l(h,{success:m}))},f=h=>{c(h,n.useGlobalTarget||tb(u,h.target))},d=h=>{c(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{!AS(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a.addEventListener("focus",l=>RS(l,i),i)}),o}function PS(e){return e==="x"||e==="y"?Ge[e]?null:(Ge[e]=!0,()=>{Ge[e]=!1}):Ge.x||Ge.y?null:(Ge.x=Ge.y=!0,()=>{Ge.x=Ge.y=!1})}const nb=new Set(["width","height","top","left","right","bottom",...Cn]);let Gr;function MS(){Gr=void 0}const it={now:()=>(Gr===void 0&&it.set(xe.isProcessing||T1.useManualTiming?xe.timestamp:performance.now()),Gr),set:e=>{Gr=e,queueMicrotask(MS)}};function wf(e,t){e.indexOf(t)===-1&&e.push(t)}function xf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Sf{constructor(){this.subscriptions=[]}add(t){return wf(this.subscriptions,t),()=>xf(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function rb(e,t){return t?e*(1e3/t):0}const Id=30,IS=e=>!isNaN(parseFloat(e));class qS{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=it.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=it.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=IS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Sf);const r=this.events[t].add(n);return t==="change"?()=>{r(),se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=it.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Id)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Id);return rb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ar(e,t){return new qS(e,t)}function NS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ar(n))}function DS(e,t){const n=xi(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=G1(o[s]);NS(e,s,a)}}function kS(e){return!!(Ae(e)&&e.add)}function xl(e,t){const n=e.getValue("willChange");if(kS(n))return n.add(t)}function ib(e){return e.props[D0]}const sb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,OS=1e-7,VS=12;function LS(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=sb(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>OS&&++a<VS);return s}function br(e,t,n,r){if(e===t&&n===r)return ke;const i=o=>LS(o,0,1,e,n);return o=>o===0||o===1?o:sb(i(o),t,r)}const ob=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ab=e=>t=>1-e(1-t),ub=br(.33,1.53,.69,.99),Ef=ab(ub),cb=ob(Ef),lb=e=>(e*=2)<1?.5*Ef(e):.5*(2-Math.pow(2,-10*(e-1))),Tf=e=>1-Math.sin(Math.acos(e)),fb=ab(Tf),db=ob(Tf),hb=e=>/^0[^.\s]+$/u.test(e);function FS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hb(e):!0}const tr=e=>Math.round(e*1e5)/1e5,Af=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $S(e){return e==null}const BS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rf=(e,t)=>n=>!!(typeof n=="string"&&BS.test(n)&&n.startsWith(e)||t&&!$S(n)&&Object.prototype.hasOwnProperty.call(n,t)),pb=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(Af);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},jS=e=>bt(0,255,e),ns={...Pn,transform:e=>Math.round(jS(e))},Gt={test:Rf("rgb","red"),parse:pb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ns.transform(e)+", "+ns.transform(t)+", "+ns.transform(n)+", "+tr(or.transform(r))+")"};function zS(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Sl={test:Rf("#"),parse:zS,transform:Gt.transform},hn={test:Rf("hsl","hue"),parse:pb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+rt.transform(tr(t))+", "+rt.transform(tr(n))+", "+tr(or.transform(r))+")"},Te={test:e=>Gt.test(e)||Sl.test(e)||hn.test(e),parse:e=>Gt.test(e)?Gt.parse(e):hn.test(e)?hn.parse(e):Sl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Gt.transform(e):hn.transform(e)},HS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function US(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Af))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(HS))===null||n===void 0?void 0:n.length)||0)>0}const mb="number",gb="color",GS="var",KS="var(",qd="${}",WS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ur(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(WS,u=>(Te.test(u)?(r.color.push(o),i.push(gb),n.push(Te.parse(u))):u.startsWith(KS)?(r.var.push(o),i.push(GS),n.push(u)):(r.number.push(o),i.push(mb),n.push(parseFloat(u))),++o,qd)).split(qd);return{values:n,split:a,indexes:r,types:i}}function vb(e){return ur(e).values}function yb(e){const{split:t,types:n}=ur(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===mb?o+=tr(i[s]):a===gb?o+=Te.transform(i[s]):o+=i[s]}return o}}const YS=e=>typeof e=="number"?0:e;function XS(e){const t=vb(e);return yb(e)(t.map(YS))}const Ot={test:US,parse:vb,createTransformer:yb,getAnimatableNone:XS},ZS=new Set(["brightness","contrast","saturate","opacity"]);function JS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Af)||[];if(!r)return e;const i=n.replace(r,"");let o=ZS.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const QS=/\b([a-z-]*)\(.*?\)/gu,El={...Ot,getAnimatableNone:e=>{const t=e.match(QS);return t?t.map(JS).join(" "):e}},eE={...ff,color:Te,backgroundColor:Te,outlineColor:Te,fill:Te,stroke:Te,borderColor:Te,borderTopColor:Te,borderRightColor:Te,borderBottomColor:Te,borderLeftColor:Te,filter:El,WebkitFilter:El},Cf=e=>eE[e];function bb(e,t){let n=Cf(e);return n!==El&&(n=Ot),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tE=new Set(["auto","none","0"]);function nE(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!tE.has(o)&&ur(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=bb(n,i)}const Nd=e=>e===Pn||e===K,Dd=(e,t)=>parseFloat(e.split(", ")[t]),kd=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Dd(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?Dd(o[1],e):0}},rE=new Set(["x","y","z"]),iE=Cn.filter(e=>!rE.has(e));function sE(e){const t=[];return iE.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Sn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:kd(4,13),y:kd(5,14)};Sn.translateX=Sn.x;Sn.translateY=Sn.y;const Xt=new Set;let Tl=!1,Al=!1;function _b(){if(Al){const e=Array.from(Xt).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=sE(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Al=!1,Tl=!1,Xt.forEach(e=>e.complete()),Xt.clear()}function wb(){Xt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Al=!0)})}function oE(){wb(),_b()}class Pf{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xt.add(this),Tl||(Tl=!0,se.read(wb),se.resolveKeyframes(_b))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const u=r.readValue(n,a);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),aE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uE(e){const t=aE.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Sb(e,t,n=1){const[r,i]=uE(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return xb(s)?parseFloat(s):s}return lf(i)?Sb(i,t,n+1):i}const Eb=e=>t=>t.test(e),cE={test:e=>e==="auto",parse:e=>e},Tb=[Pn,K,rt,Ct,J1,Z1,cE],Od=e=>Tb.find(Eb(e));class Ab extends Pf{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let l=t[u];if(typeof l=="string"&&(l=l.trim(),lf(l))){const c=Sb(l,n.current);c!==void 0&&(t[u]=c),u===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!nb.has(r)||t.length!==2)return;const[i,o]=t,s=Od(i),a=Od(o);if(s!==a)if(Nd(s)&&Nd(a))for(let u=0;u<t.length;u++){const l=t[u];typeof l=="string"&&(t[u]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)FS(t[i])&&r.push(i);r.length&&nE(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Sn[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,l])=>{n.getValue(u).set(l)}),this.resolveNoneKeyframes()}}const Vd=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ot.test(e)||e==="0")&&!e.startsWith("url("));function lE(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function fE(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=Vd(i,t),a=Vd(o,t);return!s||!a?!1:lE(e)||(n==="spring"||yf(n))&&r}const dE=e=>e!==null;function Si(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(dE),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const hE=40;class Rb{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=it.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oE(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=it.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:u,isGenerator:l}=this.options;if(!l&&!fE(t,r,i,o))if(s)this.options.duration=0;else{u&&u(Si(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ae=(e,t,n)=>e+(t-e)*n;function rs(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pE({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,u=2*n-a;i=rs(u,a,e+1/3),o=rs(u,a,e),s=rs(u,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function ti(e,t){return n=>n>0?t:e}const is=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},mE=[Sl,Gt,hn],gE=e=>mE.find(t=>t.test(e));function Ld(e){const t=gE(e);if(!t)return!1;let n=t.parse(e);return t===hn&&(n=pE(n)),n}const Fd=(e,t)=>{const n=Ld(e),r=Ld(t);if(!n||!r)return ti(e,t);const i={...n};return o=>(i.red=is(n.red,r.red,o),i.green=is(n.green,r.green,o),i.blue=is(n.blue,r.blue,o),i.alpha=ae(n.alpha,r.alpha,o),Gt.transform(i))},vE=(e,t)=>n=>t(e(n)),_r=(...e)=>e.reduce(vE),Rl=new Set(["none","hidden"]);function yE(e,t){return Rl.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function bE(e,t){return n=>ae(e,t,n)}function Mf(e){return typeof e=="number"?bE:typeof e=="string"?lf(e)?ti:Te.test(e)?Fd:xE:Array.isArray(e)?Cb:typeof e=="object"?Te.test(e)?Fd:_E:ti}function Cb(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>Mf(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function _E(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Mf(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function wE(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],u=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=u,i[s]++}return r}const xE=(e,t)=>{const n=Ot.createTransformer(t),r=ur(e),i=ur(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Rl.has(e)&&!i.values.length||Rl.has(t)&&!r.values.length?yE(e,t):_r(Cb(wE(r,i),i.values),n):ti(e,t)};function Pb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ae(e,t,n):Mf(e)(e,t)}const SE=5;function Mb(e,t,n){const r=Math.max(t-SE,0);return rb(n-e(r),t-r)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ss=.001;function EE({duration:e=ce.duration,bounce:t=ce.bounce,velocity:n=ce.velocity,mass:r=ce.mass}){let i,o,s=1-t;s=bt(ce.minDamping,ce.maxDamping,s),e=bt(ce.minDuration,ce.maxDuration,vt(e)),s<1?(i=l=>{const c=l*s,f=c*e,d=c-n,h=Cl(l,s),m=Math.exp(-f);return ss-d/h*m},o=l=>{const f=l*s*e,d=f*n+n,h=Math.pow(s,2)*Math.pow(l,2)*e,m=Math.exp(-f),p=Cl(Math.pow(l,2),s);return(-i(l)+ss>0?-1:1)*((d-h)*m)/p}):(i=l=>{const c=Math.exp(-l*e),f=(l-n)*e+1;return-ss+c*f},o=l=>{const c=Math.exp(-l*e),f=(n-l)*(e*e);return c*f});const a=5/e,u=AE(i,o,a);if(e=gt(e),isNaN(u))return{stiffness:ce.stiffness,damping:ce.damping,duration:e};{const l=Math.pow(u,2)*r;return{stiffness:l,damping:s*2*Math.sqrt(r*l),duration:e}}}const TE=12;function AE(e,t,n){let r=n;for(let i=1;i<TE;i++)r=r-e(r)/t(r);return r}function Cl(e,t){return e*Math.sqrt(1-t*t)}const RE=["duration","bounce"],CE=["stiffness","damping","mass"];function $d(e,t){return t.some(n=>e[n]!==void 0)}function PE(e){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...e};if(!$d(e,CE)&&$d(e,RE))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*bt(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ce.mass,stiffness:i,damping:o}}else{const n=EE(e);t={...t,...n,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function Ib(e=ce.visualDuration,t=ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:u,damping:l,mass:c,duration:f,velocity:d,isResolvedFromDuration:h}=PE({...n,velocity:-vt(n.velocity||0)}),m=d||0,p=l/(2*Math.sqrt(u*c)),v=s-o,g=vt(Math.sqrt(u/c)),y=Math.abs(v)<5;r||(r=y?ce.restSpeed.granular:ce.restSpeed.default),i||(i=y?ce.restDelta.granular:ce.restDelta.default);let w;if(p<1){const x=Cl(g,p);w=E=>{const R=Math.exp(-p*g*E);return s-R*((m+p*g*v)/x*Math.sin(x*E)+v*Math.cos(x*E))}}else if(p===1)w=x=>s-Math.exp(-g*x)*(v+(m+g*v)*x);else{const x=g*Math.sqrt(p*p-1);w=E=>{const R=Math.exp(-p*g*E),C=Math.min(x*E,300);return s-R*((m+p*g*v)*Math.sinh(C)+x*v*Math.cosh(C))/x}}const _={calculatedDuration:h&&f||null,next:x=>{const E=w(x);if(h)a.done=x>=f;else{let R=0;p<1&&(R=x===0?gt(m):Mb(w,x,E));const C=Math.abs(R)<=r,P=Math.abs(s-E)<=i;a.done=C&&P}return a.value=a.done?s:E,a},toString:()=>{const x=Math.min(Y0(_),_l),E=X0(R=>_.next(x*R).value,x,30);return x+"ms "+E}};return _}function Bd({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:u,restDelta:l=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=C=>a!==void 0&&C<a||u!==void 0&&C>u,m=C=>a===void 0?u:u===void 0||Math.abs(a-C)<Math.abs(u-C)?a:u;let p=n*t;const v=f+p,g=s===void 0?v:s(v);g!==v&&(p=g-f);const y=C=>-p*Math.exp(-C/r),w=C=>g+y(C),_=C=>{const P=y(C),N=w(C);d.done=Math.abs(P)<=l,d.value=d.done?g:N};let x,E;const R=C=>{h(d.value)&&(x=C,E=Ib({keyframes:[d.value,m(d.value)],velocity:Mb(w,C,d.value),damping:i,stiffness:o,restDelta:l,restSpeed:c}))};return R(0),{calculatedDuration:null,next:C=>{let P=!1;return!E&&x===void 0&&(P=!0,_(C),R(C)),x!==void 0&&C>=x?E.next(C-x):(!P&&_(C),d)}}}const ME=br(.42,0,1,1),IE=br(0,0,.58,1),qb=br(.42,0,.58,1),qE=e=>Array.isArray(e)&&typeof e[0]!="number",NE={linear:ke,easeIn:ME,easeInOut:qb,easeOut:IE,circIn:Tf,circInOut:db,circOut:fb,backIn:Ef,backInOut:cb,backOut:ub,anticipate:lb},jd=e=>{if(bf(e)){P0(e.length===4);const[t,n,r,i]=e;return br(t,n,r,i)}else if(typeof e=="string")return NE[e];return e};function DE(e,t,n){const r=[],i=n||Pb,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const u=Array.isArray(t)?t[s]||ke:t;a=_r(u,a)}r.push(a)}return r}function kE(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(P0(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=DE(t,r,i),u=a.length,l=c=>{if(s&&c<e[0])return t[0];let f=0;if(u>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const d=wn(e[f],e[f+1],c);return a[f](d)};return n?c=>l(bt(e[0],e[o-1],c)):l}function OE(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=wn(0,t,r);e.push(ae(n,1,i))}}function VE(e){const t=[0];return OE(t,e.length-1),t}function LE(e,t){return e.map(n=>n*t)}function FE(e,t){return e.map(()=>t||qb).splice(0,e.length-1)}function ni({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=qE(r)?r.map(jd):jd(r),o={done:!1,value:t[0]},s=LE(n&&n.length===t.length?n:VE(t),e),a=kE(s,t,{ease:Array.isArray(i)?i:FE(t,i)});return{calculatedDuration:e,next:u=>(o.value=a(u),o.done=u>=e,o)}}const $E=e=>{const t=({timestamp:n})=>e(n);return{start:()=>se.update(t,!0),stop:()=>kt(t),now:()=>xe.isProcessing?xe.timestamp:it.now()}},BE={decay:Bd,inertia:Bd,tween:ni,keyframes:ni,spring:Ib},jE=e=>e/100;class If extends Rb{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||Pf,a=(u,l)=>this.onKeyframesResolved(u,l);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=yf(n)?n:BE[n]||ni;let u,l;a!==ni&&typeof t[0]!="number"&&(u=_r(jE,Pb(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});o==="mirror"&&(l=a({...this.options,keyframes:[...t].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=Y0(c));const{calculatedDuration:f}=c,d=f+i,h=d*(r+1)-i;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:d,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:l,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:d,repeat:h,repeatType:m,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let w=this.currentTime,_=o;if(h){const C=Math.min(this.currentTime,c)/f;let P=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(m==="reverse"?(N=1-N,p&&(N-=p/f)):m==="mirror"&&(_=s)),w=bt(0,1,N)*f}const x=y?{done:!1,value:u[0]}:_.next(w);a&&(x.value=a(x.value));let{done:E}=x;!y&&l!==null&&(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return R&&i!==void 0&&(x.value=Si(u,this.options,i)),v&&v(x.value),R&&this.finish(),x}get duration(){const{resolved:t}=this;return t?vt(t.calculatedDuration):0}get time(){return vt(this.currentTime)}set time(t){t=gt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=vt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=$E,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const zE=new Set(["opacity","clipPath","filter","transform"]);function HE(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:u}={}){const l={[t]:n};u&&(l.offset=u);const c=J0(a,i);return Array.isArray(c)&&(l.easing=c),e.animate(l,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const UE=nf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ri=10,GE=2e4;function KE(e){return yf(e.type)||e.type==="spring"||!Z0(e.ease)}function WE(e,t){const n=new If({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<GE;)r=n.sample(o),i.push(r.value),o+=ri;return{times:void 0,keyframes:i,duration:o-ri,ease:"linear"}}const Nb={anticipate:lb,backInOut:cb,circInOut:db};function YE(e){return e in Nb}class zd extends Rb{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new Ab(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:u,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&ei()&&YE(o)&&(o=Nb[o]),KE(this.options)){const{onComplete:f,onUpdate:d,motionValue:h,element:m,...p}=this.options,v=WE(t,p);t=v.keyframes,t.length===1&&(t[1]=t[0]),r=v.duration,i=v.times,o=v.ease,s="keyframes"}const c=HE(a.owner.current,u,t,{...this.options,duration:r,times:i,ease:o});return c.startTime=l??this.calcStartTime(),this.pendingTimeline?(Rd(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(Si(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:s,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return vt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return vt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=gt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ke;const{animation:r}=n;Rd(r,t)}return ke}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:c,onComplete:f,element:d,...h}=this.options,m=new If({...h,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),p=gt(this.time);l.setWithVelocity(m.sample(p-ri).value,m.sample(p).value,ri)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=n.owner.getProps();return UE()&&r&&zE.has(r)&&!u&&!l&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const XE={type:"spring",stiffness:500,damping:25,restSpeed:10},ZE=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JE={type:"keyframes",duration:.8},QE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eT=(e,{keyframes:t})=>t.length>2?JE:tn.has(e)?e.startsWith("scale")?ZE(t[1]):XE:QE;function tT({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:u,elapsed:l,...c}){return!!Object.keys(c).length}const qf=(e,t,n,r={},i,o)=>s=>{const a=vf(r,e)||{},u=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-gt(u);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-l,onUpdate:d=>{t.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};tT(a)||(c={...c,...eT(e,c)}),c.duration&&(c.duration=gt(c.duration)),c.repeatDelay&&(c.repeatDelay=gt(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!o&&t.get()!==void 0){const d=Si(c.keyframes,a);if(d!==void 0)return se.update(()=>{c.onUpdate(d),c.onComplete()}),new _S([])}return!o&&zd.supports(c)?new zd(c):new If(c)};function nT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Db(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...u}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in u){const d=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),h=u[f];if(h===void 0||c&&nT(c,f))continue;const m={delay:n,...vf(s||{},f)};let p=!1;if(window.MotionHandoffAnimation){const g=ib(e);if(g){const y=window.MotionHandoffAnimation(g,f,se);y!==null&&(m.startTime=y,p=!0)}}xl(e,f),d.start(qf(f,d,h,e.shouldReduceMotion&&nb.has(f)?{type:!1}:m,e,p));const v=d.animation;v&&l.push(v)}return a&&Promise.all(l).then(()=>{se.update(()=>{a&&DS(e,a)})}),l}function Pl(e,t,n={}){var r;const i=xi(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Db(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=o;return rT(e,t,c+l,f,d,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[l,c]=u==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function rT(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,u=i===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(e.variantChildren).sort(iT).forEach((l,c)=>{l.notify("AnimationStart",t),s.push(Pl(l,t,{...o,delay:n+u(c)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(s)}function iT(e,t){return e.sortNodePosition(t)}function sT(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>Pl(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=Pl(e,t,n);else{const i=typeof t=="function"?xi(e,t,n.custom):t;r=Promise.all(Db(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const oT=sf.length;function kb(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?kb(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<oT;n++){const r=sf[n],i=e.props[r];(sr(i)||i===!1)&&(t[r]=i)}return t}const aT=[...rf].reverse(),uT=rf.length;function cT(e){return t=>Promise.all(t.map(({animation:n,options:r})=>sT(e,n,r)))}function lT(e){let t=cT(e),n=Hd(),r=!0;const i=u=>(l,c)=>{var f;const d=xi(e,c,u==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:m,...p}=d;l={...l,...p,...m}}return l};function o(u){t=u(e)}function s(u){const{props:l}=e,c=kb(e.parent)||{},f=[],d=new Set;let h={},m=1/0;for(let v=0;v<uT;v++){const g=aT[v],y=n[g],w=l[g]!==void 0?l[g]:c[g],_=sr(w),x=g===u?y.isActive:null;x===!1&&(m=v);let E=w===c[g]&&w!==l[g]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...h},!y.isActive&&x===null||!w&&!y.prevProp||_i(w)||typeof w=="boolean")continue;const R=fT(y.prevProp,w);let C=R||g===u&&y.isActive&&!E&&_||v>m&&_,P=!1;const N=Array.isArray(w)?w:[w];let I=N.reduce(i(g),{});x===!1&&(I={});const{prevResolvedValues:L={}}=y,V={...L,...I},b=D=>{C=!0,d.has(D)&&(P=!0,d.delete(D)),y.needsAnimating[D]=!0;const O=e.getValue(D);O&&(O.liveStyle=!1)};for(const D in V){const O=I[D],A=L[D];if(h.hasOwnProperty(D))continue;let k=!1;bl(O)&&bl(A)?k=!W0(O,A):k=O!==A,k?O!=null?b(D):d.add(D):O!==void 0&&d.has(D)?b(D):y.protectedKeys[D]=!0}y.prevProp=w,y.prevResolvedValues=I,y.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(C=!1),C&&(!(E&&R)||P)&&f.push(...N.map(D=>({animation:D,options:{type:g}})))}if(d.size){const v={};d.forEach(g=>{const y=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),v[g]=y??null}),f.push({animation:v})}let p=!!f.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(f):Promise.resolve()}function a(u,l){var c;if(n[u].isActive===l)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(d=>{var h;return(h=d.animationState)===null||h===void 0?void 0:h.setActive(u,l)}),n[u].isActive=l;const f=s(u);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Hd(),r=!0}}}function fT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!W0(t,e):!1}function jt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hd(){return{animate:jt(!0),whileInView:jt(),whileHover:jt(),whileTap:jt(),whileDrag:jt(),whileFocus:jt(),exit:jt()}}class Lt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dT extends Lt{constructor(t){super(t),t.animationState||(t.animationState=lT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_i(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let hT=0;class pT extends Lt{constructor(){super(...arguments),this.id=hT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mT={animation:{Feature:dT},exit:{Feature:pT}};function cr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function wr(e){return{point:{x:e.pageX,y:e.pageY}}}const gT=e=>t=>_f(t)&&e(t,wr(t));function nr(e,t,n,r){return cr(e,t,gT(n),r)}const Ud=(e,t)=>Math.abs(e-t);function vT(e,t){const n=Ud(e.x,t.x),r=Ud(e.y,t.y);return Math.sqrt(n**2+r**2)}class Ob{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=as(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=vT(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:m}=f,{timestamp:p}=xe;this.history.push({...m,timestamp:p});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=os(d,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=as(f.type==="pointercancel"?this.lastMoveEventInfo:os(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,v),m&&m(f,v)},!_f(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=wr(t),a=os(s,this.transformPagePoint),{point:u}=a,{timestamp:l}=xe;this.history=[{...u,timestamp:l}];const{onSessionStart:c}=n;c&&c(t,as(a,this.history)),this.removeListeners=_r(nr(this.contextWindow,"pointermove",this.handlePointerMove),nr(this.contextWindow,"pointerup",this.handlePointerUp),nr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),kt(this.updatePoint)}}function os(e,t){return t?{point:t(e.point)}:e}function Gd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function as({point:e},t){return{point:e,delta:Gd(e,Vb(t)),offset:Gd(e,yT(t)),velocity:bT(t,.1)}}function yT(e){return e[0]}function Vb(e){return e[e.length-1]}function bT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Vb(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>gt(t)));)n--;if(!r)return{x:0,y:0};const o=vt(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const Lb=1e-4,_T=1-Lb,wT=1+Lb,Fb=.01,xT=0-Fb,ST=0+Fb;function Oe(e){return e.max-e.min}function ET(e,t,n){return Math.abs(e-t)<=n}function Kd(e,t,n,r=.5){e.origin=r,e.originPoint=ae(t.min,t.max,e.origin),e.scale=Oe(n)/Oe(t),e.translate=ae(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_T&&e.scale<=wT||isNaN(e.scale))&&(e.scale=1),(e.translate>=xT&&e.translate<=ST||isNaN(e.translate))&&(e.translate=0)}function rr(e,t,n,r){Kd(e.x,t.x,n.x,r?r.originX:void 0),Kd(e.y,t.y,n.y,r?r.originY:void 0)}function Wd(e,t,n){e.min=n.min+t.min,e.max=e.min+Oe(t)}function TT(e,t,n){Wd(e.x,t.x,n.x),Wd(e.y,t.y,n.y)}function Yd(e,t,n){e.min=t.min-n.min,e.max=e.min+Oe(t)}function ir(e,t,n){Yd(e.x,t.x,n.x),Yd(e.y,t.y,n.y)}function AT(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ae(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ae(n,e,r.max):Math.min(e,n)),e}function Xd(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function RT(e,{top:t,left:n,bottom:r,right:i}){return{x:Xd(e.x,n,i),y:Xd(e.y,t,r)}}function Zd(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function CT(e,t){return{x:Zd(e.x,t.x),y:Zd(e.y,t.y)}}function PT(e,t){let n=.5;const r=Oe(e),i=Oe(t);return i>r?n=wn(t.min,t.max-r,e.min):r>i&&(n=wn(e.min,e.max-i,t.min)),bt(0,1,n)}function MT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ml=.35;function IT(e=Ml){return e===!1?e=0:e===!0&&(e=Ml),{x:Jd(e,"left","right"),y:Jd(e,"top","bottom")}}function Jd(e,t,n){return{min:Qd(e,t),max:Qd(e,n)}}function Qd(e,t){return typeof e=="number"?e:e[t]||0}const eh=()=>({translate:0,scale:1,origin:0,originPoint:0}),pn=()=>({x:eh(),y:eh()}),th=()=>({min:0,max:0}),he=()=>({x:th(),y:th()});function Fe(e){return[e("x"),e("y")]}function $b({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function qT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function NT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function us(e){return e===void 0||e===1}function Il({scale:e,scaleX:t,scaleY:n}){return!us(e)||!us(t)||!us(n)}function zt(e){return Il(e)||Bb(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Bb(e){return nh(e.x)||nh(e.y)}function nh(e){return e&&e!=="0%"}function ii(e,t,n){const r=e-n,i=t*r;return n+i}function rh(e,t,n,r,i){return i!==void 0&&(e=ii(e,i,r)),ii(e,n,r)+t}function ql(e,t=0,n=1,r,i){e.min=rh(e.min,t,n,r,i),e.max=rh(e.max,t,n,r,i)}function jb(e,{x:t,y:n}){ql(e.x,t.translate,t.scale,t.originPoint),ql(e.y,n.translate,n.scale,n.originPoint)}const ih=.999999999999,sh=1.0000000000001;function DT(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&gn(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,jb(e,s)),r&&zt(o.latestValues)&&gn(e,o.latestValues))}t.x<sh&&t.x>ih&&(t.x=1),t.y<sh&&t.y>ih&&(t.y=1)}function mn(e,t){e.min=e.min+t,e.max=e.max+t}function oh(e,t,n,r,i=.5){const o=ae(e.min,e.max,i);ql(e,t,n,o,r)}function gn(e,t){oh(e.x,t.x,t.scaleX,t.scale,t.originX),oh(e.y,t.y,t.scaleY,t.scale,t.originY)}function zb(e,t){return $b(NT(e.getBoundingClientRect(),t))}function kT(e,t,n){const r=zb(e,n),{scroll:i}=t;return i&&(mn(r.x,i.offset.x),mn(r.y,i.offset.y)),r}const Hb=({current:e})=>e?e.ownerDocument.defaultView:null,OT=new WeakMap;class VT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=he(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wr(c).point)},o=(c,f)=>{const{drag:d,dragPropagation:h,onDragStart:m}=this.getProps();if(d&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PS(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fe(v=>{let g=this.getAxisMotionValue(v).get()||0;if(rt.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[v];w&&(g=Oe(w)*(parseFloat(g)/100))}}this.originPoint[v]=g}),m&&se.postRender(()=>m(c,f)),xl(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:m,onDrag:p}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:v}=f;if(h&&this.currentDirection===null){this.currentDirection=LT(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),p&&p(c,f)},a=(c,f)=>this.stop(c,f),u=()=>Fe(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Ob(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:Hb(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&se.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Nr(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=AT(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&dn(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=RT(i.layoutBox,n):this.constraints=!1,this.elastic=IT(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fe(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=MT(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!dn(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=kT(r,i.root,this.visualElement.getTransformPagePoint());let s=CT(i.layout.layoutBox,o);if(n){const a=n(qT(s));this.hasMutatedConstraints=!!a,a&&(s=$b(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},l=Fe(c=>{if(!Nr(c,n,this.currentDirection))return;let f=u&&u[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,m={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,m)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return xl(this.visualElement,t),r.start(qf(t,r,0,n,this.visualElement,!1))}stopAnimation(){Fe(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fe(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fe(n=>{const{drag:r}=this.getProps();if(!Nr(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-ae(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dn(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fe(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const u=a.get();i[s]=PT({min:u,max:u},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fe(s=>{if(!Nr(s,t,null))return;const a=this.getAxisMotionValue(s),{min:u,max:l}=this.constraints[s];a.set(ae(u,l,i[s]))})}addListeners(){if(!this.visualElement.current)return;OT.set(this.visualElement,this);const t=this.visualElement.current,n=nr(t,"pointerdown",u=>{const{drag:l,dragListener:c=!0}=this.getProps();l&&c&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();dn(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),se.read(r);const s=cr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(Fe(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=u[c].translate,f.set(f.get()+u[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Ml,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Nr(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function LT(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class FT extends Lt{constructor(t){super(t),this.removeGroupControls=ke,this.removeListeners=ke,this.controls=new VT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const ah=e=>(t,n)=>{e&&se.postRender(()=>e(t,n))};class $T extends Lt{constructor(){super(...arguments),this.removePointerDownListener=ke}onPointerDown(t){this.session=new Ob(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ah(t),onStart:ah(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&se.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=nr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uh(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(K.test(e))e=parseFloat(e);else return e;const n=uh(e,t.target.x),r=uh(e,t.target.y);return`${n}% ${r}%`}},BT={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ot.parse(e);if(i.length>5)return r;const o=Ot.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,u=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=u;const l=ae(a,u,.5);return typeof i[2+s]=="number"&&(i[2+s]/=l),typeof i[3+s]=="number"&&(i[3+s]/=l),o(i)}};class jT extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;uS(zT),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Kr.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||se.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),af.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ub(e){const[t,n]=S1(),r=S.useContext(R0);return yl.jsx(jT,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(k0),isPresent:t,safeToRemove:n})}const zT={borderRadius:{...Vn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vn,borderTopRightRadius:Vn,borderBottomLeftRadius:Vn,borderBottomRightRadius:Vn,boxShadow:BT};function HT(e,t,n){const r=Ae(e)?e:ar(e);return r.start(qf("",r,t,n)),r.animation}function UT(e){return e instanceof SVGElement&&e.tagName!=="svg"}const GT=(e,t)=>e.depth-t.depth;class KT{constructor(){this.children=[],this.isDirty=!1}add(t){wf(this.children,t),this.isDirty=!0}remove(t){xf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GT),this.isDirty=!1,this.children.forEach(t)}}function WT(e,t){const n=it.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(kt(r),e(o-t))};return se.read(r,!0),()=>kt(r)}const Gb=["TopLeft","TopRight","BottomLeft","BottomRight"],YT=Gb.length,ch=e=>typeof e=="string"?parseFloat(e):e,lh=e=>typeof e=="number"||K.test(e);function XT(e,t,n,r,i,o){i?(e.opacity=ae(0,n.opacity!==void 0?n.opacity:1,ZT(r)),e.opacityExit=ae(t.opacity!==void 0?t.opacity:1,0,JT(r))):o&&(e.opacity=ae(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<YT;s++){const a=`border${Gb[s]}Radius`;let u=fh(t,a),l=fh(n,a);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||lh(u)===lh(l)?(e[a]=Math.max(ae(ch(u),ch(l),r),0),(rt.test(l)||rt.test(u))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=ae(t.rotate||0,n.rotate||0,r))}function fh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZT=Kb(0,.5,fb),JT=Kb(.5,.95,ke);function Kb(e,t,n){return r=>r<e?0:r>t?1:n(wn(e,t,r))}function dh(e,t){e.min=t.min,e.max=t.max}function Le(e,t){dh(e.x,t.x),dh(e.y,t.y)}function hh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ph(e,t,n,r,i){return e-=t,e=ii(e,1/n,r),i!==void 0&&(e=ii(e,1/i,r)),e}function QT(e,t=0,n=1,r=.5,i,o=e,s=e){if(rt.test(t)&&(t=parseFloat(t),t=ae(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=ae(o.min,o.max,r);e===o&&(a-=t),e.min=ph(e.min,t,n,a,i),e.max=ph(e.max,t,n,a,i)}function mh(e,t,[n,r,i],o,s){QT(e,t[n],t[r],t[i],t.scale,o,s)}const eA=["x","scaleX","originX"],tA=["y","scaleY","originY"];function gh(e,t,n,r){mh(e.x,t,eA,n?n.x:void 0,r?r.x:void 0),mh(e.y,t,tA,n?n.y:void 0,r?r.y:void 0)}function vh(e){return e.translate===0&&e.scale===1}function Wb(e){return vh(e.x)&&vh(e.y)}function yh(e,t){return e.min===t.min&&e.max===t.max}function nA(e,t){return yh(e.x,t.x)&&yh(e.y,t.y)}function bh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Yb(e,t){return bh(e.x,t.x)&&bh(e.y,t.y)}function _h(e){return Oe(e.x)/Oe(e.y)}function wh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rA{constructor(){this.members=[]}add(t){wf(this.members,t),t.scheduleRender()}remove(t){if(xf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iA(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:c,rotateX:f,rotateY:d,skewX:h,skewY:m}=n;l&&(r=`perspective(${l}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,u=e.y.scale*t.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const Ht={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Un=typeof window<"u"&&window.MotionDebug!==void 0,cs=["","X","Y","Z"],sA={visibility:"hidden"},xh=1e3;let oA=0;function ls(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Xb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ib(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",se,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Xb(r)}function Zb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=oA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Un&&(Ht.totalNodes=Ht.resolvedTargetDeltas=Ht.recalculatedProjection=0),this.nodes.forEach(cA),this.nodes.forEach(pA),this.nodes.forEach(mA),this.nodes.forEach(lA),Un&&window.MotionDebug.record(Ht)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new KT)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Sf),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const u=this.eventHandlers.get(s);u&&u.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UT(s),this.instance=s;const{layoutId:u,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||u)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=WT(d,250),Kr.hasAnimatedSinceResize&&(Kr.hasAnimatedSinceResize=!1,this.nodes.forEach(Eh))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&c&&(u||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||_A,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=c.getProps(),y=!this.targetLayout||!Yb(this.targetLayout,m)||h,w=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const _={...vf(p,"layout"),onPlay:v,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else d||Eh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gA),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sh);return}this.isUpdating||this.nodes.forEach(dA),this.isUpdating=!1,this.nodes.forEach(hA),this.nodes.forEach(aA),this.nodes.forEach(uA),this.clearAllSnapshots();const a=it.now();xe.delta=bt(0,1e3/60,a-xe.timestamp),xe.timestamp=a,xe.isProcessing=!0,es.update.process(xe),es.preRender.process(xe),es.render.process(xe),xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,af.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fA),this.sharedNodes.forEach(vA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=he(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Wb(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;s&&(a||zt(this.latestValues)||c)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return s&&(u=this.removeTransform(u)),wA(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return he();const u=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(xA))){const{scroll:c}=this.root;c&&(mn(u.x,c.offset.x),mn(u.y,c.offset.y))}return u}removeElementScroll(s){var a;const u=he();if(Le(u,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return u;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&Le(u,s),mn(u.x,f.offset.x),mn(u.y,f.offset.y))}return u}applyTransform(s,a=!1){const u=he();Le(u,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&gn(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),zt(c.latestValues)&&gn(u,c.latestValues)}return zt(this.latestValues)&&gn(u,this.latestValues),u}removeTransform(s){const a=he();Le(a,s);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!zt(l.latestValues))continue;Il(l.latestValues)&&l.updateSnapshot();const c=he(),f=l.measurePageBox();Le(c,f),gh(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return zt(this.latestValues)&&gh(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==u;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=xe.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),ir(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Le(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=he(),this.targetWithTransforms=he()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Le(this.target,this.layout.layoutBox),jb(this.target,this.targetDelta)):Le(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),ir(this.relativeTargetOrigin,this.target,h.target),Le(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Un&&Ht.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Il(this.parent.latestValues)||Bb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(l=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===xe.timestamp&&(l=!1),l)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Le(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;DT(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=he());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hh(this.prevProjectionDelta.x,this.projectionDelta.x),hh(this.prevProjectionDelta.y,this.projectionDelta.y)),rr(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!wh(this.projectionDelta.x,this.prevProjectionDelta.x)||!wh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Un&&Ht.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pn(),this.projectionDelta=pn(),this.projectionDeltaWithTransform=pn()}setAnimationOrigin(s,a=!1){const u=this.snapshot,l=u?u.latestValues:{},c={...this.latestValues},f=pn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=he(),h=u?u.source:void 0,m=this.layout?this.layout.source:void 0,p=h!==m,v=this.getStack(),g=!v||v.members.length<=1,y=!!(p&&!g&&this.options.crossfade===!0&&!this.path.some(bA));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const x=_/1e3;Th(f.x,s.x,x),Th(f.y,s.y,x),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ir(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yA(this.relativeTarget,this.relativeTargetOrigin,d,x),w&&nA(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=he()),Le(w,this.relativeTarget)),p&&(this.animationValues=c,XT(c,l,this.latestValues,x,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{Kr.hasAnimatedSinceResize=!0,this.currentAnimation=HT(0,xh,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:u,layout:l,latestValues:c}=s;if(!(!a||!u||!l)){if(this!==s&&this.layout&&l&&Jb(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||he();const f=Oe(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+f;const d=Oe(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+d}Le(a,u),gn(a,c),rr(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new rA),this.sharedNodes.get(s).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const l={};u.z&&ls("z",s,l,this.animationValues);for(let c=0;c<cs.length;c++)ls(`rotate${cs[c]}`,s,l,this.animationValues),ls(`skew${cs[c]}`,s,l,this.animationValues);s.render();for(const c in l)s.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);s.scheduleRender()}getProjectionStyles(s){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sA;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Ur(s==null?void 0:s.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Ur(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!zt(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=iA(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:h,y:m}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,f.animationValues?l.opacity=f===this?(u=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Qr){if(d[p]===void 0)continue;const{correct:v,applyTo:g}=Qr[p],y=l.transform==="none"?d[p]:v(d[p],f);if(g){const w=g.length;for(let _=0;_<w;_++)l[g[_]]=y}else l[p]=y}return this.options.layoutId&&(l.pointerEvents=f===this?Ur(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Sh),this.root.sharedNodes.clear()}}}function aA(e){e.updateLayout()}function uA(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?Fe(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=Oe(d);d.min=r[f].min,d.max=d.min+h}):Jb(o,n.layoutBox,r)&&Fe(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],h=Oe(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const a=pn();rr(a,r,n.layoutBox);const u=pn();s?rr(u,e.applyTransform(i,!0),n.measuredBox):rr(u,r,n.layoutBox);const l=!Wb(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const m=he();ir(m,n.layoutBox,d.layoutBox);const p=he();ir(p,r,h.layoutBox),Yb(m,p)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function cA(e){Un&&Ht.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function lA(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fA(e){e.clearSnapshot()}function Sh(e){e.clearMeasurements()}function dA(e){e.isLayoutDirty=!1}function hA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Eh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pA(e){e.resolveTargetDelta()}function mA(e){e.calcProjection()}function gA(e){e.resetSkewAndRotation()}function vA(e){e.removeLeadSnapshot()}function Th(e,t,n){e.translate=ae(t.translate,0,n),e.scale=ae(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ah(e,t,n,r){e.min=ae(t.min,n.min,r),e.max=ae(t.max,n.max,r)}function yA(e,t,n,r){Ah(e.x,t.x,n.x,r),Ah(e.y,t.y,n.y,r)}function bA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _A={duration:.45,ease:[.4,0,.1,1]},Rh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ch=Rh("applewebkit/")&&!Rh("chrome/")?Math.round:ke;function Ph(e){e.min=Ch(e.min),e.max=Ch(e.max)}function wA(e){Ph(e.x),Ph(e.y)}function Jb(e,t,n){return e==="position"||e==="preserve-aspect"&&!ET(_h(t),_h(n),.2)}function xA(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const SA=Zb({attachResizeListener:(e,t)=>cr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fs={current:void 0},Qb=Zb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fs.current){const e=new SA({});e.mount(window),e.setOptions({layoutScroll:!0}),fs.current=e}return fs.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),EA={pan:{Feature:$T},drag:{Feature:FT,ProjectionNode:Qb,MeasureLayout:Ub}};function Mh(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&se.postRender(()=>o(t,wr(t)))}class TA extends Lt{mount(){const{current:t}=this.node;t&&(this.unmount=ES(t,n=>(Mh(this.node,n,"Start"),r=>Mh(this.node,r,"End"))))}unmount(){}}class AA extends Lt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_r(cr(this.node.current,"focus",()=>this.onFocus()),cr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ih(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&se.postRender(()=>o(t,wr(t)))}class RA extends Lt{mount(){const{current:t}=this.node;t&&(this.unmount=CS(t,n=>(Ih(this.node,n,"Start"),(r,{success:i})=>Ih(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nl=new WeakMap,ds=new WeakMap,CA=e=>{const t=Nl.get(e.target);t&&t(e)},PA=e=>{e.forEach(CA)};function MA({root:e,...t}){const n=e||document;ds.has(n)||ds.set(n,{});const r=ds.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(PA,{root:e,...t})),r[i]}function IA(e,t,n){const r=MA(t);return Nl.set(e,n),r.observe(e),()=>{Nl.delete(e),r.unobserve(e)}}const qA={some:0,all:1};class NA extends Lt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:qA[i]},a=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=l?c:f;d&&d(u)};return IA(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(DA(t,n))&&this.startObserver()}unmount(){}}function DA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const kA={inView:{Feature:NA},tap:{Feature:RA},focus:{Feature:AA},hover:{Feature:TA}},OA={layout:{ProjectionNode:Qb,MeasureLayout:Ub}},Dl={current:null},e_={current:!1};function VA(){if(e_.current=!0,!!tf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dl.current=e.matches;e.addListener(t),t()}else Dl.current=!1}const LA=[...Tb,Te,Ot],FA=e=>LA.find(Eb(e)),qh=new WeakMap;function $A(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Ae(i))e.addValue(r,i);else if(Ae(o))e.addValue(r,ar(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,ar(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Nh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BA{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=it.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,se.render(this.render,!1,!0))};const{latestValues:u,renderState:l,onUpdate:c}=s;this.onUpdate=c,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=wi(n),this.isVariantNode=N0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const m=d[h];u[h]!==void 0&&Ae(m)&&m.set(u[h],!1)}}mount(t){this.current=t,qh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),e_.current||VA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dl.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qh.delete(this.current),this.projection&&this.projection.unmount(),kt(this.notifyUpdate),kt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=tn.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xn){const n=xn[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):he()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Nh.length;r++){const i=Nh[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=$A(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ar(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(xb(i)||hb(i))?i=parseFloat(i):!FA(i)&&Ot.test(n)&&(i=bb(t,n)),this.setBaseTarget(t,Ae(i)?i.get():i)),Ae(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=cf(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ae(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Sf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class t_ extends BA{constructor(){super(...arguments),this.KeyframeResolver=Ab}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ae(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jA(e){return window.getComputedStyle(e)}class zA extends t_{constructor(){super(...arguments),this.type="html",this.renderInstance=j0}readValueFromInstance(t,n){if(tn.has(n)){const r=Cf(n);return r&&r.default||0}else{const r=jA(t),i=(F0(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return zb(t,n)}build(t,n,r){df(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return gf(t,n,r)}}class HA extends t_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=he}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(tn.has(n)){const r=Cf(n);return r&&r.default||0}return n=z0.has(n)?n:of(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return G0(t,n,r)}build(t,n,r){hf(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){H0(t,n,r,i)}mount(t){this.isSVGTag=mf(t.tagName),super.mount(t)}}const UA=(e,t)=>uf(e)?new HA(t):new zA(t,{allowProjection:e!==S.Fragment}),GA=vS({...mT,...kA,...EA,...OA},UA),rL=q1(GA);function Nf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hs,Dh;function KA(){if(Dh)return hs;Dh=1;function e(){this.__data__=[],this.size=0}return hs=e,hs}var ps,kh;function Mn(){if(kh)return ps;kh=1;function e(t,n){return t===n||t!==t&&n!==n}return ps=e,ps}var ms,Oh;function Ei(){if(Oh)return ms;Oh=1;var e=Mn();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return ms=t,ms}var gs,Vh;function WA(){if(Vh)return gs;Vh=1;var e=Ei(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,s=e(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return gs=r,gs}var vs,Lh;function YA(){if(Lh)return vs;Lh=1;var e=Ei();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return vs=t,vs}var ys,Fh;function XA(){if(Fh)return ys;Fh=1;var e=Ei();function t(n){return e(this.__data__,n)>-1}return ys=t,ys}var bs,$h;function ZA(){if($h)return bs;$h=1;var e=Ei();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return bs=t,bs}var _s,Bh;function Ti(){if(Bh)return _s;Bh=1;var e=KA(),t=WA(),n=YA(),r=XA(),i=ZA();function o(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var l=s[a];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,_s=o,_s}var ws,jh;function JA(){if(jh)return ws;jh=1;var e=Ti();function t(){this.__data__=new e,this.size=0}return ws=t,ws}var xs,zh;function QA(){if(zh)return xs;zh=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return xs=e,xs}var Ss,Hh;function eR(){if(Hh)return Ss;Hh=1;function e(t){return this.__data__.get(t)}return Ss=e,Ss}var Es,Uh;function tR(){if(Uh)return Es;Uh=1;function e(t){return this.__data__.has(t)}return Es=e,Es}var Ts,Gh;function n_(){if(Gh)return Ts;Gh=1;var e=typeof Mr=="object"&&Mr&&Mr.Object===Object&&Mr;return Ts=e,Ts}var As,Kh;function Xe(){if(Kh)return As;Kh=1;var e=n_(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return As=n,As}var Rs,Wh;function In(){if(Wh)return Rs;Wh=1;var e=Xe(),t=e.Symbol;return Rs=t,Rs}var Cs,Yh;function nR(){if(Yh)return Cs;Yh=1;var e=In(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(s){var a=n.call(s,i),u=s[i];try{s[i]=void 0;var l=!0}catch{}var c=r.call(s);return l&&(a?s[i]=u:delete s[i]),c}return Cs=o,Cs}var Ps,Xh;function rR(){if(Xh)return Ps;Xh=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Ps=n,Ps}var Ms,Zh;function nn(){if(Zh)return Ms;Zh=1;var e=In(),t=nR(),n=rR(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?t(a):n(a)}return Ms=s,Ms}var Is,Jh;function je(){if(Jh)return Is;Jh=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Is=e,Is}var qs,Qh;function xr(){if(Qh)return qs;Qh=1;var e=nn(),t=je(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!t(a))return!1;var u=e(a);return u==r||u==i||u==n||u==o}return qs=s,qs}var Ns,ep;function iR(){if(ep)return Ns;ep=1;var e=Xe(),t=e["__core-js_shared__"];return Ns=t,Ns}var Ds,tp;function sR(){if(tp)return Ds;tp=1;var e=iR(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Ds=n,Ds}var ks,np;function r_(){if(np)return ks;np=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return ks=n,ks}var Os,rp;function oR(){if(rp)return Os;rp=1;var e=xr(),t=sR(),n=je(),r=r_(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,u=s.toString,l=a.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?c:o;return h.test(r(d))}return Os=f,Os}var Vs,ip;function aR(){if(ip)return Vs;ip=1;function e(t,n){return t==null?void 0:t[n]}return Vs=e,Vs}var Ls,sp;function rn(){if(sp)return Ls;sp=1;var e=oR(),t=aR();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Ls=n,Ls}var Fs,op;function Df(){if(op)return Fs;op=1;var e=rn(),t=Xe(),n=e(t,"Map");return Fs=n,Fs}var $s,ap;function Ai(){if(ap)return $s;ap=1;var e=rn(),t=e(Object,"create");return $s=t,$s}var Bs,up;function uR(){if(up)return Bs;up=1;var e=Ai();function t(){this.__data__=e?e(null):{},this.size=0}return Bs=t,Bs}var js,cp;function cR(){if(cp)return js;cp=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return js=e,js}var zs,lp;function lR(){if(lp)return zs;lp=1;var e=Ai(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(e){var a=s[o];return a===t?void 0:a}return r.call(s,o)?s[o]:void 0}return zs=i,zs}var Hs,fp;function fR(){if(fp)return Hs;fp=1;var e=Ai(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Hs=r,Hs}var Us,dp;function dR(){if(dp)return Us;dp=1;var e=Ai(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Us=n,Us}var Gs,hp;function hR(){if(hp)return Gs;hp=1;var e=uR(),t=cR(),n=lR(),r=fR(),i=dR();function o(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var l=s[a];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Gs=o,Gs}var Ks,pp;function pR(){if(pp)return Ks;pp=1;var e=hR(),t=Ti(),n=Df();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Ks=r,Ks}var Ws,mp;function mR(){if(mp)return Ws;mp=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Ws=e,Ws}var Ys,gp;function Ri(){if(gp)return Ys;gp=1;var e=mR();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ys=t,Ys}var Xs,vp;function gR(){if(vp)return Xs;vp=1;var e=Ri();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Xs=t,Xs}var Zs,yp;function vR(){if(yp)return Zs;yp=1;var e=Ri();function t(n){return e(this,n).get(n)}return Zs=t,Zs}var Js,bp;function yR(){if(bp)return Js;bp=1;var e=Ri();function t(n){return e(this,n).has(n)}return Js=t,Js}var Qs,_p;function bR(){if(_p)return Qs;_p=1;var e=Ri();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Qs=t,Qs}var eo,wp;function kf(){if(wp)return eo;wp=1;var e=pR(),t=gR(),n=vR(),r=yR(),i=bR();function o(s){var a=-1,u=s==null?0:s.length;for(this.clear();++a<u;){var l=s[a];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,eo=o,eo}var to,xp;function _R(){if(xp)return to;xp=1;var e=Ti(),t=Df(),n=kf(),r=200;function i(o,s){var a=this.__data__;if(a instanceof e){var u=a.__data__;if(!t||u.length<r-1)return u.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(u)}return a.set(o,s),this.size=a.size,this}return to=i,to}var no,Sp;function Ci(){if(Sp)return no;Sp=1;var e=Ti(),t=JA(),n=QA(),r=eR(),i=tR(),o=_R();function s(a){var u=this.__data__=new e(a);this.size=u.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,no=s,no}var ro,Ep;function Of(){if(Ep)return ro;Ep=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return ro=e,ro}var io,Tp;function i_(){if(Tp)return io;Tp=1;var e=rn(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return io=t,io}var so,Ap;function Pi(){if(Ap)return so;Ap=1;var e=i_();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return so=t,so}var oo,Rp;function Mi(){if(Rp)return oo;Rp=1;var e=Pi(),t=Mn(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var u=o[s];(!(r.call(o,s)&&t(u,a))||a===void 0&&!(s in o))&&e(o,s,a)}return oo=i,oo}var ao,Cp;function Sr(){if(Cp)return ao;Cp=1;var e=Mi(),t=Pi();function n(r,i,o,s){var a=!o;o||(o={});for(var u=-1,l=i.length;++u<l;){var c=i[u],f=s?s(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),a?t(o,c,f):e(o,c,f)}return o}return ao=n,ao}var uo,Pp;function wR(){if(Pp)return uo;Pp=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return uo=e,uo}var co,Mp;function ot(){if(Mp)return co;Mp=1;function e(t){return t!=null&&typeof t=="object"}return co=e,co}var lo,Ip;function xR(){if(Ip)return lo;Ip=1;var e=nn(),t=ot(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return lo=r,lo}var fo,qp;function Er(){if(qp)return fo;qp=1;var e=xR(),t=ot(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return fo=o,fo}var ho,Np;function pe(){if(Np)return ho;Np=1;var e=Array.isArray;return ho=e,ho}var Gn={exports:{}},po,Dp;function SR(){if(Dp)return po;Dp=1;function e(){return!1}return po=e,po}Gn.exports;var kp;function qn(){return kp||(kp=1,function(e,t){var n=Xe(),r=SR(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;e.exports=l}(Gn,Gn.exports)),Gn.exports}var mo,Op;function Ii(){if(Op)return mo;Op=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return mo=n,mo}var go,Vp;function Vf(){if(Vp)return go;Vp=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return go=t,go}var vo,Lp;function ER(){if(Lp)return vo;Lp=1;var e=nn(),t=Vf(),n=ot(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",m="[object String]",p="[object WeakMap]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",E="[object Int32Array]",R="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",N="[object Uint32Array]",I={};I[y]=I[w]=I[_]=I[x]=I[E]=I[R]=I[C]=I[P]=I[N]=!0,I[r]=I[i]=I[v]=I[o]=I[g]=I[s]=I[a]=I[u]=I[l]=I[c]=I[f]=I[d]=I[h]=I[m]=I[p]=!1;function L(V){return n(V)&&t(V.length)&&!!I[e(V)]}return vo=L,vo}var yo,Fp;function qi(){if(Fp)return yo;Fp=1;function e(t){return function(n){return t(n)}}return yo=e,yo}var Kn={exports:{}};Kn.exports;var $p;function Lf(){return $p||($p=1,function(e,t){var n=n_(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a}(Kn,Kn.exports)),Kn.exports}var bo,Bp;function Tr(){if(Bp)return bo;Bp=1;var e=ER(),t=qi(),n=Lf(),r=n&&n.isTypedArray,i=r?t(r):e;return bo=i,bo}var _o,jp;function s_(){if(jp)return _o;jp=1;var e=wR(),t=Er(),n=pe(),r=qn(),i=Ii(),o=Tr(),s=Object.prototype,a=s.hasOwnProperty;function u(l,c){var f=n(l),d=!f&&t(l),h=!f&&!d&&r(l),m=!f&&!d&&!h&&o(l),p=f||d||h||m,v=p?e(l.length,String):[],g=v.length;for(var y in l)(c||a.call(l,y))&&!(p&&(y=="length"||h&&(y=="offset"||y=="parent")||m&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,g)))&&v.push(y);return v}return _o=u,_o}var wo,zp;function Ni(){if(zp)return wo;zp=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return wo=t,wo}var xo,Hp;function o_(){if(Hp)return xo;Hp=1;function e(t,n){return function(r){return t(n(r))}}return xo=e,xo}var So,Up;function TR(){if(Up)return So;Up=1;var e=o_(),t=e(Object.keys,Object);return So=t,So}var Eo,Gp;function Ff(){if(Gp)return Eo;Gp=1;var e=Ni(),t=TR(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return Eo=i,Eo}var To,Kp;function St(){if(Kp)return To;Kp=1;var e=xr(),t=Vf();function n(r){return r!=null&&t(r.length)&&!e(r)}return To=n,To}var Ao,Wp;function Ft(){if(Wp)return Ao;Wp=1;var e=s_(),t=Ff(),n=St();function r(i){return n(i)?e(i):t(i)}return Ao=r,Ao}var Ro,Yp;function AR(){if(Yp)return Ro;Yp=1;var e=Sr(),t=Ft();function n(r,i){return r&&e(i,t(i),r)}return Ro=n,Ro}var Co,Xp;function RR(){if(Xp)return Co;Xp=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Co=e,Co}var Po,Zp;function CR(){if(Zp)return Po;Zp=1;var e=je(),t=Ni(),n=RR(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!e(s))return n(s);var a=t(s),u=[];for(var l in s)l=="constructor"&&(a||!i.call(s,l))||u.push(l);return u}return Po=o,Po}var Mo,Jp;function sn(){if(Jp)return Mo;Jp=1;var e=s_(),t=CR(),n=St();function r(i){return n(i)?e(i,!0):t(i)}return Mo=r,Mo}var Io,Qp;function PR(){if(Qp)return Io;Qp=1;var e=Sr(),t=sn();function n(r,i){return r&&e(i,t(i),r)}return Io=n,Io}var Wn={exports:{}};Wn.exports;var em;function a_(){return em||(em=1,function(e,t){var n=Xe(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=a?a(f):new l.constructor(f);return l.copy(d),d}e.exports=u}(Wn,Wn.exports)),Wn.exports}var qo,tm;function u_(){if(tm)return qo;tm=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return qo=e,qo}var No,nm;function c_(){if(nm)return No;nm=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,s=[];++r<i;){var a=t[r];n(a,r,t)&&(s[o++]=a)}return s}return No=e,No}var Do,rm;function l_(){if(rm)return Do;rm=1;function e(){return[]}return Do=e,Do}var ko,im;function $f(){if(im)return ko;im=1;var e=c_(),t=l_(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(a){return r.call(s,a)}))}:t;return ko=o,ko}var Oo,sm;function MR(){if(sm)return Oo;sm=1;var e=Sr(),t=$f();function n(r,i){return e(r,t(r),i)}return Oo=n,Oo}var Vo,om;function Bf(){if(om)return Vo;om=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Vo=e,Vo}var Lo,am;function Di(){if(am)return Lo;am=1;var e=o_(),t=e(Object.getPrototypeOf,Object);return Lo=t,Lo}var Fo,um;function f_(){if(um)return Fo;um=1;var e=Bf(),t=Di(),n=$f(),r=l_(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)e(a,n(s)),s=t(s);return a}:r;return Fo=o,Fo}var $o,cm;function IR(){if(cm)return $o;cm=1;var e=Sr(),t=f_();function n(r,i){return e(r,t(r),i)}return $o=n,$o}var Bo,lm;function d_(){if(lm)return Bo;lm=1;var e=Bf(),t=pe();function n(r,i,o){var s=i(r);return t(r)?s:e(s,o(r))}return Bo=n,Bo}var jo,fm;function h_(){if(fm)return jo;fm=1;var e=d_(),t=$f(),n=Ft();function r(i){return e(i,n,t)}return jo=r,jo}var zo,dm;function qR(){if(dm)return zo;dm=1;var e=d_(),t=f_(),n=sn();function r(i){return e(i,n,t)}return zo=r,zo}var Ho,hm;function NR(){if(hm)return Ho;hm=1;var e=rn(),t=Xe(),n=e(t,"DataView");return Ho=n,Ho}var Uo,pm;function DR(){if(pm)return Uo;pm=1;var e=rn(),t=Xe(),n=e(t,"Promise");return Uo=n,Uo}var Go,mm;function p_(){if(mm)return Go;mm=1;var e=rn(),t=Xe(),n=e(t,"Set");return Go=n,Go}var Ko,gm;function kR(){if(gm)return Ko;gm=1;var e=rn(),t=Xe(),n=e(t,"WeakMap");return Ko=n,Ko}var Wo,vm;function Nn(){if(vm)return Wo;vm=1;var e=NR(),t=Df(),n=DR(),r=p_(),i=kR(),o=nn(),s=r_(),a="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=s(e),m=s(t),p=s(n),v=s(r),g=s(i),y=o;return(e&&y(new e(new ArrayBuffer(1)))!=d||t&&y(new t)!=a||n&&y(n.resolve())!=l||r&&y(new r)!=c||i&&y(new i)!=f)&&(y=function(w){var _=o(w),x=_==u?w.constructor:void 0,E=x?s(x):"";if(E)switch(E){case h:return d;case m:return a;case p:return l;case v:return c;case g:return f}return _}),Wo=y,Wo}var Yo,ym;function OR(){if(ym)return Yo;ym=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Yo=n,Yo}var Xo,bm;function m_(){if(bm)return Xo;bm=1;var e=Xe(),t=e.Uint8Array;return Xo=t,Xo}var Zo,_m;function jf(){if(_m)return Zo;_m=1;var e=m_();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Zo=t,Zo}var Jo,wm;function VR(){if(wm)return Jo;wm=1;var e=jf();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Jo=t,Jo}var Qo,xm;function LR(){if(xm)return Qo;xm=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Qo=t,Qo}var ea,Sm;function FR(){if(Sm)return ea;Sm=1;var e=In(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return ea=r,ea}var ta,Em;function g_(){if(Em)return ta;Em=1;var e=jf();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return ta=t,ta}var na,Tm;function $R(){if(Tm)return na;Tm=1;var e=jf(),t=VR(),n=LR(),r=FR(),i=g_(),o="[object Boolean]",s="[object Date]",a="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",m="[object DataView]",p="[object Float32Array]",v="[object Float64Array]",g="[object Int8Array]",y="[object Int16Array]",w="[object Int32Array]",_="[object Uint8Array]",x="[object Uint8ClampedArray]",E="[object Uint16Array]",R="[object Uint32Array]";function C(P,N,I){var L=P.constructor;switch(N){case h:return e(P);case o:case s:return new L(+P);case m:return t(P,I);case p:case v:case g:case y:case w:case _:case x:case E:case R:return i(P,I);case a:return new L;case u:case f:return new L(P);case l:return n(P);case c:return new L;case d:return r(P)}}return na=C,na}var ra,Am;function v_(){if(Am)return ra;Am=1;var e=je(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return ra=n,ra}var ia,Rm;function y_(){if(Rm)return ia;Rm=1;var e=v_(),t=Di(),n=Ni();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return ia=r,ia}var sa,Cm;function BR(){if(Cm)return sa;Cm=1;var e=Nn(),t=ot(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return sa=r,sa}var oa,Pm;function jR(){if(Pm)return oa;Pm=1;var e=BR(),t=qi(),n=Lf(),r=n&&n.isMap,i=r?t(r):e;return oa=i,oa}var aa,Mm;function zR(){if(Mm)return aa;Mm=1;var e=Nn(),t=ot(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return aa=r,aa}var ua,Im;function HR(){if(Im)return ua;Im=1;var e=zR(),t=qi(),n=Lf(),r=n&&n.isSet,i=r?t(r):e;return ua=i,ua}var ca,qm;function b_(){if(qm)return ca;qm=1;var e=Ci(),t=Of(),n=Mi(),r=AR(),i=PR(),o=a_(),s=u_(),a=MR(),u=IR(),l=h_(),c=qR(),f=Nn(),d=OR(),h=$R(),m=y_(),p=pe(),v=qn(),g=jR(),y=je(),w=HR(),_=Ft(),x=sn(),E=1,R=2,C=4,P="[object Arguments]",N="[object Array]",I="[object Boolean]",L="[object Date]",V="[object Error]",b="[object Function]",M="[object GeneratorFunction]",T="[object Map]",D="[object Number]",O="[object Object]",A="[object RegExp]",k="[object Set]",F="[object String]",$="[object Symbol]",j="[object WeakMap]",B="[object ArrayBuffer]",U="[object DataView]",X="[object Float32Array]",Q="[object Float64Array]",ne="[object Int8Array]",te="[object Int16Array]",ee="[object Int32Array]",me="[object Uint8Array]",fe="[object Uint8ClampedArray]",we="[object Uint16Array]",ve="[object Uint32Array]",W={};W[P]=W[N]=W[B]=W[U]=W[I]=W[L]=W[X]=W[Q]=W[ne]=W[te]=W[ee]=W[T]=W[D]=W[O]=W[A]=W[k]=W[F]=W[$]=W[me]=W[fe]=W[we]=W[ve]=!0,W[V]=W[b]=W[j]=!1;function ye(H,z,ue,He,Qe,Re){var de,Pe=z&E,Ue=z&R,ut=z&C;if(ue&&(de=Qe?ue(H,He,Qe,Re):ue(H)),de!==void 0)return de;if(!y(H))return H;var et=p(H);if(et){if(de=d(H),!Pe)return s(H,de)}else{var Ne=f(H),ct=Ne==b||Ne==M;if(v(H))return o(H,Pe);if(Ne==O||Ne==P||ct&&!Qe){if(de=Ue||ct?{}:m(H),!Pe)return Ue?u(H,i(de,H)):a(H,r(de,H))}else{if(!W[Ne])return Qe?H:{};de=h(H,Ne,Pe)}}Re||(Re=new e);var Tt=Re.get(H);if(Tt)return Tt;Re.set(H,de),w(H)?H.forEach(function(Ee){de.add(ye(Ee,z,ue,Ee,H,Re))}):g(H)&&H.forEach(function(Ee,Ce){de.set(Ce,ye(Ee,z,ue,Ce,H,Re))});var be=ut?Ue?c:l:Ue?x:_,Me=et?void 0:be(H);return t(Me||H,function(Ee,Ce){Me&&(Ce=Ee,Ee=H[Ce]),n(de,Ce,ye(Ee,z,ue,Ce,H,Re))}),de}return ca=ye,ca}var la,Nm;function UR(){if(Nm)return la;Nm=1;var e=b_(),t=4;function n(r){return e(r,t)}return la=n,la}var fa,Dm;function zf(){if(Dm)return fa;Dm=1;function e(t){return function(){return t}}return fa=e,fa}var da,km;function GR(){if(km)return da;km=1;function e(t){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),u=a.length;u--;){var l=a[t?u:++o];if(r(s[l],l,s)===!1)break}return n}}return da=e,da}var ha,Om;function Hf(){if(Om)return ha;Om=1;var e=GR(),t=e();return ha=t,ha}var pa,Vm;function Uf(){if(Vm)return pa;Vm=1;var e=Hf(),t=Ft();function n(r,i){return r&&e(r,i,t)}return pa=n,pa}var ma,Lm;function KR(){if(Lm)return ma;Lm=1;var e=St();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var s=i.length,a=r?s:-1,u=Object(i);(r?a--:++a<s)&&o(u[a],a,u)!==!1;);return i}}return ma=t,ma}var ga,Fm;function ki(){if(Fm)return ga;Fm=1;var e=Uf(),t=KR(),n=t(e);return ga=n,ga}var va,$m;function on(){if($m)return va;$m=1;function e(t){return t}return va=e,va}var ya,Bm;function __(){if(Bm)return ya;Bm=1;var e=on();function t(n){return typeof n=="function"?n:e}return ya=t,ya}var ba,jm;function w_(){if(jm)return ba;jm=1;var e=Of(),t=ki(),n=__(),r=pe();function i(o,s){var a=r(o)?e:t;return a(o,n(s))}return ba=i,ba}var _a,zm;function x_(){return zm||(zm=1,_a=w_()),_a}var wa,Hm;function WR(){if(Hm)return wa;Hm=1;var e=ki();function t(n,r){var i=[];return e(n,function(o,s,a){r(o,s,a)&&i.push(o)}),i}return wa=t,wa}var xa,Um;function YR(){if(Um)return xa;Um=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return xa=t,xa}var Sa,Gm;function XR(){if(Gm)return Sa;Gm=1;function e(t){return this.__data__.has(t)}return Sa=e,Sa}var Ea,Km;function S_(){if(Km)return Ea;Km=1;var e=kf(),t=YR(),n=XR();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new e;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Ea=r,Ea}var Ta,Wm;function ZR(){if(Wm)return Ta;Wm=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Ta=e,Ta}var Aa,Ym;function E_(){if(Ym)return Aa;Ym=1;function e(t,n){return t.has(n)}return Aa=e,Aa}var Ra,Xm;function T_(){if(Xm)return Ra;Xm=1;var e=S_(),t=ZR(),n=E_(),r=1,i=2;function o(s,a,u,l,c,f){var d=u&r,h=s.length,m=a.length;if(h!=m&&!(d&&m>h))return!1;var p=f.get(s),v=f.get(a);if(p&&v)return p==a&&v==s;var g=-1,y=!0,w=u&i?new e:void 0;for(f.set(s,a),f.set(a,s);++g<h;){var _=s[g],x=a[g];if(l)var E=d?l(x,_,g,a,s,f):l(_,x,g,s,a,f);if(E!==void 0){if(E)continue;y=!1;break}if(w){if(!t(a,function(R,C){if(!n(w,C)&&(_===R||c(_,R,u,l,f)))return w.push(C)})){y=!1;break}}else if(!(_===x||c(_,x,u,l,f))){y=!1;break}}return f.delete(s),f.delete(a),y}return Ra=o,Ra}var Ca,Zm;function JR(){if(Zm)return Ca;Zm=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Ca=e,Ca}var Pa,Jm;function Gf(){if(Jm)return Pa;Jm=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Pa=e,Pa}var Ma,Qm;function QR(){if(Qm)return Ma;Qm=1;var e=In(),t=m_(),n=Mn(),r=T_(),i=JR(),o=Gf(),s=1,a=2,u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",m="[object Set]",p="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",w=e?e.prototype:void 0,_=w?w.valueOf:void 0;function x(E,R,C,P,N,I,L){switch(C){case y:if(E.byteLength!=R.byteLength||E.byteOffset!=R.byteOffset)return!1;E=E.buffer,R=R.buffer;case g:return!(E.byteLength!=R.byteLength||!I(new t(E),new t(R)));case u:case l:case d:return n(+E,+R);case c:return E.name==R.name&&E.message==R.message;case h:case p:return E==R+"";case f:var V=i;case m:var b=P&s;if(V||(V=o),E.size!=R.size&&!b)return!1;var M=L.get(E);if(M)return M==R;P|=a,L.set(E,R);var T=r(V(E),V(R),P,N,I,L);return L.delete(E),T;case v:if(_)return _.call(E)==_.call(R)}return!1}return Ma=x,Ma}var Ia,eg;function eC(){if(eg)return Ia;eg=1;var e=h_(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,u,l,c){var f=a&t,d=e(o),h=d.length,m=e(s),p=m.length;if(h!=p&&!f)return!1;for(var v=h;v--;){var g=d[v];if(!(f?g in s:r.call(s,g)))return!1}var y=c.get(o),w=c.get(s);if(y&&w)return y==s&&w==o;var _=!0;c.set(o,s),c.set(s,o);for(var x=f;++v<h;){g=d[v];var E=o[g],R=s[g];if(u)var C=f?u(R,E,g,s,o,c):u(E,R,g,o,s,c);if(!(C===void 0?E===R||l(E,R,a,u,c):C)){_=!1;break}x||(x=g=="constructor")}if(_&&!x){var P=o.constructor,N=s.constructor;P!=N&&"constructor"in o&&"constructor"in s&&!(typeof P=="function"&&P instanceof P&&typeof N=="function"&&N instanceof N)&&(_=!1)}return c.delete(o),c.delete(s),_}return Ia=i,Ia}var qa,tg;function tC(){if(tg)return qa;tg=1;var e=Ci(),t=T_(),n=QR(),r=eC(),i=Nn(),o=pe(),s=qn(),a=Tr(),u=1,l="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function m(p,v,g,y,w,_){var x=o(p),E=o(v),R=x?c:i(p),C=E?c:i(v);R=R==l?f:R,C=C==l?f:C;var P=R==f,N=C==f,I=R==C;if(I&&s(p)){if(!s(v))return!1;x=!0,P=!1}if(I&&!P)return _||(_=new e),x||a(p)?t(p,v,g,y,w,_):n(p,v,R,g,y,w,_);if(!(g&u)){var L=P&&h.call(p,"__wrapped__"),V=N&&h.call(v,"__wrapped__");if(L||V){var b=L?p.value():p,M=V?v.value():v;return _||(_=new e),w(b,M,g,y,_)}}return I?(_||(_=new e),r(p,v,g,y,w,_)):!1}return qa=m,qa}var Na,ng;function A_(){if(ng)return Na;ng=1;var e=tC(),t=ot();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,s,n,a)}return Na=n,Na}var Da,rg;function nC(){if(rg)return Da;rg=1;var e=Ci(),t=A_(),n=1,r=2;function i(o,s,a,u){var l=a.length,c=l,f=!u;if(o==null)return!c;for(o=Object(o);l--;){var d=a[l];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++l<c;){d=a[l];var h=d[0],m=o[h],p=d[1];if(f&&d[2]){if(m===void 0&&!(h in o))return!1}else{var v=new e;if(u)var g=u(m,p,h,o,s,v);if(!(g===void 0?t(p,m,n|r,u,v):g))return!1}}return!0}return Da=i,Da}var ka,ig;function R_(){if(ig)return ka;ig=1;var e=je();function t(n){return n===n&&!e(n)}return ka=t,ka}var Oa,sg;function rC(){if(sg)return Oa;sg=1;var e=R_(),t=Ft();function n(r){for(var i=t(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,e(a)]}return i}return Oa=n,Oa}var Va,og;function C_(){if(og)return Va;og=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Va=e,Va}var La,ag;function iC(){if(ag)return La;ag=1;var e=nC(),t=rC(),n=C_();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||e(s,i,o)}}return La=r,La}var Fa,ug;function Dn(){if(ug)return Fa;ug=1;var e=nn(),t=ot(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Fa=r,Fa}var $a,cg;function Kf(){if(cg)return $a;cg=1;var e=pe(),t=Dn(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(e(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return $a=i,$a}var Ba,lg;function sC(){if(lg)return Ba;lg=1;var e=kf(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],u=o.cache;if(u.has(a))return u.get(a);var l=r.apply(this,s);return o.cache=u.set(a,l)||u,l};return o.cache=new(n.Cache||e),o}return n.Cache=e,Ba=n,Ba}var ja,fg;function oC(){if(fg)return ja;fg=1;var e=sC(),t=500;function n(r){var i=e(r,function(s){return o.size===t&&o.clear(),s}),o=i.cache;return i}return ja=n,ja}var za,dg;function aC(){if(dg)return za;dg=1;var e=oC(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(s,a,u,l){o.push(u?l.replace(n,"$1"):a||s)}),o});return za=r,za}var Ha,hg;function Oi(){if(hg)return Ha;hg=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Ha=e,Ha}var Ua,pg;function uC(){if(pg)return Ua;pg=1;var e=In(),t=Oi(),n=pe(),r=Dn(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return t(a,s)+"";if(r(a))return o?o.call(a):"";var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}return Ua=s,Ua}var Ga,mg;function P_(){if(mg)return Ga;mg=1;var e=uC();function t(n){return n==null?"":e(n)}return Ga=t,Ga}var Ka,gg;function Vi(){if(gg)return Ka;gg=1;var e=pe(),t=Kf(),n=aC(),r=P_();function i(o,s){return e(o)?o:t(o,s)?[o]:n(r(o))}return Ka=i,Ka}var Wa,vg;function Ar(){if(vg)return Wa;vg=1;var e=Dn();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Wa=t,Wa}var Ya,yg;function Li(){if(yg)return Ya;yg=1;var e=Vi(),t=Ar();function n(r,i){i=e(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[t(i[o++])];return o&&o==s?r:void 0}return Ya=n,Ya}var Xa,bg;function cC(){if(bg)return Xa;bg=1;var e=Li();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Xa=t,Xa}var Za,_g;function lC(){if(_g)return Za;_g=1;function e(t,n){return t!=null&&n in Object(t)}return Za=e,Za}var Ja,wg;function M_(){if(wg)return Ja;wg=1;var e=Vi(),t=Er(),n=pe(),r=Ii(),i=Vf(),o=Ar();function s(a,u,l){u=e(u,a);for(var c=-1,f=u.length,d=!1;++c<f;){var h=o(u[c]);if(!(d=a!=null&&l(a,h)))break;a=a[h]}return d||++c!=f?d:(f=a==null?0:a.length,!!f&&i(f)&&r(h,f)&&(n(a)||t(a)))}return Ja=s,Ja}var Qa,xg;function I_(){if(xg)return Qa;xg=1;var e=lC(),t=M_();function n(r,i){return r!=null&&t(r,i,e)}return Qa=n,Qa}var eu,Sg;function fC(){if(Sg)return eu;Sg=1;var e=A_(),t=cC(),n=I_(),r=Kf(),i=R_(),o=C_(),s=Ar(),a=1,u=2;function l(c,f){return r(c)&&i(f)?o(s(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?n(d,c):e(f,h,a|u)}}return eu=l,eu}var tu,Eg;function q_(){if(Eg)return tu;Eg=1;function e(t){return function(n){return n==null?void 0:n[t]}}return tu=e,tu}var nu,Tg;function dC(){if(Tg)return nu;Tg=1;var e=Li();function t(n){return function(r){return e(r,n)}}return nu=t,nu}var ru,Ag;function hC(){if(Ag)return ru;Ag=1;var e=q_(),t=dC(),n=Kf(),r=Ar();function i(o){return n(o)?e(r(o)):t(o)}return ru=i,ru}var iu,Rg;function Et(){if(Rg)return iu;Rg=1;var e=iC(),t=fC(),n=on(),r=pe(),i=hC();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return iu=o,iu}var su,Cg;function N_(){if(Cg)return su;Cg=1;var e=c_(),t=WR(),n=Et(),r=pe();function i(o,s){var a=r(o)?e:t;return a(o,n(s,3))}return su=i,su}var ou,Pg;function pC(){if(Pg)return ou;Pg=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return ou=n,ou}var au,Mg;function D_(){if(Mg)return au;Mg=1;var e=pC(),t=M_();function n(r,i){return r!=null&&t(r,i,e)}return au=n,au}var uu,Ig;function mC(){if(Ig)return uu;Ig=1;var e=Ff(),t=Nn(),n=Er(),r=pe(),i=St(),o=qn(),s=Ni(),a=Tr(),u="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||a(h)||n(h)))return!h.length;var m=t(h);if(m==u||m==l)return!h.size;if(s(h))return!e(h).length;for(var p in h)if(f.call(h,p))return!1;return!0}return uu=d,uu}var cu,qg;function k_(){if(qg)return cu;qg=1;function e(t){return t===void 0}return cu=e,cu}var lu,Ng;function O_(){if(Ng)return lu;Ng=1;var e=ki(),t=St();function n(r,i){var o=-1,s=t(r)?Array(r.length):[];return e(r,function(a,u,l){s[++o]=i(a,u,l)}),s}return lu=n,lu}var fu,Dg;function V_(){if(Dg)return fu;Dg=1;var e=Oi(),t=Et(),n=O_(),r=pe();function i(o,s){var a=r(o)?e:n;return a(o,t(s,3))}return fu=i,fu}var du,kg;function gC(){if(kg)return du;kg=1;function e(t,n,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=n(r,t[o],o,t);return r}return du=e,du}var hu,Og;function vC(){if(Og)return hu;Og=1;function e(t,n,r,i,o){return o(t,function(s,a,u){r=i?(i=!1,s):n(r,s,a,u)}),r}return hu=e,hu}var pu,Vg;function L_(){if(Vg)return pu;Vg=1;var e=gC(),t=ki(),n=Et(),r=vC(),i=pe();function o(s,a,u){var l=i(s)?e:r,c=arguments.length<3;return l(s,n(a,4),u,c,t)}return pu=o,pu}var mu,Lg;function yC(){if(Lg)return mu;Lg=1;var e=nn(),t=pe(),n=ot(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return mu=i,mu}var gu,Fg;function bC(){if(Fg)return gu;Fg=1;var e=q_(),t=e("length");return gu=t,gu}var vu,$g;function _C(){if($g)return vu;$g=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+e+i+o+"]");function u(l){return a.test(l)}return vu=u,vu}var yu,Bg;function wC(){if(Bg)return yu;Bg=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",s="["+e+"]",a="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+a+"|"+u+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",m=l+"?",p="["+o+"]?",v="(?:"+h+"(?:"+[c,f,d].join("|")+")"+p+m+")*",g=p+m+v,y="(?:"+[c+a+"?",a,f,d,s].join("|")+")",w=RegExp(u+"(?="+u+")|"+y+g,"g");function _(x){for(var E=w.lastIndex=0;w.test(x);)++E;return E}return yu=_,yu}var bu,jg;function xC(){if(jg)return bu;jg=1;var e=bC(),t=_C(),n=wC();function r(i){return t(i)?n(i):e(i)}return bu=r,bu}var _u,zg;function SC(){if(zg)return _u;zg=1;var e=Ff(),t=Nn(),n=St(),r=yC(),i=xC(),o="[object Map]",s="[object Set]";function a(u){if(u==null)return 0;if(n(u))return r(u)?i(u):u.length;var l=t(u);return l==o||l==s?u.size:e(u).length}return _u=a,_u}var wu,Hg;function EC(){if(Hg)return wu;Hg=1;var e=Of(),t=v_(),n=Uf(),r=Et(),i=Di(),o=pe(),s=qn(),a=xr(),u=je(),l=Tr();function c(f,d,h){var m=o(f),p=m||s(f)||l(f);if(d=r(d,4),h==null){var v=f&&f.constructor;p?h=m?new v:[]:u(f)?h=a(v)?t(i(f)):{}:h={}}return(p?e:n)(f,function(g,y,w){return d(h,g,y,w)}),h}return wu=c,wu}var xu,Ug;function TC(){if(Ug)return xu;Ug=1;var e=In(),t=Er(),n=pe(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return xu=i,xu}var Su,Gg;function Wf(){if(Gg)return Su;Gg=1;var e=Bf(),t=TC();function n(r,i,o,s,a){var u=-1,l=r.length;for(o||(o=t),a||(a=[]);++u<l;){var c=r[u];i>0&&o(c)?i>1?n(c,i-1,o,s,a):e(a,c):s||(a[a.length]=c)}return a}return Su=n,Su}var Eu,Kg;function AC(){if(Kg)return Eu;Kg=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Eu=e,Eu}var Tu,Wg;function F_(){if(Wg)return Tu;Wg=1;var e=AC(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,u=t(s.length-i,0),l=Array(u);++a<u;)l[a]=s[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=s[a];return c[i]=o(l),e(r,this,c)}}return Tu=n,Tu}var Au,Yg;function RC(){if(Yg)return Au;Yg=1;var e=zf(),t=i_(),n=on(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Au=r,Au}var Ru,Xg;function CC(){if(Xg)return Ru;Xg=1;var e=800,t=16,n=Date.now;function r(i){var o=0,s=0;return function(){var a=n(),u=t-(a-s);if(s=a,u>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Ru=r,Ru}var Cu,Zg;function $_(){if(Zg)return Cu;Zg=1;var e=RC(),t=CC(),n=t(e);return Cu=n,Cu}var Pu,Jg;function Fi(){if(Jg)return Pu;Jg=1;var e=on(),t=F_(),n=$_();function r(i,o){return n(t(i,o,e),i+"")}return Pu=r,Pu}var Mu,Qg;function B_(){if(Qg)return Mu;Qg=1;function e(t,n,r,i){for(var o=t.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(t[s],s,t))return s;return-1}return Mu=e,Mu}var Iu,ev;function PC(){if(ev)return Iu;ev=1;function e(t){return t!==t}return Iu=e,Iu}var qu,tv;function MC(){if(tv)return qu;tv=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return qu=e,qu}var Nu,nv;function IC(){if(nv)return Nu;nv=1;var e=B_(),t=PC(),n=MC();function r(i,o,s){return o===o?n(i,o,s):e(i,t,s)}return Nu=r,Nu}var Du,rv;function qC(){if(rv)return Du;rv=1;var e=IC();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Du=t,Du}var ku,iv;function NC(){if(iv)return ku;iv=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return ku=e,ku}var Ou,sv;function DC(){if(sv)return Ou;sv=1;function e(){}return Ou=e,Ou}var Vu,ov;function kC(){if(ov)return Vu;ov=1;var e=p_(),t=DC(),n=Gf(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Vu=i,Vu}var Lu,av;function OC(){if(av)return Lu;av=1;var e=S_(),t=qC(),n=NC(),r=E_(),i=kC(),o=Gf(),s=200;function a(u,l,c){var f=-1,d=t,h=u.length,m=!0,p=[],v=p;if(c)m=!1,d=n;else if(h>=s){var g=l?null:i(u);if(g)return o(g);m=!1,d=r,v=new e}else v=l?[]:p;e:for(;++f<h;){var y=u[f],w=l?l(y):y;if(y=c||y!==0?y:0,m&&w===w){for(var _=v.length;_--;)if(v[_]===w)continue e;l&&v.push(w),p.push(y)}else d(v,w,c)||(v!==p&&v.push(w),p.push(y))}return p}return Lu=a,Lu}var Fu,uv;function j_(){if(uv)return Fu;uv=1;var e=St(),t=ot();function n(r){return t(r)&&e(r)}return Fu=n,Fu}var $u,cv;function VC(){if(cv)return $u;cv=1;var e=Wf(),t=Fi(),n=OC(),r=j_(),i=t(function(o){return n(e(o,1,r,!0))});return $u=i,$u}var Bu,lv;function LC(){if(lv)return Bu;lv=1;var e=Oi();function t(n,r){return e(r,function(i){return n[i]})}return Bu=t,Bu}var ju,fv;function z_(){if(fv)return ju;fv=1;var e=LC(),t=Ft();function n(r){return r==null?[]:e(r,t(r))}return ju=n,ju}var zu,dv;function ze(){if(dv)return zu;dv=1;var e;if(typeof Nf=="function")try{e={clone:UR(),constant:zf(),each:x_(),filter:N_(),has:D_(),isArray:pe(),isEmpty:mC(),isFunction:xr(),isUndefined:k_(),keys:Ft(),map:V_(),reduce:L_(),size:SC(),transform:EC(),union:VC(),values:z_()}}catch{}return e||(e=window._),zu=e,zu}var Hu,hv;function Yf(){if(hv)return Hu;hv=1;var e=ze();Hu=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(m){d.length>1?h.setNode(m,f):h.setNode(m)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(p,v){c(v)&&f.setNode(v,p)}),e.each(this._edgeObjs,function(p){f.hasNode(p.v)&&f.hasNode(p.w)&&f.setEdge(p,d.edge(p))});var h={};function m(p){var v=d.parent(p);return v===void 0||f.hasNode(v)?(h[p]=v,v):v in h?h[v]:m(v)}return this._isCompound&&e.each(f.nodes(),function(p){f.setParent(p,m(p))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(m,p){return h.length>1?d.setEdge(m,p,f):d.setEdge(m,p),p}),this},i.prototype.setEdge=function(){var c,f,d,h,m=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(c=p.v,f=p.w,d=p.name,arguments.length===2&&(h=arguments[1],m=!0)):(c=p,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],m=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var v=a(this._isDirected,c,f,d);if(e.has(this._edgeLabels,v))return m&&(this._edgeLabels[v]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[v]=m?h:this._defaultEdgeLabelFn(c,f,d);var g=u(this._isDirected,c,f,d);return c=g.v,f=g.w,Object.freeze(g),this._edgeObjs[v]=g,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][v]=g,this._out[c][v]=g,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?l(this._isDirected,arguments[0]):a(this._isDirected,c,f,d),m=this._edgeObjs[h];return m&&(c=m.v,f=m.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[f],c),s(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(m){return m.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(m){return m.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function s(c,f){--c[f]||delete c[f]}function a(c,f,d,h){var m=""+f,p=""+d;if(!c&&m>p){var v=m;m=p,p=v}return m+r+p+r+(e.isUndefined(h)?t:h)}function u(c,f,d,h){var m=""+f,p=""+d;if(!c&&m>p){var v=m;m=p,p=v}var g={v:m,w:p};return h&&(g.name=h),g}function l(c,f){return a(c,f.v,f.w,f.name)}return Hu}var Uu,pv;function FC(){return pv||(pv=1,Uu="2.1.8"),Uu}var Gu,mv;function $C(){return mv||(mv=1,Gu={Graph:Yf(),version:FC()}),Gu}var Ku,gv;function BC(){if(gv)return Ku;gv=1;var e=ze(),t=Yf();Ku={write:n,read:o};function n(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(a.value=e.clone(s.graph())),a}function r(s){return e.map(s.nodes(),function(a){var u=s.node(a),l=s.parent(a),c={v:a};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function i(s){return e.map(s.edges(),function(a){var u=s.edge(a),l={v:a.v,w:a.w};return e.isUndefined(a.name)||(l.name=a.name),e.isUndefined(u)||(l.value=u),l})}function o(s){var a=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(u){a.setNode(u.v,u.value),u.parent&&a.setParent(u.v,u.parent)}),e.each(s.edges,function(u){a.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),a}return Ku}var Wu,vv;function jC(){if(vv)return Wu;vv=1;var e=ze();Wu=t;function t(n){var r={},i=[],o;function s(a){e.has(r,a)||(r[a]=!0,o.push(a),e.each(n.successors(a),s),e.each(n.predecessors(a),s))}return e.each(n.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return Wu}var Yu,yv;function H_(){if(yv)return Yu;yv=1;var e=ze();Yu=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r},Yu}var Xu,bv;function U_(){if(bv)return Xu;bv=1;var e=ze(),t=H_();Xu=r;var n=e.constant(1);function r(o,s,a,u){return i(o,String(s),a||n,u||function(l){return o.outEdges(l)})}function i(o,s,a,u){var l={},c=new t,f,d,h=function(m){var p=m.v!==f?m.v:m.w,v=l[p],g=a(m),y=d.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+g);y<v.distance&&(v.distance=y,v.predecessor=f,c.decrease(p,y))};for(o.nodes().forEach(function(m){var p=m===s?0:Number.POSITIVE_INFINITY;l[m]={distance:p},c.add(m,p)});c.size()>0&&(f=c.removeMin(),d=l[f],d.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(h);return l}return Xu}var Zu,_v;function zC(){if(_v)return Zu;_v=1;var e=U_(),t=ze();Zu=n;function n(r,i,o){return t.transform(r.nodes(),function(s,a){s[a]=e(r,a,i,o)},{})}return Zu}var Ju,wv;function G_(){if(wv)return Ju;wv=1;var e=ze();Ju=t;function t(n){var r=0,i=[],o={},s=[];function a(u){var l=o[u]={onStack:!0,lowlink:r,index:r++};if(i.push(u),n.successors(u).forEach(function(d){e.has(o,d)?o[d].onStack&&(l.lowlink=Math.min(l.lowlink,o[d].index)):(a(d),l.lowlink=Math.min(l.lowlink,o[d].lowlink))}),l.lowlink===l.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(u!==f);s.push(c)}}return n.nodes().forEach(function(u){e.has(o,u)||a(u)}),s}return Ju}var Qu,xv;function HC(){if(xv)return Qu;xv=1;var e=ze(),t=G_();Qu=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Qu}var ec,Sv;function UC(){if(Sv)return ec;Sv=1;var e=ze();ec=n;var t=e.constant(1);function n(i,o,s){return r(i,o||t,s||function(a){return i.outEdges(a)})}function r(i,o,s){var a={},u=i.nodes();return u.forEach(function(l){a[l]={},a[l][l]={distance:0},u.forEach(function(c){l!==c&&(a[l][c]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(c){var f=c.v===l?c.w:c.v,d=o(c);a[l][f]={distance:d,predecessor:l}})}),u.forEach(function(l){var c=a[l];u.forEach(function(f){var d=a[f];u.forEach(function(h){var m=d[l],p=c[h],v=d[h],g=m.distance+p.distance;g<v.distance&&(v.distance=g,v.predecessor=p.predecessor)})})}),a}return ec}var tc,Ev;function K_(){if(Ev)return tc;Ev=1;var e=ze();tc=t,t.CycleException=n;function t(r){var i={},o={},s=[];function a(u){if(e.has(o,u))throw new n;e.has(i,u)||(o[u]=!0,i[u]=!0,e.each(r.predecessors(u),a),delete o[u],s.push(u))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,tc}var nc,Tv;function GC(){if(Tv)return nc;Tv=1;var e=K_();nc=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return nc}var rc,Av;function W_(){if(Av)return rc;Av=1;var e=ze();rc=t;function t(r,i,o){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],u={};return e.each(i,function(l){if(!r.hasNode(l))throw new Error("Graph does not have node: "+l);n(r,l,o==="post",u,s,a)}),a}function n(r,i,o,s,a,u){e.has(s,i)||(s[i]=!0,o||u.push(i),e.each(a(i),function(l){n(r,l,o,s,a,u)}),o&&u.push(i))}return rc}var ic,Rv;function KC(){if(Rv)return ic;Rv=1;var e=W_();ic=t;function t(n,r){return e(n,r,"post")}return ic}var sc,Cv;function WC(){if(Cv)return sc;Cv=1;var e=W_();sc=t;function t(n,r){return e(n,r,"pre")}return sc}var oc,Pv;function YC(){if(Pv)return oc;Pv=1;var e=ze(),t=Yf(),n=H_();oc=r;function r(i,o){var s=new t,a={},u=new n,l;function c(d){var h=d.v===l?d.w:d.v,m=u.priority(h);if(m!==void 0){var p=o(d);p<m&&(a[h]=l,u.decrease(h,p))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(d){u.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),u.decrease(i.nodes()[0],0);for(var f=!1;u.size()>0;){if(l=u.removeMin(),e.has(a,l))s.setEdge(l,a[l]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(l).forEach(c)}return s}return oc}var ac,Mv;function XC(){return Mv||(Mv=1,ac={components:jC(),dijkstra:U_(),dijkstraAll:zC(),findCycles:HC(),floydWarshall:UC(),isAcyclic:GC(),postorder:KC(),preorder:WC(),prim:YC(),tarjan:G_(),topsort:K_()}),ac}var uc,Iv;function ZC(){if(Iv)return uc;Iv=1;var e=$C();return uc={Graph:e.Graph,json:BC(),alg:XC(),version:e.version},uc}var si;if(typeof Nf=="function")try{si=ZC()}catch{}si||(si=window.graphlib);var Ze=si,cc,qv;function JC(){if(qv)return cc;qv=1;var e=b_(),t=1,n=4;function r(i){return e(i,t|n)}return cc=r,cc}var lc,Nv;function $i(){if(Nv)return lc;Nv=1;var e=Mn(),t=St(),n=Ii(),r=je();function i(o,s,a){if(!r(a))return!1;var u=typeof s;return(u=="number"?t(a)&&n(s,a.length):u=="string"&&s in a)?e(a[s],o):!1}return lc=i,lc}var fc,Dv;function QC(){if(Dv)return fc;Dv=1;var e=Fi(),t=Mn(),n=$i(),r=sn(),i=Object.prototype,o=i.hasOwnProperty,s=e(function(a,u){a=Object(a);var l=-1,c=u.length,f=c>2?u[2]:void 0;for(f&&n(u[0],u[1],f)&&(c=1);++l<c;)for(var d=u[l],h=r(d),m=-1,p=h.length;++m<p;){var v=h[m],g=a[v];(g===void 0||t(g,i[v])&&!o.call(a,v))&&(a[v]=d[v])}return a});return fc=s,fc}var dc,kv;function eP(){if(kv)return dc;kv=1;var e=Et(),t=St(),n=Ft();function r(i){return function(o,s,a){var u=Object(o);if(!t(o)){var l=e(s,3);o=n(o),s=function(f){return l(u[f],f,u)}}var c=i(o,s,a);return c>-1?u[l?o[c]:c]:void 0}}return dc=r,dc}var hc,Ov;function tP(){if(Ov)return hc;Ov=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return hc=t,hc}var pc,Vv;function nP(){if(Vv)return pc;Vv=1;var e=tP(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return pc=n,pc}var mc,Lv;function rP(){if(Lv)return mc;Lv=1;var e=nP(),t=je(),n=Dn(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function u(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=t(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var f=o.test(l);return f||s.test(l)?a(l.slice(2),f?2:8):i.test(l)?r:+l}return mc=u,mc}var gc,Fv;function Y_(){if(Fv)return gc;Fv=1;var e=rP(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return gc=r,gc}var vc,$v;function iP(){if($v)return vc;$v=1;var e=Y_();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return vc=t,vc}var yc,Bv;function sP(){if(Bv)return yc;Bv=1;var e=B_(),t=Et(),n=iP(),r=Math.max;function i(o,s,a){var u=o==null?0:o.length;if(!u)return-1;var l=a==null?0:n(a);return l<0&&(l=r(u+l,0)),e(o,t(s,3),l)}return yc=i,yc}var bc,jv;function oP(){if(jv)return bc;jv=1;var e=eP(),t=sP(),n=e(t);return bc=n,bc}var _c,zv;function X_(){if(zv)return _c;zv=1;var e=Wf();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return _c=t,_c}var wc,Hv;function aP(){if(Hv)return wc;Hv=1;var e=Hf(),t=__(),n=sn();function r(i,o){return i==null?i:e(i,t(o),n)}return wc=r,wc}var xc,Uv;function uP(){if(Uv)return xc;Uv=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return xc=e,xc}var Sc,Gv;function cP(){if(Gv)return Sc;Gv=1;var e=Pi(),t=Uf(),n=Et();function r(i,o){var s={};return o=n(o,3),t(i,function(a,u,l){e(s,u,o(a,u,l))}),s}return Sc=r,Sc}var Ec,Kv;function Xf(){if(Kv)return Ec;Kv=1;var e=Dn();function t(n,r,i){for(var o=-1,s=n.length;++o<s;){var a=n[o],u=r(a);if(u!=null&&(l===void 0?u===u&&!e(u):i(u,l)))var l=u,c=a}return c}return Ec=t,Ec}var Tc,Wv;function lP(){if(Wv)return Tc;Wv=1;function e(t,n){return t>n}return Tc=e,Tc}var Ac,Yv;function fP(){if(Yv)return Ac;Yv=1;var e=Xf(),t=lP(),n=on();function r(i){return i&&i.length?e(i,n,t):void 0}return Ac=r,Ac}var Rc,Xv;function Z_(){if(Xv)return Rc;Xv=1;var e=Pi(),t=Mn();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Rc=n,Rc}var Cc,Zv;function dP(){if(Zv)return Cc;Zv=1;var e=nn(),t=Di(),n=ot(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,u=s.call(Object);function l(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=a.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&s.call(d)==u}return Cc=l,Cc}var Pc,Jv;function J_(){if(Jv)return Pc;Jv=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Pc=e,Pc}var Mc,Qv;function hP(){if(Qv)return Mc;Qv=1;var e=Sr(),t=sn();function n(r){return e(r,t(r))}return Mc=n,Mc}var Ic,ey;function pP(){if(ey)return Ic;ey=1;var e=Z_(),t=a_(),n=g_(),r=u_(),i=y_(),o=Er(),s=pe(),a=j_(),u=qn(),l=xr(),c=je(),f=dP(),d=Tr(),h=J_(),m=hP();function p(v,g,y,w,_,x,E){var R=h(v,y),C=h(g,y),P=E.get(C);if(P){e(v,y,P);return}var N=x?x(R,C,y+"",v,g,E):void 0,I=N===void 0;if(I){var L=s(C),V=!L&&u(C),b=!L&&!V&&d(C);N=C,L||V||b?s(R)?N=R:a(R)?N=r(R):V?(I=!1,N=t(C,!0)):b?(I=!1,N=n(C,!0)):N=[]:f(C)||o(C)?(N=R,o(R)?N=m(R):(!c(R)||l(R))&&(N=i(C))):I=!1}I&&(E.set(C,N),_(N,C,w,x,E),E.delete(C)),e(v,y,N)}return Ic=p,Ic}var qc,ty;function mP(){if(ty)return qc;ty=1;var e=Ci(),t=Z_(),n=Hf(),r=pP(),i=je(),o=sn(),s=J_();function a(u,l,c,f,d){u!==l&&n(l,function(h,m){if(d||(d=new e),i(h))r(u,l,m,c,a,f,d);else{var p=f?f(s(u,m),h,m+"",u,l,d):void 0;p===void 0&&(p=h),t(u,m,p)}},o)}return qc=a,qc}var Nc,ny;function gP(){if(ny)return Nc;ny=1;var e=Fi(),t=$i();function n(r){return e(function(i,o){var s=-1,a=o.length,u=a>1?o[a-1]:void 0,l=a>2?o[2]:void 0;for(u=r.length>3&&typeof u=="function"?(a--,u):void 0,l&&t(o[0],o[1],l)&&(u=a<3?void 0:u,a=1),i=Object(i);++s<a;){var c=o[s];c&&r(i,c,s,u)}return i})}return Nc=n,Nc}var Dc,ry;function vP(){if(ry)return Dc;ry=1;var e=mP(),t=gP(),n=t(function(r,i,o){e(r,i,o)});return Dc=n,Dc}var kc,iy;function Q_(){if(iy)return kc;iy=1;function e(t,n){return t<n}return kc=e,kc}var Oc,sy;function yP(){if(sy)return Oc;sy=1;var e=Xf(),t=Q_(),n=on();function r(i){return i&&i.length?e(i,n,t):void 0}return Oc=r,Oc}var Vc,oy;function bP(){if(oy)return Vc;oy=1;var e=Xf(),t=Et(),n=Q_();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Vc=r,Vc}var Lc,ay;function _P(){if(ay)return Lc;ay=1;var e=Xe(),t=function(){return e.Date.now()};return Lc=t,Lc}var Fc,uy;function wP(){if(uy)return Fc;uy=1;var e=Mi(),t=Vi(),n=Ii(),r=je(),i=Ar();function o(s,a,u,l){if(!r(s))return s;a=t(a,s);for(var c=-1,f=a.length,d=f-1,h=s;h!=null&&++c<f;){var m=i(a[c]),p=u;if(m==="__proto__"||m==="constructor"||m==="prototype")return s;if(c!=d){var v=h[m];p=l?l(v,m,h):void 0,p===void 0&&(p=r(v)?v:n(a[c+1])?[]:{})}e(h,m,p),h=h[m]}return s}return Fc=o,Fc}var $c,cy;function xP(){if(cy)return $c;cy=1;var e=Li(),t=wP(),n=Vi();function r(i,o,s){for(var a=-1,u=o.length,l={};++a<u;){var c=o[a],f=e(i,c);s(f,c)&&t(l,n(c,i),f)}return l}return $c=r,$c}var Bc,ly;function SP(){if(ly)return Bc;ly=1;var e=xP(),t=I_();function n(r,i){return e(r,i,function(o,s){return t(r,s)})}return Bc=n,Bc}var jc,fy;function EP(){if(fy)return jc;fy=1;var e=X_(),t=F_(),n=$_();function r(i){return n(t(i,void 0,e),i+"")}return jc=r,jc}var zc,dy;function TP(){if(dy)return zc;dy=1;var e=SP(),t=EP(),n=t(function(r,i){return r==null?{}:e(r,i)});return zc=n,zc}var Hc,hy;function AP(){if(hy)return Hc;hy=1;var e=Math.ceil,t=Math.max;function n(r,i,o,s){for(var a=-1,u=t(e((i-r)/(o||1)),0),l=Array(u);u--;)l[s?u:++a]=r,r+=o;return l}return Hc=n,Hc}var Uc,py;function RP(){if(py)return Uc;py=1;var e=AP(),t=$i(),n=Y_();function r(i){return function(o,s,a){return a&&typeof a!="number"&&t(o,s,a)&&(s=a=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),a=a===void 0?o<s?1:-1:n(a),e(o,s,a,i)}}return Uc=r,Uc}var Gc,my;function CP(){if(my)return Gc;my=1;var e=RP(),t=e();return Gc=t,Gc}var Kc,gy;function PP(){if(gy)return Kc;gy=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Kc=e,Kc}var Wc,vy;function MP(){if(vy)return Wc;vy=1;var e=Dn();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,a=e(n),u=r!==void 0,l=r===null,c=r===r,f=e(r);if(!l&&!f&&!a&&n>r||a&&u&&c&&!l&&!f||o&&u&&c||!i&&c||!s)return 1;if(!o&&!a&&!f&&n<r||f&&i&&s&&!o&&!a||l&&i&&s||!u&&s||!c)return-1}return 0}return Wc=t,Wc}var Yc,yy;function IP(){if(yy)return Yc;yy=1;var e=MP();function t(n,r,i){for(var o=-1,s=n.criteria,a=r.criteria,u=s.length,l=i.length;++o<u;){var c=e(s[o],a[o]);if(c){if(o>=l)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return Yc=t,Yc}var Xc,by;function qP(){if(by)return Xc;by=1;var e=Oi(),t=Li(),n=Et(),r=O_(),i=PP(),o=qi(),s=IP(),a=on(),u=pe();function l(c,f,d){f.length?f=e(f,function(p){return u(p)?function(v){return t(v,p.length===1?p[0]:p)}:p}):f=[a];var h=-1;f=e(f,o(n));var m=r(c,function(p,v,g){var y=e(f,function(w){return w(p)});return{criteria:y,index:++h,value:p}});return i(m,function(p,v){return s(p,v,d)})}return Xc=l,Xc}var Zc,_y;function NP(){if(_y)return Zc;_y=1;var e=Wf(),t=qP(),n=Fi(),r=$i(),i=n(function(o,s){if(o==null)return[];var a=s.length;return a>1&&r(o,s[0],s[1])?s=[]:a>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(o,e(s,1),[])});return Zc=i,Zc}var Jc,wy;function DP(){if(wy)return Jc;wy=1;var e=P_(),t=0;function n(r){var i=++t;return e(r)+i}return Jc=n,Jc}var Qc,xy;function kP(){if(xy)return Qc;xy=1;function e(t,n,r){for(var i=-1,o=t.length,s=n.length,a={};++i<o;){var u=i<s?n[i]:void 0;r(a,t[i],u)}return a}return Qc=e,Qc}var el,Sy;function OP(){if(Sy)return el;Sy=1;var e=Mi(),t=kP();function n(r,i){return t(r||[],i||[],e)}return el=n,el}var oi;if(typeof Nf=="function")try{oi={cloneDeep:JC(),constant:zf(),defaults:QC(),each:x_(),filter:N_(),find:oP(),flatten:X_(),forEach:w_(),forIn:aP(),has:D_(),isUndefined:k_(),last:uP(),map:V_(),mapValues:cP(),max:fP(),merge:vP(),min:yP(),minBy:bP(),now:_P(),pick:TP(),range:CP(),reduce:L_(),sortBy:NP(),uniqueId:DP(),values:z_(),zipObject:OP()}}catch{}oi||(oi=window._);var oe=oi,VP=Bi;function Bi(){var e={};e._next=e._prev=e,this._sentinel=e}Bi.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return ew(t),t};Bi.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&ew(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Bi.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,LP)),n=n._prev;return"["+e.join(", ")+"]"};function ew(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function LP(e,t){if(e!=="_next"&&e!=="_prev")return t}var ht=oe,FP=Ze.Graph,$P=VP,BP=zP,jP=ht.constant(1);function zP(e,t){if(e.nodeCount()<=1)return[];var n=UP(e,t||jP),r=HP(n.graph,n.buckets,n.zeroIdx);return ht.flatten(ht.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function HP(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)tl(e,t,n,s);for(;s=i.dequeue();)tl(e,t,n,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){r=r.concat(tl(e,t,n,s,!0));break}}}return r}function tl(e,t,n,r,i){var o=i?[]:void 0;return ht.forEach(e.inEdges(r.v),function(s){var a=e.edge(s),u=e.node(s.v);i&&o.push({v:s.v,w:s.w}),u.out-=a,kl(t,n,u)}),ht.forEach(e.outEdges(r.v),function(s){var a=e.edge(s),u=s.w,l=e.node(u);l.in-=a,kl(t,n,l)}),e.removeNode(r.v),o}function UP(e,t){var n=new FP,r=0,i=0;ht.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),ht.forEach(e.edges(),function(a){var u=n.edge(a.v,a.w)||0,l=t(a),c=u+l;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=l),r=Math.max(r,n.node(a.w).in+=l)});var o=ht.range(i+r+3).map(function(){return new $P}),s=r+1;return ht.forEach(n.nodes(),function(a){kl(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function kl(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Kt=oe,GP=BP,KP={run:WP,undo:XP};function WP(e){var t=e.graph().acyclicer==="greedy"?GP(e,n(e)):YP(e);Kt.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Kt.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function YP(e){var t=[],n={},r={};function i(o){Kt.has(r,o)||(r[o]=!0,n[o]=!0,Kt.forEach(e.outEdges(o),function(s){Kt.has(n,s.w)?t.push(s):i(s.w)}),delete n[o])}return Kt.forEach(e.nodes(),i),t}function XP(e){Kt.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var re=oe,tw=Ze.Graph,qe={addDummyNode:nw,simplify:ZP,asNonCompoundGraph:JP,successorWeights:QP,predecessorWeights:eM,intersectRect:tM,buildLayerMatrix:nM,normalizeRanks:rM,removeEmptyRanks:iM,addBorderNode:sM,maxRank:rw,partition:oM,time:aM,notime:uM};function nw(e,t,n,r){var i;do i=re.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function ZP(e){var t=new tw().setGraph(e.graph());return re.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),re.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function JP(e){var t=new tw({multigraph:e.isMultigraph()}).setGraph(e.graph());return re.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),re.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function QP(e){var t=re.map(e.nodes(),function(n){var r={};return re.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return re.zipObject(e.nodes(),t)}function eM(e){var t=re.map(e.nodes(),function(n){var r={};return re.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return re.zipObject(e.nodes(),t)}function tM(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),u=a*i/o,l=a):(i<0&&(s=-s),u=s,l=s*o/i),{x:n+u,y:r+l}}function nM(e){var t=re.map(re.range(rw(e)+1),function(){return[]});return re.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;re.isUndefined(i)||(t[i][r.order]=n)}),t}function rM(e){var t=re.min(re.map(e.nodes(),function(n){return e.node(n).rank}));re.forEach(e.nodes(),function(n){var r=e.node(n);re.has(r,"rank")&&(r.rank-=t)})}function iM(e){var t=re.min(re.map(e.nodes(),function(o){return e.node(o).rank})),n=[];re.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;n[s]||(n[s]=[]),n[s].push(o)});var r=0,i=e.graph().nodeRankFactor;re.forEach(n,function(o,s){re.isUndefined(o)&&s%i!==0?--r:r&&re.forEach(o,function(a){e.node(a).rank+=r})})}function sM(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),nw(e,"border",i,t)}function rw(e){return re.max(re.map(e.nodes(),function(t){var n=e.node(t).rank;if(!re.isUndefined(n))return n}))}function oM(e,t){var n={lhs:[],rhs:[]};return re.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function aM(e,t){var n=re.now();try{return t()}finally{console.log(e+" time: "+(re.now()-n)+"ms")}}function uM(e,t){return t()}var iw=oe,cM=qe,lM={run:fM,undo:hM};function fM(e){e.graph().dummyChains=[],iw.forEach(e.edges(),function(t){dM(e,t)})}function dM(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),u=a.labelRank;if(o!==r+1){e.removeEdge(t);var l,c,f;for(f=0,++r;r<o;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},l=cM.addDummyNode(e,"edge",c,"_d"),r===u&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,l,{weight:a.weight},s),f===0&&e.graph().dummyChains.push(l),n=l;e.setEdge(n,i,{weight:a.weight},s)}}function hM(e){iw.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Dr=oe,ji={longestPath:pM,slack:mM};function pM(e){var t={};function n(r){var i=e.node(r);if(Dr.has(t,r))return i.rank;t[r]=!0;var o=Dr.min(Dr.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Dr.forEach(e.sources(),n)}function mM(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var ai=oe,gM=Ze.Graph,ui=ji.slack,sw=vM;function vM(e){var t=new gM({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;yM(t,e)<r;)i=bM(t,e),o=t.hasNode(i.v)?ui(e,i):-ui(e,i),_M(t,e,o);return t}function yM(e,t){function n(r){ai.forEach(t.nodeEdges(r),function(i){var o=i.v,s=r===o?i.w:o;!e.hasNode(s)&&!ui(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return ai.forEach(e.nodes(),n),e.nodeCount()}function bM(e,t){return ai.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return ui(t,n)})}function _M(e,t,n){ai.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var _t=oe,wM=sw,xM=ji.slack,SM=ji.longestPath,EM=Ze.alg.preorder,TM=Ze.alg.postorder,AM=qe.simplify,RM=an;an.initLowLimValues=Jf;an.initCutValues=Zf;an.calcCutValue=ow;an.leaveEdge=uw;an.enterEdge=cw;an.exchangeEdges=lw;function an(e){e=AM(e),SM(e);var t=wM(e);Jf(t),Zf(t,e);for(var n,r;n=uw(t);)r=cw(t,e,n),lw(t,e,n,r)}function Zf(e,t){var n=TM(e,e.nodes());n=n.slice(0,n.length-1),_t.forEach(n,function(r){CM(e,t,r)})}function CM(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=ow(e,t,n)}function ow(e,t,n){var r=e.node(n),i=r.parent,o=!0,s=t.edge(n,i),a=0;return s||(o=!1,s=t.edge(i,n)),a=s.weight,_t.forEach(t.nodeEdges(n),function(u){var l=u.v===n,c=l?u.w:u.v;if(c!==i){var f=l===o,d=t.edge(u).weight;if(a+=f?d:-d,MM(e,n,c)){var h=e.edge(n,c).cutvalue;a+=f?-h:h}}}),a}function Jf(e,t){arguments.length<2&&(t=e.nodes()[0]),aw(e,{},1,t)}function aw(e,t,n,r,i){var o=n,s=e.node(r);return t[r]=!0,_t.forEach(e.neighbors(r),function(a){_t.has(t,a)||(n=aw(e,t,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function uw(e){return _t.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function cw(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),s=e.node(i),a=o,u=!1;o.lim>s.lim&&(a=s,u=!0);var l=_t.filter(t.edges(),function(c){return u===Ey(e,e.node(c.v),a)&&u!==Ey(e,e.node(c.w),a)});return _t.minBy(l,function(c){return xM(t,c)})}function lw(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Jf(e),Zf(e,t),PM(e,t)}function PM(e,t){var n=_t.find(e.nodes(),function(i){return!t.node(i).parent}),r=EM(e,n);r=r.slice(1),_t.forEach(r,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function MM(e,t,n){return e.hasEdge(t,n)}function Ey(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var IM=ji,fw=IM.longestPath,qM=sw,NM=RM,DM=kM;function kM(e){switch(e.graph().ranker){case"network-simplex":Ty(e);break;case"tight-tree":VM(e);break;case"longest-path":OM(e);break;default:Ty(e)}}var OM=fw;function VM(e){fw(e),qM(e)}function Ty(e){NM(e)}var Ol=oe,LM=FM;function FM(e){var t=BM(e);Ol.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=$M(e,t,i.v,i.w),s=o.path,a=o.lca,u=0,l=s[u],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(l=s[u])!==a&&e.node(l).maxRank<r.rank;)u++;l===a&&(c=!1)}if(!c){for(;u<s.length-1&&e.node(l=s[u+1]).minRank<=r.rank;)u++;l=s[u]}e.setParent(n,l),n=e.successors(n)[0]}})}function $M(e,t,n,r){var i=[],o=[],s=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),u,l;u=n;do u=e.parent(u),i.push(u);while(u&&(t[u].low>s||a>t[u].lim));for(l=u,u=r;(u=e.parent(u))!==l;)o.push(u);return{path:i.concat(o.reverse()),lca:l}}function BM(e){var t={},n=0;function r(i){var o=n;Ol.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return Ol.forEach(e.children(),r),t}var pt=oe,Vl=qe,jM={run:zM,cleanup:GM};function zM(e){var t=Vl.addDummyNode(e,"root",{},"_root"),n=HM(e),r=pt.max(pt.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,pt.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=UM(e)+1;pt.forEach(e.children(),function(s){dw(e,t,i,o,r,n,s)}),e.graph().nodeRankFactor=i}function dw(e,t,n,r,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var u=Vl.addBorderNode(e,"_bt"),l=Vl.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(u,s),c.borderTop=u,e.setParent(l,s),c.borderBottom=l,pt.forEach(a,function(f){dw(e,t,n,r,i,o,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,m=d.borderBottom?d.borderBottom:f,p=d.borderTop?r:2*r,v=h!==m?1:i-o[s]+1;e.setEdge(u,h,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(m,l,{weight:p,minlen:v,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:i+o[s]})}function HM(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&pt.forEach(o,function(s){n(s,i+1)}),t[r]=i}return pt.forEach(e.children(),function(r){n(r,1)}),t}function UM(e){return pt.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function GM(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,pt.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var nl=oe,KM=qe,WM=YM;function YM(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&nl.forEach(r,t),nl.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)Ay(e,"borderLeft","_bl",n,i,o),Ay(e,"borderRight","_br",n,i,o)}}nl.forEach(e.children(),t)}function Ay(e,t,n,r,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],u=KM.addDummyNode(e,"border",s,n);i[t][o]=u,e.setParent(u,r),a&&e.setEdge(a,u,{weight:1})}var nt=oe,XM={adjust:ZM,undo:JM};function ZM(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&hw(e)}function JM(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&QM(e),(t==="lr"||t==="rl")&&(eI(e),hw(e))}function hw(e){nt.forEach(e.nodes(),function(t){Ry(e.node(t))}),nt.forEach(e.edges(),function(t){Ry(e.edge(t))})}function Ry(e){var t=e.width;e.width=e.height,e.height=t}function QM(e){nt.forEach(e.nodes(),function(t){rl(e.node(t))}),nt.forEach(e.edges(),function(t){var n=e.edge(t);nt.forEach(n.points,rl),nt.has(n,"y")&&rl(n)})}function rl(e){e.y=-e.y}function eI(e){nt.forEach(e.nodes(),function(t){il(e.node(t))}),nt.forEach(e.edges(),function(t){var n=e.edge(t);nt.forEach(n.points,il),nt.has(n,"x")&&il(n)})}function il(e){var t=e.x;e.x=e.y,e.y=t}var ft=oe,tI=nI;function nI(e){var t={},n=ft.filter(e.nodes(),function(a){return!e.children(a).length}),r=ft.max(ft.map(n,function(a){return e.node(a).rank})),i=ft.map(ft.range(r+1),function(){return[]});function o(a){if(!ft.has(t,a)){t[a]=!0;var u=e.node(a);i[u.rank].push(a),ft.forEach(e.successors(a),o)}}var s=ft.sortBy(n,function(a){return e.node(a).rank});return ft.forEach(s,o),i}var At=oe,rI=iI;function iI(e,t){for(var n=0,r=1;r<t.length;++r)n+=sI(e,t[r-1],t[r]);return n}function sI(e,t,n){for(var r=At.zipObject(n,At.map(n,function(l,c){return c})),i=At.flatten(At.map(t,function(l){return At.sortBy(At.map(e.outEdges(l),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var a=At.map(new Array(s),function(){return 0}),u=0;return At.forEach(i.forEach(function(l){var c=l.pos+o;a[c]+=l.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=l.weight;u+=l.weight*f})),u}var Cy=oe,oI=aI;function aI(e,t){return Cy.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Cy.reduce(r,function(o,s){var a=e.edge(s),u=e.node(s.v);return{sum:o.sum+a.weight*u.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var De=oe,uI=cI;function cI(e,t){var n={};De.forEach(e,function(i,o){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};De.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),De.forEach(t.edges(),function(i){var o=n[i.v],s=n[i.w];!De.isUndefined(o)&&!De.isUndefined(s)&&(s.indegree++,o.out.push(n[i.w]))});var r=De.filter(n,function(i){return!i.indegree});return lI(r)}function lI(e){var t=[];function n(o){return function(s){s.merged||(De.isUndefined(s.barycenter)||De.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&fI(o,s)}}function r(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),De.forEach(i.in.reverse(),n(i)),De.forEach(i.out,r(i))}return De.map(De.filter(t,function(o){return!o.merged}),function(o){return De.pick(o,["vs","i","barycenter","weight"])})}function fI(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Yn=oe,dI=qe,hI=pI;function pI(e,t){var n=dI.partition(e,function(c){return Yn.has(c,"barycenter")}),r=n.lhs,i=Yn.sortBy(n.rhs,function(c){return-c.i}),o=[],s=0,a=0,u=0;r.sort(mI(!!t)),u=Py(o,i,u),Yn.forEach(r,function(c){u+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,u=Py(o,i,u)});var l={vs:Yn.flatten(o,!0)};return a&&(l.barycenter=s/a,l.weight=a),l}function Py(e,t,n){for(var r;t.length&&(r=Yn.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function mI(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var It=oe,gI=oI,vI=uI,yI=hI,bI=pw;function pw(e,t,n,r){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,u={};s&&(i=It.filter(i,function(m){return m!==s&&m!==a}));var l=gI(e,i);It.forEach(l,function(m){if(e.children(m.v).length){var p=pw(e,m.v,n,r);u[m.v]=p,It.has(p,"barycenter")&&wI(m,p)}});var c=vI(l,n);_I(c,u);var f=yI(c,r);if(s&&(f.vs=It.flatten([s,f.vs,a],!0),e.predecessors(s).length)){var d=e.node(e.predecessors(s)[0]),h=e.node(e.predecessors(a)[0]);It.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function _I(e,t){It.forEach(e,function(n){n.vs=It.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function wI(e,t){It.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Xn=oe,xI=Ze.Graph,SI=EI;function EI(e,t,n){var r=TI(e),i=new xI({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return Xn.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),Xn.forEach(e[n](o),function(u){var l=u.v===o?u.w:u.v,c=i.edge(l,o),f=Xn.isUndefined(c)?0:c.weight;i.setEdge(l,o,{weight:e.edge(u).weight+f})}),Xn.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function TI(e){for(var t;e.hasNode(t=Xn.uniqueId("_root")););return t}var AI=oe,RI=CI;function CI(e,t,n){var r={},i;AI.forEach(n,function(o){for(var s=e.parent(o),a,u;s;){if(a=e.parent(s),a?(u=r[a],r[a]=s):(u=i,i=s),u&&u!==s){t.setEdge(u,s);return}s=a}})}var Nt=oe,PI=tI,MI=rI,II=bI,qI=SI,NI=RI,DI=Ze.Graph,My=qe,kI=OI;function OI(e){var t=My.maxRank(e),n=Iy(e,Nt.range(1,t+1),"inEdges"),r=Iy(e,Nt.range(t-1,-1,-1),"outEdges"),i=PI(e);qy(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,u=0;u<4;++a,++u){VI(a%2?n:r,a%4>=2),i=My.buildLayerMatrix(e);var l=MI(e,i);l<o&&(u=0,s=Nt.cloneDeep(i),o=l)}qy(e,s)}function Iy(e,t,n){return Nt.map(t,function(r){return qI(e,r,n)})}function VI(e,t){var n=new DI;Nt.forEach(e,function(r){var i=r.graph().root,o=II(r,i,n,t);Nt.forEach(o.vs,function(s,a){r.node(s).order=a}),NI(r,n,o.vs)})}function qy(e,t){Nt.forEach(t,function(n){Nt.forEach(n,function(r,i){e.node(r).order=i})})}var Y=oe,LI=Ze.Graph,FI=qe,$I={positionX:ZI};function BI(e,t){var n={};function r(i,o){var s=0,a=0,u=i.length,l=Y.last(o);return Y.forEach(o,function(c,f){var d=zI(e,c),h=d?e.node(d).order:u;(d||c===l)&&(Y.forEach(o.slice(a,f+1),function(m){Y.forEach(e.predecessors(m),function(p){var v=e.node(p),g=v.order;(g<s||h<g)&&!(v.dummy&&e.node(m).dummy)&&mw(n,p,m)})}),a=f+1,s=h)}),o}return Y.reduce(t,r),n}function jI(e,t){var n={};function r(o,s,a,u,l){var c;Y.forEach(Y.range(s,a),function(f){c=o[f],e.node(c).dummy&&Y.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<u||h.order>l)&&mw(n,d,c)})})}function i(o,s){var a=-1,u,l=0;return Y.forEach(s,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(u=e.node(d[0]).order,r(s,l,f,a,u),l=f,a=u)}r(s,l,s.length,u,o.length)}),s}return Y.reduce(t,i),n}function zI(e,t){if(e.node(t).dummy)return Y.find(e.predecessors(t),function(n){return e.node(n).dummy})}function mw(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function HI(e,t,n){if(t>n){var r=t;t=n,n=r}return Y.has(e[t],n)}function UI(e,t,n,r){var i={},o={},s={};return Y.forEach(t,function(a){Y.forEach(a,function(u,l){i[u]=u,o[u]=u,s[u]=l})}),Y.forEach(t,function(a){var u=-1;Y.forEach(a,function(l){var c=r(l);if(c.length){c=Y.sortBy(c,function(p){return s[p]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var m=c[d];o[l]===l&&u<s[m]&&!HI(n,l,m)&&(o[m]=l,o[l]=i[l]=i[m],u=s[m])}}})}),{root:i,align:o}}function GI(e,t,n,r,i){var o={},s=KI(e,t,n,i),a=i?"borderLeft":"borderRight";function u(f,d){for(var h=s.nodes(),m=h.pop(),p={};m;)p[m]?f(m):(p[m]=!0,h.push(m),h=h.concat(d(m))),m=h.pop()}function l(f){o[f]=s.inEdges(f).reduce(function(d,h){return Math.max(d,o[h.v]+s.edge(h))},0)}function c(f){var d=s.outEdges(f).reduce(function(m,p){return Math.min(m,o[p.w]-s.edge(p))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(o[f]=Math.max(o[f],d))}return u(l,s.predecessors.bind(s)),u(c,s.successors.bind(s)),Y.forEach(r,function(f){o[f]=o[n[f]]}),o}function KI(e,t,n,r){var i=new LI,o=e.graph(),s=JI(o.nodesep,o.edgesep,r);return Y.forEach(t,function(a){var u;Y.forEach(a,function(l){var c=n[l];if(i.setNode(c),u){var f=n[u],d=i.edge(f,c);i.setEdge(f,c,Math.max(s(e,l,u),d||0))}u=l})}),i}function WI(e,t){return Y.minBy(Y.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Y.forIn(n,function(o,s){var a=QI(e,s)/2;r=Math.max(o+a,r),i=Math.min(o-a,i)}),r-i})}function YI(e,t){var n=Y.values(t),r=Y.min(n),i=Y.max(n);Y.forEach(["u","d"],function(o){Y.forEach(["l","r"],function(s){var a=o+s,u=e[a],l;if(u!==t){var c=Y.values(u);l=s==="l"?r-Y.min(c):i-Y.max(c),l&&(e[a]=Y.mapValues(u,function(f){return f+l}))}})})}function XI(e,t){return Y.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=Y.sortBy(Y.map(e,r));return(i[1]+i[2])/2})}function ZI(e){var t=FI.buildLayerMatrix(e),n=Y.merge(BI(e,t),jI(e,t)),r={},i;Y.forEach(["u","d"],function(s){i=s==="u"?t:Y.values(t).reverse(),Y.forEach(["l","r"],function(a){a==="r"&&(i=Y.map(i,function(f){return Y.values(f).reverse()}));var u=(s==="u"?e.predecessors:e.successors).bind(e),l=UI(e,i,n,u),c=GI(e,i,l.root,l.align,a==="r");a==="r"&&(c=Y.mapValues(c,function(f){return-f})),r[s+a]=c})});var o=WI(e,r);return YI(r,o),XI(r,e.graph().align)}function JI(e,t,n){return function(r,i,o){var s=r.node(i),a=r.node(o),u=0,l;if(u+=s.width/2,Y.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=-s.width/2;break;case"r":l=s.width/2;break}if(l&&(u+=n?l:-l),l=0,u+=(s.dummy?t:e)/2,u+=(a.dummy?t:e)/2,u+=a.width/2,Y.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":l=a.width/2;break;case"r":l=-a.width/2;break}return l&&(u+=n?l:-l),l=0,u}}function QI(e,t){return e.node(t).width}var Zn=oe,gw=qe,eq=$I.positionX,tq=nq;function nq(e){e=gw.asNonCompoundGraph(e),rq(e),Zn.forEach(eq(e),function(t,n){e.node(n).x=t})}function rq(e){var t=gw.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Zn.forEach(t,function(i){var o=Zn.max(Zn.map(i,function(s){return e.node(s).height}));Zn.forEach(i,function(s){e.node(s).y=r+o/2}),r+=o+n})}var Z=oe,Ny=KP,Dy=lM,iq=DM,sq=qe.normalizeRanks,oq=LM,aq=qe.removeEmptyRanks,ky=jM,uq=WM,Oy=XM,cq=kI,lq=tq,Vt=qe,fq=Ze.Graph,dq=hq;function hq(e,t){var n=t&&t.debugTiming?Vt.time:Vt.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return Eq(e)});n("  runLayout",function(){pq(r,n)}),n("  updateInputGraph",function(){mq(e,r)})})}function pq(e,t){t("    makeSpaceForEdgeLabels",function(){Tq(e)}),t("    removeSelfEdges",function(){Dq(e)}),t("    acyclic",function(){Ny.run(e)}),t("    nestingGraph.run",function(){ky.run(e)}),t("    rank",function(){iq(Vt.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){Aq(e)}),t("    removeEmptyRanks",function(){aq(e)}),t("    nestingGraph.cleanup",function(){ky.cleanup(e)}),t("    normalizeRanks",function(){sq(e)}),t("    assignRankMinMax",function(){Rq(e)}),t("    removeEdgeLabelProxies",function(){Cq(e)}),t("    normalize.run",function(){Dy.run(e)}),t("    parentDummyChains",function(){oq(e)}),t("    addBorderSegments",function(){uq(e)}),t("    order",function(){cq(e)}),t("    insertSelfEdges",function(){kq(e)}),t("    adjustCoordinateSystem",function(){Oy.adjust(e)}),t("    position",function(){lq(e)}),t("    positionSelfEdges",function(){Oq(e)}),t("    removeBorderNodes",function(){Nq(e)}),t("    normalize.undo",function(){Dy.undo(e)}),t("    fixupEdgeLabelCoords",function(){Iq(e)}),t("    undoCoordinateSystem",function(){Oy.undo(e)}),t("    translateGraph",function(){Pq(e)}),t("    assignNodeIntersects",function(){Mq(e)}),t("    reversePoints",function(){qq(e)}),t("    acyclic.undo",function(){Ny.undo(e)})}function mq(e,t){Z.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),Z.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,Z.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var gq=["nodesep","edgesep","ranksep","marginx","marginy"],vq={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},yq=["acyclicer","ranker","rankdir","align"],bq=["width","height"],_q={width:0,height:0},wq=["minlen","weight","width","height","labeloffset"],xq={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Sq=["labelpos"];function Eq(e){var t=new fq({multigraph:!0,compound:!0}),n=ol(e.graph());return t.setGraph(Z.merge({},vq,sl(n,gq),Z.pick(n,yq))),Z.forEach(e.nodes(),function(r){var i=ol(e.node(r));t.setNode(r,Z.defaults(sl(i,bq),_q)),t.setParent(r,e.parent(r))}),Z.forEach(e.edges(),function(r){var i=ol(e.edge(r));t.setEdge(r,Z.merge({},xq,sl(i,wq),Z.pick(i,Sq)))}),t}function Tq(e){var t=e.graph();t.ranksep/=2,Z.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Aq(e){Z.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Vt.addDummyNode(e,"edge-proxy",o,"_ep")}})}function Rq(e){var t=0;Z.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=Z.max(t,r.maxRank))}),e.graph().maxRank=t}function Cq(e){Z.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function Pq(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function u(l){var c=l.x,f=l.y,d=l.width,h=l.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}Z.forEach(e.nodes(),function(l){u(e.node(l))}),Z.forEach(e.edges(),function(l){var c=e.edge(l);Z.has(c,"x")&&u(c)}),t-=s,r-=a,Z.forEach(e.nodes(),function(l){var c=e.node(l);c.x-=t,c.y-=r}),Z.forEach(e.edges(),function(l){var c=e.edge(l);Z.forEach(c.points,function(f){f.x-=t,f.y-=r}),Z.has(c,"x")&&(c.x-=t),Z.has(c,"y")&&(c.y-=r)}),o.width=n-t+s,o.height=i-r+a}function Mq(e){Z.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(Vt.intersectRect(r,o)),n.points.push(Vt.intersectRect(i,s))})}function Iq(e){Z.forEach(e.edges(),function(t){var n=e.edge(t);if(Z.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function qq(e){Z.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function Nq(e){Z.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(Z.last(n.borderLeft)),s=e.node(Z.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),Z.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Dq(e){Z.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function kq(e){var t=Vt.buildLayerMatrix(e);Z.forEach(t,function(n){var r=0;Z.forEach(n,function(i,o){var s=e.node(i);s.order=o+r,Z.forEach(s.selfEdges,function(a){Vt.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function Oq(e){Z.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function sl(e,t){return Z.mapValues(Z.pick(e,t),Number)}function ol(e){var t={};return Z.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var kr=oe,Vq=qe,Lq=Ze.Graph,Fq={debugOrdering:$q};function $q(e){var t=Vq.buildLayerMatrix(e),n=new Lq({compound:!0,multigraph:!0}).setGraph({});return kr.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),kr.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),kr.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),kr.reduce(r,function(s,a){return n.setEdge(s,a,{style:"invis"}),a})}),n}var Bq="0.8.5",jq={graphlib:Ze,layout:dq,debug:Fq,util:{time:qe.time,notime:qe.notime},version:Bq};const iL=A0(jq);function Se(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Se(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var vw={exports:{}},yw={},bw={exports:{}},_w={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var En=S;function zq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hq=typeof Object.is=="function"?Object.is:zq,Uq=En.useState,Gq=En.useEffect,Kq=En.useLayoutEffect,Wq=En.useDebugValue;function Yq(e,t){var n=t(),r=Uq({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Kq(function(){i.value=n,i.getSnapshot=t,al(i)&&o({inst:i})},[e,n,t]),Gq(function(){return al(i)&&o({inst:i}),e(function(){al(i)&&o({inst:i})})},[e]),Wq(n),n}function al(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hq(e,n)}catch{return!0}}function Xq(e,t){return t()}var Zq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xq:Yq;_w.useSyncExternalStore=En.useSyncExternalStore!==void 0?En.useSyncExternalStore:Zq;bw.exports=_w;var Jq=bw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=S,Qq=Jq;function eN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tN=typeof Object.is=="function"?Object.is:eN,nN=Qq.useSyncExternalStore,rN=zi.useRef,iN=zi.useEffect,sN=zi.useMemo,oN=zi.useDebugValue;yw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=rN(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=sN(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var m=s.value;if(i(m,h))return f=m}return f=h}if(m=f,tN(c,h))return m;var p=r(h);return i!==void 0&&i(m,p)?(c=h,m):(c=h,f=p)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=nN(e,o[0],o[1]);return iN(function(){s.hasValue=!0,s.value=a},[a]),oN(a),a};vw.exports=yw;var aN=vw.exports;const uN=A0(aN),cN={},Vy=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(m=>m(t,h))}},i=()=>t,u={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(cN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,i,u);return u},lN=e=>e?Vy(e):Vy,{useDebugValue:fN}=q,{useSyncExternalStoreWithSelector:dN}=uN,hN=e=>e;function ww(e,t=hN,n){const r=dN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return fN(r),r}const Ly=(e,t)=>{const n=lN(e),r=(i,o=t)=>ww(n,i,o);return Object.assign(r,n),r},pN=(e,t)=>e?Ly(e,t):Ly;function _e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var mN={value:()=>{}};function Hi(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Wr(n)}function Wr(e){this._=e}function gN(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Wr.prototype=Hi.prototype={constructor:Wr,on:function(e,t){var n=this._,r=gN(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=vN(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Fy(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Fy(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function vN(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Fy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=mN,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ll="http://www.w3.org/1999/xhtml";const $y={svg:"http://www.w3.org/2000/svg",xhtml:Ll,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ui(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$y.hasOwnProperty(t)?{space:$y[t],local:e}:e}function yN(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ll&&t.documentElement.namespaceURI===Ll?t.createElement(e):t.createElementNS(n,e)}}function bN(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xw(e){var t=Ui(e);return(t.local?bN:yN)(t)}function _N(){}function Qf(e){return e==null?_N:function(){return this.querySelector(e)}}function wN(e){typeof e!="function"&&(e=Qf(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),u,l,c=0;c<s;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new Ve(r,this._parents)}function xN(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function SN(){return[]}function Sw(e){return e==null?SN:function(){return this.querySelectorAll(e)}}function EN(e){return function(){return xN(e.apply(this,arguments))}}function TN(e){typeof e=="function"?e=EN(e):e=Sw(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(e.call(u,u.__data__,l,s)),i.push(u));return new Ve(r,i)}function Ew(e){return function(){return this.matches(e)}}function Tw(e){return function(t){return t.matches(e)}}var AN=Array.prototype.find;function RN(e){return function(){return AN.call(this.children,e)}}function CN(){return this.firstElementChild}function PN(e){return this.select(e==null?CN:RN(typeof e=="function"?e:Tw(e)))}var MN=Array.prototype.filter;function IN(){return Array.from(this.children)}function qN(e){return function(){return MN.call(this.children,e)}}function NN(e){return this.selectAll(e==null?IN:qN(typeof e=="function"?e:Tw(e)))}function DN(e){typeof e!="function"&&(e=Ew(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&a.push(u);return new Ve(r,this._parents)}function Aw(e){return new Array(e.length)}function kN(){return new Ve(this._enter||this._groups.map(Aw),this._parents)}function ci(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ci.prototype={constructor:ci,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ON(e){return function(){return e}}function VN(e,t,n,r,i,o){for(var s=0,a,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new ci(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function LN(e,t,n,r,i,o,s){var a,u,l=new Map,c=t.length,f=o.length,d=new Array(c),h;for(a=0;a<c;++a)(u=t[a])&&(d[a]=h=s.call(u,u.__data__,a,t)+"",l.has(h)?i[a]=u:l.set(h,u));for(a=0;a<f;++a)h=s.call(e,o[a],a,o)+"",(u=l.get(h))?(r[a]=u,u.__data__=o[a],l.delete(h)):n[a]=new ci(e,o[a]);for(a=0;a<c;++a)(u=t[a])&&l.get(d[a])===u&&(i[a]=u)}function FN(e){return e.__data__}function $N(e,t){if(!arguments.length)return Array.from(this,FN);var n=t?LN:VN,r=this._parents,i=this._groups;typeof e!="function"&&(e=ON(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],d=f.length,h=BN(e.call(c,c&&c.__data__,l,r)),m=h.length,p=a[l]=new Array(m),v=s[l]=new Array(m),g=u[l]=new Array(d);n(c,f,p,v,g,h,t);for(var y=0,w=0,_,x;y<m;++y)if(_=p[y]){for(y>=w&&(w=y+1);!(x=v[w])&&++w<m;);_._next=x||null}}return s=new Ve(s,r),s._enter=a,s._exit=u,s}function BN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jN(){return new Ve(this._exit||this._groups.map(Aw),this._parents)}function zN(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function HN(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],c=r[u],f=l.length,d=a[u]=new Array(f),h,m=0;m<f;++m)(h=l[m]||c[m])&&(d[m]=h);for(;u<i;++u)a[u]=n[u];return new Ve(a,this._parents)}function UN(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function GN(e){e||(e=KN);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,c=0;c<a;++c)(l=s[c])&&(u[c]=l);u.sort(t)}return new Ve(i,this._parents).order()}function KN(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function WN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function YN(){return Array.from(this)}function XN(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function ZN(){let e=0;for(const t of this)++e;return e}function JN(){return!this.node()}function QN(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function eD(e){return function(){this.removeAttribute(e)}}function tD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nD(e,t){return function(){this.setAttribute(e,t)}}function rD(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function iD(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function sD(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function oD(e,t){var n=Ui(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?tD:eD:typeof t=="function"?n.local?sD:iD:n.local?rD:nD)(n,t))}function Rw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function aD(e){return function(){this.style.removeProperty(e)}}function uD(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cD(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function lD(e,t,n){return arguments.length>1?this.each((t==null?aD:typeof t=="function"?cD:uD)(e,t,n??"")):Tn(this.node(),e)}function Tn(e,t){return e.style.getPropertyValue(t)||Rw(e).getComputedStyle(e,null).getPropertyValue(t)}function fD(e){return function(){delete this[e]}}function dD(e,t){return function(){this[e]=t}}function hD(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pD(e,t){return arguments.length>1?this.each((t==null?fD:typeof t=="function"?hD:dD)(e,t)):this.node()[e]}function Cw(e){return e.trim().split(/^|\s+/)}function ed(e){return e.classList||new Pw(e)}function Pw(e){this._node=e,this._names=Cw(e.getAttribute("class")||"")}Pw.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Mw(e,t){for(var n=ed(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Iw(e,t){for(var n=ed(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function mD(e){return function(){Mw(this,e)}}function gD(e){return function(){Iw(this,e)}}function vD(e,t){return function(){(t.apply(this,arguments)?Mw:Iw)(this,e)}}function yD(e,t){var n=Cw(e+"");if(arguments.length<2){for(var r=ed(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?vD:t?mD:gD)(n,t))}function bD(){this.textContent=""}function _D(e){return function(){this.textContent=e}}function wD(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function xD(e){return arguments.length?this.each(e==null?bD:(typeof e=="function"?wD:_D)(e)):this.node().textContent}function SD(){this.innerHTML=""}function ED(e){return function(){this.innerHTML=e}}function TD(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function AD(e){return arguments.length?this.each(e==null?SD:(typeof e=="function"?TD:ED)(e)):this.node().innerHTML}function RD(){this.nextSibling&&this.parentNode.appendChild(this)}function CD(){return this.each(RD)}function PD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function MD(){return this.each(PD)}function ID(e){var t=typeof e=="function"?e:xw(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function qD(){return null}function ND(e,t){var n=typeof e=="function"?e:xw(e),r=t==null?qD:typeof t=="function"?t:Qf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function DD(){var e=this.parentNode;e&&e.removeChild(this)}function kD(){return this.each(DD)}function OD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function VD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function LD(e){return this.select(e?VD:OD)}function FD(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $D(e){return function(t){e.call(this,t,this.__data__)}}function BD(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jD(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function zD(e,t,n){return function(){var r=this.__on,i,o=$D(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function HD(e,t,n){var r=BD(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?zD:jD,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function qw(e,t,n){var r=Rw(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function UD(e,t){return function(){return qw(this,e,t)}}function GD(e,t){return function(){return qw(this,e,t.apply(this,arguments))}}function KD(e,t){return this.each((typeof t=="function"?GD:UD)(e,t))}function*WD(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Nw=[null];function Ve(e,t){this._groups=e,this._parents=t}function Rr(){return new Ve([[document.documentElement]],Nw)}function YD(){return this}Ve.prototype=Rr.prototype={constructor:Ve,select:wN,selectAll:TN,selectChild:PN,selectChildren:NN,filter:DN,data:$N,enter:kN,exit:jN,join:zN,merge:HN,selection:YD,order:UN,sort:GN,call:WN,nodes:YN,node:XN,size:ZN,empty:JN,each:QN,attr:oD,style:lD,property:pD,classed:yD,text:xD,html:AD,raise:CD,lower:MD,append:ID,insert:ND,remove:kD,clone:LD,datum:FD,on:HD,dispatch:KD,[Symbol.iterator]:WD};function $e(e){return typeof e=="string"?new Ve([[document.querySelector(e)]],[document.documentElement]):new Ve([[e]],Nw)}function XD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ke(e,t){if(e=XD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const ZD={passive:!1},lr={capture:!0,passive:!1};function ul(e){e.stopImmediatePropagation()}function yn(e){e.preventDefault(),e.stopImmediatePropagation()}function Dw(e){var t=e.document.documentElement,n=$e(e).on("dragstart.drag",yn,lr);"onselectstart"in t?n.on("selectstart.drag",yn,lr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function kw(e,t){var n=e.document.documentElement,r=$e(e).on("dragstart.drag",null);t&&(r.on("click.drag",yn,lr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Or=e=>()=>e;function Fl(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Fl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function JD(e){return!e.ctrlKey&&!e.button}function QD(){return this.parentNode}function ek(e,t){return t??{x:e.x,y:e.y}}function tk(){return navigator.maxTouchPoints||"ontouchstart"in this}function nk(){var e=JD,t=QD,n=ek,r=tk,i={},o=Hi("start","drag","end"),s=0,a,u,l,c,f=0;function d(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",g,ZD).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,x){if(!(c||!e.call(this,_,x))){var E=w(this,t.call(this,_,x),_,x,"mouse");E&&($e(_.view).on("mousemove.drag",m,lr).on("mouseup.drag",p,lr),Dw(_.view),ul(_),l=!1,a=_.clientX,u=_.clientY,E("start",_))}}function m(_){if(yn(_),!l){var x=_.clientX-a,E=_.clientY-u;l=x*x+E*E>f}i.mouse("drag",_)}function p(_){$e(_.view).on("mousemove.drag mouseup.drag",null),kw(_.view,l),yn(_),i.mouse("end",_)}function v(_,x){if(e.call(this,_,x)){var E=_.changedTouches,R=t.call(this,_,x),C=E.length,P,N;for(P=0;P<C;++P)(N=w(this,R,_,x,E[P].identifier,E[P]))&&(ul(_),N("start",_,E[P]))}}function g(_){var x=_.changedTouches,E=x.length,R,C;for(R=0;R<E;++R)(C=i[x[R].identifier])&&(yn(_),C("drag",_,x[R]))}function y(_){var x=_.changedTouches,E=x.length,R,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),R=0;R<E;++R)(C=i[x[R].identifier])&&(ul(_),C("end",_,x[R]))}function w(_,x,E,R,C,P){var N=o.copy(),I=Ke(P||E,x),L,V,b;if((b=n.call(_,new Fl("beforestart",{sourceEvent:E,target:d,identifier:C,active:s,x:I[0],y:I[1],dx:0,dy:0,dispatch:N}),R))!=null)return L=b.x-I[0]||0,V=b.y-I[1]||0,function M(T,D,O){var A=I,k;switch(T){case"start":i[C]=M,k=s++;break;case"end":delete i[C],--s;case"drag":I=Ke(O||D,x),k=s;break}N.call(T,_,new Fl(T,{sourceEvent:D,subject:b,target:d,identifier:C,active:k,x:I[0]+L,y:I[1]+V,dx:I[0]-A[0],dy:I[1]-A[1],dispatch:N}),R)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:Or(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:Or(_),d):t},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Or(_),d):n},d.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Or(!!_),d):r},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,d):Math.sqrt(f)},d}function td(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ow(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cr(){}var fr=.7,li=1/fr,bn="\\s*([+-]?\\d+)\\s*",dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rk=/^#([0-9a-f]{3,8})$/,ik=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),sk=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),ok=new RegExp(`^rgba\\(${bn},${bn},${bn},${dr}\\)$`),ak=new RegExp(`^rgba\\(${st},${st},${st},${dr}\\)$`),uk=new RegExp(`^hsl\\(${dr},${st},${st}\\)$`),ck=new RegExp(`^hsla\\(${dr},${st},${st},${dr}\\)$`),By={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};td(Cr,hr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jy,formatHex:jy,formatHex8:lk,formatHsl:fk,formatRgb:zy,toString:zy});function jy(){return this.rgb().formatHex()}function lk(){return this.rgb().formatHex8()}function fk(){return Vw(this).formatHsl()}function zy(){return this.rgb().formatRgb()}function hr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hy(t):n===3?new Ie(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ik.exec(e))?new Ie(t[1],t[2],t[3],1):(t=sk.exec(e))?new Ie(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ok.exec(e))?Vr(t[1],t[2],t[3],t[4]):(t=ak.exec(e))?Vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uk.exec(e))?Ky(t[1],t[2]/100,t[3]/100,1):(t=ck.exec(e))?Ky(t[1],t[2]/100,t[3]/100,t[4]):By.hasOwnProperty(e)?Hy(By[e]):e==="transparent"?new Ie(NaN,NaN,NaN,0):null}function Hy(e){return new Ie(e>>16&255,e>>8&255,e&255,1)}function Vr(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ie(e,t,n,r)}function dk(e){return e instanceof Cr||(e=hr(e)),e?(e=e.rgb(),new Ie(e.r,e.g,e.b,e.opacity)):new Ie}function $l(e,t,n,r){return arguments.length===1?dk(e):new Ie(e,t,n,r??1)}function Ie(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}td(Ie,$l,Ow(Cr,{brighter(e){return e=e==null?li:Math.pow(li,e),new Ie(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fr:Math.pow(fr,e),new Ie(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ie(Zt(this.r),Zt(this.g),Zt(this.b),fi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uy,formatHex:Uy,formatHex8:hk,formatRgb:Gy,toString:Gy}));function Uy(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function hk(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gy(){const e=fi(this.opacity);return`${e===1?"rgb(":"rgba("}${Zt(this.r)}, ${Zt(this.g)}, ${Zt(this.b)}${e===1?")":`, ${e})`}`}function fi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wt(e){return e=Zt(e),(e<16?"0":"")+e.toString(16)}function Ky(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new We(e,t,n,r)}function Vw(e){if(e instanceof We)return new We(e.h,e.s,e.l,e.opacity);if(e instanceof Cr||(e=hr(e)),!e)return new We;if(e instanceof We)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new We(s,a,u,e.opacity)}function pk(e,t,n,r){return arguments.length===1?Vw(e):new We(e,t,n,r??1)}function We(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}td(We,pk,Ow(Cr,{brighter(e){return e=e==null?li:Math.pow(li,e),new We(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fr:Math.pow(fr,e),new We(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ie(cl(e>=240?e-240:e+120,i,r),cl(e,i,r),cl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new We(Wy(this.h),Lr(this.s),Lr(this.l),fi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fi(this.opacity);return`${e===1?"hsl(":"hsla("}${Wy(this.h)}, ${Lr(this.s)*100}%, ${Lr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wy(e){return e=(e||0)%360,e<0?e+360:e}function Lr(e){return Math.max(0,Math.min(1,e||0))}function cl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lw=e=>()=>e;function mk(e,t){return function(n){return e+n*t}}function gk(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vk(e){return(e=+e)==1?Fw:function(t,n){return n-t?gk(t,n,e):Lw(isNaN(t)?n:t)}}function Fw(e,t){var n=t-e;return n?mk(e,n):Lw(isNaN(e)?t:e)}const Yy=function e(t){var n=vk(t);function r(i,o){var s=n((i=$l(i)).r,(o=$l(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=Fw(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function Pt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Bl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ll=new RegExp(Bl.source,"g");function yk(e){return function(){return e}}function bk(e){return function(t){return e(t)+""}}function _k(e,t){var n=Bl.lastIndex=ll.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Bl.exec(e))&&(i=ll.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Pt(r,i)})),n=ll.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?bk(u[0].x):yk(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}var Xy=180/Math.PI,jl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $w(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Xy,skewX:Math.atan(u)*Xy,scaleX:s,scaleY:a}}var Fr;function wk(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jl:$w(t.a,t.b,t.c,t.d,t.e,t.f)}function xk(e){return e==null||(Fr||(Fr=document.createElementNS("http://www.w3.org/2000/svg","g")),Fr.setAttribute("transform",e),!(e=Fr.transform.baseVal.consolidate()))?jl:(e=e.matrix,$w(e.a,e.b,e.c,e.d,e.e,e.f))}function Bw(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,f,d,h,m){if(l!==f||c!==d){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:Pt(l,f)},{i:p-2,x:Pt(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Pt(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Pt(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,m){if(l!==f||c!==d){var p=h.push(i(h)+"scale(",null,",",null,")");m.push({i:p-4,x:Pt(l,f)},{i:p-2,x:Pt(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,f,d),s(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var m=-1,p=d.length,v;++m<p;)f[(v=d[m]).i]=v.x(h);return f.join("")}}}var Sk=Bw(wk,"px, ","px)","deg)"),Ek=Bw(xk,", ",")",")"),Tk=1e-12;function Zy(e){return((e=Math.exp(e))+1/e)/2}function Ak(e){return((e=Math.exp(e))-1/e)/2}function Rk(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ck=function e(t,n,r){function i(o,s){var a=o[0],u=o[1],l=o[2],c=s[0],f=s[1],d=s[2],h=c-a,m=f-u,p=h*h+m*m,v,g;if(p<Tk)g=Math.log(d/l)/t,v=function(R){return[a+R*h,u+R*m,l*Math.exp(t*R*g)]};else{var y=Math.sqrt(p),w=(d*d-l*l+r*p)/(2*l*n*y),_=(d*d-l*l-r*p)/(2*d*n*y),x=Math.log(Math.sqrt(w*w+1)-w),E=Math.log(Math.sqrt(_*_+1)-_);g=(E-x)/t,v=function(R){var C=R*g,P=Zy(x),N=l/(n*y)*(P*Rk(t*C+x)-Ak(x));return[a+N*h,u+N*m,l*P/Zy(t*C+x)]}}return v.duration=g*1e3*t/Math.SQRT2,v}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return e(s,a,u)},i}(Math.SQRT2,2,4);var An=0,Jn=0,Ln=0,jw=1e3,di,Qn,hi=0,Qt=0,Gi=0,pr=typeof performance=="object"&&performance.now?performance:Date,zw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nd(){return Qt||(zw(Pk),Qt=pr.now()+Gi)}function Pk(){Qt=0}function pi(){this._call=this._time=this._next=null}pi.prototype=Hw.prototype={constructor:pi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?nd():+n)+(t==null?0:+t),!this._next&&Qn!==this&&(Qn?Qn._next=this:di=this,Qn=this),this._call=e,this._time=n,zl()},stop:function(){this._call&&(this._call=null,this._time=1/0,zl())}};function Hw(e,t,n){var r=new pi;return r.restart(e,t,n),r}function Mk(){nd(),++An;for(var e=di,t;e;)(t=Qt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--An}function Jy(){Qt=(hi=pr.now())+Gi,An=Jn=0;try{Mk()}finally{An=0,qk(),Qt=0}}function Ik(){var e=pr.now(),t=e-hi;t>jw&&(Gi-=t,hi=e)}function qk(){for(var e,t=di,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:di=n);Qn=e,zl(r)}function zl(e){if(!An){Jn&&(Jn=clearTimeout(Jn));var t=e-Qt;t>24?(e<1/0&&(Jn=setTimeout(Jy,e-pr.now()-Gi)),Ln&&(Ln=clearInterval(Ln))):(Ln||(hi=pr.now(),Ln=setInterval(Ik,jw)),An=1,zw(Jy))}}function Qy(e,t,n){var r=new pi;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Nk=Hi("start","end","cancel","interrupt"),Dk=[],Uw=0,e0=1,Hl=2,Yr=3,t0=4,Ul=5,Xr=6;function Ki(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;kk(e,n,{name:t,index:r,group:i,on:Nk,tween:Dk,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Uw})}function rd(e,t){var n=Je(e,t);if(n.state>Uw)throw new Error("too late; already scheduled");return n}function at(e,t){var n=Je(e,t);if(n.state>Yr)throw new Error("too late; already running");return n}function Je(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function kk(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Hw(o,0,n.time);function o(l){n.state=e0,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var c,f,d,h;if(n.state!==e0)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Yr)return Qy(s);h.state===t0?(h.state=Xr,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Xr,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Qy(function(){n.state===Yr&&(n.state=t0,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Hl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Hl){for(n.state=Yr,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Ul,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Ul&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Xr,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function Zr(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Hl&&r.state<Ul,r.state=Xr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Ok(e){return this.each(function(){Zr(this,e)})}function Vk(e,t){var n,r;return function(){var i=at(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Lk(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=at(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function Fk(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Je(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Vk:Lk)(n,e,t))}function id(e,t,n){var r=e._id;return e.each(function(){var i=at(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Je(i,r).value[t]}}function Gw(e,t){var n;return(typeof t=="number"?Pt:t instanceof hr?Yy:(n=hr(t))?(t=n,Yy):_k)(e,t)}function $k(e){return function(){this.removeAttribute(e)}}function Bk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jk(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function zk(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Hk(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function Uk(e,t,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a)))}}function Gk(e,t){var n=Ui(e),r=n==="transform"?Ek:Gw;return this.attrTween(e,typeof t=="function"?(n.local?Uk:Hk)(n,r,id(this,"attr."+e,t)):t==null?(n.local?Bk:$k)(n):(n.local?zk:jk)(n,r,t))}function Kk(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Wk(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Yk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Wk(e,o)),n}return i._value=t,i}function Xk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Kk(e,o)),n}return i._value=t,i}function Zk(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ui(e);return this.tween(n,(r.local?Yk:Xk)(r,t))}function Jk(e,t){return function(){rd(this,e).delay=+t.apply(this,arguments)}}function Qk(e,t){return t=+t,function(){rd(this,e).delay=t}}function e2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Jk:Qk)(t,e)):Je(this.node(),t).delay}function t2(e,t){return function(){at(this,e).duration=+t.apply(this,arguments)}}function n2(e,t){return t=+t,function(){at(this,e).duration=t}}function r2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?t2:n2)(t,e)):Je(this.node(),t).duration}function i2(e,t){if(typeof t!="function")throw new Error;return function(){at(this,e).ease=t}}function s2(e){var t=this._id;return arguments.length?this.each(i2(t,e)):Je(this.node(),t).ease}function o2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,e).ease=n}}function a2(e){if(typeof e!="function")throw new Error;return this.each(o2(this._id,e))}function u2(e){typeof e!="function"&&(e=Ew(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&a.push(u);return new wt(r,this._parents,this._name,this._id)}function c2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=t[a],l=n[a],c=u.length,f=s[a]=new Array(c),d,h=0;h<c;++h)(d=u[h]||l[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new wt(s,this._parents,this._name,this._id)}function l2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function f2(e,t,n){var r,i,o=l2(t)?rd:at;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function d2(e,t){var n=this._id;return arguments.length<2?Je(this.node(),n).on.on(e):this.each(f2(n,e,t))}function h2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function p2(){return this.on("end.remove",h2(this._id))}function m2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Qf(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),c,f,d=0;d<u;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,Ki(l[d],t,n,d,l,Je(c,n)));return new wt(o,this._parents,t,n)}function g2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Sw(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),h,m=Je(c,n),p=0,v=d.length;p<v;++p)(h=d[p])&&Ki(h,t,n,p,d,m);o.push(d),s.push(c)}return new wt(o,s,t,n)}var v2=Rr.prototype.constructor;function y2(){return new v2(this._groups,this._parents)}function b2(e,t){var n,r,i;return function(){var o=Tn(this,e),s=(this.style.removeProperty(e),Tn(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Kw(e){return function(){this.style.removeProperty(e)}}function _2(e,t,n){var r,i=n+"",o;return function(){var s=Tn(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function w2(e,t,n){var r,i,o;return function(){var s=Tn(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),Tn(this,e))),s===u?null:s===r&&u===i?o:(i=u,o=t(r=s,a))}}function x2(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var u=at(this,e),l=u.on,c=u.value[o]==null?a||(a=Kw(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(s,i=c),u.on=r}}function S2(e,t,n){var r=(e+="")=="transform"?Sk:Gw;return t==null?this.styleTween(e,b2(e,r)).on("end.style."+e,Kw(e)):typeof t=="function"?this.styleTween(e,w2(e,r,id(this,"style."+e,t))).each(x2(this._id,e)):this.styleTween(e,_2(e,r,t),n).on("end.style."+e,null)}function E2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function T2(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&E2(e,s,n)),r}return o._value=t,o}function A2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,T2(e,t,n??""))}function R2(e){return function(){this.textContent=e}}function C2(e){return function(){var t=e(this);this.textContent=t??""}}function P2(e){return this.tween("text",typeof e=="function"?C2(id(this,"text",e)):R2(e==null?"":e+""))}function M2(e){return function(t){this.textContent=e.call(this,t)}}function I2(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&M2(i)),t}return r._value=e,r}function q2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,I2(e))}function N2(){for(var e=this._name,t=this._id,n=Ww(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var c=Je(u,t);Ki(u,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new wt(r,this._parents,e,n)}function D2(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=at(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),l.on=t}),i===0&&o()})}var k2=0;function wt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ww(){return++k2}var dt=Rr.prototype;wt.prototype={constructor:wt,select:m2,selectAll:g2,selectChild:dt.selectChild,selectChildren:dt.selectChildren,filter:u2,merge:c2,selection:y2,transition:N2,call:dt.call,nodes:dt.nodes,node:dt.node,size:dt.size,empty:dt.empty,each:dt.each,on:d2,attr:Gk,attrTween:Zk,style:S2,styleTween:A2,text:P2,textTween:q2,remove:p2,tween:Fk,delay:e2,duration:r2,ease:s2,easeVarying:a2,end:D2,[Symbol.iterator]:dt[Symbol.iterator]};function O2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var V2={time:null,delay:0,duration:250,ease:O2};function L2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function F2(e){var t,n;e instanceof wt?(t=e._id,e=e._name):(t=Ww(),(n=V2).time=nd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&Ki(u,e,t,l,s,n||L2(u,t));return new wt(r,this._parents,e,t)}Rr.prototype.interrupt=Ok;Rr.prototype.transition=F2;const $r=e=>()=>e;function $2(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function mt(e,t,n){this.k=e,this.x=t,this.y=n}mt.prototype={constructor:mt,scale:function(e){return e===1?this:new mt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new mt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yt=new mt(1,0,0);mt.prototype;function fl(e){e.stopImmediatePropagation()}function Fn(e){e.preventDefault(),e.stopImmediatePropagation()}function B2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function j2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function n0(){return this.__zoom||yt}function z2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function H2(){return navigator.maxTouchPoints||"ontouchstart"in this}function U2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Yw(){var e=B2,t=j2,n=U2,r=z2,i=H2,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=Ck,l=Hi("start","zoom","end"),c,f,d,h=500,m=150,p=0,v=10;function g(b){b.property("__zoom",n0).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,M,T,D){var O=b.selection?b.selection():b;O.property("__zoom",n0),b!==O?x(b,M,T,D):O.interrupt().each(function(){E(this,arguments).event(D).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},g.scaleBy=function(b,M,T,D){g.scaleTo(b,function(){var O=this.__zoom.k,A=typeof M=="function"?M.apply(this,arguments):M;return O*A},T,D)},g.scaleTo=function(b,M,T,D){g.transform(b,function(){var O=t.apply(this,arguments),A=this.__zoom,k=T==null?_(O):typeof T=="function"?T.apply(this,arguments):T,F=A.invert(k),$=typeof M=="function"?M.apply(this,arguments):M;return n(w(y(A,$),k,F),O,s)},T,D)},g.translateBy=function(b,M,T,D){g.transform(b,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,D)},g.translateTo=function(b,M,T,D,O){g.transform(b,function(){var A=t.apply(this,arguments),k=this.__zoom,F=D==null?_(A):typeof D=="function"?D.apply(this,arguments):D;return n(yt.translate(F[0],F[1]).scale(k.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof T=="function"?-T.apply(this,arguments):-T),A,s)},D,O)};function y(b,M){return M=Math.max(o[0],Math.min(o[1],M)),M===b.k?b:new mt(M,b.x,b.y)}function w(b,M,T){var D=M[0]-T[0]*b.k,O=M[1]-T[1]*b.k;return D===b.x&&O===b.y?b:new mt(b.k,D,O)}function _(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function x(b,M,T,D){b.on("start.zoom",function(){E(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(D).end()}).tween("zoom",function(){var O=this,A=arguments,k=E(O,A).event(D),F=t.apply(O,A),$=T==null?_(F):typeof T=="function"?T.apply(O,A):T,j=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),B=O.__zoom,U=typeof M=="function"?M.apply(O,A):M,X=u(B.invert($).concat(j/B.k),U.invert($).concat(j/U.k));return function(Q){if(Q===1)Q=U;else{var ne=X(Q),te=j/ne[2];Q=new mt(te,$[0]-ne[0]*te,$[1]-ne[1]*te)}k.zoom(null,Q)}})}function E(b,M,T){return!T&&b.__zooming||new R(b,M)}function R(b,M){this.that=b,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,M),this.taps=0}R.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,M){return this.mouse&&b!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var M=$e(this.that).datum();l.call(b,this.that,new $2(b,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:l}),M)}};function C(b,...M){if(!e.apply(this,arguments))return;var T=E(this,M).event(b),D=this.__zoom,O=Math.max(o[0],Math.min(o[1],D.k*Math.pow(2,r.apply(this,arguments)))),A=Ke(b);if(T.wheel)(T.mouse[0][0]!==A[0]||T.mouse[0][1]!==A[1])&&(T.mouse[1]=D.invert(T.mouse[0]=A)),clearTimeout(T.wheel);else{if(D.k===O)return;T.mouse=[A,D.invert(A)],Zr(this),T.start()}Fn(b),T.wheel=setTimeout(k,m),T.zoom("mouse",n(w(y(D,O),T.mouse[0],T.mouse[1]),T.extent,s));function k(){T.wheel=null,T.end()}}function P(b,...M){if(d||!e.apply(this,arguments))return;var T=b.currentTarget,D=E(this,M,!0).event(b),O=$e(b.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",j,!0),A=Ke(b,T),k=b.clientX,F=b.clientY;Dw(b.view),fl(b),D.mouse=[A,this.__zoom.invert(A)],Zr(this),D.start();function $(B){if(Fn(B),!D.moved){var U=B.clientX-k,X=B.clientY-F;D.moved=U*U+X*X>p}D.event(B).zoom("mouse",n(w(D.that.__zoom,D.mouse[0]=Ke(B,T),D.mouse[1]),D.extent,s))}function j(B){O.on("mousemove.zoom mouseup.zoom",null),kw(B.view,D.moved),Fn(B),D.event(B).end()}}function N(b,...M){if(e.apply(this,arguments)){var T=this.__zoom,D=Ke(b.changedTouches?b.changedTouches[0]:b,this),O=T.invert(D),A=T.k*(b.shiftKey?.5:2),k=n(w(y(T,A),D,O),t.apply(this,M),s);Fn(b),a>0?$e(this).transition().duration(a).call(x,k,D,b):$e(this).call(g.transform,k,D,b)}}function I(b,...M){if(e.apply(this,arguments)){var T=b.touches,D=T.length,O=E(this,M,b.changedTouches.length===D).event(b),A,k,F,$;for(fl(b),k=0;k<D;++k)F=T[k],$=Ke(F,this),$=[$,this.__zoom.invert($),F.identifier],O.touch0?!O.touch1&&O.touch0[2]!==$[2]&&(O.touch1=$,O.taps=0):(O.touch0=$,A=!0,O.taps=1+!!c);c&&(c=clearTimeout(c)),A&&(O.taps<2&&(f=$[0],c=setTimeout(function(){c=null},h)),Zr(this),O.start())}}function L(b,...M){if(this.__zooming){var T=E(this,M).event(b),D=b.changedTouches,O=D.length,A,k,F,$;for(Fn(b),A=0;A<O;++A)k=D[A],F=Ke(k,this),T.touch0&&T.touch0[2]===k.identifier?T.touch0[0]=F:T.touch1&&T.touch1[2]===k.identifier&&(T.touch1[0]=F);if(k=T.that.__zoom,T.touch1){var j=T.touch0[0],B=T.touch0[1],U=T.touch1[0],X=T.touch1[1],Q=(Q=U[0]-j[0])*Q+(Q=U[1]-j[1])*Q,ne=(ne=X[0]-B[0])*ne+(ne=X[1]-B[1])*ne;k=y(k,Math.sqrt(Q/ne)),F=[(j[0]+U[0])/2,(j[1]+U[1])/2],$=[(B[0]+X[0])/2,(B[1]+X[1])/2]}else if(T.touch0)F=T.touch0[0],$=T.touch0[1];else return;T.zoom("touch",n(w(k,F,$),T.extent,s))}}function V(b,...M){if(this.__zooming){var T=E(this,M).event(b),D=b.changedTouches,O=D.length,A,k;for(fl(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),A=0;A<O;++A)k=D[A],T.touch0&&T.touch0[2]===k.identifier?delete T.touch0:T.touch1&&T.touch1[2]===k.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(k=Ke(k,this),Math.hypot(f[0]-k[0],f[1]-k[1])<v)){var F=$e(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:$r(+b),g):r},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:$r(!!b),g):e},g.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:$r(!!b),g):i},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:$r([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(o[0]=+b[0],o[1]=+b[1],g):[o[0],o[1]]},g.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(a=+b,g):a},g.interpolate=function(b){return arguments.length?(u=b,g):u},g.on=function(){var b=l.on.apply(l,arguments);return b===l?g:b},g.clickDistance=function(b){return arguments.length?(p=(b=+b)*b,g):Math.sqrt(p)},g.tapDistance=function(b){return arguments.length?(v=+b,g):v},g}const Wi=S.createContext(null),G2=Wi.Provider,xt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Xw=xt.error001();function ie(e,t){const n=S.useContext(Wi);if(n===null)throw new Error(Xw);return ww(n,e,t)}const ge=()=>{const e=S.useContext(Wi);if(e===null)throw new Error(Xw);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},K2=e=>e.userSelectionActive?"none":"all";function sd({position:e,children:t,className:n,style:r,...i}){const o=ie(K2),s=`${e}`.split("-");return q.createElement("div",{className:Se(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function W2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:q.createElement(sd,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},q.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Y2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:u,className:l,...c})=>{const f=S.useRef(null),[d,h]=S.useState({x:0,y:0,width:0,height:0}),m=Se(["react-flow__edge-textwrapper",l]);return S.useEffect(()=>{if(f.current){const p=f.current.getBBox();h({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n>"u"||!n?null:q.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:m,visibility:d.width?"visible":"hidden",...c},i&&q.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),q.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),u)};var X2=S.memo(Y2);const od=e=>({width:e.offsetWidth,height:e.offsetHeight}),Rn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ad=(e={x:0,y:0},t)=>({x:Rn(e.x,t[0][0],t[1][0]),y:Rn(e.y,t[0][1],t[1][1])}),r0=(e,t,n)=>e<t?Rn(Math.abs(e-t),1,50)/50:e>n?-Rn(Math.abs(e-n),1,50)/50:0,Zw=(e,t)=>{const n=r0(e.x,35,t.width-35)*20,r=r0(e.y,35,t.height-35)*20;return[n,r]},Jw=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Qw=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),mr=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ex=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),i0=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Z2=(e,t)=>ex(Qw(mr(e),mr(t))),Gl=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},J2=e=>Be(e.width)&&Be(e.height)&&Be(e.x)&&Be(e.y),Be=e=>!isNaN(e)&&isFinite(e),le=Symbol.for("internals"),tx=["Enter"," ","Escape"],Q2=(e,t)=>{},eO=e=>"nativeEvent"in e;function Kl(e){var i,o;const t=eO(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const nx=e=>"clientX"in e,Dt=(e,t)=>{var o,s;const n=nx(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},mi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Pr=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:f,markerStart:d,interactionWidth:h=20})=>q.createElement(q.Fragment,null,q.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&q.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Be(n)&&Be(r)?q.createElement(X2,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l}):null);Pr.displayName="BaseEdge";function $n(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function rx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function ix({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const u=e*.125+i*.375+s*.375+n*.125,l=t*.125+o*.375+a*.375+r*.125,c=Math.abs(u-e),f=Math.abs(l-t);return[u,l,c,f]}var en;(function(e){e.Strict="strict",e.Loose="loose"})(en||(en={}));var Yt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Yt||(Yt={}));var gr;(function(e){e.Partial="partial",e.Full="full"})(gr||(gr={}));var qt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(qt||(qt={}));var gi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(gi||(gi={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));function s0({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function sx({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top}){const[s,a]=s0({pos:n,x1:e,y1:t,x2:r,y2:i}),[u,l]=s0({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,h]=ix({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:l});return[`M${e},${t} C${s},${a} ${u},${l} ${r},${i}`,c,f,d,h]}const ud=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=G.Bottom,targetPosition:o=G.Top,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,interactionWidth:p})=>{const[v,g,y]=sx({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return q.createElement(Pr,{path:v,labelX:g,labelY:y,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,interactionWidth:p})});ud.displayName="SimpleBezierEdge";const o0={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},tO=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},a0=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nO({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:i,offset:o}){const s=o0[t],a=o0[r],u={x:e.x+s.x*o,y:e.y+s.y*o},l={x:n.x+a.x*o,y:n.y+a.y*o},c=tO({source:u,sourcePosition:t,target:l}),f=c.x!==0?"x":"y",d=c[f];let h=[],m,p;const v={x:0,y:0},g={x:0,y:0},[y,w,_,x]=rx({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){m=i.x??y,p=i.y??w;const R=[{x:m,y:u.y},{x:m,y:l.y}],C=[{x:u.x,y:p},{x:l.x,y:p}];s[f]===d?h=f==="x"?R:C:h=f==="x"?C:R}else{const R=[{x:u.x,y:l.y}],C=[{x:l.x,y:u.y}];if(f==="x"?h=s.x===d?C:R:h=s.y===d?R:C,t===r){const V=Math.abs(e[f]-n[f]);if(V<=o){const b=Math.min(o-1,o-V);s[f]===d?v[f]=(u[f]>e[f]?-1:1)*b:g[f]=(l[f]>n[f]?-1:1)*b}}if(t!==r){const V=f==="x"?"y":"x",b=s[f]===a[V],M=u[V]>l[V],T=u[V]<l[V];(s[f]===1&&(!b&&M||b&&T)||s[f]!==1&&(!b&&T||b&&M))&&(h=f==="x"?R:C)}const P={x:u.x+v.x,y:u.y+v.y},N={x:l.x+g.x,y:l.y+g.y},I=Math.max(Math.abs(P.x-h[0].x),Math.abs(N.x-h[0].x)),L=Math.max(Math.abs(P.y-h[0].y),Math.abs(N.y-h[0].y));I>=L?(m=(P.x+N.x)/2,p=h[0].y):(m=h[0].x,p=(P.y+N.y)/2)}return[[e,{x:u.x+v.x,y:u.y+v.y},...h,{x:l.x+g.x,y:l.y+g.y},n],m,p,_,x]}function rO(e,t,n,r){const i=Math.min(a0(e,t)/2,a0(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const l=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*l},${s}Q ${o},${s} ${o},${s+i*c}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${s+i*u}Q ${o},${s} ${o+i*a},${s}`}function Wl({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top,borderRadius:s=5,centerX:a,centerY:u,offset:l=20}){const[c,f,d,h,m]=nO({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:u},offset:l});return[c.reduce((v,g,y)=>{let w="";return y>0&&y<c.length-1?w=rO(c[y-1],g,c[y+1],s):w=`${y===0?"M":"L"}${g.x} ${g.y}`,v+=w,v},""),f,d,h,m]}const Yi=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,sourcePosition:f=G.Bottom,targetPosition:d=G.Top,markerEnd:h,markerStart:m,pathOptions:p,interactionWidth:v})=>{const[g,y,w]=Wl({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return q.createElement(Pr,{path:g,labelX:y,labelY:w,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:h,markerStart:m,interactionWidth:v})});Yi.displayName="SmoothStepEdge";const cd=S.memo(e=>{var t;return q.createElement(Yi,{...e,pathOptions:S.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});cd.displayName="StepEdge";function iO({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=rx({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const ld=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[m,p,v]=iO({sourceX:e,sourceY:t,targetX:n,targetY:r});return q.createElement(Pr,{path:m,labelX:p,labelY:v,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:l,style:c,markerEnd:f,markerStart:d,interactionWidth:h})});ld.displayName="StraightEdge";function Br(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function u0({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case G.Left:return[t-Br(t-r,o),n];case G.Right:return[t+Br(r-t,o),n];case G.Top:return[t,n-Br(n-i,o)];case G.Bottom:return[t,n+Br(i-n,o)]}}function ox({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top,curvature:s=.25}){const[a,u]=u0({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[l,c]=u0({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,h,m]=ix({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${u} ${l},${c} ${r},${i}`,f,d,h,m]}const vi=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=G.Bottom,targetPosition:o=G.Top,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,pathOptions:p,interactionWidth:v})=>{const[g,y,w]=ox({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:p==null?void 0:p.curvature});return q.createElement(Pr,{path:g,labelX:y,labelY:w,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,interactionWidth:v})});vi.displayName="BezierEdge";const fd=S.createContext(null),sO=fd.Provider;fd.Consumer;const oO=()=>S.useContext(fd),aO=e=>"id"in e&&"source"in e&&"target"in e,uO=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Yl=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,cO=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),lO=(e,t)=>{if(!e.source||!e.target)return t;let n;return aO(e)?n={...e}:n={...e,id:uO(e)},cO(n,t)?t:t.concat(n)},Xl=({x:e,y:t},[n,r,i],o,[s,a])=>{const u={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(u.x/s),y:a*Math.round(u.y/a)}:u},ax=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Jt=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Xi=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Jt(i,t).positionAbsolute;return Qw(r,mr({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ex(n)},ux=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const u={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},l=[];return e.forEach(c=>{const{width:f,height:d,selectable:h=!0,hidden:m=!1}=c;if(s&&!h||m)return!1;const{positionAbsolute:p}=Jt(c,a),v={x:p.x,y:p.y,width:f||0,height:d||0},g=Gl(u,v),y=typeof f>"u"||typeof d>"u"||f===null||d===null,w=o&&g>0,_=(f||0)*(d||0);(y||w||g>=_||c.dragging)&&l.push(c)}),l},cx=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},lx=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),u=Math.min(s,a),l=Rn(u,r,i),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*l,h=n/2-f*l;return{x:d,y:h,zoom:l}},Ut=(e,t=0)=>e.transition().duration(t);function c0(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function fO(e,t,n,r,i,o){const{x:s,y:a}=Dt(e),l=t.elementsFromPoint(s,a).find(m=>m.classList.contains("react-flow__handle"));if(l){const m=l.getAttribute("data-nodeid");if(m){const p=dd(void 0,l),v=l.getAttribute("data-handleid"),g=o({nodeId:m,id:v,type:p});if(g){const y=i.find(w=>w.nodeId===m&&w.type===p&&w.id===v);return{handle:{id:v,type:p,nodeId:m,x:(y==null?void 0:y.x)||n.x,y:(y==null?void 0:y.y)||n.y},validHandleResult:g}}}}let c=[],f=1/0;if(i.forEach(m=>{const p=Math.sqrt((m.x-n.x)**2+(m.y-n.y)**2);if(p<=r){const v=o(m);p<=f&&(p<f?c=[{handle:m,validHandleResult:v}]:p===f&&c.push({handle:m,validHandleResult:v}),f=p)}}),!c.length)return{handle:null,validHandleResult:fx()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:m})=>m.isValid),h=c.some(({handle:m})=>m.type==="target");return c.find(({handle:m,validHandleResult:p})=>h?m.type==="target":d?p.isValid:!0)||c[0]}const dO={source:null,target:null,sourceHandle:null,targetHandle:null},fx=()=>({handleDomNode:null,isValid:!1,connection:dO,endHandle:null});function dx(e,t,n,r,i,o,s){const a=i==="target",u=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),l={...fx(),handleDomNode:u};if(u){const c=dd(void 0,u),f=u.getAttribute("data-nodeid"),d=u.getAttribute("data-handleid"),h=u.classList.contains("connectable"),m=u.classList.contains("connectableend"),p={source:a?f:n,sourceHandle:a?d:r,target:a?n:f,targetHandle:a?r:d};l.connection=p,h&&m&&(t===en.Strict?a&&c==="source"||!a&&c==="target":f!==n||d!==r)&&(l.endHandle={nodeId:f,handleId:d,type:c},l.isValid=o(p))}return l}function hO({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[le]){const{handleBounds:s}=o[le];let a=[],u=[];s&&(a=c0(o,s,"source",`${t}-${n}-${r}`),u=c0(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...u)}return i},[])}function dd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function dl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function pO(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function hx({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:u,onReconnectEnd:l}){const c=Jw(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:m,onConnectStart:p,panBy:v,getNodes:g,cancelConnection:y}=o();let w=0,_;const{x,y:E}=Dt(e),R=c==null?void 0:c.elementFromPoint(x,E),C=dd(u,R),P=d==null?void 0:d.getBoundingClientRect();if(!P||!C)return;let N,I=Dt(e,P),L=!1,V=null,b=!1,M=null;const T=hO({nodes:g(),nodeId:n,handleId:t,handleType:C}),D=()=>{if(!h)return;const[k,F]=Zw(I,P);v({x:k,y:F}),w=requestAnimationFrame(D)};s({connectionPosition:I,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),p==null||p(e,{nodeId:n,handleId:t,handleType:C});function O(k){const{transform:F}=o();I=Dt(k,P);const{handle:$,validHandleResult:j}=fO(k,c,Xl(I,F,!1,[1,1]),m,T,B=>dx(B,f,n,t,i?"target":"source",a,c));if(_=$,L||(D(),L=!0),M=j.handleDomNode,V=j.connection,b=j.isValid,s({connectionPosition:_&&b?ax({x:_.x,y:_.y},F):I,connectionStatus:pO(!!_,b),connectionEndHandle:j.endHandle}),!_&&!b&&!M)return dl(N);V.source!==V.target&&M&&(dl(N),N=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",b),M.classList.toggle("react-flow__handle-valid",b))}function A(k){var F,$;(_||M)&&V&&b&&(r==null||r(V)),($=(F=o()).onConnectEnd)==null||$.call(F,k),u&&(l==null||l(k)),dl(N),y(),cancelAnimationFrame(w),L=!1,b=!1,V=null,M=null,c.removeEventListener("mousemove",O),c.removeEventListener("mouseup",A),c.removeEventListener("touchmove",O),c.removeEventListener("touchend",A)}c.addEventListener("mousemove",O),c.addEventListener("mouseup",A),c.addEventListener("touchmove",O),c.addEventListener("touchend",A)}const l0=()=>!0,mO=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),gO=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},px=S.forwardRef(({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:u,className:l,onMouseDown:c,onTouchStart:f,...d},h)=>{var P,N;const m=s||null,p=e==="target",v=ge(),g=oO(),{connectOnClick:y,noPanClassName:w}=ie(mO,_e),{connecting:_,clickConnecting:x}=ie(gO(g,m,e),_e);g||(N=(P=v.getState()).onError)==null||N.call(P,"010",xt.error010());const E=I=>{const{defaultEdgeOptions:L,onConnect:V,hasDefaultEdges:b}=v.getState(),M={...L,...I};if(b){const{edges:T,setEdges:D}=v.getState();D(lO(M,T))}V==null||V(M),a==null||a(M)},R=I=>{if(!g)return;const L=nx(I);i&&(L&&I.button===0||!L)&&hx({event:I,handleId:m,nodeId:g,onConnect:E,isTarget:p,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||l0}),L?c==null||c(I):f==null||f(I)},C=I=>{const{onClickConnectStart:L,onClickConnectEnd:V,connectionClickStartHandle:b,connectionMode:M,isValidConnection:T}=v.getState();if(!g||!b&&!i)return;if(!b){L==null||L(I,{nodeId:g,handleId:m,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:g,type:e,handleId:m}});return}const D=Jw(I.target),O=n||T||l0,{connection:A,isValid:k}=dx({nodeId:g,id:m,type:e},M,b.nodeId,b.handleId||null,b.type,O,D);k&&E(A),V==null||V(I),v.setState({connectionClickStartHandle:null})};return q.createElement("div",{"data-handleid":m,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${m}-${e}`,className:Se(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,l,{source:!p,target:p,connectable:r,connectablestart:i,connectableend:o,connecting:x,connectionindicator:r&&(i&&!_||o&&_)}]),onMouseDown:R,onTouchStart:R,onClick:y?C:void 0,ref:h,...d},u)});px.displayName="Handle";var yi=S.memo(px);const mx=({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom})=>q.createElement(q.Fragment,null,q.createElement(yi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,q.createElement(yi,{type:"source",position:r,isConnectable:t}));mx.displayName="DefaultNode";var Zl=S.memo(mx);const gx=({data:e,isConnectable:t,sourcePosition:n=G.Bottom})=>q.createElement(q.Fragment,null,e==null?void 0:e.label,q.createElement(yi,{type:"source",position:n,isConnectable:t}));gx.displayName="InputNode";var vx=S.memo(gx);const yx=({data:e,isConnectable:t,targetPosition:n=G.Top})=>q.createElement(q.Fragment,null,q.createElement(yi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);yx.displayName="OutputNode";var bx=S.memo(yx);const hd=()=>null;hd.displayName="GroupNode";const vO=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),jr=e=>e.id;function yO(e,t){return _e(e.selectedNodes.map(jr),t.selectedNodes.map(jr))&&_e(e.selectedEdges.map(jr),t.selectedEdges.map(jr))}const _x=S.memo(({onSelectionChange:e})=>{const t=ge(),{selectedNodes:n,selectedEdges:r}=ie(vO,yO);return S.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});_x.displayName="SelectionListener";const bO=e=>!!e.onSelectionChange;function _O({onSelectionChange:e}){const t=ie(bO);return e||t?q.createElement(_x,{onSelectionChange:e}):null}const wO=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function un(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function J(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const xO=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:u,nodesDraggable:l,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:m,minZoom:p,maxZoom:v,nodeExtent:g,onNodesChange:y,onEdgesChange:w,elementsSelectable:_,connectionMode:x,snapGrid:E,snapToGrid:R,translateExtent:C,connectOnClick:P,defaultEdgeOptions:N,fitView:I,fitViewOptions:L,onNodesDelete:V,onEdgesDelete:b,onNodeDrag:M,onNodeDragStart:T,onNodeDragStop:D,onSelectionDrag:O,onSelectionDragStart:A,onSelectionDragStop:k,noPanClassName:F,nodeOrigin:$,rfId:j,autoPanOnConnect:B,autoPanOnNodeDrag:U,onError:X,connectionRadius:Q,isValidConnection:ne,nodeDragThreshold:te})=>{const{setNodes:ee,setEdges:me,setDefaultNodesAndEdges:fe,setMinZoom:we,setMaxZoom:ve,setTranslateExtent:W,setNodeExtent:ye,reset:H}=ie(wO,_e),z=ge();return S.useEffect(()=>{const ue=r==null?void 0:r.map(He=>({...He,...N}));return fe(n,ue),()=>{H()}},[]),J("defaultEdgeOptions",N,z.setState),J("connectionMode",x,z.setState),J("onConnect",i,z.setState),J("onConnectStart",o,z.setState),J("onConnectEnd",s,z.setState),J("onClickConnectStart",a,z.setState),J("onClickConnectEnd",u,z.setState),J("nodesDraggable",l,z.setState),J("nodesConnectable",c,z.setState),J("nodesFocusable",f,z.setState),J("edgesFocusable",d,z.setState),J("edgesUpdatable",h,z.setState),J("elementsSelectable",_,z.setState),J("elevateNodesOnSelect",m,z.setState),J("snapToGrid",R,z.setState),J("snapGrid",E,z.setState),J("onNodesChange",y,z.setState),J("onEdgesChange",w,z.setState),J("connectOnClick",P,z.setState),J("fitViewOnInit",I,z.setState),J("fitViewOnInitOptions",L,z.setState),J("onNodesDelete",V,z.setState),J("onEdgesDelete",b,z.setState),J("onNodeDrag",M,z.setState),J("onNodeDragStart",T,z.setState),J("onNodeDragStop",D,z.setState),J("onSelectionDrag",O,z.setState),J("onSelectionDragStart",A,z.setState),J("onSelectionDragStop",k,z.setState),J("noPanClassName",F,z.setState),J("nodeOrigin",$,z.setState),J("rfId",j,z.setState),J("autoPanOnConnect",B,z.setState),J("autoPanOnNodeDrag",U,z.setState),J("onError",X,z.setState),J("connectionRadius",Q,z.setState),J("isValidConnection",ne,z.setState),J("nodeDragThreshold",te,z.setState),un(e,ee),un(t,me),un(p,we),un(v,ve),un(C,W),un(g,ye),null},f0={display:"none"},SO={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},wx="react-flow__node-desc",xx="react-flow__edge-desc",EO="react-flow__aria-live",TO=e=>e.ariaLiveMessage;function AO({rfId:e}){const t=ie(TO);return q.createElement("div",{id:`${EO}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:SO},t)}function RO({rfId:e,disableKeyboardA11y:t}){return q.createElement(q.Fragment,null,q.createElement("div",{id:`${wx}-${e}`,style:f0},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),q.createElement("div",{id:`${xx}-${e}`,style:f0},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&q.createElement(AO,{rfId:e}))}var vr=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=S.useState(!1),i=S.useRef(!1),o=S.useRef(new Set([])),[s,a]=S.useMemo(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=l.reduce((f,d)=>f.concat(...d),[]);return[l,c]}return[[],[]]},[e]);return S.useEffect(()=>{const u=typeof document<"u"?document:null,l=(t==null?void 0:t.target)||u;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Kl(h))return!1;const p=h0(h.code,a);o.current.add(h[p]),d0(s,o.current,!1)&&(h.preventDefault(),r(!0))},f=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Kl(h))return!1;const p=h0(h.code,a);d0(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[p]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function d0(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function h0(e,t){return t.includes(e)?"code":"key"}function Sx(e,t,n,r){var a,u;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Jt(o,r);return Sx(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((a=o[le])==null?void 0:a.z)??0)>(n.z??0)?((u=o[le])==null?void 0:u.z)??0:n.z??0},r)}function Ex(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:a,z:u}=Sx(r,e,{...r.position,z:((o=r[le])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:a},r[le].z=u,n!=null&&n[r.id]&&(r[le].isParent=!0)}})}function hl(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var h;const u=(Be(a.zIndex)?a.zIndex:0)+(a.selected?s:0),l=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(o[f]=!0);const d=(l==null?void 0:l.type)&&(l==null?void 0:l.type)!==a.type;Object.defineProperty(c,le,{enumerable:!1,value:{handleBounds:d||(h=l==null?void 0:l[le])==null?void 0:h.handleBounds,z:u}}),i.set(a.id,c)}),Ex(i,n,o),i}function Tx(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:u,fitViewOnInitDone:l,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!l&&c;if(a&&u&&(d||!t.initial)){const m=n().filter(v=>{var y;const g=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return(y=t.nodes)!=null&&y.length?g&&t.nodes.some(w=>w.id===v.id):g}),p=m.every(v=>v.width&&v.height);if(m.length>0&&p){const v=Xi(m,f),{x:g,y,zoom:w}=lx(v,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),_=yt.translate(g,y).scale(w);return typeof t.duration=="number"&&t.duration>0?a.transform(Ut(u,t.duration),_):a.transform(u,_),!0}}return!1}function CO(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[le]:r[le],selected:n.selected})}),new Map(t)}function PO(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function zr({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:u,hasDefaultEdges:l}=n();e!=null&&e.length&&(u&&r({nodeInternals:CO(e,i)}),s==null||s(e)),t!=null&&t.length&&(l&&r({edges:PO(t,o)}),a==null||a(t))}const cn=()=>{},MO={zoomIn:cn,zoomOut:cn,zoomTo:cn,getZoom:()=>1,setViewport:cn,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:cn,fitBounds:cn,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},IO=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),qO=()=>{const e=ge(),{d3Zoom:t,d3Selection:n}=ie(IO,_e);return S.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Ut(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Ut(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(Ut(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,u]=e.getState().transform,l=yt.translate(i.x??s,i.y??a).scale(i.zoom??u);t.transform(Ut(n,o==null?void 0:o.duration),l)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>Tx(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:u,maxZoom:l}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:l,f=a/2-i*c,d=u/2-o*c,h=yt.translate(f,d).scale(c);t.transform(Ut(n,s==null?void 0:s.duration),h)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:u,maxZoom:l}=e.getState(),{x:c,y:f,zoom:d}=lx(i,s,a,u,l,(o==null?void 0:o.padding)??.1),h=yt.translate(c,f).scale(d);t.transform(Ut(n,o==null?void 0:o.duration),h)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Xl(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:u}=e.getState();if(!u)return i;const{x:l,y:c}=u.getBoundingClientRect(),f={x:i.x-l,y:i.y-c};return Xl(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:u}=s.getBoundingClientRect(),l=ax(i,o);return{x:l.x+a,y:l.y+u}},viewportInitialized:!0}:MO,[t,n])};function pd(){const e=qO(),t=ge(),n=S.useCallback(()=>t.getState().getNodes().map(p=>({...p})),[]),r=S.useCallback(p=>t.getState().nodeInternals.get(p),[]),i=S.useCallback(()=>{const{edges:p=[]}=t.getState();return p.map(v=>({...v}))},[]),o=S.useCallback(p=>{const{edges:v=[]}=t.getState();return v.find(g=>g.id===p)},[]),s=S.useCallback(p=>{const{getNodes:v,setNodes:g,hasDefaultNodes:y,onNodesChange:w}=t.getState(),_=v(),x=typeof p=="function"?p(_):p;if(y)g(x);else if(w){const E=x.length===0?_.map(R=>({type:"remove",id:R.id})):x.map(R=>({item:R,type:"reset"}));w(E)}},[]),a=S.useCallback(p=>{const{edges:v=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:w}=t.getState(),_=typeof p=="function"?p(v):p;if(y)g(_);else if(w){const x=_.length===0?v.map(E=>({type:"remove",id:E.id})):_.map(E=>({item:E,type:"reset"}));w(x)}},[]),u=S.useCallback(p=>{const v=Array.isArray(p)?p:[p],{getNodes:g,setNodes:y,hasDefaultNodes:w,onNodesChange:_}=t.getState();if(w){const E=[...g(),...v];y(E)}else if(_){const x=v.map(E=>({item:E,type:"add"}));_(x)}},[]),l=S.useCallback(p=>{const v=Array.isArray(p)?p:[p],{edges:g=[],setEdges:y,hasDefaultEdges:w,onEdgesChange:_}=t.getState();if(w)y([...g,...v]);else if(_){const x=v.map(E=>({item:E,type:"add"}));_(x)}},[]),c=S.useCallback(()=>{const{getNodes:p,edges:v=[],transform:g}=t.getState(),[y,w,_]=g;return{nodes:p().map(x=>({...x})),edges:v.map(x=>({...x})),viewport:{x:y,y:w,zoom:_}}},[]),f=S.useCallback(({nodes:p,edges:v})=>{const{nodeInternals:g,getNodes:y,edges:w,hasDefaultNodes:_,hasDefaultEdges:x,onNodesDelete:E,onEdgesDelete:R,onNodesChange:C,onEdgesChange:P}=t.getState(),N=(p||[]).map(M=>M.id),I=(v||[]).map(M=>M.id),L=y().reduce((M,T)=>{const D=T.parentNode||T.parentId,O=!N.includes(T.id)&&D&&M.find(k=>k.id===D);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(N.includes(T.id)||O)&&M.push(T),M},[]),V=w.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),b=V.filter(M=>I.includes(M.id));if(L||b){const M=cx(L,V),T=[...b,...M],D=T.reduce((O,A)=>(O.includes(A.id)||O.push(A.id),O),[]);if((x||_)&&(x&&t.setState({edges:w.filter(O=>!D.includes(O.id))}),_&&(L.forEach(O=>{g.delete(O.id)}),t.setState({nodeInternals:new Map(g)}))),D.length>0&&(R==null||R(T),P&&P(D.map(O=>({id:O,type:"remove"})))),L.length>0&&(E==null||E(L),C)){const O=L.map(A=>({id:A.id,type:"remove"}));C(O)}}},[]),d=S.useCallback(p=>{const v=J2(p),g=v?null:t.getState().nodeInternals.get(p.id);return!v&&!g?[null,null,v]:[v?p:i0(g),g,v]},[]),h=S.useCallback((p,v=!0,g)=>{const[y,w,_]=d(p);return y?(g||t.getState().getNodes()).filter(x=>{if(!_&&(x.id===w.id||!x.positionAbsolute))return!1;const E=i0(x),R=Gl(E,y);return v&&R>0||R>=y.width*y.height}):[]},[]),m=S.useCallback((p,v,g=!0)=>{const[y]=d(p);if(!y)return!1;const w=Gl(y,v);return g&&w>0||w>=y.width*y.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:u,addEdges:l,toObject:c,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:m}),[e,n,r,i,o,s,a,u,l,c,f,h,m])}const NO={actInsideInputWithModifier:!1};var DO=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ge(),{deleteElements:r}=pd(),i=vr(e,NO),o=vr(t);S.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),u=a().filter(c=>c.selected),l=s.filter(c=>c.selected);r({nodes:u,edges:l}),n.setState({nodesSelectionActive:!1})}},[i]),S.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function kO(e){const t=ge();S.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=od(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",xt.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const md={position:"absolute",width:"100%",height:"100%",top:0,left:0},OO=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Hr=e=>({x:e.x,y:e.y,zoom:e.k}),ln=(e,t)=>e.target.closest(`.${t}`),p0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),m0=e=>{const t=e.ctrlKey&&mi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},VO=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),LO=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:u=Yt.Free,zoomOnDoubleClick:l=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:m,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:g=!0,children:y,noWheelClassName:w,noPanClassName:_})=>{const x=S.useRef(),E=ge(),R=S.useRef(!1),C=S.useRef(!1),P=S.useRef(null),N=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:L,d3ZoomHandler:V,userSelectionActive:b}=ie(VO,_e),M=vr(v),T=S.useRef(0),D=S.useRef(!1),O=S.useRef();return kO(P),S.useEffect(()=>{if(P.current){const A=P.current.getBoundingClientRect(),k=Yw().scaleExtent([m,p]).translateExtent(h),F=$e(P.current).call(k),$=yt.translate(d.x,d.y).scale(Rn(d.zoom,m,p)),j=[[0,0],[A.width,A.height]],B=k.constrain()($,j,h);k.transform(F,B),k.wheelDelta(m0),E.setState({d3Zoom:k,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[B.x,B.y,B.k],domNode:P.current.closest(".react-flow")})}},[]),S.useEffect(()=>{L&&I&&(s&&!M&&!b?L.on("wheel.zoom",A=>{if(ln(A,w))return!1;A.preventDefault(),A.stopImmediatePropagation();const k=L.property("__zoom").k||1;if(A.ctrlKey&&o){const ne=Ke(A),te=m0(A),ee=k*Math.pow(2,te);I.scaleTo(L,ee,ne,A);return}const F=A.deltaMode===1?20:1;let $=u===Yt.Vertical?0:A.deltaX*F,j=u===Yt.Horizontal?0:A.deltaY*F;!mi()&&A.shiftKey&&u!==Yt.Vertical&&($=A.deltaY*F,j=0),I.translateBy(L,-($/k)*a,-(j/k)*a,{internal:!0});const B=Hr(L.property("__zoom")),{onViewportChangeStart:U,onViewportChange:X,onViewportChangeEnd:Q}=E.getState();clearTimeout(O.current),D.current||(D.current=!0,t==null||t(A,B),U==null||U(B)),D.current&&(e==null||e(A,B),X==null||X(B),O.current=setTimeout(()=>{n==null||n(A,B),Q==null||Q(B),D.current=!1},150))},{passive:!1}):typeof V<"u"&&L.on("wheel.zoom",function(A,k){if(!g&&A.type==="wheel"&&!A.ctrlKey||ln(A,w))return null;A.preventDefault(),V.call(this,A,k)},{passive:!1}))},[b,s,u,L,I,V,M,o,g,w,t,e,n]),S.useEffect(()=>{I&&I.on("start",A=>{var $,j;if(!A.sourceEvent||A.sourceEvent.internal)return null;T.current=($=A.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:k}=E.getState(),F=Hr(A.transform);R.current=!0,N.current=F,((j=A.sourceEvent)==null?void 0:j.type)==="mousedown"&&E.setState({paneDragging:!0}),k==null||k(F),t==null||t(A.sourceEvent,F)})},[I,t]),S.useEffect(()=>{I&&(b&&!R.current?I.on("zoom",null):b||I.on("zoom",A=>{var F;const{onViewportChange:k}=E.getState();if(E.setState({transform:[A.transform.x,A.transform.y,A.transform.k]}),C.current=!!(r&&p0(f,T.current??0)),(e||k)&&!((F=A.sourceEvent)!=null&&F.internal)){const $=Hr(A.transform);k==null||k($),e==null||e(A.sourceEvent,$)}}))},[b,I,e,f,r]),S.useEffect(()=>{I&&I.on("end",A=>{if(!A.sourceEvent||A.sourceEvent.internal)return null;const{onViewportChangeEnd:k}=E.getState();if(R.current=!1,E.setState({paneDragging:!1}),r&&p0(f,T.current??0)&&!C.current&&r(A.sourceEvent),C.current=!1,(n||k)&&OO(N.current,A.transform)){const F=Hr(A.transform);N.current=F,clearTimeout(x.current),x.current=setTimeout(()=>{k==null||k(F),n==null||n(A.sourceEvent,F)},s?150:0)}})},[I,s,f,n,r]),S.useEffect(()=>{I&&I.filter(A=>{const k=M||i,F=o&&A.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&A.button===1&&A.type==="mousedown"&&(ln(A,"react-flow__node")||ln(A,"react-flow__edge")))return!0;if(!f&&!k&&!s&&!l&&!o||b||!l&&A.type==="dblclick"||ln(A,w)&&A.type==="wheel"||ln(A,_)&&(A.type!=="wheel"||s&&A.type==="wheel"&&!M)||!o&&A.ctrlKey&&A.type==="wheel"||!k&&!s&&!F&&A.type==="wheel"||!f&&(A.type==="mousedown"||A.type==="touchstart")||Array.isArray(f)&&!f.includes(A.button)&&A.type==="mousedown")return!1;const $=Array.isArray(f)&&f.includes(A.button)||!A.button||A.button<=1;return(!A.ctrlKey||A.type==="wheel")&&$})},[b,I,i,o,s,l,f,c,M]),q.createElement("div",{className:"react-flow__renderer",ref:P,style:md},y)},FO=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function $O(){const{userSelectionActive:e,userSelectionRect:t}=ie(FO,_e);return e&&t?q.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function g0(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function BO(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&g0(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&g0(r,s);break}case"remove":return r}return r.push(s),r},n)}function jO(e,t){return BO(e,t)}const Mt=(e,t)=>({id:e,type:"select",selected:t});function vn(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Mt(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Mt(r.id,!1))),n},[])}const pl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},zO=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ax=S.memo(({isSelecting:e,selectionMode:t=gr.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:u,onPaneMouseMove:l,onPaneMouseLeave:c,children:f})=>{const d=S.useRef(null),h=ge(),m=S.useRef(0),p=S.useRef(0),v=S.useRef(),{userSelectionActive:g,elementsSelectable:y,dragging:w}=ie(zO,_e),_=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,p.current=0},x=V=>{o==null||o(V),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},E=V=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){V.preventDefault();return}s==null||s(V)},R=a?V=>a(V):void 0,C=V=>{const{resetSelectedElements:b,domNode:M}=h.getState();if(v.current=M==null?void 0:M.getBoundingClientRect(),!y||!e||V.button!==0||V.target!==d.current||!v.current)return;const{x:T,y:D}=Dt(V,v.current);b(),h.setState({userSelectionRect:{width:0,height:0,startX:T,startY:D,x:T,y:D}}),r==null||r(V)},P=V=>{const{userSelectionRect:b,nodeInternals:M,edges:T,transform:D,onNodesChange:O,onEdgesChange:A,nodeOrigin:k,getNodes:F}=h.getState();if(!e||!v.current||!b)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=Dt(V,v.current),j=b.startX??0,B=b.startY??0,U={...b,x:$.x<j?$.x:j,y:$.y<B?$.y:B,width:Math.abs($.x-j),height:Math.abs($.y-B)},X=F(),Q=ux(M,U,D,t===gr.Partial,!0,k),ne=cx(Q,T).map(ee=>ee.id),te=Q.map(ee=>ee.id);if(m.current!==te.length){m.current=te.length;const ee=vn(X,te);ee.length&&(O==null||O(ee))}if(p.current!==ne.length){p.current=ne.length;const ee=vn(T,ne);ee.length&&(A==null||A(ee))}h.setState({userSelectionRect:U})},N=V=>{if(V.button!==0)return;const{userSelectionRect:b}=h.getState();!g&&b&&V.target===d.current&&(x==null||x(V)),h.setState({nodesSelectionActive:m.current>0}),_(),i==null||i(V)},I=V=>{g&&(h.setState({nodesSelectionActive:m.current>0}),i==null||i(V)),_()},L=y&&(e||g);return q.createElement("div",{className:Se(["react-flow__pane",{dragging:w,selection:e}]),onClick:L?void 0:pl(x,d),onContextMenu:pl(E,d),onWheel:pl(R,d),onMouseEnter:L?void 0:u,onMouseDown:L?C:void 0,onMouseMove:L?P:l,onMouseUp:L?N:void 0,onMouseLeave:L?I:c,ref:d,style:md},f,q.createElement($O,null))});Ax.displayName="Pane";function Rx(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Rx(r,t):!1}function v0(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function HO(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!Rx(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function UO(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Cx(e,t,n,r,i=[0,0],o){const s=UO(e,e.extent||r);let a=s;const u=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(u&&e.width&&e.height){const f=n.get(u),{x:d,y:h}=Jt(f,i).positionAbsolute;a=f&&Be(d)&&Be(h)&&Be(f.width)&&Be(f.height)?[[d+e.width*i[0],h+e.height*i[1]],[d+f.width-e.width+e.width*i[0],h+f.height-e.height+e.height*i[1]]]:a}else o==null||o("005",xt.error005()),a=s;else if(e.extent&&u&&e.extent!=="parent"){const f=n.get(u),{x:d,y:h}=Jt(f,i).positionAbsolute;a=[[e.extent[0][0]+d,e.extent[0][1]+h],[e.extent[1][0]+d,e.extent[1][1]+h]]}let l={x:0,y:0};if(u){const f=n.get(u);l=Jt(f,i).positionAbsolute}const c=a&&a!=="parent"?ad(t,a):t;return{position:{x:c.x-l.x,y:c.y-l.y},positionAbsolute:c}}function ml({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const y0=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(u=>{const l=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(l.left-s.left-a.x)/n,y:(l.top-s.top-a.y)/n,...od(u)}})};function Bn(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Jl({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:u}=t.getState(),l=a.get(e);if(!l){u==null||u("012",xt.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&s)&&(o({nodes:[l],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function GO(){const e=ge();return S.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,u={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(u.x/i[0]):u.x,ySnapped:o?i[1]*Math.round(u.y/i[1]):u.y,...u}},[])}function gl(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Px({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=ge(),[u,l]=S.useState(!1),c=S.useRef([]),f=S.useRef({x:null,y:null}),d=S.useRef(0),h=S.useRef(null),m=S.useRef({x:0,y:0}),p=S.useRef(null),v=S.useRef(!1),g=S.useRef(!1),y=S.useRef(!1),w=GO();return S.useEffect(()=>{if(e!=null&&e.current){const _=$e(e.current),x=({x:C,y:P})=>{const{nodeInternals:N,onNodeDrag:I,onSelectionDrag:L,updateNodePositions:V,nodeExtent:b,snapGrid:M,snapToGrid:T,nodeOrigin:D,onError:O}=a.getState();f.current={x:C,y:P};let A=!1,k={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const $=Xi(c.current,D);k=mr($)}if(c.current=c.current.map($=>{const j={x:C-$.distance.x,y:P-$.distance.y};T&&(j.x=M[0]*Math.round(j.x/M[0]),j.y=M[1]*Math.round(j.y/M[1]));const B=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!$.extent&&(B[0][0]=$.positionAbsolute.x-k.x+b[0][0],B[1][0]=$.positionAbsolute.x+($.width??0)-k.x2+b[1][0],B[0][1]=$.positionAbsolute.y-k.y+b[0][1],B[1][1]=$.positionAbsolute.y+($.height??0)-k.y2+b[1][1]);const U=Cx($,j,N,B,D,O);return A=A||$.position.x!==U.position.x||$.position.y!==U.position.y,$.position=U.position,$.positionAbsolute=U.positionAbsolute,$}),!A)return;V(c.current,!0,!0),l(!0);const F=i?I:gl(L);if(F&&p.current){const[$,j]=ml({nodeId:i,dragItems:c.current,nodeInternals:N});F(p.current,$,j)}},E=()=>{if(!h.current)return;const[C,P]=Zw(m.current,h.current);if(C!==0||P!==0){const{transform:N,panBy:I}=a.getState();f.current.x=(f.current.x??0)-C/N[2],f.current.y=(f.current.y??0)-P/N[2],I({x:C,y:P})&&x(f.current)}d.current=requestAnimationFrame(E)},R=C=>{var D;const{nodeInternals:P,multiSelectionActive:N,nodesDraggable:I,unselectNodesAndEdges:L,onNodeDragStart:V,onSelectionDragStart:b}=a.getState();g.current=!0;const M=i?V:gl(b);(!s||!o)&&!N&&i&&((D=P.get(i))!=null&&D.selected||L()),i&&o&&s&&Jl({id:i,store:a,nodeRef:e});const T=w(C);if(f.current=T,c.current=HO(P,I,T,i),M&&c.current){const[O,A]=ml({nodeId:i,dragItems:c.current,nodeInternals:P});M(C.sourceEvent,O,A)}};if(t)_.on(".drag",null);else{const C=nk().on("start",P=>{const{domNode:N,nodeDragThreshold:I}=a.getState();I===0&&R(P),y.current=!1;const L=w(P);f.current=L,h.current=(N==null?void 0:N.getBoundingClientRect())||null,m.current=Dt(P.sourceEvent,h.current)}).on("drag",P=>{var V,b;const N=w(P),{autoPanOnNodeDrag:I,nodeDragThreshold:L}=a.getState();if(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!v.current&&g.current&&I&&(v.current=!0,E()),!g.current){const M=N.xSnapped-(((V=f==null?void 0:f.current)==null?void 0:V.x)??0),T=N.ySnapped-(((b=f==null?void 0:f.current)==null?void 0:b.y)??0);Math.sqrt(M*M+T*T)>L&&R(P)}(f.current.x!==N.xSnapped||f.current.y!==N.ySnapped)&&c.current&&g.current&&(p.current=P.sourceEvent,m.current=Dt(P.sourceEvent,h.current),x(N))}}).on("end",P=>{if(!(!g.current||y.current)&&(l(!1),v.current=!1,g.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:N,nodeInternals:I,onNodeDragStop:L,onSelectionDragStop:V}=a.getState(),b=i?L:gl(V);if(N(c.current,!1,!1),b){const[M,T]=ml({nodeId:i,dragItems:c.current,nodeInternals:I});b(P.sourceEvent,M,T)}}}).filter(P=>{const N=P.target;return!P.button&&(!n||!v0(N,`.${n}`,e))&&(!r||v0(N,r,e))});return _.call(C),()=>{_.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,w]),u}function Mx(){const e=ge();return S.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:u,onError:l,nodesDraggable:c}=e.getState(),f=s().filter(y=>y.selected&&(y.draggable||c&&typeof y.draggable>"u")),d=a?u[0]:5,h=a?u[1]:5,m=n.isShiftPressed?4:1,p=n.x*d*m,v=n.y*h*m,g=f.map(y=>{if(y.positionAbsolute){const w={x:y.positionAbsolute.x+p,y:y.positionAbsolute.y+v};a&&(w.x=u[0]*Math.round(w.x/u[0]),w.y=u[1]*Math.round(w.y/u[1]));const{positionAbsolute:_,position:x}=Cx(y,w,r,i,void 0,l);y.position=x,y.positionAbsolute=_}return y});o(g,!0,!1)},[])}const _n={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var jn=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:u,selected:l,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:m,onDoubleClick:p,style:v,className:g,isDraggable:y,isSelectable:w,isConnectable:_,isFocusable:x,selectNodesOnDrag:E,sourcePosition:R,targetPosition:C,hidden:P,resizeObserver:N,dragHandle:I,zIndex:L,isParent:V,noDragClassName:b,noPanClassName:M,initialized:T,disableKeyboardA11y:D,ariaLabel:O,rfId:A,hasHandleBounds:k})=>{const F=ge(),$=S.useRef(null),j=S.useRef(null),B=S.useRef(R),U=S.useRef(C),X=S.useRef(r),Q=w||y||c||f||d||h,ne=Mx(),te=Bn(n,F.getState,f),ee=Bn(n,F.getState,d),me=Bn(n,F.getState,h),fe=Bn(n,F.getState,m),we=Bn(n,F.getState,p),ve=H=>{const{nodeDragThreshold:z}=F.getState();if(w&&(!E||!y||z>0)&&Jl({id:n,store:F,nodeRef:$}),c){const ue=F.getState().nodeInternals.get(n);ue&&c(H,{...ue})}},W=H=>{if(!Kl(H)&&!D)if(tx.includes(H.key)&&w){const z=H.key==="Escape";Jl({id:n,store:F,unselect:z,nodeRef:$})}else y&&l&&Object.prototype.hasOwnProperty.call(_n,H.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${H.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ne({x:_n[H.key].x,y:_n[H.key].y,isShiftPressed:H.shiftKey}))};S.useEffect(()=>()=>{j.current&&(N==null||N.unobserve(j.current),j.current=null)},[]),S.useEffect(()=>{if($.current&&!P){const H=$.current;(!T||!k||j.current!==H)&&(j.current&&(N==null||N.unobserve(j.current)),N==null||N.observe(H),j.current=H)}},[P,T,k]),S.useEffect(()=>{const H=X.current!==r,z=B.current!==R,ue=U.current!==C;$.current&&(H||z||ue)&&(H&&(X.current=r),z&&(B.current=R),ue&&(U.current=C),F.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,R,C]);const ye=Px({nodeRef:$,disabled:P||!y,noDragClassName:b,handleSelector:I,nodeId:n,isSelectable:w,selectNodesOnDrag:E});return P?null:q.createElement("div",{className:Se(["react-flow__node",`react-flow__node-${r}`,{[M]:y},g,{selected:l,selectable:w,parent:V,dragging:ye}]),ref:$,style:{zIndex:L,transform:`translate(${a}px,${u}px)`,pointerEvents:Q?"all":"none",visibility:T?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:te,onMouseMove:ee,onMouseLeave:me,onContextMenu:fe,onClick:ve,onDoubleClick:we,onKeyDown:x?W:void 0,tabIndex:x?0:void 0,role:x?"button":void 0,"aria-describedby":D?void 0:`${wx}-${A}`,"aria-label":O},q.createElement(sO,{value:n},q.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:l,isConnectable:_,sourcePosition:R,targetPosition:C,dragging:ye,dragHandle:I,zIndex:L})))};return t.displayName="NodeWrapper",S.memo(t)};const KO=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Xi(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function WO({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ge(),{width:i,height:o,x:s,y:a,transformString:u,userSelectionActive:l}=ie(KO,_e),c=Mx(),f=S.useRef(null);if(S.useEffect(()=>{var m;n||(m=f.current)==null||m.focus({preventScroll:!0})},[n]),Px({nodeRef:f}),l||!i||!o)return null;const d=e?m=>{const p=r.getState().getNodes().filter(v=>v.selected);e(m,p)}:void 0,h=m=>{Object.prototype.hasOwnProperty.call(_n,m.key)&&c({x:_n[m.key].x,y:_n[m.key].y,isShiftPressed:m.shiftKey})};return q.createElement("div",{className:Se(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u}},q.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:o,top:a,left:s}}))}var YO=S.memo(WO);const XO=e=>e.nodesSelectionActive,Ix=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:u,onMoveStart:l,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:m,onSelectionEnd:p,multiSelectionKeyCode:v,panActivationKeyCode:g,zoomActivationKeyCode:y,elementsSelectable:w,zoomOnScroll:_,zoomOnPinch:x,panOnScroll:E,panOnScrollSpeed:R,panOnScrollMode:C,zoomOnDoubleClick:P,panOnDrag:N,defaultViewport:I,translateExtent:L,minZoom:V,maxZoom:b,preventScrolling:M,onSelectionContextMenu:T,noWheelClassName:D,noPanClassName:O,disableKeyboardA11y:A})=>{const k=ie(XO),F=vr(f),$=vr(g),j=$||N,B=$||E,U=F||d&&j!==!0;return DO({deleteKeyCode:a,multiSelectionKeyCode:v}),q.createElement(LO,{onMove:u,onMoveStart:l,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:_,zoomOnPinch:x,panOnScroll:B,panOnScrollSpeed:R,panOnScrollMode:C,zoomOnDoubleClick:P,panOnDrag:!F&&j,defaultViewport:I,translateExtent:L,minZoom:V,maxZoom:b,zoomActivationKeyCode:y,preventScrolling:M,noWheelClassName:D,noPanClassName:O},q.createElement(Ax,{onSelectionStart:m,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:j,isSelecting:!!U,selectionMode:h},e,k&&q.createElement(YO,{onSelectionContextMenu:T,noPanClassName:O,disableKeyboardA11y:A})))};Ix.displayName="FlowRenderer";var ZO=S.memo(Ix);function JO(e){return ie(S.useCallback(n=>e?ux(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function QO(e){const t={input:jn(e.input||vx),default:jn(e.default||Zl),output:jn(e.output||bx),group:jn(e.group||hd)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=jn(e[o]||Zl),i),n);return{...t,...r}}const eV=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},tV=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),qx=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=ie(tV,_e),a=JO(e.onlyRenderVisibleElements),u=S.useRef(),l=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));o(d)});return u.current=c,c},[]);return S.useEffect(()=>()=>{var c;(c=u==null?void 0:u.current)==null||c.disconnect()},[]),q.createElement("div",{className:"react-flow__nodes",style:md},a.map(c=>{var x,E,R;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",xt.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),m=!!(c.selectable||i&&typeof c.selectable>"u"),p=!!(c.connectable||n&&typeof c.connectable>"u"),v=!!(c.focusable||r&&typeof c.focusable>"u"),g=e.nodeExtent?ad(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,y=(g==null?void 0:g.x)??0,w=(g==null?void 0:g.y)??0,_=eV({x:y,y:w,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return q.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||G.Bottom,targetPosition:c.targetPosition||G.Top,hidden:c.hidden,xPos:y,yPos:w,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:m,isConnectable:p,isFocusable:v,resizeObserver:l,dragHandle:c.dragHandle,zIndex:((x=c[le])==null?void 0:x.z)??0,isParent:!!((E=c[le])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((R=c[le])!=null&&R.handleBounds)})}))};qx.displayName="NodeRenderer";var nV=S.memo(qx);const rV=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,iV=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,b0="react-flow__edgeupdater",_0=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>q.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Se([b0,`${b0}-${a}`]),cx:rV(t,r,e),cy:iV(n,r,e),r,stroke:"transparent",fill:"transparent"}),sV=()=>!0;var fn=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:u,animated:l,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:p,style:v,source:g,target:y,sourceX:w,sourceY:_,targetX:x,targetY:E,sourcePosition:R,targetPosition:C,elementsSelectable:P,hidden:N,sourceHandleId:I,targetHandleId:L,onContextMenu:V,onMouseEnter:b,onMouseMove:M,onMouseLeave:T,reconnectRadius:D,onReconnect:O,onReconnectStart:A,onReconnectEnd:k,markerEnd:F,markerStart:$,rfId:j,ariaLabel:B,isFocusable:U,isReconnectable:X,pathOptions:Q,interactionWidth:ne,disableKeyboardA11y:te})=>{const ee=S.useRef(null),[me,fe]=S.useState(!1),[we,ve]=S.useState(!1),W=ge(),ye=S.useMemo(()=>`url('#${Yl($,j)}')`,[$,j]),H=S.useMemo(()=>`url('#${Yl(F,j)}')`,[F,j]);if(N)return null;const z=be=>{var tt;const{edges:Me,addSelectedEdges:Ee,unselectNodesAndEdges:Ce,multiSelectionActive:$t}=W.getState(),lt=Me.find(kn=>kn.id===n);lt&&(P&&(W.setState({nodesSelectionActive:!1}),lt.selected&&$t?(Ce({nodes:[],edges:[lt]}),(tt=ee.current)==null||tt.blur()):Ee([n])),s&&s(be,lt))},ue=$n(n,W.getState,a),He=$n(n,W.getState,V),Qe=$n(n,W.getState,b),Re=$n(n,W.getState,M),de=$n(n,W.getState,T),Pe=(be,Me)=>{if(be.button!==0)return;const{edges:Ee,isValidConnection:Ce}=W.getState(),$t=Me?y:g,lt=(Me?L:I)||null,tt=Me?"target":"source",kn=Ce||sV,Zi=Me,On=Ee.find(Bt=>Bt.id===n);ve(!0),A==null||A(be,On,tt);const Ji=Bt=>{ve(!1),k==null||k(Bt,On,tt)};hx({event:be,handleId:lt,nodeId:$t,onConnect:Bt=>O==null?void 0:O(On,Bt),isTarget:Zi,getState:W.getState,setState:W.setState,isValidConnection:kn,edgeUpdaterType:tt,onReconnectEnd:Ji})},Ue=be=>Pe(be,!0),ut=be=>Pe(be,!1),et=()=>fe(!0),Ne=()=>fe(!1),ct=!P&&!s,Tt=be=>{var Me;if(!te&&tx.includes(be.key)&&P){const{unselectNodesAndEdges:Ee,addSelectedEdges:Ce,edges:$t}=W.getState();be.key==="Escape"?((Me=ee.current)==null||Me.blur(),Ee({edges:[$t.find(tt=>tt.id===n)]})):Ce([n])}};return q.createElement("g",{className:Se(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:u,animated:l,inactive:ct,updating:me}]),onClick:z,onDoubleClick:ue,onContextMenu:He,onMouseEnter:Qe,onMouseMove:Re,onMouseLeave:de,onKeyDown:U?Tt:void 0,tabIndex:U?0:void 0,role:U?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":B===null?void 0:B||`Edge from ${g} to ${y}`,"aria-describedby":U?`${xx}-${j}`:void 0,ref:ee},!we&&q.createElement(e,{id:n,source:g,target:y,selected:u,animated:l,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:p,data:o,style:v,sourceX:w,sourceY:_,targetX:x,targetY:E,sourcePosition:R,targetPosition:C,sourceHandleId:I,targetHandleId:L,markerStart:ye,markerEnd:H,pathOptions:Q,interactionWidth:ne}),X&&q.createElement(q.Fragment,null,(X==="source"||X===!0)&&q.createElement(_0,{position:R,centerX:w,centerY:_,radius:D,onMouseDown:Ue,onMouseEnter:et,onMouseOut:Ne,type:"source"}),(X==="target"||X===!0)&&q.createElement(_0,{position:C,centerX:x,centerY:E,radius:D,onMouseDown:ut,onMouseEnter:et,onMouseOut:Ne,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function oV(e){const t={default:fn(e.default||vi),straight:fn(e.bezier||ld),step:fn(e.step||cd),smoothstep:fn(e.step||Yi),simplebezier:fn(e.simplebezier||ud)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=fn(e[o]||vi),i),n);return{...t,...r}}function w0(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case G.Top:return{x:r+o/2,y:i};case G.Right:return{x:r+o,y:i+s/2};case G.Bottom:return{x:r+o/2,y:i+s};case G.Left:return{x:r,y:i+s/2}}}function x0(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const aV=(e,t,n,r,i,o)=>{const s=w0(n,e,t),a=w0(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function uV({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:u}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c=mr({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:s/u[2],height:a/u[2]}),f=Math.max(0,Math.min(c.x2,l.x2)-Math.max(c.x,l.x)),d=Math.max(0,Math.min(c.y2,l.y2)-Math.max(c.y,l.y));return Math.ceil(f*d)>0}function S0(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[le])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const cV=[{level:0,isMaxLevel:!0,edges:[]}];function lV(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var c,f;const u=Be(a.zIndex);let l=u?a.zIndex:0;if(n){const d=t.get(a.target),h=t.get(a.source),m=a.selected||(d==null?void 0:d.selected)||(h==null?void 0:h.selected),p=Math.max(((c=h==null?void 0:h[le])==null?void 0:c.z)||0,((f=d==null?void 0:d[le])==null?void 0:f.z)||0,1e3);l=(u?a.zIndex:0)+(m?p:0)}return s[l]?s[l].push(a):s[l]=[a],r=l>r?l:r,s},{}),o=Object.entries(i).map(([s,a])=>{const u=+s;return{edges:a,level:u,isMaxLevel:u===r}});return o.length===0?cV:o}function fV(e,t,n){const r=ie(S.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&uV({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return lV(r,t,n)}const dV=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),hV=({color:e="none",strokeWidth:t=1})=>q.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),E0={[gi.Arrow]:dV,[gi.ArrowClosed]:hV};function pV(e){const t=ge();return S.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(E0,e)?E0[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",xt.error009(e)),null)},[e])}const mV=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const u=pV(t);return u?q.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},q.createElement(u,{color:n,strokeWidth:s})):null},gV=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=Yl(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},Nx=({defaultColor:e,rfId:t})=>{const n=ie(S.useCallback(gV({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return q.createElement("defs",null,n.map(r=>q.createElement(mV,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Nx.displayName="MarkerDefinitions";var vV=S.memo(Nx);const yV=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Dx=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:u,onEdgeMouseLeave:l,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:m,reconnectRadius:p,children:v,disableKeyboardA11y:g})=>{const{edgesFocusable:y,edgesUpdatable:w,elementsSelectable:_,width:x,height:E,connectionMode:R,nodeInternals:C,onError:P}=ie(yV,_e),N=fV(t,C,n);return x?q.createElement(q.Fragment,null,N.map(({level:I,edges:L,isMaxLevel:V})=>q.createElement("svg",{key:I,style:{zIndex:I},width:x,height:E,className:"react-flow__edges react-flow__container"},V&&q.createElement(vV,{defaultColor:e,rfId:r}),q.createElement("g",null,L.map(b=>{const[M,T,D]=S0(C.get(b.source)),[O,A,k]=S0(C.get(b.target));if(!D||!k)return null;let F=b.type||"default";i[F]||(P==null||P("011",xt.error011(F)),F="default");const $=i[F]||i.default,j=R===en.Strict?A.target:(A.target??[]).concat(A.source??[]),B=x0(T.source,b.sourceHandle),U=x0(j,b.targetHandle),X=(B==null?void 0:B.position)||G.Bottom,Q=(U==null?void 0:U.position)||G.Top,ne=!!(b.focusable||y&&typeof b.focusable>"u"),te=b.reconnectable||b.updatable,ee=typeof d<"u"&&(te||w&&typeof te>"u");if(!B||!U)return P==null||P("008",xt.error008(B,b)),null;const{sourceX:me,sourceY:fe,targetX:we,targetY:ve}=aV(M,B,X,O,U,Q);return q.createElement($,{key:b.id,id:b.id,className:Se([b.className,o]),type:F,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:me,sourceY:fe,targetX:we,targetY:ve,sourcePosition:X,targetPosition:Q,elementsSelectable:_,onContextMenu:s,onMouseEnter:a,onMouseMove:u,onMouseLeave:l,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:m,reconnectRadius:p,rfId:r,ariaLabel:b.ariaLabel,isFocusable:ne,isReconnectable:ee,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:g})})))),v):null};Dx.displayName="EdgeRenderer";var bV=S.memo(Dx);const _V=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function wV({children:e}){const t=ie(_V);return q.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function xV(e){const t=pd(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const SV={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},kx=({nodeId:e,handleType:t,style:n,type:r=qt.Bezier,CustomComponent:i,connectionStatus:o})=>{var E,R,C;const{fromNode:s,handleId:a,toX:u,toY:l,connectionMode:c}=ie(S.useCallback(P=>({fromNode:P.nodeInternals.get(e),handleId:P.connectionHandleId,toX:(P.connectionPosition.x-P.transform[0])/P.transform[2],toY:(P.connectionPosition.y-P.transform[1])/P.transform[2],connectionMode:P.connectionMode}),[e]),_e),f=(E=s==null?void 0:s[le])==null?void 0:E.handleBounds;let d=f==null?void 0:f[t];if(c===en.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const h=a?d.find(P=>P.id===a):d[0],m=h?h.x+h.width/2:(s.width??0)/2,p=h?h.y+h.height/2:s.height??0,v=(((R=s.positionAbsolute)==null?void 0:R.x)??0)+m,g=(((C=s.positionAbsolute)==null?void 0:C.y)??0)+p,y=h==null?void 0:h.position,w=y?SV[y]:null;if(!y||!w)return null;if(i)return q.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:h,fromX:v,fromY:g,toX:u,toY:l,fromPosition:y,toPosition:w,connectionStatus:o});let _="";const x={sourceX:v,sourceY:g,sourcePosition:y,targetX:u,targetY:l,targetPosition:w};return r===qt.Bezier?[_]=ox(x):r===qt.Step?[_]=Wl({...x,borderRadius:0}):r===qt.SmoothStep?[_]=Wl(x):r===qt.SimpleBezier?[_]=sx(x):_=`M${v},${g} ${u},${l}`,q.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};kx.displayName="ConnectionLine";const EV=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function TV({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:u,connectionStatus:l}=ie(EV,_e);return!(i&&o&&a&&s)?null:q.createElement("svg",{style:e,width:a,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},q.createElement("g",{className:Se(["react-flow__connection",l])},q.createElement(kx,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:l})))}function T0(e,t){return S.useRef(null),ge(),S.useMemo(()=>t(e),[e])}const Ox=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:u,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:m,onSelectionStart:p,onSelectionEnd:v,connectionLineType:g,connectionLineStyle:y,connectionLineComponent:w,connectionLineContainerStyle:_,selectionKeyCode:x,selectionOnDrag:E,selectionMode:R,multiSelectionKeyCode:C,panActivationKeyCode:P,zoomActivationKeyCode:N,deleteKeyCode:I,onlyRenderVisibleElements:L,elementsSelectable:V,selectNodesOnDrag:b,defaultViewport:M,translateExtent:T,minZoom:D,maxZoom:O,preventScrolling:A,defaultMarkerColor:k,zoomOnScroll:F,zoomOnPinch:$,panOnScroll:j,panOnScrollSpeed:B,panOnScrollMode:U,zoomOnDoubleClick:X,panOnDrag:Q,onPaneClick:ne,onPaneMouseEnter:te,onPaneMouseMove:ee,onPaneMouseLeave:me,onPaneScroll:fe,onPaneContextMenu:we,onEdgeContextMenu:ve,onEdgeMouseEnter:W,onEdgeMouseMove:ye,onEdgeMouseLeave:H,onReconnect:z,onReconnectStart:ue,onReconnectEnd:He,reconnectRadius:Qe,noDragClassName:Re,noWheelClassName:de,noPanClassName:Pe,elevateEdgesOnSelect:Ue,disableKeyboardA11y:ut,nodeOrigin:et,nodeExtent:Ne,rfId:ct})=>{const Tt=T0(e,QO),be=T0(t,oV);return xV(o),q.createElement(ZO,{onPaneClick:ne,onPaneMouseEnter:te,onPaneMouseMove:ee,onPaneMouseLeave:me,onPaneContextMenu:we,onPaneScroll:fe,deleteKeyCode:I,selectionKeyCode:x,selectionOnDrag:E,selectionMode:R,onSelectionStart:p,onSelectionEnd:v,multiSelectionKeyCode:C,panActivationKeyCode:P,zoomActivationKeyCode:N,elementsSelectable:V,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:$,zoomOnDoubleClick:X,panOnScroll:j,panOnScrollSpeed:B,panOnScrollMode:U,panOnDrag:Q,defaultViewport:M,translateExtent:T,minZoom:D,maxZoom:O,onSelectionContextMenu:m,preventScrolling:A,noDragClassName:Re,noWheelClassName:de,noPanClassName:Pe,disableKeyboardA11y:ut},q.createElement(wV,null,q.createElement(bV,{edgeTypes:be,onEdgeClick:a,onEdgeDoubleClick:l,onlyRenderVisibleElements:L,onEdgeContextMenu:ve,onEdgeMouseEnter:W,onEdgeMouseMove:ye,onEdgeMouseLeave:H,onReconnect:z,onReconnectStart:ue,onReconnectEnd:He,reconnectRadius:Qe,defaultMarkerColor:k,noPanClassName:Pe,elevateEdgesOnSelect:!!Ue,disableKeyboardA11y:ut,rfId:ct},q.createElement(TV,{style:y,type:g,component:w,containerStyle:_})),q.createElement("div",{className:"react-flow__edgelabel-renderer"}),q.createElement(nV,{nodeTypes:Tt,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:b,onlyRenderVisibleElements:L,noPanClassName:Pe,noDragClassName:Re,disableKeyboardA11y:ut,nodeOrigin:et,nodeExtent:Ne,rfId:ct})))};Ox.displayName="GraphView";var AV=S.memo(Ox);const Ql=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Rt={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ql,nodeExtent:Ql,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:en.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Q2,isValidConnection:void 0},RV=()=>pN((e,t)=>({...Rt,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:hl(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?hl(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:u,nodeOrigin:l}=t(),c=u==null?void 0:u.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((p,v)=>{const g=i.get(v.id);if(g!=null&&g.hidden)i.set(g.id,{...g,[le]:{...g[le],handleBounds:void 0}});else if(g){const y=od(v.nodeElement);!!(y.width&&y.height&&(g.width!==y.width||g.height!==y.height||v.forceUpdate))&&(i.set(g.id,{...g,[le]:{...g[le],handleBounds:{source:y0(".source",v.nodeElement,d,l),target:y0(".target",v.nodeElement,d,l)}},...y}),p.push({id:g.id,type:"dimensions",dimensions:y}))}return p},[]);Ex(i,l);const m=s||o&&!s&&Tx(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:m}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const u={id:a.id,type:"position",dragging:i};return r&&(u.positionAbsolute=a.positionAbsolute,u.position=a.position),u});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:u}=t();if(n!=null&&n.length){if(o){const l=jO(n,a()),c=hl(l,i,s,u);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(u=>Mt(u,!0)):(s=vn(o(),n),a=vn(i,[])),zr({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(u=>Mt(u,!0)):(s=vn(i,n),a=vn(o(),[])),zr({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,u=s.map(c=>(c.selected=!1,Mt(c.id,!1))),l=a.map(c=>Mt(c.id,!1));zr({changedNodes:u,changedEdges:l,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>Mt(a.id,!1)),s=n.filter(a=>a.selected).map(a=>Mt(a.id,!1));zr({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=ad(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:u}=t();if(!s||!a||!n.x&&!n.y)return!1;const l=yt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(l,c,u);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Rt.connectionNodeId,connectionHandleId:Rt.connectionHandleId,connectionHandleType:Rt.connectionHandleType,connectionStatus:Rt.connectionStatus,connectionStartHandle:Rt.connectionStartHandle,connectionEndHandle:Rt.connectionEndHandle}),reset:()=>e({...Rt})}),Object.is),Vx=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=RV()),q.createElement(G2,{value:t.current},e)};Vx.displayName="ReactFlowProvider";const Lx=({children:e})=>S.useContext(Wi)?q.createElement(q.Fragment,null,e):q.createElement(Vx,null,e);Lx.displayName="ReactFlowWrapper";const CV={input:vx,default:Zl,output:bx,group:hd},PV={default:vi,straight:ld,step:cd,smoothstep:Yi,simplebezier:ud},MV=[0,0],IV=[15,15],qV={x:0,y:0,zoom:1},NV={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},DV=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=CV,edgeTypes:s=PV,onNodeClick:a,onEdgeClick:u,onInit:l,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:g,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:_,onNodeContextMenu:x,onNodeDoubleClick:E,onNodeDragStart:R,onNodeDrag:C,onNodeDragStop:P,onNodesDelete:N,onEdgesDelete:I,onSelectionChange:L,onSelectionDragStart:V,onSelectionDrag:b,onSelectionDragStop:M,onSelectionContextMenu:T,onSelectionStart:D,onSelectionEnd:O,connectionMode:A=en.Strict,connectionLineType:k=qt.Bezier,connectionLineStyle:F,connectionLineComponent:$,connectionLineContainerStyle:j,deleteKeyCode:B="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:X=!1,selectionMode:Q=gr.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:te=mi()?"Meta":"Control",zoomActivationKeyCode:ee=mi()?"Meta":"Control",snapToGrid:me=!1,snapGrid:fe=IV,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:ve=!0,nodesDraggable:W,nodesConnectable:ye,nodesFocusable:H,nodeOrigin:z=MV,edgesFocusable:ue,edgesUpdatable:He,elementsSelectable:Qe,defaultViewport:Re=qV,minZoom:de=.5,maxZoom:Pe=2,translateExtent:Ue=Ql,preventScrolling:ut=!0,nodeExtent:et,defaultMarkerColor:Ne="#b1b1b7",zoomOnScroll:ct=!0,zoomOnPinch:Tt=!0,panOnScroll:be=!1,panOnScrollSpeed:Me=.5,panOnScrollMode:Ee=Yt.Free,zoomOnDoubleClick:Ce=!0,panOnDrag:$t=!0,onPaneClick:lt,onPaneMouseEnter:tt,onPaneMouseMove:kn,onPaneMouseLeave:Zi,onPaneScroll:On,onPaneContextMenu:Ji,children:gd,onEdgeContextMenu:Bt,onEdgeDoubleClick:zx,onEdgeMouseEnter:Hx,onEdgeMouseMove:Ux,onEdgeMouseLeave:Gx,onEdgeUpdate:Kx,onEdgeUpdateStart:Wx,onEdgeUpdateEnd:Yx,onReconnect:Xx,onReconnectStart:Zx,onReconnectEnd:Jx,reconnectRadius:Qx=10,edgeUpdaterRadius:e1=10,onNodesChange:t1,onEdgesChange:n1,noDragClassName:r1="nodrag",noWheelClassName:i1="nowheel",noPanClassName:vd="nopan",fitView:s1=!1,fitViewOptions:o1,connectOnClick:a1=!0,attributionPosition:u1,proOptions:c1,defaultEdgeOptions:l1,elevateNodesOnSelect:f1=!0,elevateEdgesOnSelect:d1=!1,disableKeyboardA11y:yd=!1,autoPanOnConnect:h1=!0,autoPanOnNodeDrag:p1=!0,connectionRadius:m1=20,isValidConnection:g1,onError:v1,style:y1,id:bd,nodeDragThreshold:b1,..._1},w1)=>{const Qi=bd||"1";return q.createElement("div",{..._1,style:{...y1,...NV},ref:w1,className:Se(["react-flow",i]),"data-testid":"rf__wrapper",id:bd},q.createElement(Lx,null,q.createElement(AV,{onInit:l,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:a,onEdgeClick:u,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:_,onNodeContextMenu:x,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:k,connectionLineStyle:F,connectionLineComponent:$,connectionLineContainerStyle:j,selectionKeyCode:U,selectionOnDrag:X,selectionMode:Q,deleteKeyCode:B,multiSelectionKeyCode:te,panActivationKeyCode:ne,zoomActivationKeyCode:ee,onlyRenderVisibleElements:we,selectNodesOnDrag:ve,defaultViewport:Re,translateExtent:Ue,minZoom:de,maxZoom:Pe,preventScrolling:ut,zoomOnScroll:ct,zoomOnPinch:Tt,zoomOnDoubleClick:Ce,panOnScroll:be,panOnScrollSpeed:Me,panOnScrollMode:Ee,panOnDrag:$t,onPaneClick:lt,onPaneMouseEnter:tt,onPaneMouseMove:kn,onPaneMouseLeave:Zi,onPaneScroll:On,onPaneContextMenu:Ji,onSelectionContextMenu:T,onSelectionStart:D,onSelectionEnd:O,onEdgeContextMenu:Bt,onEdgeDoubleClick:zx,onEdgeMouseEnter:Hx,onEdgeMouseMove:Ux,onEdgeMouseLeave:Gx,onReconnect:Xx??Kx,onReconnectStart:Zx??Wx,onReconnectEnd:Jx??Yx,reconnectRadius:Qx??e1,defaultMarkerColor:Ne,noDragClassName:r1,noWheelClassName:i1,noPanClassName:vd,elevateEdgesOnSelect:d1,rfId:Qi,disableKeyboardA11y:yd,nodeOrigin:z,nodeExtent:et}),q.createElement(xO,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:v,onClickConnectEnd:g,nodesDraggable:W,nodesConnectable:ye,nodesFocusable:H,edgesFocusable:ue,edgesUpdatable:He,elementsSelectable:Qe,elevateNodesOnSelect:f1,minZoom:de,maxZoom:Pe,nodeExtent:et,onNodesChange:t1,onEdgesChange:n1,snapToGrid:me,snapGrid:fe,connectionMode:A,translateExtent:Ue,connectOnClick:a1,defaultEdgeOptions:l1,fitView:s1,fitViewOptions:o1,onNodesDelete:N,onEdgesDelete:I,onNodeDragStart:R,onNodeDrag:C,onNodeDragStop:P,onSelectionDrag:b,onSelectionDragStart:V,onSelectionDragStop:M,noPanClassName:vd,nodeOrigin:z,rfId:Qi,autoPanOnConnect:h1,autoPanOnNodeDrag:p1,onError:v1,connectionRadius:m1,isValidConnection:g1,nodeDragThreshold:b1}),q.createElement(_O,{onSelectionChange:L}),gd,q.createElement(W2,{proOptions:c1,position:u1}),q.createElement(RO,{rfId:Qi,disableKeyboardA11y:yd})))});DV.displayName="ReactFlow";const Fx=({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:u,className:l,borderRadius:c,shapeRendering:f,onClick:d,selected:h})=>{const{background:m,backgroundColor:p}=o||{},v=s||m||p;return q.createElement("rect",{className:Se(["react-flow__minimap-node",{selected:h},l]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:v,stroke:a,strokeWidth:u,shapeRendering:f,onClick:d?g=>d(g,e):void 0})};Fx.displayName="MiniMapNode";var kV=S.memo(Fx);const OV=e=>e.nodeOrigin,VV=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),vl=e=>e instanceof Function?e:()=>e;function LV({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=kV,onClick:s}){const a=ie(VV,_e),u=ie(OV),l=vl(t),c=vl(e),f=vl(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return q.createElement(q.Fragment,null,a.map(h=>{const{x:m,y:p}=Jt(h,u).positionAbsolute;return q.createElement(o,{key:h.id,x:m,y:p,width:h.width,height:h.height,style:h.style,selected:h.selected,className:f(h),color:l(h),borderRadius:r,strokeColor:c(h),strokeWidth:i,shapeRendering:d,onClick:s,id:h.id})}))}var FV=S.memo(LV);const $V=200,BV=150,jV=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?Z2(Xi(t,e.nodeOrigin),n):n,rfId:e.rfId}},zV="react-flow__minimap-desc";function $x({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:a,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:l="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:d,onNodeClick:h,pannable:m=!1,zoomable:p=!1,ariaLabel:v="React Flow mini map",inversePan:g=!1,zoomStep:y=10,offsetScale:w=5}){const _=ge(),x=S.useRef(null),{boundingRect:E,viewBB:R,rfId:C}=ie(jV,_e),P=(e==null?void 0:e.width)??$V,N=(e==null?void 0:e.height)??BV,I=E.width/P,L=E.height/N,V=Math.max(I,L),b=V*P,M=V*N,T=w*V,D=E.x-(b-E.width)/2-T,O=E.y-(M-E.height)/2-T,A=b+T*2,k=M+T*2,F=`${zV}-${C}`,$=S.useRef(0);$.current=V,S.useEffect(()=>{if(x.current){const U=$e(x.current),X=te=>{const{transform:ee,d3Selection:me,d3Zoom:fe}=_.getState();if(te.sourceEvent.type!=="wheel"||!me||!fe)return;const we=-te.sourceEvent.deltaY*(te.sourceEvent.deltaMode===1?.05:te.sourceEvent.deltaMode?1:.002)*y,ve=ee[2]*Math.pow(2,we);fe.scaleTo(me,ve)},Q=te=>{const{transform:ee,d3Selection:me,d3Zoom:fe,translateExtent:we,width:ve,height:W}=_.getState();if(te.sourceEvent.type!=="mousemove"||!me||!fe)return;const ye=$.current*Math.max(1,ee[2])*(g?-1:1),H={x:ee[0]-te.sourceEvent.movementX*ye,y:ee[1]-te.sourceEvent.movementY*ye},z=[[0,0],[ve,W]],ue=yt.translate(H.x,H.y).scale(ee[2]),He=fe.constrain()(ue,z,we);fe.transform(me,He)},ne=Yw().on("zoom",m?Q:null).on("zoom.wheel",p?X:null);return U.call(ne),()=>{U.on("zoom",null)}}},[m,p,g,y]);const j=d?U=>{const X=Ke(U);d(U,{x:X[0],y:X[1]})}:void 0,B=h?(U,X)=>{const Q=_.getState().nodeInternals.get(X);h(U,Q)}:void 0;return q.createElement(sd,{position:f,style:e,className:Se(["react-flow__minimap",t]),"data-testid":"rf__minimap"},q.createElement("svg",{width:P,height:N,viewBox:`${D} ${O} ${A} ${k}`,role:"img","aria-labelledby":F,ref:x,onClick:j},v&&q.createElement("title",{id:F},v),q.createElement(FV,{onClick:B,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),q.createElement("path",{className:"react-flow__minimap-mask",d:`M${D-T},${O-T}h${A+T*2}v${k+T*2}h${-A-T*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fill:u,fillRule:"evenodd",stroke:l,strokeWidth:c,pointerEvents:"none"})))}$x.displayName="MiniMap";var sL=S.memo($x);function HV(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},q.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function UV(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},q.createElement("path",{d:"M0 0h32v4.2H0z"}))}function GV(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},q.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function KV(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function WV(){return q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},q.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const er=({children:e,className:t,...n})=>q.createElement("button",{type:"button",className:Se(["react-flow__controls-button",t]),...n},e);er.displayName="ControlButton";const YV=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Bx=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:u,className:l,children:c,position:f="bottom-left"})=>{const d=ge(),[h,m]=S.useState(!1),{isInteractive:p,minZoomReached:v,maxZoomReached:g}=ie(YV,_e),{zoomIn:y,zoomOut:w,fitView:_}=pd();if(S.useEffect(()=>{m(!0)},[]),!h)return null;const x=()=>{y(),o==null||o()},E=()=>{w(),s==null||s()},R=()=>{_(i),a==null||a()},C=()=>{d.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),u==null||u(!p)};return q.createElement(sd,{className:Se(["react-flow__controls",l]),position:f,style:e,"data-testid":"rf__controls"},t&&q.createElement(q.Fragment,null,q.createElement(er,{onClick:x,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},q.createElement(HV,null)),q.createElement(er,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},q.createElement(UV,null))),n&&q.createElement(er,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},q.createElement(GV,null)),r&&q.createElement(er,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},p?q.createElement(WV,null):q.createElement(KV,null)),c)};Bx.displayName="Controls";var oL=S.memo(Bx),Ye;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ye||(Ye={}));function XV({color:e,dimensions:t,lineWidth:n}){return q.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function ZV({color:e,radius:t}){return q.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const JV={[Ye.Dots]:"#91919a",[Ye.Lines]:"#eee",[Ye.Cross]:"#e2e2e2"},QV={[Ye.Dots]:1,[Ye.Lines]:1,[Ye.Cross]:6},eL=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function jx({id:e,variant:t=Ye.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:s,style:a,className:u}){const l=S.useRef(null),{transform:c,patternId:f}=ie(eL,_e),d=s||JV[t],h=r||QV[t],m=t===Ye.Dots,p=t===Ye.Cross,v=Array.isArray(n)?n:[n,n],g=[v[0]*c[2]||1,v[1]*c[2]||1],y=h*c[2],w=p?[y,y]:g,_=m?[y/o,y/o]:[w[0]/o,w[1]/o];return q.createElement("svg",{className:Se(["react-flow__background",u]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:l,"data-testid":"rf__background"},q.createElement("pattern",{id:f+e,x:c[0]%g[0],y:c[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},m?q.createElement(ZV,{color:d,radius:y/o}):q.createElement(XV,{dimensions:w,color:d,lineWidth:i})),q.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}jx.displayName="Background";var aL=S.memo(jx);export{aL as B,oL as C,sL as M,DV as R,iL as d,rL as m};
