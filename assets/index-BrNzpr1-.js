(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var XC={exports:{}},Ol={},ZC={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.element"),f2=Symbol.for("react.portal"),d2=Symbol.for("react.fragment"),h2=Symbol.for("react.strict_mode"),p2=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),g2=Symbol.for("react.context"),v2=Symbol.for("react.forward_ref"),y2=Symbol.for("react.suspense"),w2=Symbol.for("react.memo"),x2=Symbol.for("react.lazy"),x0=Symbol.iterator;function _2(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var QC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JC=Object.assign,eT={};function Qi(e,t,n){this.props=e,this.context=t,this.refs=eT,this.updater=n||QC}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tT(){}tT.prototype=Qi.prototype;function sv(e,t,n){this.props=e,this.context=t,this.refs=eT,this.updater=n||QC}var ov=sv.prototype=new tT;ov.constructor=sv;JC(ov,Qi.prototype);ov.isPureReactComponent=!0;var _0=Array.isArray,nT=Object.prototype.hasOwnProperty,av={current:null},rT={key:!0,ref:!0,__self:!0,__source:!0};function iT(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)nT.call(t,r)&&!rT.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Po,type:e,key:s,ref:o,props:i,_owner:av.current}}function S2(e,t){return{$$typeof:Po,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Po}function b2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var S0=/\/+/g;function Du(e,t){return typeof e=="object"&&e!==null&&e.key!=null?b2(""+e.key):t.toString(36)}function Ta(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Po:case f2:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Du(o,0):r,_0(i)?(n="",e!=null&&(n=e.replace(S0,"$&/")+"/"),Ta(i,t,n,"",function(u){return u})):i!=null&&(lv(i)&&(i=S2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",_0(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Du(s,a);o+=Ta(s,t,n,l,i)}else if(l=_2(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Du(s,a++),o+=Ta(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yo(e,t,n){if(e==null)return e;var r=[],i=0;return Ta(e,r,"","",function(s){return t.call(n,s,i++)}),r}function E2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},ka={transition:null},C2={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ka,ReactCurrentOwner:av};function sT(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Yo,forEach:function(e,t,n){Yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yo(e,function(){t++}),t},toArray:function(e){return Yo(e,function(t){return t})||[]},only:function(e){if(!lv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Qi;ae.Fragment=d2;ae.Profiler=p2;ae.PureComponent=sv;ae.StrictMode=h2;ae.Suspense=y2;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;ae.act=sT;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=JC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=av.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)nT.call(t,l)&&!rT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Po,type:e.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:g2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m2,_context:e},e.Consumer=e};ae.createElement=iT;ae.createFactory=function(e){var t=iT.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:v2,render:e}};ae.isValidElement=lv;ae.lazy=function(e){return{$$typeof:x2,_payload:{_status:-1,_result:e},_init:E2}};ae.memo=function(e,t){return{$$typeof:w2,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};ae.unstable_act=sT;ae.useCallback=function(e,t){return ht.current.useCallback(e,t)};ae.useContext=function(e){return ht.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ae.useEffect=function(e,t){return ht.current.useEffect(e,t)};ae.useId=function(){return ht.current.useId()};ae.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return ht.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};ae.useRef=function(e){return ht.current.useRef(e)};ae.useState=function(e){return ht.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return ht.current.useTransition()};ae.version="18.3.1";ZC.exports=ae;var E=ZC.exports;const F=iv(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2=E,k2=Symbol.for("react.element"),N2=Symbol.for("react.fragment"),M2=Object.prototype.hasOwnProperty,A2=T2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P2={key:!0,ref:!0,__self:!0,__source:!0};function oT(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)M2.call(t,r)&&!P2.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:k2,type:e,key:s,ref:o,props:i,_owner:A2.current}}Ol.Fragment=N2;Ol.jsx=oT;Ol.jsxs=oT;XC.exports=Ol;var _=XC.exports,Nm={},aT={exports:{}},Pt={},lT={exports:{}},uT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,N){var I=A.length;A.push(N);e:for(;0<I;){var q=I-1>>>1,$=A[q];if(0<i($,N))A[q]=N,A[I]=$,I=q;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var N=A[0],I=A.pop();if(I!==N){A[0]=I;e:for(var q=0,$=A.length,O=$>>>1;q<O;){var U=2*(q+1)-1,G=A[U],X=U+1,te=A[X];if(0>i(G,I))X<$&&0>i(te,G)?(A[q]=te,A[X]=I,q=X):(A[q]=G,A[U]=I,q=U);else if(X<$&&0>i(te,I))A[q]=te,A[X]=I,q=X;else break e}}return N}function i(A,N){var I=A.sortIndex-N.sortIndex;return I!==0?I:A.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,m=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=A)r(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function x(A){if(p=!1,w(A),!m)if(n(l)!==null)m=!0,P(S);else{var N=n(u);N!==null&&L(x,N.startTime-A)}}function S(A,N){m=!1,p&&(p=!1,g(k),k=-1),h=!0;var I=d;try{for(w(N),f=n(l);f!==null&&(!(f.expirationTime>N)||A&&!j());){var q=f.callback;if(typeof q=="function"){f.callback=null,d=f.priorityLevel;var $=q(f.expirationTime<=N);N=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),w(N)}else r(l);f=n(l)}if(f!==null)var O=!0;else{var U=n(u);U!==null&&L(x,U.startTime-N),O=!1}return O}finally{f=null,d=I,h=!1}}var C=!1,T=null,k=-1,M=5,R=-1;function j(){return!(e.unstable_now()-R<M)}function B(){if(T!==null){var A=e.unstable_now();R=A;var N=!0;try{N=T(!0,A)}finally{N?V():(C=!1,T=null)}}else C=!1}var V;if(typeof v=="function")V=function(){v(B)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,D=b.port2;b.port1.onmessage=B,V=function(){D.postMessage(null)}}else V=function(){y(B,0)};function P(A){T=A,C||(C=!0,V())}function L(A,N){k=y(function(){A(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,P(S))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(d){case 1:case 2:case 3:var N=3;break;default:N=d}var I=d;d=N;try{return A()}finally{d=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,N){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var I=d;d=A;try{return N()}finally{d=I}},e.unstable_scheduleCallback=function(A,N,I){var q=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?q+I:q):I=q,A){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=I+$,A={id:c++,callback:N,priorityLevel:A,startTime:I,expirationTime:$,sortIndex:-1},I>q?(A.sortIndex=I,t(u,A),n(l)===null&&A===n(u)&&(p?(g(k),k=-1):p=!0,L(x,I-q))):(A.sortIndex=$,t(l,A),m||h||(m=!0,P(S))),A},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(A){var N=d;return function(){var I=d;d=N;try{return A.apply(this,arguments)}finally{d=I}}}})(uT);lT.exports=uT;var R2=lT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2=E,Nt=R2;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cT=new Set,eo={};function Qr(e,t){Fi(e,t),Fi(e+"Capture",t)}function Fi(e,t){for(eo[e]=t,e=0;e<t.length;e++)cT.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=Object.prototype.hasOwnProperty,j2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b0={},E0={};function D2(e){return Mm.call(E0,e)?!0:Mm.call(b0,e)?!1:j2.test(e)?E0[e]=!0:(b0[e]=!0,!1)}function L2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O2(e,t,n,r){if(t===null||typeof t>"u"||L2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var uv=/[\-:]([a-z])/g;function cv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uv,cv);nt[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uv,cv);nt[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uv,cv);nt[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function fv(e,t,n,r){var i=nt.hasOwnProperty(t)?nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O2(t,n,i,r)&&(n=null),r||i===null?D2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bn=I2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),fi=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),dv=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),fT=Symbol.for("react.provider"),dT=Symbol.for("react.context"),hv=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),pv=Symbol.for("react.memo"),Yn=Symbol.for("react.lazy"),hT=Symbol.for("react.offscreen"),C0=Symbol.iterator;function cs(e){return e===null||typeof e!="object"?null:(e=C0&&e[C0]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Lu;function Cs(e){if(Lu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lu=t&&t[1]||""}return`
`+Lu+e}var Ou=!1;function Fu(e,t){if(!e||Ou)return"";Ou=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ou=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cs(e):""}function F2(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=Fu(e.type,!1),e;case 11:return e=Fu(e.type.render,!1),e;case 1:return e=Fu(e.type,!0),e;default:return""}}function Im(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case fi:return"Portal";case Am:return"Profiler";case dv:return"StrictMode";case Pm:return"Suspense";case Rm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dT:return(e.displayName||"Context")+".Consumer";case fT:return(e._context.displayName||"Context")+".Provider";case hv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pv:return t=e.displayName||null,t!==null?t:Im(e.type)||"Memo";case Yn:t=e._payload,e=e._init;try{return Im(e(t))}catch{}}return null}function q2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Im(t);case 8:return t===dv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $2(e){var t=pT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){e._valueTracker||(e._valueTracker=$2(e))}function mT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jm(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function T0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gT(e,t){t=t.checked,t!=null&&fv(e,"checked",t,!1)}function Dm(e,t){gT(e,t);var n=mr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lm(e,t.type,mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function k0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lm(e,t,n){(t!=="number"||Ga(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ts=Array.isArray;function Mi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Om(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function N0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Ts(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mr(n)}}function vT(e,t){var n=mr(t.value),r=mr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function M0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qo,wT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function to(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V2=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(e){V2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vs[t]=Vs[e]})});function xT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vs.hasOwnProperty(e)&&Vs[e]?(""+t).trim():t+"px"}function _T(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var B2=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(e,t){if(t){if(B2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function $m(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vm=null;function mv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bm=null,Ai=null,Pi=null;function A0(e){if(e=jo(e)){if(typeof Bm!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Bl(t),Bm(e.stateNode,e.type,t))}}function ST(e){Ai?Pi?Pi.push(e):Pi=[e]:Ai=e}function bT(){if(Ai){var e=Ai,t=Pi;if(Pi=Ai=null,A0(e),t)for(e=0;e<t.length;e++)A0(t[e])}}function ET(e,t){return e(t)}function CT(){}var qu=!1;function TT(e,t,n){if(qu)return e(t,n);qu=!0;try{return ET(e,t,n)}finally{qu=!1,(Ai!==null||Pi!==null)&&(CT(),bT())}}function no(e,t){var n=e.stateNode;if(n===null)return null;var r=Bl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var zm=!1;if(jn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){zm=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{zm=!1}function z2(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Bs=!1,Wa=null,Ka=!1,Um=null,U2={onError:function(e){Bs=!0,Wa=e}};function H2(e,t,n,r,i,s,o,a,l){Bs=!1,Wa=null,z2.apply(U2,arguments)}function G2(e,t,n,r,i,s,o,a,l){if(H2.apply(this,arguments),Bs){if(Bs){var u=Wa;Bs=!1,Wa=null}else throw Error(z(198));Ka||(Ka=!0,Um=u)}}function Jr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P0(e){if(Jr(e)!==e)throw Error(z(188))}function W2(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return P0(i),e;if(s===r)return P0(i),t;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function NT(e){return e=W2(e),e!==null?MT(e):null}function MT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MT(e);if(t!==null)return t;e=e.sibling}return null}var AT=Nt.unstable_scheduleCallback,R0=Nt.unstable_cancelCallback,K2=Nt.unstable_shouldYield,Y2=Nt.unstable_requestPaint,Fe=Nt.unstable_now,X2=Nt.unstable_getCurrentPriorityLevel,gv=Nt.unstable_ImmediatePriority,PT=Nt.unstable_UserBlockingPriority,Ya=Nt.unstable_NormalPriority,Z2=Nt.unstable_LowPriority,RT=Nt.unstable_IdlePriority,Fl=null,fn=null;function Q2(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Fl,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:tI,J2=Math.log,eI=Math.LN2;function tI(e){return e>>>=0,e===0?32:31-(J2(e)/eI|0)|0}var Jo=64,ea=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ks(a):(s&=o,s!==0&&(r=ks(s)))}else o=n&~i,o!==0?r=ks(o):s!==0&&(r=ks(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),i=1<<n,r|=e[n],t&=~i;return r}function nI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Qt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nI(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Hm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function IT(){var e=Jo;return Jo<<=1,!(Jo&4194240)&&(Jo=64),e}function $u(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function iI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Qt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function vv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var de=0;function jT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DT,yv,LT,OT,FT,Gm=!1,ta=[],sr=null,or=null,ar=null,ro=new Map,io=new Map,Jn=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function ds(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=jo(t),t!==null&&yv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oI(e,t,n,r,i){switch(t){case"focusin":return sr=ds(sr,e,t,n,r,i),!0;case"dragenter":return or=ds(or,e,t,n,r,i),!0;case"mouseover":return ar=ds(ar,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ro.set(s,ds(ro.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,io.set(s,ds(io.get(s)||null,e,t,n,r,i)),!0}return!1}function qT(e){var t=Ir(e.target);if(t!==null){var n=Jr(t);if(n!==null){if(t=n.tag,t===13){if(t=kT(n),t!==null){e.blockedOn=t,FT(e.priority,function(){LT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vm=r,n.target.dispatchEvent(r),Vm=null}else return t=jo(n),t!==null&&yv(t),e.blockedOn=n,!1;t.shift()}return!0}function j0(e,t,n){Na(e)&&n.delete(t)}function aI(){Gm=!1,sr!==null&&Na(sr)&&(sr=null),or!==null&&Na(or)&&(or=null),ar!==null&&Na(ar)&&(ar=null),ro.forEach(j0),io.forEach(j0)}function hs(e,t){e.blockedOn===t&&(e.blockedOn=null,Gm||(Gm=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,aI)))}function so(e){function t(i){return hs(i,e)}if(0<ta.length){hs(ta[0],e);for(var n=1;n<ta.length;n++){var r=ta[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sr!==null&&hs(sr,e),or!==null&&hs(or,e),ar!==null&&hs(ar,e),ro.forEach(t),io.forEach(t),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)qT(n),n.blockedOn===null&&Jn.shift()}var Ri=Bn.ReactCurrentBatchConfig,Za=!0;function lI(e,t,n,r){var i=de,s=Ri.transition;Ri.transition=null;try{de=1,wv(e,t,n,r)}finally{de=i,Ri.transition=s}}function uI(e,t,n,r){var i=de,s=Ri.transition;Ri.transition=null;try{de=4,wv(e,t,n,r)}finally{de=i,Ri.transition=s}}function wv(e,t,n,r){if(Za){var i=Wm(e,t,n,r);if(i===null)Xu(e,t,r,Qa,n),I0(e,r);else if(oI(i,e,t,n,r))r.stopPropagation();else if(I0(e,r),t&4&&-1<sI.indexOf(e)){for(;i!==null;){var s=jo(i);if(s!==null&&DT(s),s=Wm(e,t,n,r),s===null&&Xu(e,t,r,Qa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xu(e,t,r,null,n)}}var Qa=null;function Wm(e,t,n,r){if(Qa=null,e=mv(r),e=Ir(e),e!==null)if(t=Jr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qa=e,null}function $T(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X2()){case gv:return 1;case PT:return 4;case Ya:case Z2:return 16;case RT:return 536870912;default:return 16}default:return 16}}var rr=null,xv=null,Ma=null;function VT(){if(Ma)return Ma;var e,t=xv,n=t.length,r,i="value"in rr?rr.value:rr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ma=i.slice(e,1<r?1-r:void 0)}function Aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function na(){return!0}function D0(){return!1}function Rt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?na:D0,this.isPropagationStopped=D0,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),t}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_v=Rt(Ji),Io=Pe({},Ji,{view:0,detail:0}),cI=Rt(Io),Vu,Bu,ps,ql=Pe({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ps&&(ps&&e.type==="mousemove"?(Vu=e.screenX-ps.screenX,Bu=e.screenY-ps.screenY):Bu=Vu=0,ps=e),Vu)},movementY:function(e){return"movementY"in e?e.movementY:Bu}}),L0=Rt(ql),fI=Pe({},ql,{dataTransfer:0}),dI=Rt(fI),hI=Pe({},Io,{relatedTarget:0}),zu=Rt(hI),pI=Pe({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),mI=Rt(pI),gI=Pe({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vI=Rt(gI),yI=Pe({},Ji,{data:0}),O0=Rt(yI),wI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_I[e])?!!t[e]:!1}function Sv(){return SI}var bI=Pe({},Io,{key:function(e){if(e.key){var t=wI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sv,charCode:function(e){return e.type==="keypress"?Aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EI=Rt(bI),CI=Pe({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=Rt(CI),TI=Pe({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sv}),kI=Rt(TI),NI=Pe({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),MI=Rt(NI),AI=Pe({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PI=Rt(AI),RI=[9,13,27,32],bv=jn&&"CompositionEvent"in window,zs=null;jn&&"documentMode"in document&&(zs=document.documentMode);var II=jn&&"TextEvent"in window&&!zs,BT=jn&&(!bv||zs&&8<zs&&11>=zs),q0=" ",$0=!1;function zT(e,t){switch(e){case"keyup":return RI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hi=!1;function jI(e,t){switch(e){case"compositionend":return UT(t);case"keypress":return t.which!==32?null:($0=!0,q0);case"textInput":return e=t.data,e===q0&&$0?null:e;default:return null}}function DI(e,t){if(hi)return e==="compositionend"||!bv&&zT(e,t)?(e=VT(),Ma=xv=rr=null,hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BT&&t.locale!=="ko"?null:t.data;default:return null}}var LI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LI[e.type]:t==="textarea"}function HT(e,t,n,r){ST(r),t=Ja(t,"onChange"),0<t.length&&(n=new _v("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Us=null,oo=null;function OI(e){nk(e,0)}function $l(e){var t=gi(e);if(mT(t))return e}function FI(e,t){if(e==="change")return t}var GT=!1;if(jn){var Uu;if(jn){var Hu="oninput"in document;if(!Hu){var B0=document.createElement("div");B0.setAttribute("oninput","return;"),Hu=typeof B0.oninput=="function"}Uu=Hu}else Uu=!1;GT=Uu&&(!document.documentMode||9<document.documentMode)}function z0(){Us&&(Us.detachEvent("onpropertychange",WT),oo=Us=null)}function WT(e){if(e.propertyName==="value"&&$l(oo)){var t=[];HT(t,oo,e,mv(e)),TT(OI,t)}}function qI(e,t,n){e==="focusin"?(z0(),Us=t,oo=n,Us.attachEvent("onpropertychange",WT)):e==="focusout"&&z0()}function $I(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(oo)}function VI(e,t){if(e==="click")return $l(t)}function BI(e,t){if(e==="input"||e==="change")return $l(t)}function zI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:zI;function ao(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mm.call(t,i)||!tn(e[i],t[i]))return!1}return!0}function U0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function H0(e,t){var n=U0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=U0(n)}}function KT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YT(){for(var e=window,t=Ga();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ga(e.document)}return t}function Ev(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UI(e){var t=YT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&KT(n.ownerDocument.documentElement,n)){if(r!==null&&Ev(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=H0(n,s);var o=H0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HI=jn&&"documentMode"in document&&11>=document.documentMode,pi=null,Km=null,Hs=null,Ym=!1;function G0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ym||pi==null||pi!==Ga(r)||(r=pi,"selectionStart"in r&&Ev(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&ao(Hs,r)||(Hs=r,r=Ja(Km,"onSelect"),0<r.length&&(t=new _v("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pi)))}function ra(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mi={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionend:ra("Transition","TransitionEnd")},Gu={},XT={};jn&&(XT=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function Vl(e){if(Gu[e])return Gu[e];if(!mi[e])return e;var t=mi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in XT)return Gu[e]=t[n];return e}var ZT=Vl("animationend"),QT=Vl("animationiteration"),JT=Vl("animationstart"),ek=Vl("transitionend"),tk=new Map,W0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){tk.set(e,t),Qr(t,[e])}for(var Wu=0;Wu<W0.length;Wu++){var Ku=W0[Wu],GI=Ku.toLowerCase(),WI=Ku[0].toUpperCase()+Ku.slice(1);xr(GI,"on"+WI)}xr(ZT,"onAnimationEnd");xr(QT,"onAnimationIteration");xr(JT,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(ek,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function K0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,G2(r,t,void 0,e),e.currentTarget=null}function nk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;K0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;K0(i,a,u),s=l}}}if(Ka)throw e=Um,Ka=!1,Um=null,e}function ve(e,t){var n=t[eg];n===void 0&&(n=t[eg]=new Set);var r=e+"__bubble";n.has(r)||(rk(t,e,2,!1),n.add(r))}function Yu(e,t,n){var r=0;t&&(r|=4),rk(n,e,r,t)}var ia="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[ia]){e[ia]=!0,cT.forEach(function(n){n!=="selectionchange"&&(KI.has(n)||Yu(n,!1,e),Yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ia]||(t[ia]=!0,Yu("selectionchange",!1,t))}}function rk(e,t,n,r){switch($T(t)){case 1:var i=lI;break;case 4:i=uI;break;default:i=wv}n=i.bind(null,t,n,e),i=void 0,!zm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ir(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}TT(function(){var u=s,c=mv(n),f=[];e:{var d=tk.get(e);if(d!==void 0){var h=_v,m=e;switch(e){case"keypress":if(Aa(n)===0)break e;case"keydown":case"keyup":h=EI;break;case"focusin":m="focus",h=zu;break;case"focusout":m="blur",h=zu;break;case"beforeblur":case"afterblur":h=zu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=L0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=dI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=kI;break;case ZT:case QT:case JT:h=mI;break;case ek:h=MI;break;case"scroll":h=cI;break;case"wheel":h=PI;break;case"copy":case"cut":case"paste":h=vI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=F0}var p=(t&4)!==0,y=!p&&e==="scroll",g=p?d!==null?d+"Capture":null:d;p=[];for(var v=u,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=no(v,g),x!=null&&p.push(uo(v,x,w)))),y)break;v=v.return}0<p.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:p}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Vm&&(m=n.relatedTarget||n.fromElement)&&(Ir(m)||m[Dn]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Ir(m):null,m!==null&&(y=Jr(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(p=L0,x="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=F0,x="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?d:gi(h),w=m==null?d:gi(m),d=new p(x,v+"leave",h,n,c),d.target=y,d.relatedTarget=w,x=null,Ir(c)===u&&(p=new p(g,v+"enter",m,n,c),p.target=w,p.relatedTarget=y,x=p),y=x,h&&m)t:{for(p=h,g=m,v=0,w=p;w;w=oi(w))v++;for(w=0,x=g;x;x=oi(x))w++;for(;0<v-w;)p=oi(p),v--;for(;0<w-v;)g=oi(g),w--;for(;v--;){if(p===g||g!==null&&p===g.alternate)break t;p=oi(p),g=oi(g)}p=null}else p=null;h!==null&&Y0(f,d,h,p,!1),m!==null&&y!==null&&Y0(f,y,m,p,!0)}}e:{if(d=u?gi(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=FI;else if(V0(d))if(GT)S=BI;else{S=$I;var C=qI}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=VI);if(S&&(S=S(e,u))){HT(f,S,n,c);break e}C&&C(e,d,u),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Lm(d,"number",d.value)}switch(C=u?gi(u):window,e){case"focusin":(V0(C)||C.contentEditable==="true")&&(pi=C,Km=u,Hs=null);break;case"focusout":Hs=Km=pi=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,G0(f,n,c);break;case"selectionchange":if(HI)break;case"keydown":case"keyup":G0(f,n,c)}var T;if(bv)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else hi?zT(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(BT&&n.locale!=="ko"&&(hi||k!=="onCompositionStart"?k==="onCompositionEnd"&&hi&&(T=VT()):(rr=c,xv="value"in rr?rr.value:rr.textContent,hi=!0)),C=Ja(u,k),0<C.length&&(k=new O0(k,e,null,n,c),f.push({event:k,listeners:C}),T?k.data=T:(T=UT(n),T!==null&&(k.data=T)))),(T=II?jI(e,n):DI(e,n))&&(u=Ja(u,"onBeforeInput"),0<u.length&&(c=new O0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}nk(f,t)})}function uo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ja(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=no(e,n),s!=null&&r.unshift(uo(e,s,i)),s=no(e,t),s!=null&&r.push(uo(e,s,i))),e=e.return}return r}function oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y0(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=no(n,s),l!=null&&o.unshift(uo(n,l,a))):i||(l=no(n,s),l!=null&&o.push(uo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YI=/\r\n?/g,XI=/\u0000|\uFFFD/g;function X0(e){return(typeof e=="string"?e:""+e).replace(YI,`
`).replace(XI,"")}function sa(e,t,n){if(t=X0(t),X0(e)!==t&&n)throw Error(z(425))}function el(){}var Xm=null,Zm=null;function Qm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,ZI=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(e){return Z0.resolve(null).then(e).catch(JI)}:Jm;function JI(e){setTimeout(function(){throw e})}function Zu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),so(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);so(t)}function lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Q0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),un="__reactFiber$"+es,co="__reactProps$"+es,Dn="__reactContainer$"+es,eg="__reactEvents$"+es,ej="__reactListeners$"+es,tj="__reactHandles$"+es;function Ir(e){var t=e[un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Q0(e);e!==null;){if(n=e[un])return n;e=Q0(e)}return t}e=n,n=e.parentNode}return null}function jo(e){return e=e[un]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Bl(e){return e[co]||null}var tg=[],vi=-1;function _r(e){return{current:e}}function ye(e){0>vi||(e.current=tg[vi],tg[vi]=null,vi--)}function pe(e,t){vi++,tg[vi]=e.current,e.current=t}var gr={},ut=_r(gr),yt=_r(!1),Hr=gr;function qi(e,t){var n=e.type.contextTypes;if(!n)return gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wt(e){return e=e.childContextTypes,e!=null}function tl(){ye(yt),ye(ut)}function J0(e,t,n){if(ut.current!==gr)throw Error(z(168));pe(ut,t),pe(yt,n)}function ik(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,q2(e)||"Unknown",i));return Pe({},n,r)}function nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gr,Hr=ut.current,pe(ut,e),pe(yt,yt.current),!0}function ew(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=ik(e,t,Hr),r.__reactInternalMemoizedMergedChildContext=e,ye(yt),ye(ut),pe(ut,e)):ye(yt),pe(yt,n)}var bn=null,zl=!1,Qu=!1;function sk(e){bn===null?bn=[e]:bn.push(e)}function nj(e){zl=!0,sk(e)}function Sr(){if(!Qu&&bn!==null){Qu=!0;var e=0,t=de;try{var n=bn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bn=null,zl=!1}catch(i){throw bn!==null&&(bn=bn.slice(e+1)),AT(gv,Sr),i}finally{de=t,Qu=!1}}return null}var yi=[],wi=0,rl=null,il=0,Dt=[],Lt=0,Gr=null,Cn=1,Tn="";function Nr(e,t){yi[wi++]=il,yi[wi++]=rl,rl=e,il=t}function ok(e,t,n){Dt[Lt++]=Cn,Dt[Lt++]=Tn,Dt[Lt++]=Gr,Gr=e;var r=Cn;e=Tn;var i=32-Qt(r)-1;r&=~(1<<i),n+=1;var s=32-Qt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-Qt(t)+i|n<<i|r,Tn=s+e}else Cn=1<<s|n<<i|r,Tn=e}function Cv(e){e.return!==null&&(Nr(e,1),ok(e,1,0))}function Tv(e){for(;e===rl;)rl=yi[--wi],yi[wi]=null,il=yi[--wi],yi[wi]=null;for(;e===Gr;)Gr=Dt[--Lt],Dt[Lt]=null,Tn=Dt[--Lt],Dt[Lt]=null,Cn=Dt[--Lt],Dt[Lt]=null}var Tt=null,Ct=null,Ee=!1,Xt=null;function ak(e,t){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Ct=lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gr!==null?{id:Cn,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Ct=null,!0):!1;default:return!1}}function ng(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rg(e){if(Ee){var t=Ct;if(t){var n=t;if(!tw(e,t)){if(ng(e))throw Error(z(418));t=lr(n.nextSibling);var r=Tt;t&&tw(e,t)?ak(r,n):(e.flags=e.flags&-4097|2,Ee=!1,Tt=e)}}else{if(ng(e))throw Error(z(418));e.flags=e.flags&-4097|2,Ee=!1,Tt=e}}}function nw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function oa(e){if(e!==Tt)return!1;if(!Ee)return nw(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qm(e.type,e.memoizedProps)),t&&(t=Ct)){if(ng(e))throw lk(),Error(z(418));for(;t;)ak(e,t),t=lr(t.nextSibling)}if(nw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ct=lr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Tt?lr(e.stateNode.nextSibling):null;return!0}function lk(){for(var e=Ct;e;)e=lr(e.nextSibling)}function $i(){Ct=Tt=null,Ee=!1}function kv(e){Xt===null?Xt=[e]:Xt.push(e)}var rj=Bn.ReactCurrentBatchConfig;function ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function aa(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rw(e){var t=e._init;return t(e._payload)}function uk(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=dr(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,x){return v===null||v.tag!==6?(v=sc(w,g.mode,x),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,x){var S=w.type;return S===di?c(g,v,w.props.children,x,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yn&&rw(S)===v.type)?(x=i(v,w.props),x.ref=ms(g,v,w),x.return=g,x):(x=Oa(w.type,w.key,w.props,null,g.mode,x),x.ref=ms(g,v,w),x.return=g,x)}function u(g,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=oc(w,g.mode,x),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function c(g,v,w,x,S){return v===null||v.tag!==7?(v=Vr(w,g.mode,x,S),v.return=g,v):(v=i(v,w),v.return=g,v)}function f(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sc(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xo:return w=Oa(v.type,v.key,v.props,null,g.mode,w),w.ref=ms(g,null,v),w.return=g,w;case fi:return v=oc(v,g.mode,w),v.return=g,v;case Yn:var x=v._init;return f(g,x(v._payload),w)}if(Ts(v)||cs(v))return v=Vr(v,g.mode,w,null),v.return=g,v;aa(g,v)}return null}function d(g,v,w,x){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(g,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xo:return w.key===S?l(g,v,w,x):null;case fi:return w.key===S?u(g,v,w,x):null;case Yn:return S=w._init,d(g,v,S(w._payload),x)}if(Ts(w)||cs(w))return S!==null?null:c(g,v,w,x,null);aa(g,w)}return null}function h(g,v,w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,a(v,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xo:return g=g.get(x.key===null?w:x.key)||null,l(v,g,x,S);case fi:return g=g.get(x.key===null?w:x.key)||null,u(v,g,x,S);case Yn:var C=x._init;return h(g,v,w,C(x._payload),S)}if(Ts(x)||cs(x))return g=g.get(w)||null,c(v,g,x,S,null);aa(v,x)}return null}function m(g,v,w,x){for(var S=null,C=null,T=v,k=v=0,M=null;T!==null&&k<w.length;k++){T.index>k?(M=T,T=null):M=T.sibling;var R=d(g,T,w[k],x);if(R===null){T===null&&(T=M);break}e&&T&&R.alternate===null&&t(g,T),v=s(R,v,k),C===null?S=R:C.sibling=R,C=R,T=M}if(k===w.length)return n(g,T),Ee&&Nr(g,k),S;if(T===null){for(;k<w.length;k++)T=f(g,w[k],x),T!==null&&(v=s(T,v,k),C===null?S=T:C.sibling=T,C=T);return Ee&&Nr(g,k),S}for(T=r(g,T);k<w.length;k++)M=h(T,g,k,w[k],x),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?k:M.key),v=s(M,v,k),C===null?S=M:C.sibling=M,C=M);return e&&T.forEach(function(j){return t(g,j)}),Ee&&Nr(g,k),S}function p(g,v,w,x){var S=cs(w);if(typeof S!="function")throw Error(z(150));if(w=S.call(w),w==null)throw Error(z(151));for(var C=S=null,T=v,k=v=0,M=null,R=w.next();T!==null&&!R.done;k++,R=w.next()){T.index>k?(M=T,T=null):M=T.sibling;var j=d(g,T,R.value,x);if(j===null){T===null&&(T=M);break}e&&T&&j.alternate===null&&t(g,T),v=s(j,v,k),C===null?S=j:C.sibling=j,C=j,T=M}if(R.done)return n(g,T),Ee&&Nr(g,k),S;if(T===null){for(;!R.done;k++,R=w.next())R=f(g,R.value,x),R!==null&&(v=s(R,v,k),C===null?S=R:C.sibling=R,C=R);return Ee&&Nr(g,k),S}for(T=r(g,T);!R.done;k++,R=w.next())R=h(T,g,k,R.value,x),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?k:R.key),v=s(R,v,k),C===null?S=R:C.sibling=R,C=R);return e&&T.forEach(function(B){return t(g,B)}),Ee&&Nr(g,k),S}function y(g,v,w,x){if(typeof w=="object"&&w!==null&&w.type===di&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xo:e:{for(var S=w.key,C=v;C!==null;){if(C.key===S){if(S=w.type,S===di){if(C.tag===7){n(g,C.sibling),v=i(C,w.props.children),v.return=g,g=v;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yn&&rw(S)===C.type){n(g,C.sibling),v=i(C,w.props),v.ref=ms(g,C,w),v.return=g,g=v;break e}n(g,C);break}else t(g,C);C=C.sibling}w.type===di?(v=Vr(w.props.children,g.mode,x,w.key),v.return=g,g=v):(x=Oa(w.type,w.key,w.props,null,g.mode,x),x.ref=ms(g,v,w),x.return=g,g=x)}return o(g);case fi:e:{for(C=w.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=oc(w,g.mode,x),v.return=g,g=v}return o(g);case Yn:return C=w._init,y(g,v,C(w._payload),x)}if(Ts(w))return m(g,v,w,x);if(cs(w))return p(g,v,w,x);aa(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=sc(w,g.mode,x),v.return=g,g=v),o(g)):n(g,v)}return y}var Vi=uk(!0),ck=uk(!1),sl=_r(null),ol=null,xi=null,Nv=null;function Mv(){Nv=xi=ol=null}function Av(e){var t=sl.current;ye(sl),e._currentValue=t}function ig(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t){ol=e,Nv=xi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(Nv!==e)if(e={context:e,memoizedValue:t,next:null},xi===null){if(ol===null)throw Error(z(308));xi=e,ol.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var jr=null;function Pv(e){jr===null?jr=[e]:jr.push(e)}function fk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Pv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ln(e,r)}function Ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xn=!1;function Rv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ln(e,n)}return i=r.interleaved,i===null?(t.next=t,Pv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ln(e,n)}function Pa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vv(e,n)}}function iw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function al(e,t,n,r){var i=e.updateQueue;Xn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,p=a;switch(d=t,h=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Pe({},f,d);break e;case 2:Xn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Kr|=o,e.lanes=o,e.memoizedState=f}}function sw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Do={},dn=_r(Do),fo=_r(Do),ho=_r(Do);function Dr(e){if(e===Do)throw Error(z(174));return e}function Iv(e,t){switch(pe(ho,t),pe(fo,e),pe(dn,Do),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fm(t,e)}ye(dn),pe(dn,t)}function Bi(){ye(dn),ye(fo),ye(ho)}function hk(e){Dr(ho.current);var t=Dr(dn.current),n=Fm(t,e.type);t!==n&&(pe(fo,e),pe(dn,n))}function jv(e){fo.current===e&&(ye(dn),ye(fo))}var Ne=_r(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ju=[];function Dv(){for(var e=0;e<Ju.length;e++)Ju[e]._workInProgressVersionPrimary=null;Ju.length=0}var Ra=Bn.ReactCurrentDispatcher,ec=Bn.ReactCurrentBatchConfig,Wr=0,Ae=null,Ue=null,Ye=null,ul=!1,Gs=!1,po=0,ij=0;function it(){throw Error(z(321))}function Lv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Ov(e,t,n,r,i,s){if(Wr=s,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ra.current=e===null||e.memoizedState===null?lj:uj,e=n(r,i),Gs){s=0;do{if(Gs=!1,po=0,25<=s)throw Error(z(301));s+=1,Ye=Ue=null,t.updateQueue=null,Ra.current=cj,e=n(r,i)}while(Gs)}if(Ra.current=cl,t=Ue!==null&&Ue.next!==null,Wr=0,Ye=Ue=Ae=null,ul=!1,t)throw Error(z(300));return e}function Fv(){var e=po!==0;return po=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ae.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Bt(){if(Ue===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ye===null?Ae.memoizedState:Ye.next;if(t!==null)Ye=t,Ue=e;else{if(e===null)throw Error(z(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ye===null?Ae.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function mo(e,t){return typeof t=="function"?t(e):t}function tc(e){var t=Bt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Wr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ae.lanes|=c,Kr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tn(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ae.lanes|=s,Kr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nc(e){var t=Bt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);tn(s,t.memoizedState)||(gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function pk(){}function mk(e,t){var n=Ae,r=Bt(),i=t(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,gt=!0),r=r.queue,qv(yk.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,go(9,vk.bind(null,n,r,i,t),void 0,null),Xe===null)throw Error(z(349));Wr&30||gk(n,t,i)}return i}function gk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vk(e,t,n,r){t.value=n,t.getSnapshot=r,wk(t)&&xk(e)}function yk(e,t,n){return n(function(){wk(t)&&xk(e)})}function wk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function xk(e){var t=Ln(e,1);t!==null&&Jt(t,e,1,-1)}function ow(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=aj.bind(null,Ae,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _k(){return Bt().memoizedState}function Ia(e,t,n,r){var i=ln();Ae.flags|=e,i.memoizedState=go(1|t,n,void 0,r===void 0?null:r)}function Ul(e,t,n,r){var i=Bt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Lv(r,o.deps)){i.memoizedState=go(t,n,s,r);return}}Ae.flags|=e,i.memoizedState=go(1|t,n,s,r)}function aw(e,t){return Ia(8390656,8,e,t)}function qv(e,t){return Ul(2048,8,e,t)}function Sk(e,t){return Ul(4,2,e,t)}function bk(e,t){return Ul(4,4,e,t)}function Ek(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ck(e,t,n){return n=n!=null?n.concat([e]):null,Ul(4,4,Ek.bind(null,t,e),n)}function $v(){}function Tk(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kk(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nk(e,t,n){return Wr&21?(tn(n,t)||(n=IT(),Ae.lanes|=n,Kr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function sj(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=ec.transition;ec.transition={};try{e(!1),t()}finally{de=n,ec.transition=r}}function Mk(){return Bt().memoizedState}function oj(e,t,n){var r=fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ak(e))Pk(t,n);else if(n=fk(e,t,n,r),n!==null){var i=dt();Jt(n,e,r,i),Rk(n,t,r)}}function aj(e,t,n){var r=fr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ak(e))Pk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var l=t.interleaved;l===null?(i.next=i,Pv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=fk(e,t,i,r),n!==null&&(i=dt(),Jt(n,e,r,i),Rk(n,t,r))}}function Ak(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Pk(e,t){Gs=ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vv(e,n)}}var cl={readContext:Vt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},lj={readContext:Vt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:aw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ia(4194308,4,Ek.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ia(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ia(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oj.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:ow,useDebugValue:$v,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=ow(!1),t=e[0];return e=sj.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,i=ln();if(Ee){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Xe===null)throw Error(z(349));Wr&30||gk(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,aw(yk.bind(null,r,s,e),[e]),r.flags|=2048,go(9,vk.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ln(),t=Xe.identifierPrefix;if(Ee){var n=Tn,r=Cn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ij++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uj={readContext:Vt,useCallback:Tk,useContext:Vt,useEffect:qv,useImperativeHandle:Ck,useInsertionEffect:Sk,useLayoutEffect:bk,useMemo:kk,useReducer:tc,useRef:_k,useState:function(){return tc(mo)},useDebugValue:$v,useDeferredValue:function(e){var t=Bt();return Nk(t,Ue.memoizedState,e)},useTransition:function(){var e=tc(mo)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:pk,useSyncExternalStore:mk,useId:Mk,unstable_isNewReconciler:!1},cj={readContext:Vt,useCallback:Tk,useContext:Vt,useEffect:qv,useImperativeHandle:Ck,useInsertionEffect:Sk,useLayoutEffect:bk,useMemo:kk,useReducer:nc,useRef:_k,useState:function(){return nc(mo)},useDebugValue:$v,useDeferredValue:function(e){var t=Bt();return Ue===null?t.memoizedState=e:Nk(t,Ue.memoizedState,e)},useTransition:function(){var e=nc(mo)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:pk,useSyncExternalStore:mk,useId:Mk,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hl={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),i=fr(e),s=An(r,i);s.payload=t,n!=null&&(s.callback=n),t=ur(e,s,i),t!==null&&(Jt(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),i=fr(e),s=An(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ur(e,s,i),t!==null&&(Jt(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=fr(e),i=An(n,r);i.tag=2,t!=null&&(i.callback=t),t=ur(e,i,r),t!==null&&(Jt(t,e,r,n),Pa(t,e,r))}};function lw(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ao(n,r)||!ao(i,s):!0}function Ik(e,t,n){var r=!1,i=gr,s=t.contextType;return typeof s=="object"&&s!==null?s=Vt(s):(i=wt(t)?Hr:ut.current,r=t.contextTypes,s=(r=r!=null)?qi(e,i):gr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function uw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hl.enqueueReplaceState(t,t.state,null)}function og(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rv(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Vt(s):(s=wt(t)?Hr:ut.current,i.context=qi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(sg(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hl.enqueueReplaceState(i,i.state,null),al(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zi(e,t){try{var n="",r=t;do n+=F2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function rc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ag(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fj=typeof WeakMap=="function"?WeakMap:Map;function jk(e,t,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){dl||(dl=!0,vg=r),ag(e,t)},n}function Dk(e,t,n){n=An(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ag(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ag(e,t),typeof r!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fj;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cj.bind(null,e,t,n),t.then(e,e))}function fw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=An(-1,1),t.tag=2,ur(n,t,1))),n.lanes|=1),e)}var dj=Bn.ReactCurrentOwner,gt=!1;function ft(e,t,n,r){t.child=e===null?ck(t,null,n,r):Vi(t,e.child,n,r)}function hw(e,t,n,r,i){n=n.render;var s=t.ref;return Ii(t,i),r=Ov(e,t,n,r,s,i),n=Fv(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,On(e,t,i)):(Ee&&n&&Cv(t),t.flags|=1,ft(e,t,r,i),t.child)}function pw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Kv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Lk(e,t,s,r,i)):(e=Oa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(o,r)&&e.ref===t.ref)return On(e,t,i)}return t.flags|=1,e=dr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Lk(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ao(s,r)&&e.ref===t.ref)if(gt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,On(e,t,i)}return lg(e,t,n,r,i)}function Ok(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Si,bt),bt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Si,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(Si,bt),bt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,pe(Si,bt),bt|=r;return ft(e,t,i,n),t.child}function Fk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lg(e,t,n,r,i){var s=wt(n)?Hr:ut.current;return s=qi(t,s),Ii(t,i),n=Ov(e,t,n,r,s,i),r=Fv(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,On(e,t,i)):(Ee&&r&&Cv(t),t.flags|=1,ft(e,t,n,i),t.child)}function mw(e,t,n,r,i){if(wt(n)){var s=!0;nl(t)}else s=!1;if(Ii(t,i),t.stateNode===null)ja(e,t),Ik(t,n,r),og(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vt(u):(u=wt(n)?Hr:ut.current,u=qi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&uw(t,o,r,u),Xn=!1;var d=t.memoizedState;o.state=d,al(t,r,o,i),l=t.memoizedState,a!==r||d!==l||yt.current||Xn?(typeof c=="function"&&(sg(t,n,c,r),l=t.memoizedState),(a=Xn||lw(t,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dk(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Wt(t.type,a),o.props=u,f=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vt(l):(l=wt(n)?Hr:ut.current,l=qi(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&uw(t,o,r,l),Xn=!1,d=t.memoizedState,o.state=d,al(t,r,o,i);var m=t.memoizedState;a!==f||d!==m||yt.current||Xn?(typeof h=="function"&&(sg(t,n,h,r),m=t.memoizedState),(u=Xn||lw(t,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ug(e,t,n,r,s,i)}function ug(e,t,n,r,i,s){Fk(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&ew(t,n,!1),On(e,t,s);r=t.stateNode,dj.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vi(t,e.child,null,s),t.child=Vi(t,null,a,s)):ft(e,t,a,s),t.memoizedState=r.state,i&&ew(t,n,!0),t.child}function qk(e){var t=e.stateNode;t.pendingContext?J0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&J0(e,t.context,!1),Iv(e,t.containerInfo)}function gw(e,t,n,r,i){return $i(),kv(i),t.flags|=256,ft(e,t,n,r),t.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function $k(e,t,n){var r=t.pendingProps,i=Ne.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pe(Ne,i&1),e===null)return rg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kl(o,r,0,null),e=Vr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fg(n),t.memoizedState=cg,e):Vv(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hj(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=dr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=dr(a,s):(s=Vr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?fg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=cg,r}return s=e.child,e=s.sibling,r=dr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vv(e,t){return t=Kl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function la(e,t,n,r){return r!==null&&kv(r),Vi(t,e.child,null,n),e=Vv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hj(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=rc(Error(z(422))),la(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Kl({mode:"visible",children:r.children},i,0,null),s=Vr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vi(t,e.child,null,o),t.child.memoizedState=fg(o),t.memoizedState=cg,s);if(!(t.mode&1))return la(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=rc(s,r,void 0),la(e,t,o,r)}if(a=(o&e.childLanes)!==0,gt||a){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ln(e,i),Jt(r,e,i,-1))}return Wv(),r=rc(Error(z(421))),la(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Tj.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ct=lr(i.nextSibling),Tt=t,Ee=!0,Xt=null,e!==null&&(Dt[Lt++]=Cn,Dt[Lt++]=Tn,Dt[Lt++]=Gr,Cn=e.id,Tn=e.overflow,Gr=t),t=Vv(t,r.children),t.flags|=4096,t)}function vw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ig(e.return,t,n)}function ic(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Vk(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ft(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vw(e,n,t);else if(e.tag===19)vw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pe(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ll(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ic(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ll(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ic(t,!0,n,null,s);break;case"together":ic(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pj(e,t,n){switch(t.tag){case 3:qk(t),$i();break;case 5:hk(t);break;case 1:wt(t.type)&&nl(t);break;case 4:Iv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;pe(sl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pe(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?$k(e,t,n):(pe(Ne,Ne.current&1),e=On(e,t,n),e!==null?e.sibling:null);pe(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Ok(e,t,n)}return On(e,t,n)}var Bk,dg,zk,Uk;Bk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dg=function(){};zk=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Dr(dn.current);var s=null;switch(n){case"input":i=jm(e,i),r=jm(e,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=Om(e,i),r=Om(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=el)}qm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Uk=function(e,t,n,r){n!==r&&(t.flags|=4)};function gs(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mj(e,t,n){var r=t.pendingProps;switch(Tv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return wt(t.type)&&tl(),st(t),null;case 3:return r=t.stateNode,Bi(),ye(yt),ye(ut),Dv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(xg(Xt),Xt=null))),dg(e,t),st(t),null;case 5:jv(t);var i=Dr(ho.current);if(n=t.type,e!==null&&t.stateNode!=null)zk(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return st(t),null}if(e=Dr(dn.current),oa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[un]=t,r[co]=s,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<Ns.length;i++)ve(Ns[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":T0(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":N0(r,s),ve("invalid",r)}qm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sa(r.textContent,a,e),i=["children",""+a]):eo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Zo(r),k0(r,s,!0);break;case"textarea":Zo(r),M0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=el)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[un]=t,e[co]=r,Bk(e,t,!1,!1),t.stateNode=e;e:{switch(o=$m(n,r),n){case"dialog":ve("cancel",e),ve("close",e),i=r;break;case"iframe":case"object":case"embed":ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ns.length;i++)ve(Ns[i],e);i=r;break;case"source":ve("error",e),i=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),i=r;break;case"details":ve("toggle",e),i=r;break;case"input":T0(e,r),i=jm(e,r),ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),ve("invalid",e);break;case"textarea":N0(e,r),i=Om(e,r),ve("invalid",e);break;default:i=r}qm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_T(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wT(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&to(e,l):typeof l=="number"&&to(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(eo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ve("scroll",e):l!=null&&fv(e,s,l,o))}switch(n){case"input":Zo(e),k0(e,r,!1);break;case"textarea":Zo(e),M0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Mi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Mi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)Uk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Dr(ho.current),Dr(dn.current),oa(t)){if(r=t.stateNode,n=t.memoizedProps,r[un]=t,(s=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:sa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=t,t.stateNode=r}return st(t),null;case 13:if(ye(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&Ct!==null&&t.mode&1&&!(t.flags&128))lk(),$i(),t.flags|=98560,s=!1;else if(s=oa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[un]=t}else $i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),s=!1}else Xt!==null&&(xg(Xt),Xt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?He===0&&(He=3):Wv())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Bi(),dg(e,t),e===null&&lo(t.stateNode.containerInfo),st(t),null;case 10:return Av(t.type._context),st(t),null;case 17:return wt(t.type)&&tl(),st(t),null;case 19:if(ye(Ne),s=t.memoizedState,s===null)return st(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)gs(s,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ll(e),o!==null){for(t.flags|=128,gs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Ne,Ne.current&1|2),t.child}e=e.sibling}s.tail!==null&&Fe()>Ui&&(t.flags|=128,r=!0,gs(s,!1),t.lanes=4194304)}else{if(!r)if(e=ll(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return st(t),null}else 2*Fe()-s.renderingStartTime>Ui&&n!==1073741824&&(t.flags|=128,r=!0,gs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Fe(),t.sibling=null,n=Ne.current,pe(Ne,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return Gv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function gj(e,t){switch(Tv(t),t.tag){case 1:return wt(t.type)&&tl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bi(),ye(yt),ye(ut),Dv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jv(t),null;case 13:if(ye(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ne),null;case 4:return Bi(),null;case 10:return Av(t.type._context),null;case 22:case 23:return Gv(),null;case 24:return null;default:return null}}var ua=!1,at=!1,vj=typeof WeakSet=="function"?WeakSet:Set,W=null;function _i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(e,t,r)}else n.current=null}function hg(e,t,n){try{n()}catch(r){Ie(e,t,r)}}var yw=!1;function yj(e,t){if(Xm=Za,e=YT(),Ev(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:e,selectionRange:n},Za=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,y=m.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:Wt(t.type,p),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){Ie(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return m=yw,yw=!1,m}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&hg(t,n,s)}i=i.next}while(i!==r)}}function Gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hk(e){var t=e.alternate;t!==null&&(e.alternate=null,Hk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[co],delete t[eg],delete t[ej],delete t[tj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gk(e){return e.tag===5||e.tag===3||e.tag===4}function ww(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=el));else if(r!==4&&(e=e.child,e!==null))for(mg(e,t,n),e=e.sibling;e!==null;)mg(e,t,n),e=e.sibling}function gg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gg(e,t,n),e=e.sibling;e!==null;)gg(e,t,n),e=e.sibling}var Je=null,Kt=!1;function Hn(e,t,n){for(n=n.child;n!==null;)Wk(e,t,n),n=n.sibling}function Wk(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 5:at||_i(n,t);case 6:var r=Je,i=Kt;Je=null,Hn(e,t,n),Je=r,Kt=i,Je!==null&&(Kt?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Kt?(e=Je,n=n.stateNode,e.nodeType===8?Zu(e.parentNode,n):e.nodeType===1&&Zu(e,n),so(e)):Zu(Je,n.stateNode));break;case 4:r=Je,i=Kt,Je=n.stateNode.containerInfo,Kt=!0,Hn(e,t,n),Je=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hg(n,t,o),i=i.next}while(i!==r)}Hn(e,t,n);break;case 1:if(!at&&(_i(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,t,a)}Hn(e,t,n);break;case 21:Hn(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Hn(e,t,n),at=r):Hn(e,t,n);break;default:Hn(e,t,n)}}function xw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vj),t.forEach(function(r){var i=kj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,Kt=!1;break e;case 3:Je=a.stateNode.containerInfo,Kt=!0;break e;case 4:Je=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Je===null)throw Error(z(160));Wk(s,o,i),Je=null,Kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kk(t,e),t=t.sibling}function Kk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),an(e),r&4){try{Ws(3,e,e.return),Gl(3,e)}catch(p){Ie(e,e.return,p)}try{Ws(5,e,e.return)}catch(p){Ie(e,e.return,p)}}break;case 1:Ht(t,e),an(e),r&512&&n!==null&&_i(n,n.return);break;case 5:if(Ht(t,e),an(e),r&512&&n!==null&&_i(n,n.return),e.flags&32){var i=e.stateNode;try{to(i,"")}catch(p){Ie(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&gT(i,s),$m(a,o);var u=$m(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?_T(i,f):c==="dangerouslySetInnerHTML"?wT(i,f):c==="children"?to(i,f):fv(i,c,f,u)}switch(a){case"input":Dm(i,s);break;case"textarea":vT(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Mi(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Mi(i,!!s.multiple,s.defaultValue,!0):Mi(i,!!s.multiple,s.multiple?[]:"",!1))}i[co]=s}catch(p){Ie(e,e.return,p)}}break;case 6:if(Ht(t,e),an(e),r&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){Ie(e,e.return,p)}}break;case 3:if(Ht(t,e),an(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{so(t.containerInfo)}catch(p){Ie(e,e.return,p)}break;case 4:Ht(t,e),an(e);break;case 13:Ht(t,e),an(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uv=Fe())),r&4&&xw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(at=(u=at)||c,Ht(t,e),at=u):Ht(t,e),an(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(f=W=c;W!==null;){switch(d=W,h=d.child,d.tag){case 0:case 11:case 14:case 15:Ws(4,d,d.return);break;case 1:_i(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){Ie(r,n,p)}}break;case 5:_i(d,d.return);break;case 22:if(d.memoizedState!==null){Sw(f);continue}}h!==null?(h.return=d,W=h):Sw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xT("display",o))}catch(p){Ie(e,e.return,p)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Ie(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ht(t,e),an(e),r&4&&xw(e);break;case 21:break;default:Ht(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gk(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(to(i,""),r.flags&=-33);var s=ww(e);gg(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ww(e);mg(e,a,o);break;default:throw Error(z(161))}}catch(l){Ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wj(e,t,n){W=e,Yk(e)}function Yk(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ua;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||at;a=ua;var u=at;if(ua=o,(at=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?bw(i):l!==null?(l.return=o,W=l):bw(i);for(;s!==null;)W=s,Yk(s),s=s.sibling;W=i,ua=a,at=u}_w(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):_w(e)}}function _w(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sw(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&so(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}at||t.flags&512&&pg(t)}catch(d){Ie(t,t.return,d)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Sw(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function bw(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gl(4,t)}catch(l){Ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ie(t,i,l)}}var s=t.return;try{pg(t)}catch(l){Ie(t,s,l)}break;case 5:var o=t.return;try{pg(t)}catch(l){Ie(t,o,l)}}}catch(l){Ie(t,t.return,l)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var xj=Math.ceil,fl=Bn.ReactCurrentDispatcher,Bv=Bn.ReactCurrentOwner,$t=Bn.ReactCurrentBatchConfig,ce=0,Xe=null,$e=null,tt=0,bt=0,Si=_r(0),He=0,vo=null,Kr=0,Wl=0,zv=0,Ks=null,mt=null,Uv=0,Ui=1/0,Sn=null,dl=!1,vg=null,cr=null,ca=!1,ir=null,hl=0,Ys=0,yg=null,Da=-1,La=0;function dt(){return ce&6?Fe():Da!==-1?Da:Da=Fe()}function fr(e){return e.mode&1?ce&2&&tt!==0?tt&-tt:rj.transition!==null?(La===0&&(La=IT()),La):(e=de,e!==0||(e=window.event,e=e===void 0?16:$T(e.type)),e):1}function Jt(e,t,n,r){if(50<Ys)throw Ys=0,yg=null,Error(z(185));Ro(e,n,r),(!(ce&2)||e!==Xe)&&(e===Xe&&(!(ce&2)&&(Wl|=n),He===4&&er(e,tt)),xt(e,r),n===1&&ce===0&&!(t.mode&1)&&(Ui=Fe()+500,zl&&Sr()))}function xt(e,t){var n=e.callbackNode;rI(e,t);var r=Xa(e,e===Xe?tt:0);if(r===0)n!==null&&R0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&R0(n),t===1)e.tag===0?nj(Ew.bind(null,e)):sk(Ew.bind(null,e)),QI(function(){!(ce&6)&&Sr()}),n=null;else{switch(jT(r)){case 1:n=gv;break;case 4:n=PT;break;case 16:n=Ya;break;case 536870912:n=RT;break;default:n=Ya}n=rN(n,Xk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xk(e,t){if(Da=-1,La=0,ce&6)throw Error(z(327));var n=e.callbackNode;if(ji()&&e.callbackNode!==n)return null;var r=Xa(e,e===Xe?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pl(e,r);else{t=r;var i=ce;ce|=2;var s=Qk();(Xe!==e||tt!==t)&&(Sn=null,Ui=Fe()+500,$r(e,t));do try{bj();break}catch(a){Zk(e,a)}while(!0);Mv(),fl.current=s,ce=i,$e!==null?t=0:(Xe=null,tt=0,t=He)}if(t!==0){if(t===2&&(i=Hm(e),i!==0&&(r=i,t=wg(e,i))),t===1)throw n=vo,$r(e,0),er(e,r),xt(e,Fe()),n;if(t===6)er(e,r);else{if(i=e.current.alternate,!(r&30)&&!_j(i)&&(t=pl(e,r),t===2&&(s=Hm(e),s!==0&&(r=s,t=wg(e,s))),t===1))throw n=vo,$r(e,0),er(e,r),xt(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:Mr(e,mt,Sn);break;case 3:if(er(e,r),(r&130023424)===r&&(t=Uv+500-Fe(),10<t)){if(Xa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jm(Mr.bind(null,e,mt,Sn),t);break}Mr(e,mt,Sn);break;case 4:if(er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Qt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xj(r/1960))-r,10<r){e.timeoutHandle=Jm(Mr.bind(null,e,mt,Sn),r);break}Mr(e,mt,Sn);break;case 5:Mr(e,mt,Sn);break;default:throw Error(z(329))}}}return xt(e,Fe()),e.callbackNode===n?Xk.bind(null,e):null}function wg(e,t){var n=Ks;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=pl(e,t),e!==2&&(t=mt,mt=n,t!==null&&xg(t)),e}function xg(e){mt===null?mt=e:mt.push.apply(mt,e)}function _j(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~zv,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function Ew(e){if(ce&6)throw Error(z(327));ji();var t=Xa(e,0);if(!(t&1))return xt(e,Fe()),null;var n=pl(e,t);if(e.tag!==0&&n===2){var r=Hm(e);r!==0&&(t=r,n=wg(e,r))}if(n===1)throw n=vo,$r(e,0),er(e,t),xt(e,Fe()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mr(e,mt,Sn),xt(e,Fe()),null}function Hv(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Ui=Fe()+500,zl&&Sr())}}function Yr(e){ir!==null&&ir.tag===0&&!(ce&6)&&ji();var t=ce;ce|=1;var n=$t.transition,r=de;try{if($t.transition=null,de=1,e)return e()}finally{de=r,$t.transition=n,ce=t,!(ce&6)&&Sr()}}function Gv(){bt=Si.current,ye(Si)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZI(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Tv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tl();break;case 3:Bi(),ye(yt),ye(ut),Dv();break;case 5:jv(r);break;case 4:Bi();break;case 13:ye(Ne);break;case 19:ye(Ne);break;case 10:Av(r.type._context);break;case 22:case 23:Gv()}n=n.return}if(Xe=e,$e=e=dr(e.current,null),tt=bt=t,He=0,vo=null,zv=Wl=Kr=0,mt=Ks=null,jr!==null){for(t=0;t<jr.length;t++)if(n=jr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}jr=null}return e}function Zk(e,t){do{var n=$e;try{if(Mv(),Ra.current=cl,ul){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ul=!1}if(Wr=0,Ye=Ue=Ae=null,Gs=!1,po=0,Bv.current=null,n===null||n.return===null){He=1,vo=t,$e=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=fw(o);if(h!==null){h.flags&=-257,dw(h,o,a,s,t),h.mode&1&&cw(s,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var p=new Set;p.add(l),t.updateQueue=p}else m.add(l);break e}else{if(!(t&1)){cw(s,u,t),Wv();break e}l=Error(z(426))}}else if(Ee&&a.mode&1){var y=fw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),dw(y,o,a,s,t),kv(zi(l,a));break e}}s=l=zi(l,a),He!==4&&(He=2),Ks===null?Ks=[s]:Ks.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=jk(s,l,t);iw(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(cr===null||!cr.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=Dk(s,a,t);iw(s,x);break e}}s=s.return}while(s!==null)}eN(n)}catch(S){t=S,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function Qk(){var e=fl.current;return fl.current=cl,e===null?cl:e}function Wv(){(He===0||He===3||He===2)&&(He=4),Xe===null||!(Kr&268435455)&&!(Wl&268435455)||er(Xe,tt)}function pl(e,t){var n=ce;ce|=2;var r=Qk();(Xe!==e||tt!==t)&&(Sn=null,$r(e,t));do try{Sj();break}catch(i){Zk(e,i)}while(!0);if(Mv(),ce=n,fl.current=r,$e!==null)throw Error(z(261));return Xe=null,tt=0,He}function Sj(){for(;$e!==null;)Jk($e)}function bj(){for(;$e!==null&&!K2();)Jk($e)}function Jk(e){var t=nN(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?eN(e):$e=t,Bv.current=null}function eN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gj(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,$e=null;return}}else if(n=mj(n,t,bt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);He===0&&(He=5)}function Mr(e,t,n){var r=de,i=$t.transition;try{$t.transition=null,de=1,Ej(e,t,n,r)}finally{$t.transition=i,de=r}return null}function Ej(e,t,n,r){do ji();while(ir!==null);if(ce&6)throw Error(z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(iI(e,s),e===Xe&&($e=Xe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ca||(ca=!0,rN(Ya,function(){return ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$t.transition,$t.transition=null;var o=de;de=1;var a=ce;ce|=4,Bv.current=null,yj(e,n),Kk(n,e),UI(Zm),Za=!!Xm,Zm=Xm=null,e.current=n,wj(n),Y2(),ce=a,de=o,$t.transition=s}else e.current=n;if(ca&&(ca=!1,ir=e,hl=i),s=e.pendingLanes,s===0&&(cr=null),Q2(n.stateNode),xt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dl)throw dl=!1,e=vg,vg=null,e;return hl&1&&e.tag!==0&&ji(),s=e.pendingLanes,s&1?e===yg?Ys++:(Ys=0,yg=e):Ys=0,Sr(),null}function ji(){if(ir!==null){var e=jT(hl),t=$t.transition,n=de;try{if($t.transition=null,de=16>e?16:e,ir===null)var r=!1;else{if(e=ir,ir=null,hl=0,ce&6)throw Error(z(331));var i=ce;for(ce|=4,W=e.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:Ws(8,c,s)}var f=c.child;if(f!==null)f.return=c,W=f;else for(;W!==null;){c=W;var d=c.sibling,h=c.return;if(Hk(c),c===u){W=null;break}if(d!==null){d.return=h,W=d;break}W=h}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ws(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,W=g;break e}W=s.return}}var v=e.current;for(W=v;W!==null;){o=W;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,W=w;else e:for(o=v;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gl(9,a)}}catch(S){Ie(a,a.return,S)}if(a===o){W=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,W=x;break e}W=a.return}}if(ce=i,Sr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Fl,e)}catch{}r=!0}return r}finally{de=n,$t.transition=t}}return!1}function Cw(e,t,n){t=zi(n,t),t=jk(e,t,1),e=ur(e,t,1),t=dt(),e!==null&&(Ro(e,1,t),xt(e,t))}function Ie(e,t,n){if(e.tag===3)Cw(e,e,n);else for(;t!==null;){if(t.tag===3){Cw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cr===null||!cr.has(r))){e=zi(n,e),e=Dk(t,e,1),t=ur(t,e,1),e=dt(),t!==null&&(Ro(t,1,e),xt(t,e));break}}t=t.return}}function Cj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(tt&n)===n&&(He===4||He===3&&(tt&130023424)===tt&&500>Fe()-Uv?$r(e,0):zv|=n),xt(e,t)}function tN(e,t){t===0&&(e.mode&1?(t=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):t=1);var n=dt();e=Ln(e,t),e!==null&&(Ro(e,t,n),xt(e,n))}function Tj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tN(e,n)}function kj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),tN(e,n)}var nN;nN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,pj(e,t,n);gt=!!(e.flags&131072)}else gt=!1,Ee&&t.flags&1048576&&ok(t,il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ja(e,t),e=t.pendingProps;var i=qi(t,ut.current);Ii(t,n),i=Ov(null,t,r,e,i,n);var s=Fv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(s=!0,nl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rv(t),i.updater=Hl,t.stateNode=i,i._reactInternals=t,og(t,r,e,n),t=ug(null,t,r,!0,s,n)):(t.tag=0,Ee&&s&&Cv(t),ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Mj(r),e=Wt(r,e),i){case 0:t=lg(null,t,r,e,n);break e;case 1:t=mw(null,t,r,e,n);break e;case 11:t=hw(null,t,r,e,n);break e;case 14:t=pw(null,t,r,Wt(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),lg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),mw(e,t,r,i,n);case 3:e:{if(qk(t),e===null)throw Error(z(387));r=t.pendingProps,s=t.memoizedState,i=s.element,dk(e,t),al(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=zi(Error(z(423)),t),t=gw(e,t,r,n,i);break e}else if(r!==i){i=zi(Error(z(424)),t),t=gw(e,t,r,n,i);break e}else for(Ct=lr(t.stateNode.containerInfo.firstChild),Tt=t,Ee=!0,Xt=null,n=ck(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($i(),r===i){t=On(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return hk(t),e===null&&rg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Qm(r,i)?o=null:s!==null&&Qm(r,s)&&(t.flags|=32),Fk(e,t),ft(e,t,o,n),t.child;case 6:return e===null&&rg(t),null;case 13:return $k(e,t,n);case 4:return Iv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vi(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),hw(e,t,r,i,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,pe(sl,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!yt.current){t=On(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=An(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ig(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ig(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ii(t,n),i=Vt(i),r=r(i),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,i=Wt(r,t.pendingProps),i=Wt(r.type,i),pw(e,t,r,i,n);case 15:return Lk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),ja(e,t),t.tag=1,wt(r)?(e=!0,nl(t)):e=!1,Ii(t,n),Ik(t,r,i),og(t,r,i,n),ug(null,t,r,!0,e,n);case 19:return Vk(e,t,n);case 22:return Ok(e,t,n)}throw Error(z(156,t.tag))};function rN(e,t){return AT(e,t)}function Nj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,n,r){return new Nj(e,t,n,r)}function Kv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mj(e){if(typeof e=="function")return Kv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hv)return 11;if(e===pv)return 14}return 2}function dr(e,t){var n=e.alternate;return n===null?(n=Ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Kv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case di:return Vr(n.children,i,s,t);case dv:o=8,i|=8;break;case Am:return e=Ft(12,n,t,i|2),e.elementType=Am,e.lanes=s,e;case Pm:return e=Ft(13,n,t,i),e.elementType=Pm,e.lanes=s,e;case Rm:return e=Ft(19,n,t,i),e.elementType=Rm,e.lanes=s,e;case hT:return Kl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fT:o=10;break e;case dT:o=9;break e;case hv:o=11;break e;case pv:o=14;break e;case Yn:o=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Ft(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Vr(e,t,n,r){return e=Ft(7,e,r,t),e.lanes=n,e}function Kl(e,t,n,r){return e=Ft(22,e,r,t),e.elementType=hT,e.lanes=n,e.stateNode={isHidden:!1},e}function sc(e,t,n){return e=Ft(6,e,null,t),e.lanes=n,e}function oc(e,t,n){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Aj(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yv(e,t,n,r,i,s,o,a,l){return e=new Aj(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ft(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(s),e}function Pj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function iN(e){if(!e)return gr;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(wt(n))return ik(e,n,t)}return t}function sN(e,t,n,r,i,s,o,a,l){return e=Yv(n,r,!0,e,i,s,o,a,l),e.context=iN(null),n=e.current,r=dt(),i=fr(n),s=An(r,i),s.callback=t??null,ur(n,s,i),e.current.lanes=i,Ro(e,i,r),xt(e,r),e}function Yl(e,t,n,r){var i=t.current,s=dt(),o=fr(i);return n=iN(n),t.context===null?t.context=n:t.pendingContext=n,t=An(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ur(i,t,o),e!==null&&(Jt(e,i,o,s),Pa(e,i,o)),o}function ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xv(e,t){Tw(e,t),(e=e.alternate)&&Tw(e,t)}function Rj(){return null}var oN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zv(e){this._internalRoot=e}Xl.prototype.render=Zv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Yl(e,t,null,null)};Xl.prototype.unmount=Zv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){Yl(null,e,null,null)}),t[Dn]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=OT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&qT(e)}};function Qv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kw(){}function Ij(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ml(o);s.call(u)}}var o=sN(t,r,e,0,null,!1,!1,"",kw);return e._reactRootContainer=o,e[Dn]=o.current,lo(e.nodeType===8?e.parentNode:e),Yr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ml(l);a.call(u)}}var l=Yv(e,0,!1,null,null,!1,!1,"",kw);return e._reactRootContainer=l,e[Dn]=l.current,lo(e.nodeType===8?e.parentNode:e),Yr(function(){Yl(t,l,n,r)}),l}function Ql(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ml(o);a.call(l)}}Yl(t,o,e,i)}else o=Ij(n,t,e,i,r);return ml(o)}DT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ks(t.pendingLanes);n!==0&&(vv(t,n|1),xt(t,Fe()),!(ce&6)&&(Ui=Fe()+500,Sr()))}break;case 13:Yr(function(){var r=Ln(e,1);if(r!==null){var i=dt();Jt(r,e,1,i)}}),Xv(e,1)}};yv=function(e){if(e.tag===13){var t=Ln(e,134217728);if(t!==null){var n=dt();Jt(t,e,134217728,n)}Xv(e,134217728)}};LT=function(e){if(e.tag===13){var t=fr(e),n=Ln(e,t);if(n!==null){var r=dt();Jt(n,e,t,r)}Xv(e,t)}};OT=function(){return de};FT=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};Bm=function(e,t,n){switch(t){case"input":if(Dm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bl(r);if(!i)throw Error(z(90));mT(r),Dm(r,i)}}}break;case"textarea":vT(e,n);break;case"select":t=n.value,t!=null&&Mi(e,!!n.multiple,t,!1)}};ET=Hv;CT=Yr;var jj={usingClientEntryPoint:!1,Events:[jo,gi,Bl,ST,bT,Hv]},vs={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dj={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NT(e),e===null?null:e.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||Rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{Fl=fa.inject(Dj),fn=fa}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jj;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qv(t))throw Error(z(200));return Pj(e,t,null,n)};Pt.createRoot=function(e,t){if(!Qv(e))throw Error(z(299));var n=!1,r="",i=oN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Yv(e,1,!1,null,null,n,!1,r,i),e[Dn]=t.current,lo(e.nodeType===8?e.parentNode:e),new Zv(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=NT(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return Yr(e)};Pt.hydrate=function(e,t,n){if(!Zl(t))throw Error(z(200));return Ql(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!Qv(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=sN(t,null,e,1,n??null,i,!1,s,o),e[Dn]=t.current,lo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)};Pt.render=function(e,t,n){if(!Zl(t))throw Error(z(200));return Ql(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(z(40));return e._reactRootContainer?(Yr(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};Pt.unstable_batchedUpdates=Hv;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Ql(e,t,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function aN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aN)}catch(e){console.error(e)}}aN(),aT.exports=Pt;var Lj=aT.exports,Nw=Lj;Nm.createRoot=Nw.createRoot,Nm.hydrateRoot=Nw.hydrateRoot;const Oj=()=>_.jsxs("svg",{className:"logo-mark",width:"54",height:"54",viewBox:"0 0 120 120",role:"img","aria-label":"Agent Director logo",children:[_.jsx("rect",{x:"8",y:"8",width:"104",height:"104",rx:"18",className:"logo-frame"}),_.jsx("rect",{x:"24",y:"28",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-a"}),_.jsx("rect",{x:"24",y:"52",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-b"}),_.jsx("rect",{x:"24",y:"76",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-c"}),_.jsx("circle",{cx:"96",cy:"36",r:"6",className:"logo-node logo-node-a"}),_.jsx("circle",{cx:"96",cy:"60",r:"6",className:"logo-node logo-node-b"}),_.jsx("circle",{cx:"96",cy:"84",r:"6",className:"logo-node logo-node-c"})]});function Fj({trace:e,traces:t=[],selectedTraceId:n,onSelectTrace:r,onReload:i,onStartTour:s,onToggleExplain:o,explainMode:a=!1}){return _.jsxs("header",{className:"header","data-help":!0,"data-help-indicator":!0,"data-tour":"header","data-help-title":"Mission control","data-help-body":"Trace identity, status, and live controls live here. Use Guide or Explain to orient new viewers.","data-help-placement":"bottom",children:[_.jsxs("div",{className:"header-title",children:[_.jsxs("div",{className:"header-logo",children:[_.jsx(Oj,{}),_.jsx("span",{children:"Agent Director"})]}),_.jsx("div",{className:"header-tagline",children:"Cinematic trace intelligence for agent runs."}),_.jsxs("div",{className:"header-meta",children:[_.jsxs("span",{className:"header-run",children:["Run: ",(e==null?void 0:e.id)??"loading"]}),t.length>0?_.jsx("select",{className:"trace-select",value:n??(e==null?void 0:e.id)??"","aria-label":"Select trace",onChange:l=>r==null?void 0:r(l.target.value),"data-help":!0,"data-help-title":"Trace selector","data-help-body":"Switch between available runs to compare different sessions.","data-help-placement":"bottom",children:t.map(l=>_.jsxs("option",{value:l.id,children:[l.name," (",l.id,")"]},l.id))}):null,_.jsx("span",{className:`status-pill status-${(e==null?void 0:e.status)??"loading"}`,children:(e==null?void 0:e.status)??"loading"}),e!=null&&e.replay?_.jsxs("span",{className:"header-replay",title:`Replay from ${e.branchPointStepId??"unknown step"}`,children:["Replay: ",e.replay.strategy]}):null,_.jsxs("span",{className:"header-wall",children:["Wall: ",(e==null?void 0:e.metadata.wallTimeMs)??0,"ms"]})]})]}),_.jsxs("div",{className:"header-actions",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:s,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk through the interface step by step.","data-help-placement":"bottom",children:"Guide"}),_.jsx("button",{className:`ghost-button ${a?"active":""}`,type:"button",onClick:o,"aria-pressed":a,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Hover any control to see contextual guidance.","data-help-placement":"bottom",children:"Explain"}),_.jsx("button",{className:"ghost-button",onClick:i,type:"button","aria-label":"Refresh traces",title:"Refresh traces","data-help":!0,"data-help-title":"Refresh","data-help-body":"Reload traces from the data store.","data-help-placement":"bottom",children:"Refresh"}),null]})]})}function qj({insights:e,onSelectStep:t,onJumpToBottleneck:n,onJumpToError:r}){var c,f;if(!e)return null;const i=e.timing,s=e.ioWarnings??[],o=e.concurrency,a=e.retryPatterns,l=e.costByTool??{},u=e.costByModel??{};return _.jsxs("section",{className:"insight-strip","data-help":!0,"data-help-indicator":!0,"data-tour":"insights","data-help-title":"Run insights","data-help-body":"Fast diagnostics for latency, cost, errors, and concurrency. Click chips to jump into the trace.","data-help-placement":"bottom",children:[_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Top latency","data-help-body":"Largest steps by duration; jump straight to the slowest.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Top latency"}),_.jsxs("div",{className:"insight-items",children:[e.topLatencySteps.map(d=>_.jsxs("button",{className:"insight-chip",type:"button",title:`Jump to ${d.name}`,onClick:()=>t==null?void 0:t(d.stepId),children:[d.name," (",d.durationMs,"ms)"]},d.stepId)),e.topLatencySteps.length>0?_.jsx("button",{className:"insight-chip",type:"button",onClick:n,title:"Jump to longest step",children:"Jump to bottleneck"}):null]})]}),_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by type","data-help-body":"Aggregated spend by step class.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Cost by type"}),_.jsx("div",{className:"insight-items",children:Object.entries(e.costByType).map(([d,h])=>_.jsxs("span",{className:"insight-chip",title:`Total cost for ${d}`,children:[d,": $",h.toFixed(3)]},d))})]}),Object.keys(l).length?_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by tool","data-help-body":"Top tools by total spend.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Cost by tool"}),_.jsx("div",{className:"insight-items",children:Object.entries(l).sort((d,h)=>h[1]-d[1]).slice(0,3).map(([d,h])=>_.jsxs("span",{className:"insight-chip",title:`Total cost for ${d}`,children:[d,": $",h.toFixed(3)]},d))})]}):null,_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Errors & retries","data-help-body":"Instant visibility into failed or retried steps.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Errors / retries"}),_.jsxs("div",{className:"insight-items",children:[_.jsxs("span",{className:"insight-chip",children:["Errors: ",e.errors]}),_.jsxs("span",{className:"insight-chip",children:["Retries: ",e.retries]}),e.errors>0?_.jsx("button",{className:"insight-chip",type:"button",onClick:r,title:"Jump to first error",children:"Jump to first error"}):null,(c=a==null?void 0:a.topRetries)!=null&&c.length?_.jsxs("span",{className:"insight-chip",title:`Retry rate ${(a.retryRate*100).toFixed(1)}%`,children:["Top retries: ",a.topRetries.length]}):null]})]}),_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Wall vs work","data-help-body":"Wall time vs summed work to show parallelism.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Wall vs work"}),_.jsxs("div",{className:"insight-items",children:[_.jsxs("span",{className:"insight-chip",title:"Wall clock duration",children:["Wall: ",e.wallTimeMs,"ms"]}),_.jsxs("span",{className:"insight-chip",title:"Sum of step durations",children:["Work: ",e.workTimeMs,"ms"]}),e.criticalPathMs!=null?_.jsxs("span",{className:"insight-chip",title:"Longest parent-child chain",children:["Critical: ",e.criticalPathMs,"ms"]}):null]})]}),_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Health","data-help-body":"Timing and I/O anomalies detected in the trace.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Health"}),_.jsxs("div",{className:"insight-items",children:[i!=null&&i.degraded?_.jsx("span",{className:"insight-chip insight-warning",title:i.issues.join(" "),children:"Timing degraded"}):_.jsx("span",{className:"insight-chip",children:"Timing OK"}),s.length>0?_.jsxs("span",{className:"insight-chip insight-warning",title:s.map(d=>d.message).join(" "),children:["IO warnings: ",s.length]}):_.jsx("span",{className:"insight-chip",children:"IO OK"})]})]}),(f=o==null?void 0:o.buckets)!=null&&f.length?_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Parallelism","data-help-body":"How many steps ran concurrently over time.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Parallelism"}),_.jsx("div",{className:"insight-items",children:_.jsx("div",{className:"insight-heatmap",title:`Peak concurrency: ${o.peak}`,children:o.buckets.map((d,h)=>_.jsx("span",{className:"heatmap-bar",style:{height:`${Math.max(20,d.active/Math.max(1,o.peak)*48)}px`},title:`Bucket ${h+1}: ${d.active} active`},`${d.startMs}-${d.endMs}`))})})]}):null,Object.keys(u).length?_.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Model cost","data-help-body":"Spend by model family.","data-help-placement":"bottom",children:[_.jsx("span",{className:"insight-label",children:"Model cost"}),_.jsx("div",{className:"insight-items",children:Object.entries(u).map(([d,h])=>_.jsxs("span",{className:"insight-chip",title:`Total cost for ${d}`,children:[d,": $",h.toFixed(3)]},d))})]}):null]})}const $j=["all","llm_call","tool_call","decision","handoff","guardrail"];function Vj({query:e,typeFilter:t,onQueryChange:n,onTypeFilterChange:r}){return _.jsxs("div",{className:"search-bar",children:[_.jsx("input",{className:"search-input",placeholder:"Search steps, tools, previews...","aria-label":"Search steps",value:e,onChange:i=>n(i.target.value),"data-help":!0,"data-help-title":"Search","data-help-body":"Filter steps by name, tool, or payload preview. Great for fast recall.","data-help-placement":"bottom"}),_.jsx("select",{className:"search-select",value:t,"aria-label":"Filter by step type",onChange:i=>r(i.target.value),"data-help":!0,"data-help-title":"Type filter","data-help-body":"Narrow the timeline to a specific class of steps (LLM, tool, decision, handoff).","data-help-placement":"bottom",children:$j.map(i=>_.jsx("option",{value:i,children:i},i))})]})}function Jl(e,t,n){const r=Date.parse(e),i=n.map(c=>Date.parse(c.endedAt??c.startedAt)).filter(c=>Number.isFinite(c)),s=t?Date.parse(t):i.length?Math.max(...i):r,o=Math.max(1,s-r),a=n.map(c=>{const f=Math.max(0,Date.parse(c.startedAt)-r),d=Math.max(f,Date.parse(c.endedAt??c.startedAt)-r);return{stepId:c.id,startMs:f,endMs:d}}).sort((c,f)=>c.startMs-f.startMs||c.endMs-f.endMs),l=[],u=[];for(const c of a){let f=l.findIndex(d=>d<=c.startMs);f===-1?(f=l.length,l.push(c.endMs)):l[f]=c.endMs,u.push({stepId:c.stepId,startMs:c.startMs,endMs:c.endMs,lane:f,xPct:c.startMs/o*100,wPct:Math.max(.75,(c.endMs-c.startMs)/o*100)})}return{wallTimeMs:o,intervals:u,laneCount:l.length}}function Bj(e){var m;const n=e.steps.map(p=>({stepId:p.id,name:p.name,durationMs:p.durationMs??0})).sort((p,y)=>y.durationMs-p.durationMs).slice(0,3),r={},i={};for(const p of e.steps)((m=p.metrics)==null?void 0:m.costUsd)!=null&&(r[p.type]=(r[p.type]??0)+p.metrics.costUsd,p.type==="tool_call"&&(i[p.name]=(i[p.name]??0)+p.metrics.costUsd));const s=e.steps.filter(p=>p.status==="failed").length,o=e.steps.filter(p=>!!p.retryOfStepId).length,a=e.metadata.wallTimeMs,l=e.metadata.workTimeMs??e.steps.reduce((p,y)=>p+(y.durationMs??0),0),u=zj(e),c=Uj(e.steps),f=Hj(e.steps),d=Gj(e),h=Wj(e.steps);return{topLatencySteps:n,costByType:r,costByTool:i,costByModel:{[e.metadata.modelId]:e.metadata.totalCostUsd??0},errors:s,retries:o,wallTimeMs:a,workTimeMs:l,timing:u,ioWarnings:c,criticalPathMs:f,concurrency:d,retryPatterns:h}}function lN(e){var n;const t=(n=e.metrics)==null?void 0:n.costUsd;return t==null?null:`$${t.toFixed(3)}`}function En(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function zj(e){const t=En(e.startedAt),n=En(e.endedAt??void 0),r=[],i=[],s=[];return t==null&&s.push("Trace start time missing or invalid."),e.steps.forEach(o=>{const a=En(o.startedAt),l=En(o.endedAt??o.startedAt);if(a==null||l==null){r.push(o.id);return}if(l<a){i.push(o.id);return}t!=null&&a<t&&i.push(o.id),n!=null&&l>n&&i.push(o.id)}),r.length&&s.push(`Missing timestamps on ${r.length} steps.`),i.length&&s.push(`Timestamp skew detected on ${i.length} steps.`),{degraded:!!(r.length||i.length||t==null),issues:s,missingStepIds:r,skewedStepIds:i}}function Uj(e){const t=new Map;e.forEach(s=>{s.type==="tool_call"&&s.toolCallId&&t.set(s.toolCallId,s)});const n=new Set,r=new Set,i=[];return e.forEach(s=>{s.type!=="llm_call"||!s.io||((s.io.emittedToolCallIds??[]).forEach(o=>{n.add(o),t.has(o)||i.push({kind:"missing_tool_step",message:`Emitted toolCallId ${o} has no tool step.`,stepId:s.id,toolCallId:o})}),(s.io.consumedToolCallIds??[]).forEach(o=>{r.add(o),t.has(o)||i.push({kind:"missing_tool_step",message:`Consumed toolCallId ${o} has no tool step.`,stepId:s.id,toolCallId:o}),n.has(o)||i.push({kind:"consume_without_emit",message:`Consumed toolCallId ${o} without emission.`,stepId:s.id,toolCallId:o})}))}),t.forEach((s,o)=>{n.has(o)||i.push({kind:"unemitted_tool",message:`Tool step ${s.id} has toolCallId ${o} never emitted.`,stepId:s.id,toolCallId:o}),r.has(o)||i.push({kind:"unconsumed_tool",message:`Tool step ${s.id} has toolCallId ${o} never consumed.`,stepId:s.id,toolCallId:o})}),i}function Hj(e){const t=new Map,n=new Map,r=[];e.forEach(o=>{if(t.set(o.id,o.durationMs??0),o.parentStepId){const a=n.get(o.parentStepId)??[];a.push(o.id),n.set(o.parentStepId,a)}else r.push(o.id)});const i=new Map,s=o=>{if(i.has(o))return i.get(o)??0;const l=(n.get(o)??[]).reduce((c,f)=>Math.max(c,s(f)),0),u=(t.get(o)??0)+l;return i.set(o,u),u};return r.length?Math.max(...r.map(o=>s(o))):0}function Gj(e){const t=En(e.startedAt);if(t==null)return{buckets:[],peak:0};const n=En(e.endedAt??void 0)??Math.max(...e.steps.map(l=>En(l.endedAt??l.startedAt)??t),t),r=Math.max(1,n-t),i=12,s=Math.max(1,Math.floor(r/i)),o=[];let a=0;for(let l=0;l<i;l+=1){const u=t+l*s,c=u+s;let f=0;e.steps.forEach(d=>{const h=En(d.startedAt),m=En(d.endedAt??d.startedAt);h==null||m==null||m>=u&&h<=c&&(f+=1)}),a=Math.max(a,f),o.push({startMs:l*s,endMs:(l+1)*s,active:f})}return{buckets:o,peak:a}}function Wj(e){const t={};e.forEach(i=>{i.retryOfStepId&&(t[i.retryOfStepId]=(t[i.retryOfStepId]??0)+1)});const n=Object.values(t).reduce((i,s)=>i+s,0),r=Object.entries(t).sort((i,s)=>s[1]-i[1]).slice(0,3);return{totalRetries:n,retryRate:e.length?n/e.length:0,topRetries:r.map(([i,s])=>({stepId:i,count:s}))}}const Kj={llm_call:{label:"LLM",icon:"LLM",description:"Model call"},tool_call:{label:"TOOL",icon:"TOOL",description:"Tool call"},decision:{label:"DEC",icon:"DEC",description:"Decision"},handoff:{label:"HAND",icon:"HAND",description:"Handoff"},guardrail:{label:"GUARD",icon:"GUARD",description:"Guardrail"}};function Yj(e){return Kj[e]}function Jv({type:e,size:t="sm",showLabel:n=!1}){const r=Yj(e);return _.jsxs("span",{className:`step-badge step-badge-${e} step-badge-${t}`,title:r.description,children:[_.jsx("span",{className:"step-badge-icon",children:r.icon}),n?_.jsx("span",{className:"step-badge-label",children:r.label}):null]})}function uN({step:e,interval:t,playbackState:n,selected:r,onSelect:i,variant:s="base",diffStatus:o,disabled:a=!1}){var w,x,S,C,T,k;const l=lN(e),u=((w=e.preview)==null?void 0:w.subtitle)??((x=e.preview)==null?void 0:x.title)??"",c=((S=e.preview)==null?void 0:S.outputPreview)??((C=e.preview)==null?void 0:C.inputPreview)??"",f=o?`step-diff-${o}`:"",d=s==="ghost"?"step-ghost":"",h=t.wPct<8?"step-compact":"",m=e.type.replace("_"," ").toUpperCase(),p=((T=e.metrics)==null?void 0:T.tokensTotal)!=null?`${e.metrics.tokensTotal} tokens`:null,y=e.durationMs!=null?`${e.durationMs}ms`:null,g=[p,y,l].filter(Boolean).join("  "),v=`Click to inspect inputs/outputs and replay from this moment.${g?` ${g}.`:""}`;return _.jsxs("button",{type:"button",className:`step-card step-${e.type} step-${n} ${r?"step-selected":""} ${f} ${d} ${h}`,"data-step-id":e.id,"aria-label":`${e.name} (${e.type})`,"aria-pressed":r,"aria-hidden":s==="ghost",disabled:a,"data-help":!0,"data-help-title":`${e.name}  ${m}`,"data-help-body":v,"data-help-placement":"top",style:{left:`${t.xPct}%`,width:`${t.wPct}%`,top:`${t.lane*140}px`},onClick:()=>{a||i(e.id)},children:[_.jsxs("div",{className:"step-card-header",children:[_.jsxs("div",{className:"step-title-group",children:[_.jsx(Jv,{type:e.type}),_.jsx("span",{className:"step-title",children:e.name})]}),_.jsx("span",{className:`status-pill status-${e.status}`,children:e.status})]}),u?_.jsx("div",{className:"step-subtitle",children:u}):null,_.jsxs("div",{className:"step-metrics",children:[((k=e.metrics)==null?void 0:k.tokensTotal)!=null?_.jsxs("span",{children:[e.metrics.tokensTotal," tok"]}):null,e.durationMs!=null?_.jsxs("span",{children:[e.durationMs,"ms"]}):null,l?_.jsx("span",{children:l}):null]}),c?_.jsx("div",{className:"step-preview",children:c}):null]})}function cN(e,t){return t<e.startMs?"future":t>e.endMs?"past":"active"}const fN=140,Mw={llm_call:1,tool_call:2,decision:3,handoff:4,guardrail:5};function dN(e){return[...e].sort((t,n)=>(Mw[t.type]??9)-(Mw[n.type]??9))}function _g({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:i,playheadMs:s,windowRange:o,ghostTrace:a,diff:l}){const{intervals:u,laneCount:c}=Jl(e.startedAt,e.endedAt,t),f=new Map(u.map(x=>[x.stepId,x])),d=dN(t),h=e.metadata.wallTimeMs||1,m=new Set((l==null?void 0:l.removedSteps)??[]),p=new Set((l==null?void 0:l.changedSteps)??[]),y=new Set(((l==null?void 0:l.changedPairs)??[]).map(x=>x.rightId)),g=new Set((l==null?void 0:l.addedSteps)??[]);let v=u;if(o){const x=o.endMs-o.startMs,S=Math.max(1e3,x*.15),C=Math.max(0,o.startMs-S),T=o.endMs+S;if(v=u.filter(k=>k.endMs>=C&&k.startMs<=T),n&&!v.some(k=>k.stepId===n)){const k=f.get(n);k&&(v=[...v,k])}}const w=new Set(v.map(x=>x.stepId));return _.jsx("div",{className:"timeline",children:_.jsxs("div",{className:"timeline-grid",style:{height:`${c*fN}px`},"data-help":!0,"data-help-title":"Timeline lanes","data-help-body":"Each lane stacks overlapping steps; width reflects duration.","data-help-placement":"top",children:[_.jsx("div",{className:"playback-cursor",style:{left:`${i}%`}}),d.filter(x=>w.has(x.id)).map(x=>{const S=f.get(x.id);if(!S)return null;const C=cN(S,s);return _.jsx(uN,{step:x,interval:S,playbackState:C,selected:n===x.id,diffStatus:m.has(x.id)?"removed":p.has(x.id)?"changed":null,onSelect:r},x.id)}),a?_.jsx(Xj,{ghostTrace:a,baseWallTimeMs:h,playheadMs:s,windowRange:o,diffAdded:g,diffChanged:y}):null]})})}function Xj({ghostTrace:e,baseWallTimeMs:t,playheadMs:n,windowRange:r,diffAdded:i,diffChanged:s}){const{intervals:o,laneCount:a}=Jl(e.startedAt,e.endedAt,e.steps),l=new Map(o.map(m=>[m.stepId,m])),u=e.metadata.wallTimeMs||1,c=n/t*u;let f=o;if(r){const m=r.endMs-r.startMs,p=Math.max(1e3,m*.15),y=u/t,g=Math.max(0,(r.startMs-p)*y),v=Math.min(u,(r.endMs+p)*y);f=o.filter(w=>w.endMs>=g&&w.startMs<=v)}const d=new Set(f.map(m=>m.stepId)),h=dN(e.steps);return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"ghost-lanes",style:{height:`${a*fN}px`}}),h.filter(m=>d.has(m.id)).map(m=>{const p=l.get(m.id);if(!p)return null;const y=cN(p,c),g=i.has(m.id)?"added":s.has(m.id)?"changed":null;return _.jsx(uN,{step:m,interval:p,playbackState:y,selected:!1,diffStatus:g,variant:"ghost",disabled:!0,onSelect:()=>{}},`ghost-${m.id}`)})]})}function Zj({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadMs:i,windowRange:s,timing:o,ghostTrace:a,diff:l}){const u=e.metadata.wallTimeMs||1,c=Math.min(100,Math.max(0,i/u*100));return _.jsxs("section",{className:"cinema-mode","aria-label":"Cinema mode",children:[o!=null&&o.degraded?_.jsxs("div",{className:"timing-banner",title:o.issues.join(" "),children:["Timing degraded: ",o.issues[0]??"Check timestamps."]}):null,_.jsx(_g,{trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:c,playheadMs:i,windowRange:s,ghostTrace:a,diff:l})]})}const Qj=[.5,1,1.5,2,4];function Aw({playheadMs:e,wallTimeMs:t,isPlaying:n,speed:r,onToggle:i,onScrub:s,onSpeedChange:o}){const a=l=>{s(Number(l.target.value))};return _.jsxs("div",{className:"playback-controls",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:i,"aria-label":n?"Pause playback":"Play playback","data-help":!0,"data-help-title":"Playhead","data-help-body":"Start or pause the run to experience timing as it unfolded.","data-help-placement":"bottom",children:n?"Pause":"Play"}),_.jsx("input",{className:"playback-slider",type:"range",min:0,max:t,value:e,"aria-label":"Playback position",onChange:a,"data-help":!0,"data-help-title":"Scrub timeline","data-help-body":"Drag to jump to any moment in the run.","data-help-placement":"bottom"}),_.jsx("select",{className:"playback-speed",value:r,"aria-label":"Playback speed",onChange:l=>o(Number(l.target.value)),"data-help":!0,"data-help-title":"Speed","data-help-body":"Slow down to inspect or speed up to skim.","data-help-placement":"bottom",children:Qj.map(l=>_.jsxs("option",{value:l,children:[l,"x"]},l))})]})}function Jj(e,t,n,r=60){const{wallTimeMs:i,intervals:s}=Jl(e,t,n),o=new Array(r).fill(0);if(!i)return{buckets:o,wallTimeMs:0};const a=i/r;return!Number.isFinite(a)||a<=0?{buckets:o,wallTimeMs:i}:(s.forEach(l=>{const u=Math.max(0,Math.floor(l.startMs/a)),c=Math.min(r-1,Math.floor(l.endMs/a));for(let f=u;f<=c;f+=1)o[f]+=1}),{buckets:o,wallTimeMs:i})}const ys=5e3;function Pw(e,t,n){return Math.min(n,Math.max(t,e))}function eD({traceStart:e,traceEnd:t,steps:n,playheadMs:r,windowRange:i,windowed:s,spanMs:o,onSpanChange:a,onToggleWindowed:l,onScrub:u}){const{buckets:c,wallTimeMs:f}=Jj(e,t,n,64),d=Math.max(1,...c),h=Pw(o,ys,Math.max(ys,f)),m=(i==null?void 0:i.startMs)??0,p=(i==null?void 0:i.endMs)??f,y=f?m/f*100:0,g=f?(p-m)/f*100:100,v=f?r/f*100:0,w=x=>{const S=x.currentTarget.getBoundingClientRect(),C=(x.clientX-S.left)/S.width,T=Pw(Math.round(C*f),0,f);u(T)};return _.jsxs("div",{className:"mini-timeline",children:[_.jsxs("div",{className:"mini-track",onClick:w,role:"presentation","data-help":!0,"data-help-title":"Density map","data-help-body":"A compact view of activity density. Click to jump the playhead.","data-help-placement":"top",children:[_.jsx("div",{className:"mini-bars",children:c.map((x,S)=>_.jsx("span",{className:"mini-bar",style:{height:`${x/d*100}%`}},`bucket-${S}`))}),_.jsx("div",{className:"mini-window",style:{left:`${y}%`,width:`${g}%`,opacity:s?1:.4}}),_.jsx("div",{className:"mini-playhead",style:{left:`${v}%`}})]}),_.jsxs("div",{className:"mini-controls",children:[_.jsx("label",{className:"mini-label",children:"Zoom"}),_.jsx("input",{type:"range",min:ys,max:Math.max(ys,f),value:h,"aria-label":"Timeline zoom",onChange:x=>{l(!0),a(Number(x.target.value))},"data-help":!0,"data-help-title":"Zoom window","data-help-body":"Tighten the window to focus on hotspots.","data-help-placement":"top"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>l(!s),title:"Toggle windowed playback",children:s?"Full":"Window"}),_.jsx("button",{className:"ghost-button",type:"button",title:"Reset zoom",onClick:()=>{l(!0),a(Math.min(Math.max(f*.2,ys),6e4))},children:"Reset"})]})]})}const tD=[{keys:"Space",action:"Play / pause"},{keys:" / ",action:"Step boundary back / forward"},{keys:"Shift +  / ",action:"Jump to start / end"},{keys:"F",action:"Toggle Flow mode"},{keys:"I",action:"Toggle Inspector"},{keys:"?",action:"Show shortcuts"},{keys:"Esc",action:"Close modal / inspector"}];function nD({open:e,onClose:t}){const n=E.useRef(null);if(E.useEffect(()=>{var i;e&&((i=n.current)==null||i.focus())},[e]),!e)return null;const r=i=>{var l;if(i.key==="Escape"){i.preventDefault(),t();return}if(i.key!=="Tab")return;const s=Array.from(i.currentTarget.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(s.length===0)return;const o=s.indexOf(document.activeElement),a=i.shiftKey?o<=0?s.length-1:o-1:(o+1)%s.length;(l=s[a])==null||l.focus(),i.preventDefault()};return _.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",onKeyDown:r,children:_.jsxs("div",{className:"modal",tabIndex:-1,children:[_.jsxs("div",{className:"modal-header",children:[_.jsx("div",{className:"modal-title",id:"shortcuts-title",children:"Keyboard Shortcuts"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:t,ref:n,"aria-label":"Close shortcuts",children:"Close"})]}),_.jsx("div",{className:"modal-body",children:tD.map(i=>_.jsxs("div",{className:"modal-row",children:[_.jsx("span",{className:"modal-keys",children:i.keys}),_.jsx("span",{className:"modal-action",children:i.action})]},i.keys))})]})})}function rD(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function iD({trace:e,mode:t,playheadMs:n,selectedStepId:r,compareTrace:i,collapsed:s,onToggleCollapsed:o,onModeChange:a,onSelectStep:l,onJumpToBottleneck:u,onReplay:c,onShowShortcuts:f,onStartTour:d}){var k;const h=e.steps??[],m=rD(h),p=r??(m==null?void 0:m.id)??((k=h[0])==null?void 0:k.id)??null,y=t==="cinema"||n>0,g=!!r,v=!!i,w=[y,g,v].filter(Boolean).length,x=[y,g,v].findIndex(M=>!M),S=x===-1?2:x,C=[0,1,2].map(M=>[y,g,v][M]?"done":M===S?"active":"next"),T=[{id:"observe",title:"Act I: Observe",summary:"Scrub the timeline to feel the pacing, bottlenecks, and tool choreography.",status:C[0],actionLabel:"Enter cinema",action:()=>a("cinema")},{id:"inspect",title:"Act II: Inspect",summary:"Open the most expensive or failed step and read the payload with context.",status:C[1],actionLabel:m?"Jump to bottleneck":"Select first step",action:()=>{if(r){a("cinema");return}if(m){u();return}p&&(l(p),a("cinema"))},disabled:!p},{id:"direct",title:"Act III: Direct",summary:"Replay from a decisive step, then compare flows and diffs side-by-side.",status:C[2],actionLabel:i?"Open compare":"Replay from step",action:()=>{if(i){a("compare");return}p&&c(p)},disabled:!p}];return s?_.jsxs("section",{className:"journey-panel journey-collapsed","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A guided path from observation to replay. Use it to show newcomers what to do first.","data-help-placement":"bottom",children:[_.jsxs("div",{className:"journey-collapsed-main",children:[_.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),_.jsx("div",{className:"journey-collapsed-title",children:"From observe to direct"})]}),_.jsxs("div",{className:"journey-collapsed-actions",children:[_.jsxs("span",{className:"journey-progress-text",children:[w,"/3 complete"]}),_.jsx("button",{className:"ghost-button",type:"button",onClick:f,children:"Shortcuts"}),d?_.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Tour"}):null,_.jsx("button",{className:"primary-button journey-expand",type:"button",onClick:o,children:"Expand"})]})]}):_.jsxs("section",{className:"journey-panel","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A three-act flow that teaches the story: observe, inspect, direct. Each act jumps to the right place.","data-help-placement":"bottom",children:[_.jsxs("div",{className:"journey-head",children:[_.jsxs("div",{children:[_.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),_.jsx("h2",{className:"journey-title",children:"Cut a perfect take in three acts."}),_.jsx("p",{className:"journey-subtitle",children:"Trace the performance, interrogate the moment, then direct a better run."})]}),_.jsxs("div",{className:"journey-head-actions",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:f,children:"Shortcuts"}),d?_.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Start tour"}):null,_.jsx("button",{className:"ghost-button",type:"button",onClick:o,children:"Collapse"})]})]}),_.jsx("div",{className:"journey-track",children:T.map((M,R)=>_.jsxs("div",{className:"journey-card","data-status":M.status,children:[_.jsxs("div",{className:"journey-card-top",children:[_.jsxs("span",{className:"journey-index",children:["0",R+1]}),_.jsx("span",{className:"journey-status",children:M.status})]}),_.jsx("h3",{className:"journey-card-title",children:M.title}),_.jsx("p",{className:"journey-card-body",children:M.summary}),_.jsx("button",{className:"primary-button journey-action",type:"button",onClick:M.action,disabled:M.disabled,children:M.actionLabel})]},M.id))}),_.jsxs("div",{className:"journey-footer",children:[_.jsxs("div",{children:[_.jsx("div",{className:"journey-progress-label",children:"Progress"}),_.jsx("div",{className:"journey-progress",children:_.jsx("span",{className:"journey-progress-bar",style:{width:`${w/3*100}%`}})})]}),_.jsx("div",{className:"journey-footnote",children:"Tip: Use Flow to spot fan-out, Compare to validate your changes."})]})]})}function sD(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function oD({trace:e,mode:t,selectedStepId:n,onModeChange:r,onSelectStep:i,onJumpToBottleneck:s,onReplay:o}){var f;const a=e.steps??[],l=sD(a),u=n??(l==null?void 0:l.id)??((f=a[0])==null?void 0:f.id)??null,c=e.metadata.wallTimeMs??0;return _.jsxs("aside",{className:"inspector inspector-empty","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Select a step to open detailed payloads, redaction controls, and replay actions.","data-help-placement":"left",children:[_.jsx("div",{className:"inspector-header",children:_.jsxs("div",{children:[_.jsx("div",{className:"inspector-title",children:"Director's notes"}),_.jsx("div",{className:"inspector-subtitle",children:"Select a step to open deep inspection."})]})}),_.jsxs("div",{className:"inspector-section",children:[_.jsx("div",{className:"inspector-section-title",children:"Run summary"}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Steps"}),_.jsx("span",{children:a.length})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Wall time"}),_.jsxs("span",{children:[c,"ms"]})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Status"}),_.jsx("span",{children:e.status})]})]}),_.jsxs("div",{className:"inspector-section",children:[_.jsx("div",{className:"inspector-section-title",children:"Next actions"}),_.jsxs("div",{className:"director-actions",children:[_.jsx("button",{className:"primary-button",type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Open cinema","data-help-body":"Jump straight into the timeline.","data-help-placement":"right",children:"Open cinema"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Open flow","data-help-body":"See the dependency graph of the run.","data-help-placement":"right",children:"Switch to flow"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{if(!n){if(l){s();return}u&&i(u)}},disabled:!u||!!n,"data-help":!0,"data-help-title":"Jump to bottleneck","data-help-body":"Select the slowest step for inspection.","data-help-placement":"right",children:n?"Inspector open":l?"Jump to bottleneck":"Select first step"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>u&&o(u),disabled:!u,"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a replay from a decisive step.","data-help-placement":"right",children:"Replay from step"})]})]}),_.jsxs("div",{className:"inspector-section",children:[_.jsx("div",{className:"inspector-section-title",children:"Mode"}),_.jsxs("div",{className:"director-modes",children:[_.jsx("button",{className:`ghost-button ${t==="cinema"?"active":""}`,type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view for pacing and sequence.","data-help-placement":"right",children:"Cinema"}),_.jsx("button",{className:`ghost-button ${t==="flow"?"active":""}`,type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Graph view for dependencies.","data-help-placement":"right",children:"Flow"}),_.jsx("button",{className:"ghost-button",type:"button",disabled:!0,children:"Compare"})]})]})]})}const ac=(e,t,n)=>Math.min(n,Math.max(t,e));function aD({steps:e,open:t,onClose:n,onComplete:r}){const[i,s]=E.useState(0),[o,a]=E.useState(null),[l,u]=E.useState(null),c=E.useRef(null),f=E.useRef(null),d=E.useMemo(()=>e[i],[e,i]),h=E.useCallback(()=>{if(!t)return;const y=document.querySelector(d.target);if(!y){f.current=null,a(null);return}f.current=y;const g=y.getBoundingClientRect();a(g)},[t,d.target]),m=E.useCallback(()=>{if(!o||!c.current){u(null);return}const y=c.current.offsetWidth,g=c.current.offsetHeight,v=16;let w=ac(o.left+o.width/2-y/2,v,window.innerWidth-y-v),x=o.bottom+16;d.placement==="top"&&(x=o.top-g-16),d.placement==="left"&&(w=o.left-y-16,x=o.top+o.height/2-g/2),d.placement==="right"&&(w=o.right+16,x=o.top+o.height/2-g/2),x+g>window.innerHeight-v&&(x=o.top-g-16),x<v&&(x=o.bottom+16),w=ac(w,v,window.innerWidth-y-v),x=ac(x,v,window.innerHeight-g-v),u({top:x,left:w})},[d.placement,o]);if(E.useEffect(()=>{t&&s(0)},[t]),E.useEffect(()=>{if(!t)return;const y=document.querySelector(d.target);y&&y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const g=window.requestAnimationFrame(()=>h());return()=>window.cancelAnimationFrame(g)},[t,d.target,h]),E.useLayoutEffect(()=>{m()},[o,m,d.title]),E.useEffect(()=>{if(!t)return;const y=()=>{h(),m()};return window.addEventListener("resize",y),window.addEventListener("scroll",y,!0),()=>{window.removeEventListener("resize",y),window.removeEventListener("scroll",y,!0)}},[t,h,m]),!t||!d)return null;const p=o?{top:o.top-6,left:o.left-6,width:o.width+12,height:o.height+12}:void 0;return _.jsxs("div",{className:"tour-overlay",role:"dialog","aria-modal":"true","aria-label":"Guided tour",children:[_.jsx("div",{className:"tour-backdrop",onClick:n}),o?_.jsx("div",{className:"tour-spotlight",style:p}):null,_.jsxs("div",{className:`tour-card ${l?"tour-card-anchored":""}`,ref:c,style:l??void 0,children:[_.jsxs("div",{className:"tour-step",children:["Step ",i+1," of ",e.length]}),_.jsx("div",{className:"tour-title",children:d.title}),_.jsx("p",{className:"tour-body",children:d.body}),_.jsxs("div",{className:"tour-actions",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>s(y=>Math.max(0,y-1)),disabled:i===0,children:"Back"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:n,children:"Skip"}),i===e.length-1?_.jsx("button",{className:"primary-button",type:"button",onClick:r,children:"Finish tour"}):_.jsx("button",{className:"primary-button",type:"button",onClick:()=>s(y=>y+1),children:"Next"})]})]})]})}const Rw=(e,t,n)=>Math.min(n,Math.max(t,e));function lD({enabled:e}){const[t,n]=E.useState(null),[r,i]=E.useState(null),s=E.useRef(null),o=E.useRef(null),a=E.useCallback(()=>{const u=s.current;if(!u){n(null);return}const c=u.getBoundingClientRect(),f=u.dataset.helpTitle??"Context",d=u.dataset.helpBody??"",h=u.dataset.helpPlacement??"right";n({rect:c,title:f,body:d,placement:h})},[]);E.useEffect(()=>{if(!e){s.current=null,n(null);return}const u=m=>{var y,g;const p=(g=(y=m.target)==null?void 0:y.closest)==null?void 0:g.call(y,"[data-help]");if(!p){s.current||n(null);return}s.current!==p&&(s.current=p,a())},c=m=>{var y,g;const p=(g=(y=m.target)==null?void 0:y.closest)==null?void 0:g.call(y,"[data-help]");p&&(s.current=p,a())},f=m=>{var y;const p=m.relatedTarget;(y=p==null?void 0:p.closest)!=null&&y.call(p,"[data-help]")||(s.current=null,n(null))},d=m=>{var y,g;const p=(g=(y=m.target)==null?void 0:y.closest)==null?void 0:g.call(y,"[data-help]");if(!p){s.current=null,n(null);return}s.current=p,a()},h=()=>{s.current&&a()};return window.addEventListener("mousemove",u),window.addEventListener("focusin",c),window.addEventListener("focusout",f),window.addEventListener("pointerdown",d),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("focusin",c),window.removeEventListener("focusout",f),window.removeEventListener("pointerdown",d),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,a]);const l=E.useCallback(()=>{if(!t||!o.current){i(null);return}const u=12,c=o.current.offsetWidth,f=o.current.offsetHeight,{rect:d,placement:h}=t;let m=d.right+16,p=d.top+d.height/2-f/2;h==="left"&&(m=d.left-c-16,p=d.top+d.height/2-f/2),h==="top"&&(m=d.left+d.width/2-c/2,p=d.top-f-16),h==="bottom"&&(m=d.left+d.width/2-c/2,p=d.bottom+16),m=Rw(m,u,window.innerWidth-c-u),p=Rw(p,u,window.innerHeight-f-u),i({left:m,top:p})},[t]);return E.useLayoutEffect(()=>{l()},[l]),!e||!t?null:_.jsxs("div",{className:"help-overlay","aria-hidden":"true",children:[_.jsx("div",{className:"help-highlight",style:{top:t.rect.top-6,left:t.rect.left-6,width:t.rect.width+12,height:t.rect.height+12}}),_.jsxs("div",{className:"help-bubble",ref:o,style:r??void 0,children:[_.jsx("div",{className:"help-title",children:t.title}),_.jsx("div",{className:"help-body",children:t.body})]})]})}const uD=1800;function cD({onComplete:e}){return E.useEffect(()=>{const t=window.setTimeout(()=>e(),uD);return()=>window.clearTimeout(t)},[e]),_.jsx("div",{className:"intro-overlay",role:"dialog","aria-modal":"true","aria-label":"Agent Director intro",children:_.jsxs("div",{className:"intro-card",children:[_.jsx("div",{className:"intro-scan"}),_.jsx("div",{className:"intro-title",children:"Agent Director"}),_.jsx("div",{className:"intro-tagline",children:"Watch your agent think. Then direct it."}),_.jsxs("div",{className:"intro-grid",children:[_.jsx("span",{}),_.jsx("span",{}),_.jsx("span",{}),_.jsx("span",{})]}),_.jsx("button",{className:"ghost-button",type:"button",onClick:e,children:"Skip intro"})]})})}function rt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=rt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var hN={exports:{}},pN={},mN={exports:{}},gN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=E;function fD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dD=typeof Object.is=="function"?Object.is:fD,hD=Hi.useState,pD=Hi.useEffect,mD=Hi.useLayoutEffect,gD=Hi.useDebugValue;function vD(e,t){var n=t(),r=hD({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return mD(function(){i.value=n,i.getSnapshot=t,lc(i)&&s({inst:i})},[e,n,t]),pD(function(){return lc(i)&&s({inst:i}),e(function(){lc(i)&&s({inst:i})})},[e]),gD(n),n}function lc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dD(e,n)}catch{return!0}}function yD(e,t){return t()}var wD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yD:vD;gN.useSyncExternalStore=Hi.useSyncExternalStore!==void 0?Hi.useSyncExternalStore:wD;mN.exports=gN;var xD=mN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=E,_D=xD;function SD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bD=typeof Object.is=="function"?Object.is:SD,ED=_D.useSyncExternalStore,CD=eu.useRef,TD=eu.useEffect,kD=eu.useMemo,ND=eu.useDebugValue;pN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=CD(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=kD(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&o.hasValue){var m=o.value;if(i(m,h))return f=m}return f=h}if(m=f,bD(c,h))return m;var p=r(h);return i!==void 0&&i(m,p)?(c=h,m):(c=h,f=p)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=ED(e,s[0],s[1]);return TD(function(){o.hasValue=!0,o.value=a},[a]),ND(a),a};hN.exports=pN;var MD=hN.exports;const AD=iv(MD),PD={},Iw=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(m=>m(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(PD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},RD=e=>e?Iw(e):Iw,{useDebugValue:ID}=F,{useSyncExternalStoreWithSelector:jD}=AD,DD=e=>e;function vN(e,t=DD,n){const r=jD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ID(r),r}const jw=(e,t)=>{const n=RD(e),r=(i,s=t)=>vN(n,i,s);return Object.assign(r,n),r},LD=(e,t)=>e?jw(e,t):jw;function Ze(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var OD={value:()=>{}};function tu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fa(n)}function Fa(e){this._=e}function FD(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fa.prototype=tu.prototype={constructor:Fa,on:function(e,t){var n=this._,r=FD(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=qD(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Dw(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Dw(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fa(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function qD(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Dw(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=OD,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Sg="http://www.w3.org/1999/xhtml";const Lw={svg:"http://www.w3.org/2000/svg",xhtml:Sg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Lw.hasOwnProperty(t)?{space:Lw[t],local:e}:e}function $D(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Sg&&t.documentElement.namespaceURI===Sg?t.createElement(e):t.createElementNS(n,e)}}function VD(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yN(e){var t=nu(e);return(t.local?VD:$D)(t)}function BD(){}function ey(e){return e==null?BD:function(){return this.querySelector(e)}}function zD(e){typeof e!="function"&&(e=ey(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Mt(r,this._parents)}function UD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function HD(){return[]}function wN(e){return e==null?HD:function(){return this.querySelectorAll(e)}}function GD(e){return function(){return UD(e.apply(this,arguments))}}function WD(e){typeof e=="function"?e=GD(e):e=wN(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new Mt(r,i)}function xN(e){return function(){return this.matches(e)}}function _N(e){return function(t){return t.matches(e)}}var KD=Array.prototype.find;function YD(e){return function(){return KD.call(this.children,e)}}function XD(){return this.firstElementChild}function ZD(e){return this.select(e==null?XD:YD(typeof e=="function"?e:_N(e)))}var QD=Array.prototype.filter;function JD(){return Array.from(this.children)}function eL(e){return function(){return QD.call(this.children,e)}}function tL(e){return this.selectAll(e==null?JD:eL(typeof e=="function"?e:_N(e)))}function nL(e){typeof e!="function"&&(e=xN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Mt(r,this._parents)}function SN(e){return new Array(e.length)}function rL(){return new Mt(this._enter||this._groups.map(SN),this._parents)}function gl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}gl.prototype={constructor:gl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function iL(e){return function(){return e}}function sL(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new gl(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function oL(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,f=s.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<f;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new gl(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(d[a])===l&&(i[a]=l)}function aL(e){return e.__data__}function lL(e,t){if(!arguments.length)return Array.from(this,aL);var n=t?oL:sL,r=this._parents,i=this._groups;typeof e!="function"&&(e=iL(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],f=i[u],d=f.length,h=uL(e.call(c,c&&c.__data__,u,r)),m=h.length,p=a[u]=new Array(m),y=o[u]=new Array(m),g=l[u]=new Array(d);n(c,f,p,y,g,h,t);for(var v=0,w=0,x,S;v<m;++v)if(x=p[v]){for(v>=w&&(w=v+1);!(S=y[w])&&++w<m;);x._next=S||null}}return o=new Mt(o,r),o._enter=a,o._exit=l,o}function uL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cL(){return new Mt(this._exit||this._groups.map(SN),this._parents)}function fL(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function dL(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],f=u.length,d=a[l]=new Array(f),h,m=0;m<f;++m)(h=u[m]||c[m])&&(d[m]=h);for(;l<i;++l)a[l]=n[l];return new Mt(a,this._parents)}function hL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function pL(e){e||(e=mL);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new Mt(i,this._parents).order()}function mL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function gL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vL(){return Array.from(this)}function yL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function wL(){let e=0;for(const t of this)++e;return e}function xL(){return!this.node()}function _L(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function SL(e){return function(){this.removeAttribute(e)}}function bL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function EL(e,t){return function(){this.setAttribute(e,t)}}function CL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function TL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function kL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function NL(e,t){var n=nu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?bL:SL:typeof t=="function"?n.local?kL:TL:n.local?CL:EL)(n,t))}function bN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ML(e){return function(){this.style.removeProperty(e)}}function AL(e,t,n){return function(){this.style.setProperty(e,t,n)}}function PL(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function RL(e,t,n){return arguments.length>1?this.each((t==null?ML:typeof t=="function"?PL:AL)(e,t,n??"")):Gi(this.node(),e)}function Gi(e,t){return e.style.getPropertyValue(t)||bN(e).getComputedStyle(e,null).getPropertyValue(t)}function IL(e){return function(){delete this[e]}}function jL(e,t){return function(){this[e]=t}}function DL(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function LL(e,t){return arguments.length>1?this.each((t==null?IL:typeof t=="function"?DL:jL)(e,t)):this.node()[e]}function EN(e){return e.trim().split(/^|\s+/)}function ty(e){return e.classList||new CN(e)}function CN(e){this._node=e,this._names=EN(e.getAttribute("class")||"")}CN.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function TN(e,t){for(var n=ty(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function kN(e,t){for(var n=ty(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function OL(e){return function(){TN(this,e)}}function FL(e){return function(){kN(this,e)}}function qL(e,t){return function(){(t.apply(this,arguments)?TN:kN)(this,e)}}function $L(e,t){var n=EN(e+"");if(arguments.length<2){for(var r=ty(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?qL:t?OL:FL)(n,t))}function VL(){this.textContent=""}function BL(e){return function(){this.textContent=e}}function zL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function UL(e){return arguments.length?this.each(e==null?VL:(typeof e=="function"?zL:BL)(e)):this.node().textContent}function HL(){this.innerHTML=""}function GL(e){return function(){this.innerHTML=e}}function WL(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function KL(e){return arguments.length?this.each(e==null?HL:(typeof e=="function"?WL:GL)(e)):this.node().innerHTML}function YL(){this.nextSibling&&this.parentNode.appendChild(this)}function XL(){return this.each(YL)}function ZL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function QL(){return this.each(ZL)}function JL(e){var t=typeof e=="function"?e:yN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function eO(){return null}function tO(e,t){var n=typeof e=="function"?e:yN(e),r=t==null?eO:typeof t=="function"?t:ey(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function nO(){var e=this.parentNode;e&&e.removeChild(this)}function rO(){return this.each(nO)}function iO(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sO(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oO(e){return this.select(e?sO:iO)}function aO(e){return arguments.length?this.property("__data__",e):this.node().__data__}function lO(e){return function(t){e.call(this,t,this.__data__)}}function uO(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function cO(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function fO(e,t,n){return function(){var r=this.__on,i,s=lO(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function dO(e,t,n){var r=uO(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?fO:cO,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function NN(e,t,n){var r=bN(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function hO(e,t){return function(){return NN(this,e,t)}}function pO(e,t){return function(){return NN(this,e,t.apply(this,arguments))}}function mO(e,t){return this.each((typeof t=="function"?pO:hO)(e,t))}function*gO(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var MN=[null];function Mt(e,t){this._groups=e,this._parents=t}function Lo(){return new Mt([[document.documentElement]],MN)}function vO(){return this}Mt.prototype=Lo.prototype={constructor:Mt,select:zD,selectAll:WD,selectChild:ZD,selectChildren:tL,filter:nL,data:lL,enter:rL,exit:cL,join:fL,merge:dL,selection:vO,order:hL,sort:pL,call:gL,nodes:vL,node:yL,size:wL,empty:xL,each:_L,attr:NL,style:RL,property:LL,classed:$L,text:UL,html:KL,raise:XL,lower:QL,append:JL,insert:tO,remove:rO,clone:oO,datum:aO,on:dO,dispatch:mO,[Symbol.iterator]:gO};function Ot(e){return typeof e=="string"?new Mt([[document.querySelector(e)]],[document.documentElement]):new Mt([[e]],MN)}function yO(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Yt(e,t){if(e=yO(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const wO={passive:!1},yo={capture:!0,passive:!1};function uc(e){e.stopImmediatePropagation()}function Di(e){e.preventDefault(),e.stopImmediatePropagation()}function AN(e){var t=e.document.documentElement,n=Ot(e).on("dragstart.drag",Di,yo);"onselectstart"in t?n.on("selectstart.drag",Di,yo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function PN(e,t){var n=e.document.documentElement,r=Ot(e).on("dragstart.drag",null);t&&(r.on("click.drag",Di,yo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const da=e=>()=>e;function bg(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}bg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function xO(e){return!e.ctrlKey&&!e.button}function _O(){return this.parentNode}function SO(e,t){return t??{x:e.x,y:e.y}}function bO(){return navigator.maxTouchPoints||"ontouchstart"in this}function EO(){var e=xO,t=_O,n=SO,r=bO,i={},s=tu("start","drag","end"),o=0,a,l,u,c,f=0;function d(x){x.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",g,wO).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(x,S){if(!(c||!e.call(this,x,S))){var C=w(this,t.call(this,x,S),x,S,"mouse");C&&(Ot(x.view).on("mousemove.drag",m,yo).on("mouseup.drag",p,yo),AN(x.view),uc(x),u=!1,a=x.clientX,l=x.clientY,C("start",x))}}function m(x){if(Di(x),!u){var S=x.clientX-a,C=x.clientY-l;u=S*S+C*C>f}i.mouse("drag",x)}function p(x){Ot(x.view).on("mousemove.drag mouseup.drag",null),PN(x.view,u),Di(x),i.mouse("end",x)}function y(x,S){if(e.call(this,x,S)){var C=x.changedTouches,T=t.call(this,x,S),k=C.length,M,R;for(M=0;M<k;++M)(R=w(this,T,x,S,C[M].identifier,C[M]))&&(uc(x),R("start",x,C[M]))}}function g(x){var S=x.changedTouches,C=S.length,T,k;for(T=0;T<C;++T)(k=i[S[T].identifier])&&(Di(x),k("drag",x,S[T]))}function v(x){var S=x.changedTouches,C=S.length,T,k;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),T=0;T<C;++T)(k=i[S[T].identifier])&&(uc(x),k("end",x,S[T]))}function w(x,S,C,T,k,M){var R=s.copy(),j=Yt(M||C,S),B,V,b;if((b=n.call(x,new bg("beforestart",{sourceEvent:C,target:d,identifier:k,active:o,x:j[0],y:j[1],dx:0,dy:0,dispatch:R}),T))!=null)return B=b.x-j[0]||0,V=b.y-j[1]||0,function D(P,L,A){var N=j,I;switch(P){case"start":i[k]=D,I=o++;break;case"end":delete i[k],--o;case"drag":j=Yt(A||L,S),I=o;break}R.call(P,x,new bg(P,{sourceEvent:L,subject:b,target:d,identifier:k,active:I,x:j[0]+B,y:j[1]+V,dx:j[0]-N[0],dy:j[1]-N[1],dispatch:R}),T)}}return d.filter=function(x){return arguments.length?(e=typeof x=="function"?x:da(!!x),d):e},d.container=function(x){return arguments.length?(t=typeof x=="function"?x:da(x),d):t},d.subject=function(x){return arguments.length?(n=typeof x=="function"?x:da(x),d):n},d.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:da(!!x),d):r},d.on=function(){var x=s.on.apply(s,arguments);return x===s?d:x},d.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,d):Math.sqrt(f)},d}function ny(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function RN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Oo(){}var wo=.7,vl=1/wo,Li="\\s*([+-]?\\d+)\\s*",xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CO=/^#([0-9a-f]{3,8})$/,TO=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),kO=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),NO=new RegExp(`^rgba\\(${Li},${Li},${Li},${xo}\\)$`),MO=new RegExp(`^rgba\\(${hn},${hn},${hn},${xo}\\)$`),AO=new RegExp(`^hsl\\(${xo},${hn},${hn}\\)$`),PO=new RegExp(`^hsla\\(${xo},${hn},${hn},${xo}\\)$`),Ow={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ny(Oo,_o,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fw,formatHex:Fw,formatHex8:RO,formatHsl:IO,formatRgb:qw,toString:qw});function Fw(){return this.rgb().formatHex()}function RO(){return this.rgb().formatHex8()}function IO(){return IN(this).formatHsl()}function qw(){return this.rgb().formatRgb()}function _o(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=CO.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$w(t):n===3?new vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ha(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ha(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TO.exec(e))?new vt(t[1],t[2],t[3],1):(t=kO.exec(e))?new vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NO.exec(e))?ha(t[1],t[2],t[3],t[4]):(t=MO.exec(e))?ha(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AO.exec(e))?zw(t[1],t[2]/100,t[3]/100,1):(t=PO.exec(e))?zw(t[1],t[2]/100,t[3]/100,t[4]):Ow.hasOwnProperty(e)?$w(Ow[e]):e==="transparent"?new vt(NaN,NaN,NaN,0):null}function $w(e){return new vt(e>>16&255,e>>8&255,e&255,1)}function ha(e,t,n,r){return r<=0&&(e=t=n=NaN),new vt(e,t,n,r)}function jO(e){return e instanceof Oo||(e=_o(e)),e?(e=e.rgb(),new vt(e.r,e.g,e.b,e.opacity)):new vt}function Eg(e,t,n,r){return arguments.length===1?jO(e):new vt(e,t,n,r??1)}function vt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ny(vt,Eg,RN(Oo,{brighter(e){return e=e==null?vl:Math.pow(vl,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vt(Br(this.r),Br(this.g),Br(this.b),yl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vw,formatHex:Vw,formatHex8:DO,formatRgb:Bw,toString:Bw}));function Vw(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}`}function DO(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}${Lr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bw(){const e=yl(this.opacity);return`${e===1?"rgb(":"rgba("}${Br(this.r)}, ${Br(this.g)}, ${Br(this.b)}${e===1?")":`, ${e})`}`}function yl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Br(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lr(e){return e=Br(e),(e<16?"0":"")+e.toString(16)}function zw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zt(e,t,n,r)}function IN(e){if(e instanceof Zt)return new Zt(e.h,e.s,e.l,e.opacity);if(e instanceof Oo||(e=_o(e)),!e)return new Zt;if(e instanceof Zt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Zt(o,a,l,e.opacity)}function LO(e,t,n,r){return arguments.length===1?IN(e):new Zt(e,t,n,r??1)}function Zt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ny(Zt,LO,RN(Oo,{brighter(e){return e=e==null?vl:Math.pow(vl,e),new Zt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new Zt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vt(cc(e>=240?e-240:e+120,i,r),cc(e,i,r),cc(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zt(Uw(this.h),pa(this.s),pa(this.l),yl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yl(this.opacity);return`${e===1?"hsl(":"hsla("}${Uw(this.h)}, ${pa(this.s)*100}%, ${pa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Uw(e){return e=(e||0)%360,e<0?e+360:e}function pa(e){return Math.max(0,Math.min(1,e||0))}function cc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const jN=e=>()=>e;function OO(e,t){return function(n){return e+n*t}}function FO(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qO(e){return(e=+e)==1?DN:function(t,n){return n-t?FO(t,n,e):jN(isNaN(t)?n:t)}}function DN(e,t){var n=t-e;return n?OO(e,n):jN(isNaN(e)?t:e)}const Hw=function e(t){var n=qO(t);function r(i,s){var o=n((i=Eg(i)).r,(s=Eg(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=DN(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Zn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Cg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fc=new RegExp(Cg.source,"g");function $O(e){return function(){return e}}function VO(e){return function(t){return e(t)+""}}function BO(e,t){var n=Cg.lastIndex=fc.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Cg.exec(e))&&(i=fc.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Zn(r,i)})),n=fc.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?VO(l[0].x):$O(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var Gw=180/Math.PI,Tg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function LN(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Gw,skewX:Math.atan(l)*Gw,scaleX:o,scaleY:a}}var ma;function zO(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Tg:LN(t.a,t.b,t.c,t.d,t.e,t.f)}function UO(e){return e==null||(ma||(ma=document.createElementNS("http://www.w3.org/2000/svg","g")),ma.setAttribute("transform",e),!(e=ma.transform.baseVal.consolidate()))?Tg:(e=e.matrix,LN(e.a,e.b,e.c,e.d,e.e,e.f))}function ON(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,f,d,h,m){if(u!==f||c!==d){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:Zn(u,f)},{i:p-2,x:Zn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Zn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Zn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,m){if(u!==f||c!==d){var p=h.push(i(h)+"scale(",null,",",null,")");m.push({i:p-4,x:Zn(u,f)},{i:p-2,x:Zn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var m=-1,p=d.length,y;++m<p;)f[(y=d[m]).i]=y.x(h);return f.join("")}}}var HO=ON(zO,"px, ","px)","deg)"),GO=ON(UO,", ",")",")"),WO=1e-12;function Ww(e){return((e=Math.exp(e))+1/e)/2}function KO(e){return((e=Math.exp(e))-1/e)/2}function YO(e){return((e=Math.exp(2*e))-1)/(e+1)}const XO=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],f=o[1],d=o[2],h=c-a,m=f-l,p=h*h+m*m,y,g;if(p<WO)g=Math.log(d/u)/t,y=function(T){return[a+T*h,l+T*m,u*Math.exp(t*T*g)]};else{var v=Math.sqrt(p),w=(d*d-u*u+r*p)/(2*u*n*v),x=(d*d-u*u-r*p)/(2*d*n*v),S=Math.log(Math.sqrt(w*w+1)-w),C=Math.log(Math.sqrt(x*x+1)-x);g=(C-S)/t,y=function(T){var k=T*g,M=Ww(S),R=u/(n*v)*(M*YO(t*k+S)-KO(S));return[a+R*h,l+R*m,u*M/Ww(t*k+S)]}}return y.duration=g*1e3*t/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var Wi=0,Ms=0,ws=0,FN=1e3,wl,As,xl=0,Xr=0,ru=0,So=typeof performance=="object"&&performance.now?performance:Date,qN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ry(){return Xr||(qN(ZO),Xr=So.now()+ru)}function ZO(){Xr=0}function _l(){this._call=this._time=this._next=null}_l.prototype=$N.prototype={constructor:_l,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ry():+n)+(t==null?0:+t),!this._next&&As!==this&&(As?As._next=this:wl=this,As=this),this._call=e,this._time=n,kg()},stop:function(){this._call&&(this._call=null,this._time=1/0,kg())}};function $N(e,t,n){var r=new _l;return r.restart(e,t,n),r}function QO(){ry(),++Wi;for(var e=wl,t;e;)(t=Xr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wi}function Kw(){Xr=(xl=So.now())+ru,Wi=Ms=0;try{QO()}finally{Wi=0,e3(),Xr=0}}function JO(){var e=So.now(),t=e-xl;t>FN&&(ru-=t,xl=e)}function e3(){for(var e,t=wl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:wl=n);As=e,kg(r)}function kg(e){if(!Wi){Ms&&(Ms=clearTimeout(Ms));var t=e-Xr;t>24?(e<1/0&&(Ms=setTimeout(Kw,e-So.now()-ru)),ws&&(ws=clearInterval(ws))):(ws||(xl=So.now(),ws=setInterval(JO,FN)),Wi=1,qN(Kw))}}function Yw(e,t,n){var r=new _l;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var t3=tu("start","end","cancel","interrupt"),n3=[],VN=0,Xw=1,Ng=2,qa=3,Zw=4,Mg=5,$a=6;function iu(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;r3(e,n,{name:t,index:r,group:i,on:t3,tween:n3,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:VN})}function iy(e,t){var n=nn(e,t);if(n.state>VN)throw new Error("too late; already scheduled");return n}function gn(e,t){var n=nn(e,t);if(n.state>qa)throw new Error("too late; already running");return n}function nn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function r3(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=$N(s,0,n.time);function s(u){n.state=Xw,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,d,h;if(n.state!==Xw)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===qa)return Yw(o);h.state===Zw?(h.state=$a,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=$a,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Yw(function(){n.state===qa&&(n.state=Zw,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Ng,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ng){for(n.state=qa,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Mg,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Mg&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=$a,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Va(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Ng&&r.state<Mg,r.state=$a,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function i3(e){return this.each(function(){Va(this,e)})}function s3(e,t){var n,r;return function(){var i=gn(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function o3(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=gn(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function a3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=nn(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?s3:o3)(n,e,t))}function sy(e,t,n){var r=e._id;return e.each(function(){var i=gn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return nn(i,r).value[t]}}function BN(e,t){var n;return(typeof t=="number"?Zn:t instanceof _o?Hw:(n=_o(t))?(t=n,Hw):BO)(e,t)}function l3(e){return function(){this.removeAttribute(e)}}function u3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c3(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function f3(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function d3(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function h3(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function p3(e,t){var n=nu(e),r=n==="transform"?GO:BN;return this.attrTween(e,typeof t=="function"?(n.local?h3:d3)(n,r,sy(this,"attr."+e,t)):t==null?(n.local?u3:l3)(n):(n.local?f3:c3)(n,r,t))}function m3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function g3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function v3(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&g3(e,s)),n}return i._value=t,i}function y3(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&m3(e,s)),n}return i._value=t,i}function w3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=nu(e);return this.tween(n,(r.local?v3:y3)(r,t))}function x3(e,t){return function(){iy(this,e).delay=+t.apply(this,arguments)}}function _3(e,t){return t=+t,function(){iy(this,e).delay=t}}function S3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?x3:_3)(t,e)):nn(this.node(),t).delay}function b3(e,t){return function(){gn(this,e).duration=+t.apply(this,arguments)}}function E3(e,t){return t=+t,function(){gn(this,e).duration=t}}function C3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?b3:E3)(t,e)):nn(this.node(),t).duration}function T3(e,t){if(typeof t!="function")throw new Error;return function(){gn(this,e).ease=t}}function k3(e){var t=this._id;return arguments.length?this.each(T3(t,e)):nn(this.node(),t).ease}function N3(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;gn(this,e).ease=n}}function M3(e){if(typeof e!="function")throw new Error;return this.each(N3(this._id,e))}function A3(e){typeof e!="function"&&(e=xN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Fn(r,this._parents,this._name,this._id)}function P3(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,f=o[a]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;a<r;++a)o[a]=t[a];return new Fn(o,this._parents,this._name,this._id)}function R3(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function I3(e,t,n){var r,i,s=R3(t)?iy:gn;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function j3(e,t){var n=this._id;return arguments.length<2?nn(this.node(),n).on.on(e):this.each(I3(n,e,t))}function D3(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function L3(){return this.on("end.remove",D3(this._id))}function O3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ey(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,iu(u[d],t,n,d,u,nn(c,n)));return new Fn(s,this._parents,t,n)}function F3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wN(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,m=nn(c,n),p=0,y=d.length;p<y;++p)(h=d[p])&&iu(h,t,n,p,d,m);s.push(d),o.push(c)}return new Fn(s,o,t,n)}var q3=Lo.prototype.constructor;function $3(){return new q3(this._groups,this._parents)}function V3(e,t){var n,r,i;return function(){var s=Gi(this,e),o=(this.style.removeProperty(e),Gi(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function zN(e){return function(){this.style.removeProperty(e)}}function B3(e,t,n){var r,i=n+"",s;return function(){var o=Gi(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function z3(e,t,n){var r,i,s;return function(){var o=Gi(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Gi(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function U3(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=gn(this,e),u=l.on,c=l.value[s]==null?a||(a=zN(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function H3(e,t,n){var r=(e+="")=="transform"?HO:BN;return t==null?this.styleTween(e,V3(e,r)).on("end.style."+e,zN(e)):typeof t=="function"?this.styleTween(e,z3(e,r,sy(this,"style."+e,t))).each(U3(this._id,e)):this.styleTween(e,B3(e,r,t),n).on("end.style."+e,null)}function G3(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function W3(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&G3(e,o,n)),r}return s._value=t,s}function K3(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,W3(e,t,n??""))}function Y3(e){return function(){this.textContent=e}}function X3(e){return function(){var t=e(this);this.textContent=t??""}}function Z3(e){return this.tween("text",typeof e=="function"?X3(sy(this,"text",e)):Y3(e==null?"":e+""))}function Q3(e){return function(t){this.textContent=e.call(this,t)}}function J3(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Q3(i)),t}return r._value=e,r}function eF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,J3(e))}function tF(){for(var e=this._name,t=this._id,n=UN(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=nn(l,t);iu(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Fn(r,this._parents,e,n)}function nF(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=gn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var rF=0;function Fn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function UN(){return++rF}var wn=Lo.prototype;Fn.prototype={constructor:Fn,select:O3,selectAll:F3,selectChild:wn.selectChild,selectChildren:wn.selectChildren,filter:A3,merge:P3,selection:$3,transition:tF,call:wn.call,nodes:wn.nodes,node:wn.node,size:wn.size,empty:wn.empty,each:wn.each,on:j3,attr:p3,attrTween:w3,style:H3,styleTween:K3,text:Z3,textTween:eF,remove:L3,tween:a3,delay:S3,duration:C3,ease:k3,easeVarying:M3,end:nF,[Symbol.iterator]:wn[Symbol.iterator]};function iF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var sF={time:null,delay:0,duration:250,ease:iF};function oF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function aF(e){var t,n;e instanceof Fn?(t=e._id,e=e._name):(t=UN(),(n=sF).time=ry(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&iu(l,e,t,u,o,n||oF(l,t));return new Fn(r,this._parents,e,t)}Lo.prototype.interrupt=i3;Lo.prototype.transition=aF;const ga=e=>()=>e;function lF(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function kn(e,t,n){this.k=e,this.x=t,this.y=n}kn.prototype={constructor:kn,scale:function(e){return e===1?this:new kn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Pn=new kn(1,0,0);kn.prototype;function dc(e){e.stopImmediatePropagation()}function xs(e){e.preventDefault(),e.stopImmediatePropagation()}function uF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function cF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Qw(){return this.__zoom||Pn}function fF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function dF(){return navigator.maxTouchPoints||"ontouchstart"in this}function hF(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function HN(){var e=uF,t=cF,n=hF,r=fF,i=dF,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=XO,u=tu("start","zoom","end"),c,f,d,h=500,m=150,p=0,y=10;function g(b){b.property("__zoom",Qw).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",R).filter(i).on("touchstart.zoom",j).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,D,P,L){var A=b.selection?b.selection():b;A.property("__zoom",Qw),b!==A?S(b,D,P,L):A.interrupt().each(function(){C(this,arguments).event(L).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},g.scaleBy=function(b,D,P,L){g.scaleTo(b,function(){var A=this.__zoom.k,N=typeof D=="function"?D.apply(this,arguments):D;return A*N},P,L)},g.scaleTo=function(b,D,P,L){g.transform(b,function(){var A=t.apply(this,arguments),N=this.__zoom,I=P==null?x(A):typeof P=="function"?P.apply(this,arguments):P,q=N.invert(I),$=typeof D=="function"?D.apply(this,arguments):D;return n(w(v(N,$),I,q),A,o)},P,L)},g.translateBy=function(b,D,P,L){g.transform(b,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),o)},null,L)},g.translateTo=function(b,D,P,L,A){g.transform(b,function(){var N=t.apply(this,arguments),I=this.__zoom,q=L==null?x(N):typeof L=="function"?L.apply(this,arguments):L;return n(Pn.translate(q[0],q[1]).scale(I.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof P=="function"?-P.apply(this,arguments):-P),N,o)},L,A)};function v(b,D){return D=Math.max(s[0],Math.min(s[1],D)),D===b.k?b:new kn(D,b.x,b.y)}function w(b,D,P){var L=D[0]-P[0]*b.k,A=D[1]-P[1]*b.k;return L===b.x&&A===b.y?b:new kn(b.k,L,A)}function x(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,D,P,L){b.on("start.zoom",function(){C(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(L).end()}).tween("zoom",function(){var A=this,N=arguments,I=C(A,N).event(L),q=t.apply(A,N),$=P==null?x(q):typeof P=="function"?P.apply(A,N):P,O=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),U=A.__zoom,G=typeof D=="function"?D.apply(A,N):D,X=l(U.invert($).concat(O/U.k),G.invert($).concat(O/G.k));return function(te){if(te===1)te=G;else{var se=X(te),le=O/se[2];te=new kn(le,$[0]-se[0]*le,$[1]-se[1]*le)}I.zoom(null,te)}})}function C(b,D,P){return!P&&b.__zooming||new T(b,D)}function T(b,D){this.that=b,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,D),this.taps=0}T.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,D){return this.mouse&&b!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var D=Ot(this.that).datum();u.call(b,this.that,new lF(b,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),D)}};function k(b,...D){if(!e.apply(this,arguments))return;var P=C(this,D).event(b),L=this.__zoom,A=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,r.apply(this,arguments)))),N=Yt(b);if(P.wheel)(P.mouse[0][0]!==N[0]||P.mouse[0][1]!==N[1])&&(P.mouse[1]=L.invert(P.mouse[0]=N)),clearTimeout(P.wheel);else{if(L.k===A)return;P.mouse=[N,L.invert(N)],Va(this),P.start()}xs(b),P.wheel=setTimeout(I,m),P.zoom("mouse",n(w(v(L,A),P.mouse[0],P.mouse[1]),P.extent,o));function I(){P.wheel=null,P.end()}}function M(b,...D){if(d||!e.apply(this,arguments))return;var P=b.currentTarget,L=C(this,D,!0).event(b),A=Ot(b.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",O,!0),N=Yt(b,P),I=b.clientX,q=b.clientY;AN(b.view),dc(b),L.mouse=[N,this.__zoom.invert(N)],Va(this),L.start();function $(U){if(xs(U),!L.moved){var G=U.clientX-I,X=U.clientY-q;L.moved=G*G+X*X>p}L.event(U).zoom("mouse",n(w(L.that.__zoom,L.mouse[0]=Yt(U,P),L.mouse[1]),L.extent,o))}function O(U){A.on("mousemove.zoom mouseup.zoom",null),PN(U.view,L.moved),xs(U),L.event(U).end()}}function R(b,...D){if(e.apply(this,arguments)){var P=this.__zoom,L=Yt(b.changedTouches?b.changedTouches[0]:b,this),A=P.invert(L),N=P.k*(b.shiftKey?.5:2),I=n(w(v(P,N),L,A),t.apply(this,D),o);xs(b),a>0?Ot(this).transition().duration(a).call(S,I,L,b):Ot(this).call(g.transform,I,L,b)}}function j(b,...D){if(e.apply(this,arguments)){var P=b.touches,L=P.length,A=C(this,D,b.changedTouches.length===L).event(b),N,I,q,$;for(dc(b),I=0;I<L;++I)q=P[I],$=Yt(q,this),$=[$,this.__zoom.invert($),q.identifier],A.touch0?!A.touch1&&A.touch0[2]!==$[2]&&(A.touch1=$,A.taps=0):(A.touch0=$,N=!0,A.taps=1+!!c);c&&(c=clearTimeout(c)),N&&(A.taps<2&&(f=$[0],c=setTimeout(function(){c=null},h)),Va(this),A.start())}}function B(b,...D){if(this.__zooming){var P=C(this,D).event(b),L=b.changedTouches,A=L.length,N,I,q,$;for(xs(b),N=0;N<A;++N)I=L[N],q=Yt(I,this),P.touch0&&P.touch0[2]===I.identifier?P.touch0[0]=q:P.touch1&&P.touch1[2]===I.identifier&&(P.touch1[0]=q);if(I=P.that.__zoom,P.touch1){var O=P.touch0[0],U=P.touch0[1],G=P.touch1[0],X=P.touch1[1],te=(te=G[0]-O[0])*te+(te=G[1]-O[1])*te,se=(se=X[0]-U[0])*se+(se=X[1]-U[1])*se;I=v(I,Math.sqrt(te/se)),q=[(O[0]+G[0])/2,(O[1]+G[1])/2],$=[(U[0]+X[0])/2,(U[1]+X[1])/2]}else if(P.touch0)q=P.touch0[0],$=P.touch0[1];else return;P.zoom("touch",n(w(I,q,$),P.extent,o))}}function V(b,...D){if(this.__zooming){var P=C(this,D).event(b),L=b.changedTouches,A=L.length,N,I;for(dc(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),N=0;N<A;++N)I=L[N],P.touch0&&P.touch0[2]===I.identifier?delete P.touch0:P.touch1&&P.touch1[2]===I.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(I=Yt(I,this),Math.hypot(f[0]-I[0],f[1]-I[1])<y)){var q=Ot(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:ga(+b),g):r},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ga(!!b),g):e},g.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:ga(!!b),g):i},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:ga([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],g):[s[0],s[1]]},g.translateExtent=function(b){return arguments.length?(o[0][0]=+b[0][0],o[1][0]=+b[1][0],o[0][1]=+b[0][1],o[1][1]=+b[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(a=+b,g):a},g.interpolate=function(b){return arguments.length?(l=b,g):l},g.on=function(){var b=u.on.apply(u,arguments);return b===u?g:b},g.clickDistance=function(b){return arguments.length?(p=(b=+b)*b,g):Math.sqrt(p)},g.tapDistance=function(b){return arguments.length?(y=+b,g):y},g}const su=E.createContext(null),pF=su.Provider,qn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},GN=qn.error001();function me(e,t){const n=E.useContext(su);if(n===null)throw new Error(GN);return vN(n,e,t)}const Ge=()=>{const e=E.useContext(su);if(e===null)throw new Error(GN);return E.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},mF=e=>e.userSelectionActive?"none":"all";function oy({position:e,children:t,className:n,style:r,...i}){const s=me(mF),o=`${e}`.split("-");return F.createElement("div",{className:rt(["react-flow__panel",n,...o]),style:{...r,pointerEvents:s},...i},t)}function gF({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:F.createElement(oy,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},F.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const vF=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const f=E.useRef(null),[d,h]=E.useState({x:0,y:0,width:0,height:0}),m=rt(["react-flow__edge-textwrapper",u]);return E.useEffect(()=>{if(f.current){const p=f.current.getBBox();h({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),typeof n>"u"||!n?null:F.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:m,visibility:d.width?"visible":"hidden",...c},i&&F.createElement("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),F.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),l)};var yF=E.memo(vF);const ay=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ki=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ly=(e={x:0,y:0},t)=>({x:Ki(e.x,t[0][0],t[1][0]),y:Ki(e.y,t[0][1],t[1][1])}),Jw=(e,t,n)=>e<t?Ki(Math.abs(e-t),1,50)/50:e>n?-Ki(Math.abs(e-n),1,50)/50:0,WN=(e,t)=>{const n=Jw(e.x,35,t.width-35)*20,r=Jw(e.y,35,t.height-35)*20;return[n,r]},KN=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},YN=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),bo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),XN=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),e1=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),wF=(e,t)=>XN(YN(bo(e),bo(t))),Ag=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},xF=e=>qt(e.width)&&qt(e.height)&&qt(e.x)&&qt(e.y),qt=e=>!isNaN(e)&&isFinite(e),je=Symbol.for("internals"),ZN=["Enter"," ","Escape"],_F=(e,t)=>{},SF=e=>"nativeEvent"in e;function Pg(e){var i,s;const t=SF(e)?e.nativeEvent:e,n=((s=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const QN=e=>"clientX"in e,hr=(e,t)=>{var s,o;const n=QN(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Sl=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Fo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:h=20})=>F.createElement(F.Fragment,null,F.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&F.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&qt(n)&&qt(r)?F.createElement(yF,{x:n,y:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);Fo.displayName="BaseEdge";function _s(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(s=>s.id===e);i&&n(r,{...i})}}function JN({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function eM({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,u=t*.125+s*.375+a*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}var Zr;(function(e){e.Strict="strict",e.Loose="loose"})(Zr||(Zr={}));var Or;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Or||(Or={}));var Eo;(function(e){e.Partial="partial",e.Full="full"})(Eo||(Eo={}));var tr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(tr||(tr={}));var bl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(bl||(bl={}));var Z;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Z||(Z={}));function t1({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Z.Left||e===Z.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function tM({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:i,targetPosition:s=Z.Top}){const[o,a]=t1({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=t1({pos:s,x1:r,y1:i,x2:e,y2:t}),[c,f,d,h]=eM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${i}`,c,f,d,h]}const uy=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Z.Bottom,targetPosition:s=Z.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,interactionWidth:p})=>{const[y,g,v]=tM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return F.createElement(Fo,{path:y,labelX:g,labelY:v,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,interactionWidth:p})});uy.displayName="SimpleBezierEdge";const n1={[Z.Left]:{x:-1,y:0},[Z.Right]:{x:1,y:0},[Z.Top]:{x:0,y:-1},[Z.Bottom]:{x:0,y:1}},bF=({source:e,sourcePosition:t=Z.Bottom,target:n})=>t===Z.Left||t===Z.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},r1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function EF({source:e,sourcePosition:t=Z.Bottom,target:n,targetPosition:r=Z.Top,center:i,offset:s}){const o=n1[t],a=n1[r],l={x:e.x+o.x*s,y:e.y+o.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=bF({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",d=c[f];let h=[],m,p;const y={x:0,y:0},g={x:0,y:0},[v,w,x,S]=JN({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*a[f]===-1){m=i.x??v,p=i.y??w;const T=[{x:m,y:l.y},{x:m,y:u.y}],k=[{x:l.x,y:p},{x:u.x,y:p}];o[f]===d?h=f==="x"?T:k:h=f==="x"?k:T}else{const T=[{x:l.x,y:u.y}],k=[{x:u.x,y:l.y}];if(f==="x"?h=o.x===d?k:T:h=o.y===d?T:k,t===r){const V=Math.abs(e[f]-n[f]);if(V<=s){const b=Math.min(s-1,s-V);o[f]===d?y[f]=(l[f]>e[f]?-1:1)*b:g[f]=(u[f]>n[f]?-1:1)*b}}if(t!==r){const V=f==="x"?"y":"x",b=o[f]===a[V],D=l[V]>u[V],P=l[V]<u[V];(o[f]===1&&(!b&&D||b&&P)||o[f]!==1&&(!b&&P||b&&D))&&(h=f==="x"?T:k)}const M={x:l.x+y.x,y:l.y+y.y},R={x:u.x+g.x,y:u.y+g.y},j=Math.max(Math.abs(M.x-h[0].x),Math.abs(R.x-h[0].x)),B=Math.max(Math.abs(M.y-h[0].y),Math.abs(R.y-h[0].y));j>=B?(m=(M.x+R.x)/2,p=h[0].y):(m=h[0].x,p=(M.y+R.y)/2)}return[[e,{x:l.x+y.x,y:l.y+y.y},...h,{x:u.x+g.x,y:u.y+g.y},n],m,p,x,S]}function CF(e,t,n,r){const i=Math.min(r1(e,t)/2,r1(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Rg({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:i,targetPosition:s=Z.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[c,f,d,h,m]=EF({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[c.reduce((y,g,v)=>{let w="";return v>0&&v<c.length-1?w=CF(c[v-1],g,c[v+1],o):w=`${v===0?"M":"L"}${g.x} ${g.y}`,y+=w,y},""),f,d,h,m]}const ou=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=Z.Bottom,targetPosition:d=Z.Top,markerEnd:h,markerStart:m,pathOptions:p,interactionWidth:y})=>{const[g,v,w]=Rg({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset});return F.createElement(Fo,{path:g,labelX:v,labelY:w,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:h,markerStart:m,interactionWidth:y})});ou.displayName="SmoothStepEdge";const cy=E.memo(e=>{var t;return F.createElement(ou,{...e,pathOptions:E.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});cy.displayName="StepEdge";function TF({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=JN({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const fy=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[m,p,y]=TF({sourceX:e,sourceY:t,targetX:n,targetY:r});return F.createElement(Fo,{path:m,labelX:p,labelY:y,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:h})});fy.displayName="StraightEdge";function va(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function i1({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case Z.Left:return[t-va(t-r,s),n];case Z.Right:return[t+va(r-t,s),n];case Z.Top:return[t,n-va(n-i,s)];case Z.Bottom:return[t,n+va(i-n,s)]}}function nM({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:i,targetPosition:s=Z.Top,curvature:o=.25}){const[a,l]=i1({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,c]=i1({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[f,d,h,m]=eM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${l} ${u},${c} ${r},${i}`,f,d,h,m]}const El=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Z.Bottom,targetPosition:s=Z.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,pathOptions:p,interactionWidth:y})=>{const[g,v,w]=nM({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:p==null?void 0:p.curvature});return F.createElement(Fo,{path:g,labelX:v,labelY:w,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:m,interactionWidth:y})});El.displayName="BezierEdge";const dy=E.createContext(null),kF=dy.Provider;dy.Consumer;const NF=()=>E.useContext(dy),MF=e=>"id"in e&&"source"in e&&"target"in e,AF=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Ig=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,PF=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),RF=(e,t)=>{if(!e.source||!e.target)return t;let n;return MF(e)?n={...e}:n={...e,id:AF(e)},PF(n,t)?t:t.concat(n)},jg=({x:e,y:t},[n,r,i],s,[o,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},rM=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),zr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},au=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:s,y:o}=zr(i,t).positionAbsolute;return YN(r,bo({x:s,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return XN(n)},iM=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:d,selectable:h=!0,hidden:m=!1}=c;if(o&&!h||m)return!1;const{positionAbsolute:p}=zr(c,a),y={x:p.x,y:p.y,width:f||0,height:d||0},g=Ag(l,y),v=typeof f>"u"||typeof d>"u"||f===null||d===null,w=s&&g>0,x=(f||0)*(d||0);(v||w||g>=x||c.dragging)&&u.push(c)}),u},sM=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},oM=(e,t,n,r,i,s=.1)=>{const o=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(o,a),u=Ki(l,r,i),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*u,h=n/2-f*u;return{x:d,y:h,zoom:u}},Ar=(e,t=0)=>e.transition().duration(t);function s1(e,t,n,r){return(t[n]||[]).reduce((i,s)=>{var o,a;return`${e.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),i},[])}function IF(e,t,n,r,i,s){const{x:o,y:a}=hr(e),u=t.elementsFromPoint(o,a).find(m=>m.classList.contains("react-flow__handle"));if(u){const m=u.getAttribute("data-nodeid");if(m){const p=hy(void 0,u),y=u.getAttribute("data-handleid"),g=s({nodeId:m,id:y,type:p});if(g){const v=i.find(w=>w.nodeId===m&&w.type===p&&w.id===y);return{handle:{id:y,type:p,nodeId:m,x:(v==null?void 0:v.x)||n.x,y:(v==null?void 0:v.y)||n.y},validHandleResult:g}}}}let c=[],f=1/0;if(i.forEach(m=>{const p=Math.sqrt((m.x-n.x)**2+(m.y-n.y)**2);if(p<=r){const y=s(m);p<=f&&(p<f?c=[{handle:m,validHandleResult:y}]:p===f&&c.push({handle:m,validHandleResult:y}),f=p)}}),!c.length)return{handle:null,validHandleResult:aM()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:m})=>m.isValid),h=c.some(({handle:m})=>m.type==="target");return c.find(({handle:m,validHandleResult:p})=>h?m.type==="target":d?p.isValid:!0)||c[0]}const jF={source:null,target:null,sourceHandle:null,targetHandle:null},aM=()=>({handleDomNode:null,isValid:!1,connection:jF,endHandle:null});function lM(e,t,n,r,i,s,o){const a=i==="target",l=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...aM(),handleDomNode:l};if(l){const c=hy(void 0,l),f=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),m=l.classList.contains("connectableend"),p={source:a?f:n,sourceHandle:a?d:r,target:a?n:f,targetHandle:a?r:d};u.connection=p,h&&m&&(t===Zr.Strict?a&&c==="source"||!a&&c==="target":f!==n||d!==r)&&(u.endHandle={nodeId:f,handleId:d,type:c},u.isValid=s(p))}return u}function DF({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,s)=>{if(s[je]){const{handleBounds:o}=s[je];let a=[],l=[];o&&(a=s1(s,o,"source",`${t}-${n}-${r}`),l=s1(s,o,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function hy(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function hc(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function LF(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function uM({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=KN(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:m,onConnectStart:p,panBy:y,getNodes:g,cancelConnection:v}=s();let w=0,x;const{x:S,y:C}=hr(e),T=c==null?void 0:c.elementFromPoint(S,C),k=hy(l,T),M=d==null?void 0:d.getBoundingClientRect();if(!M||!k)return;let R,j=hr(e,M),B=!1,V=null,b=!1,D=null;const P=DF({nodes:g(),nodeId:n,handleId:t,handleType:k}),L=()=>{if(!h)return;const[I,q]=WN(j,M);y({x:I,y:q}),w=requestAnimationFrame(L)};o({connectionPosition:j,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:k,connectionStartHandle:{nodeId:n,handleId:t,type:k},connectionEndHandle:null}),p==null||p(e,{nodeId:n,handleId:t,handleType:k});function A(I){const{transform:q}=s();j=hr(I,M);const{handle:$,validHandleResult:O}=IF(I,c,jg(j,q,!1,[1,1]),m,P,U=>lM(U,f,n,t,i?"target":"source",a,c));if(x=$,B||(L(),B=!0),D=O.handleDomNode,V=O.connection,b=O.isValid,o({connectionPosition:x&&b?rM({x:x.x,y:x.y},q):j,connectionStatus:LF(!!x,b),connectionEndHandle:O.endHandle}),!x&&!b&&!D)return hc(R);V.source!==V.target&&D&&(hc(R),R=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",b),D.classList.toggle("react-flow__handle-valid",b))}function N(I){var q,$;(x||D)&&V&&b&&(r==null||r(V)),($=(q=s()).onConnectEnd)==null||$.call(q,I),l&&(u==null||u(I)),hc(R),v(),cancelAnimationFrame(w),B=!1,b=!1,V=null,D=null,c.removeEventListener("mousemove",A),c.removeEventListener("mouseup",N),c.removeEventListener("touchmove",A),c.removeEventListener("touchend",N)}c.addEventListener("mousemove",A),c.addEventListener("mouseup",N),c.addEventListener("touchmove",A),c.addEventListener("touchend",N)}const o1=()=>!0,OF=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),FF=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},cM=E.forwardRef(({type:e="source",position:t=Z.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},h)=>{var M,R;const m=o||null,p=e==="target",y=Ge(),g=NF(),{connectOnClick:v,noPanClassName:w}=me(OF,Ze),{connecting:x,clickConnecting:S}=me(FF(g,m,e),Ze);g||(R=(M=y.getState()).onError)==null||R.call(M,"010",qn.error010());const C=j=>{const{defaultEdgeOptions:B,onConnect:V,hasDefaultEdges:b}=y.getState(),D={...B,...j};if(b){const{edges:P,setEdges:L}=y.getState();L(RF(D,P))}V==null||V(D),a==null||a(D)},T=j=>{if(!g)return;const B=QN(j);i&&(B&&j.button===0||!B)&&uM({event:j,handleId:m,nodeId:g,onConnect:C,isTarget:p,getState:y.getState,setState:y.setState,isValidConnection:n||y.getState().isValidConnection||o1}),B?c==null||c(j):f==null||f(j)},k=j=>{const{onClickConnectStart:B,onClickConnectEnd:V,connectionClickStartHandle:b,connectionMode:D,isValidConnection:P}=y.getState();if(!g||!b&&!i)return;if(!b){B==null||B(j,{nodeId:g,handleId:m,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:g,type:e,handleId:m}});return}const L=KN(j.target),A=n||P||o1,{connection:N,isValid:I}=lM({nodeId:g,id:m,type:e},D,b.nodeId,b.handleId||null,b.type,A,L);I&&C(N),V==null||V(j),y.setState({connectionClickStartHandle:null})};return F.createElement("div",{"data-handleid":m,"data-nodeid":g,"data-handlepos":t,"data-id":`${g}-${m}-${e}`,className:rt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!p,target:p,connectable:r,connectablestart:i,connectableend:s,connecting:S,connectionindicator:r&&(i&&!x||s&&x)}]),onMouseDown:T,onTouchStart:T,onClick:v?k:void 0,ref:h,...d},l)});cM.displayName="Handle";var Cl=E.memo(cM);const fM=({data:e,isConnectable:t,targetPosition:n=Z.Top,sourcePosition:r=Z.Bottom})=>F.createElement(F.Fragment,null,F.createElement(Cl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,F.createElement(Cl,{type:"source",position:r,isConnectable:t}));fM.displayName="DefaultNode";var Dg=E.memo(fM);const dM=({data:e,isConnectable:t,sourcePosition:n=Z.Bottom})=>F.createElement(F.Fragment,null,e==null?void 0:e.label,F.createElement(Cl,{type:"source",position:n,isConnectable:t}));dM.displayName="InputNode";var hM=E.memo(dM);const pM=({data:e,isConnectable:t,targetPosition:n=Z.Top})=>F.createElement(F.Fragment,null,F.createElement(Cl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);pM.displayName="OutputNode";var mM=E.memo(pM);const py=()=>null;py.displayName="GroupNode";const qF=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),ya=e=>e.id;function $F(e,t){return Ze(e.selectedNodes.map(ya),t.selectedNodes.map(ya))&&Ze(e.selectedEdges.map(ya),t.selectedEdges.map(ya))}const gM=E.memo(({onSelectionChange:e})=>{const t=Ge(),{selectedNodes:n,selectedEdges:r}=me(qF,$F);return E.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(s=>s(i))},[n,r,e]),null});gM.displayName="SelectionListener";const VF=e=>!!e.onSelectionChange;function BF({onSelectionChange:e}){const t=me(VF);return e||t?F.createElement(gM,{onSelectionChange:e}):null}const zF=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ai(e,t){E.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ie(e,t,n){E.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const UF=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:m,minZoom:p,maxZoom:y,nodeExtent:g,onNodesChange:v,onEdgesChange:w,elementsSelectable:x,connectionMode:S,snapGrid:C,snapToGrid:T,translateExtent:k,connectOnClick:M,defaultEdgeOptions:R,fitView:j,fitViewOptions:B,onNodesDelete:V,onEdgesDelete:b,onNodeDrag:D,onNodeDragStart:P,onNodeDragStop:L,onSelectionDrag:A,onSelectionDragStart:N,onSelectionDragStop:I,noPanClassName:q,nodeOrigin:$,rfId:O,autoPanOnConnect:U,autoPanOnNodeDrag:G,onError:X,connectionRadius:te,isValidConnection:se,nodeDragThreshold:le})=>{const{setNodes:oe,setEdges:Te,setDefaultNodesAndEdges:xe,setMinZoom:Be,setMaxZoom:De,setTranslateExtent:J,setNodeExtent:Le,reset:Y}=me(zF,Ze),K=Ge();return E.useEffect(()=>{const _e=r==null?void 0:r.map(St=>({...St,...R}));return xe(n,_e),()=>{Y()}},[]),ie("defaultEdgeOptions",R,K.setState),ie("connectionMode",S,K.setState),ie("onConnect",i,K.setState),ie("onConnectStart",s,K.setState),ie("onConnectEnd",o,K.setState),ie("onClickConnectStart",a,K.setState),ie("onClickConnectEnd",l,K.setState),ie("nodesDraggable",u,K.setState),ie("nodesConnectable",c,K.setState),ie("nodesFocusable",f,K.setState),ie("edgesFocusable",d,K.setState),ie("edgesUpdatable",h,K.setState),ie("elementsSelectable",x,K.setState),ie("elevateNodesOnSelect",m,K.setState),ie("snapToGrid",T,K.setState),ie("snapGrid",C,K.setState),ie("onNodesChange",v,K.setState),ie("onEdgesChange",w,K.setState),ie("connectOnClick",M,K.setState),ie("fitViewOnInit",j,K.setState),ie("fitViewOnInitOptions",B,K.setState),ie("onNodesDelete",V,K.setState),ie("onEdgesDelete",b,K.setState),ie("onNodeDrag",D,K.setState),ie("onNodeDragStart",P,K.setState),ie("onNodeDragStop",L,K.setState),ie("onSelectionDrag",A,K.setState),ie("onSelectionDragStart",N,K.setState),ie("onSelectionDragStop",I,K.setState),ie("noPanClassName",q,K.setState),ie("nodeOrigin",$,K.setState),ie("rfId",O,K.setState),ie("autoPanOnConnect",U,K.setState),ie("autoPanOnNodeDrag",G,K.setState),ie("onError",X,K.setState),ie("connectionRadius",te,K.setState),ie("isValidConnection",se,K.setState),ie("nodeDragThreshold",le,K.setState),ai(e,oe),ai(t,Te),ai(p,Be),ai(y,De),ai(k,J),ai(g,Le),null},a1={display:"none"},HF={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vM="react-flow__node-desc",yM="react-flow__edge-desc",GF="react-flow__aria-live",WF=e=>e.ariaLiveMessage;function KF({rfId:e}){const t=me(WF);return F.createElement("div",{id:`${GF}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:HF},t)}function YF({rfId:e,disableKeyboardA11y:t}){return F.createElement(F.Fragment,null,F.createElement("div",{id:`${vM}-${e}`,style:a1},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),F.createElement("div",{id:`${yM}-${e}`,style:a1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&F.createElement(KF,{rfId:e}))}var Co=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=E.useState(!1),i=E.useRef(!1),s=E.useRef(new Set([])),[o,a]=E.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return E.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Pg(h))return!1;const p=u1(h.code,a);s.current.add(h[p]),l1(o,s.current,!1)&&(h.preventDefault(),r(!0))},f=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Pg(h))return!1;const p=u1(h.code,a);l1(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(h[p]),h.key==="Meta"&&s.current.clear(),i.current=!1},d=()=>{s.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function l1(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function u1(e,t){return t.includes(e)?"code":"key"}function wM(e,t,n,r){var a,l;const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),o=zr(s,r);return wM(s,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((a=s[je])==null?void 0:a.z)??0)>(n.z??0)?((l=s[je])==null?void 0:l.z)??0:n.z??0},r)}function xM(e,t,n){e.forEach(r=>{var s;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:a,z:l}=wM(r,e,{...r.position,z:((s=r[je])==null?void 0:s.z)??0},t);r.positionAbsolute={x:o,y:a},r[je].z=l,n!=null&&n[r.id]&&(r[je].isParent=!0)}})}function pc(e,t,n,r){const i=new Map,s={},o=r?1e3:0;return e.forEach(a=>{var h;const l=(qt(a.zIndex)?a.zIndex:0)+(a.selected?o:0),u=t.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},f=a.parentNode||a.parentId;f&&(s[f]=!0);const d=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,je,{enumerable:!1,value:{handleBounds:d||(h=u==null?void 0:u[je])==null?void 0:h.handleBounds,z:l}}),i.set(a.id,c)}),xM(i,n,s),i}function _M(e,t={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!u&&c;if(a&&l&&(d||!t.initial)){const m=n().filter(y=>{var v;const g=t.includeHiddenNodes?y.width&&y.height:!y.hidden;return(v=t.nodes)!=null&&v.length?g&&t.nodes.some(w=>w.id===y.id):g}),p=m.every(y=>y.width&&y.height);if(m.length>0&&p){const y=au(m,f),{x:g,y:v,zoom:w}=oM(y,r,i,t.minZoom??s,t.maxZoom??o,t.padding??.1),x=Pn.translate(g,v).scale(w);return typeof t.duration=="number"&&t.duration>0?a.transform(Ar(l,t.duration),x):a.transform(l,x),!0}}return!1}function XF(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[je]:r[je],selected:n.selected})}),new Map(t)}function ZF(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function wa({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:XF(e,i)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:ZF(t,s)}),a==null||a(t))}const li=()=>{},QF={zoomIn:li,zoomOut:li,zoomTo:li,getZoom:()=>1,setViewport:li,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:li,fitBounds:li,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},JF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),eq=()=>{const e=Ge(),{d3Zoom:t,d3Selection:n}=me(JF,Ze);return E.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Ar(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Ar(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,s)=>t.scaleTo(Ar(n,s==null?void 0:s.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=e.getState().transform,u=Pn.translate(i.x??o,i.y??a).scale(i.zoom??l);t.transform(Ar(n,s==null?void 0:s.duration),u)},getViewport:()=>{const[i,s,o]=e.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>_M(e.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:u}=e.getState(),c=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=a/2-i*c,d=l/2-s*c,h=Pn.translate(f,d).scale(c);t.transform(Ar(n,o==null?void 0:o.duration),h)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:f,zoom:d}=oM(i,o,a,l,u,(s==null?void 0:s.padding)??.1),h=Pn.translate(c,f).scale(d);t.transform(Ar(n,s==null?void 0:s.duration),h)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),jg(i,s,o,a)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:o,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return jg(f,s,o,a)},flowToScreenPosition:i=>{const{transform:s,domNode:o}=e.getState();if(!o)return i;const{x:a,y:l}=o.getBoundingClientRect(),u=rM(i,s);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:QF,[t,n])};function my(){const e=eq(),t=Ge(),n=E.useCallback(()=>t.getState().getNodes().map(p=>({...p})),[]),r=E.useCallback(p=>t.getState().nodeInternals.get(p),[]),i=E.useCallback(()=>{const{edges:p=[]}=t.getState();return p.map(y=>({...y}))},[]),s=E.useCallback(p=>{const{edges:y=[]}=t.getState();return y.find(g=>g.id===p)},[]),o=E.useCallback(p=>{const{getNodes:y,setNodes:g,hasDefaultNodes:v,onNodesChange:w}=t.getState(),x=y(),S=typeof p=="function"?p(x):p;if(v)g(S);else if(w){const C=S.length===0?x.map(T=>({type:"remove",id:T.id})):S.map(T=>({item:T,type:"reset"}));w(C)}},[]),a=E.useCallback(p=>{const{edges:y=[],setEdges:g,hasDefaultEdges:v,onEdgesChange:w}=t.getState(),x=typeof p=="function"?p(y):p;if(v)g(x);else if(w){const S=x.length===0?y.map(C=>({type:"remove",id:C.id})):x.map(C=>({item:C,type:"reset"}));w(S)}},[]),l=E.useCallback(p=>{const y=Array.isArray(p)?p:[p],{getNodes:g,setNodes:v,hasDefaultNodes:w,onNodesChange:x}=t.getState();if(w){const C=[...g(),...y];v(C)}else if(x){const S=y.map(C=>({item:C,type:"add"}));x(S)}},[]),u=E.useCallback(p=>{const y=Array.isArray(p)?p:[p],{edges:g=[],setEdges:v,hasDefaultEdges:w,onEdgesChange:x}=t.getState();if(w)v([...g,...y]);else if(x){const S=y.map(C=>({item:C,type:"add"}));x(S)}},[]),c=E.useCallback(()=>{const{getNodes:p,edges:y=[],transform:g}=t.getState(),[v,w,x]=g;return{nodes:p().map(S=>({...S})),edges:y.map(S=>({...S})),viewport:{x:v,y:w,zoom:x}}},[]),f=E.useCallback(({nodes:p,edges:y})=>{const{nodeInternals:g,getNodes:v,edges:w,hasDefaultNodes:x,hasDefaultEdges:S,onNodesDelete:C,onEdgesDelete:T,onNodesChange:k,onEdgesChange:M}=t.getState(),R=(p||[]).map(D=>D.id),j=(y||[]).map(D=>D.id),B=v().reduce((D,P)=>{const L=P.parentNode||P.parentId,A=!R.includes(P.id)&&L&&D.find(I=>I.id===L);return(typeof P.deletable=="boolean"?P.deletable:!0)&&(R.includes(P.id)||A)&&D.push(P),D},[]),V=w.filter(D=>typeof D.deletable=="boolean"?D.deletable:!0),b=V.filter(D=>j.includes(D.id));if(B||b){const D=sM(B,V),P=[...b,...D],L=P.reduce((A,N)=>(A.includes(N.id)||A.push(N.id),A),[]);if((S||x)&&(S&&t.setState({edges:w.filter(A=>!L.includes(A.id))}),x&&(B.forEach(A=>{g.delete(A.id)}),t.setState({nodeInternals:new Map(g)}))),L.length>0&&(T==null||T(P),M&&M(L.map(A=>({id:A,type:"remove"})))),B.length>0&&(C==null||C(B),k)){const A=B.map(N=>({id:N.id,type:"remove"}));k(A)}}},[]),d=E.useCallback(p=>{const y=xF(p),g=y?null:t.getState().nodeInternals.get(p.id);return!y&&!g?[null,null,y]:[y?p:e1(g),g,y]},[]),h=E.useCallback((p,y=!0,g)=>{const[v,w,x]=d(p);return v?(g||t.getState().getNodes()).filter(S=>{if(!x&&(S.id===w.id||!S.positionAbsolute))return!1;const C=e1(S),T=Ag(C,v);return y&&T>0||T>=v.width*v.height}):[]},[]),m=E.useCallback((p,y,g=!0)=>{const[v]=d(p);if(!v)return!1;const w=Ag(v,y);return g&&w>0||w>=v.width*v.height},[]);return E.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:m}),[e,n,r,i,s,o,a,l,u,c,f,h,m])}const tq={actInsideInputWithModifier:!1};var nq=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ge(),{deleteElements:r}=my(),i=Co(e,tq),s=Co(t);E.useEffect(()=>{if(i){const{edges:o,getNodes:a}=n.getState(),l=a().filter(c=>c.selected),u=o.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),E.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function rq(e){const t=Ge();E.useEffect(()=>{let n;const r=()=>{var s,o;if(!e.current)return;const i=ay(e.current);(i.height===0||i.width===0)&&((o=(s=t.getState()).onError)==null||o.call(s,"004",qn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const gy={position:"absolute",width:"100%",height:"100%",top:0,left:0},iq=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,xa=e=>({x:e.x,y:e.y,zoom:e.k}),ui=(e,t)=>e.target.closest(`.${t}`),c1=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),f1=e=>{const t=e.ctrlKey&&Sl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},sq=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),oq=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:o=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Or.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:m,maxZoom:p,zoomActivationKeyCode:y,preventScrolling:g=!0,children:v,noWheelClassName:w,noPanClassName:x})=>{const S=E.useRef(),C=Ge(),T=E.useRef(!1),k=E.useRef(!1),M=E.useRef(null),R=E.useRef({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:B,d3ZoomHandler:V,userSelectionActive:b}=me(sq,Ze),D=Co(y),P=E.useRef(0),L=E.useRef(!1),A=E.useRef();return rq(M),E.useEffect(()=>{if(M.current){const N=M.current.getBoundingClientRect(),I=HN().scaleExtent([m,p]).translateExtent(h),q=Ot(M.current).call(I),$=Pn.translate(d.x,d.y).scale(Ki(d.zoom,m,p)),O=[[0,0],[N.width,N.height]],U=I.constrain()($,O,h);I.transform(q,U),I.wheelDelta(f1),C.setState({d3Zoom:I,d3Selection:q,d3ZoomHandler:q.on("wheel.zoom"),transform:[U.x,U.y,U.k],domNode:M.current.closest(".react-flow")})}},[]),E.useEffect(()=>{B&&j&&(o&&!D&&!b?B.on("wheel.zoom",N=>{if(ui(N,w))return!1;N.preventDefault(),N.stopImmediatePropagation();const I=B.property("__zoom").k||1;if(N.ctrlKey&&s){const se=Yt(N),le=f1(N),oe=I*Math.pow(2,le);j.scaleTo(B,oe,se,N);return}const q=N.deltaMode===1?20:1;let $=l===Or.Vertical?0:N.deltaX*q,O=l===Or.Horizontal?0:N.deltaY*q;!Sl()&&N.shiftKey&&l!==Or.Vertical&&($=N.deltaY*q,O=0),j.translateBy(B,-($/I)*a,-(O/I)*a,{internal:!0});const U=xa(B.property("__zoom")),{onViewportChangeStart:G,onViewportChange:X,onViewportChangeEnd:te}=C.getState();clearTimeout(A.current),L.current||(L.current=!0,t==null||t(N,U),G==null||G(U)),L.current&&(e==null||e(N,U),X==null||X(U),A.current=setTimeout(()=>{n==null||n(N,U),te==null||te(U),L.current=!1},150))},{passive:!1}):typeof V<"u"&&B.on("wheel.zoom",function(N,I){if(!g&&N.type==="wheel"&&!N.ctrlKey||ui(N,w))return null;N.preventDefault(),V.call(this,N,I)},{passive:!1}))},[b,o,l,B,j,V,D,s,g,w,t,e,n]),E.useEffect(()=>{j&&j.on("start",N=>{var $,O;if(!N.sourceEvent||N.sourceEvent.internal)return null;P.current=($=N.sourceEvent)==null?void 0:$.button;const{onViewportChangeStart:I}=C.getState(),q=xa(N.transform);T.current=!0,R.current=q,((O=N.sourceEvent)==null?void 0:O.type)==="mousedown"&&C.setState({paneDragging:!0}),I==null||I(q),t==null||t(N.sourceEvent,q)})},[j,t]),E.useEffect(()=>{j&&(b&&!T.current?j.on("zoom",null):b||j.on("zoom",N=>{var q;const{onViewportChange:I}=C.getState();if(C.setState({transform:[N.transform.x,N.transform.y,N.transform.k]}),k.current=!!(r&&c1(f,P.current??0)),(e||I)&&!((q=N.sourceEvent)!=null&&q.internal)){const $=xa(N.transform);I==null||I($),e==null||e(N.sourceEvent,$)}}))},[b,j,e,f,r]),E.useEffect(()=>{j&&j.on("end",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;const{onViewportChangeEnd:I}=C.getState();if(T.current=!1,C.setState({paneDragging:!1}),r&&c1(f,P.current??0)&&!k.current&&r(N.sourceEvent),k.current=!1,(n||I)&&iq(R.current,N.transform)){const q=xa(N.transform);R.current=q,clearTimeout(S.current),S.current=setTimeout(()=>{I==null||I(q),n==null||n(N.sourceEvent,q)},o?150:0)}})},[j,o,f,n,r]),E.useEffect(()=>{j&&j.filter(N=>{const I=D||i,q=s&&N.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&N.button===1&&N.type==="mousedown"&&(ui(N,"react-flow__node")||ui(N,"react-flow__edge")))return!0;if(!f&&!I&&!o&&!u&&!s||b||!u&&N.type==="dblclick"||ui(N,w)&&N.type==="wheel"||ui(N,x)&&(N.type!=="wheel"||o&&N.type==="wheel"&&!D)||!s&&N.ctrlKey&&N.type==="wheel"||!I&&!o&&!q&&N.type==="wheel"||!f&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(f)&&!f.includes(N.button)&&N.type==="mousedown")return!1;const $=Array.isArray(f)&&f.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&$})},[b,j,i,s,o,u,f,c,D]),F.createElement("div",{className:"react-flow__renderer",ref:M,style:gy},v)},aq=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function lq(){const{userSelectionActive:e,userSelectionRect:t}=me(aq,Ze);return e&&t?F.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function d1(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(i>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function uq(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const s=e.filter(a=>a.id===i.id);if(s.length===0)return r.push(i),r;const o={...i};for(const a of s)if(a)switch(a.type){case"select":{o.selected=a.selected;break}case"position":{typeof a.position<"u"&&(o.position=a.position),typeof a.positionAbsolute<"u"&&(o.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(o.dragging=a.dragging),o.expandParent&&d1(r,o);break}case"dimensions":{typeof a.dimensions<"u"&&(o.width=a.dimensions.width,o.height=a.dimensions.height),typeof a.updateStyle<"u"&&(o.style={...o.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(o.resizing=a.resizing),o.expandParent&&d1(r,o);break}case"remove":return r}return r.push(o),r},n)}function cq(e,t){return uq(e,t)}const Qn=(e,t)=>({id:e,type:"select",selected:t});function bi(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Qn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Qn(r.id,!1))),n},[])}const mc=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},fq=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),SM=E.memo(({isSelecting:e,selectionMode:t=Eo.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:o,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const d=E.useRef(null),h=Ge(),m=E.useRef(0),p=E.useRef(0),y=E.useRef(),{userSelectionActive:g,elementsSelectable:v,dragging:w}=me(fq,Ze),x=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,p.current=0},S=V=>{s==null||s(V),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=V=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){V.preventDefault();return}o==null||o(V)},T=a?V=>a(V):void 0,k=V=>{const{resetSelectedElements:b,domNode:D}=h.getState();if(y.current=D==null?void 0:D.getBoundingClientRect(),!v||!e||V.button!==0||V.target!==d.current||!y.current)return;const{x:P,y:L}=hr(V,y.current);b(),h.setState({userSelectionRect:{width:0,height:0,startX:P,startY:L,x:P,y:L}}),r==null||r(V)},M=V=>{const{userSelectionRect:b,nodeInternals:D,edges:P,transform:L,onNodesChange:A,onEdgesChange:N,nodeOrigin:I,getNodes:q}=h.getState();if(!e||!y.current||!b)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=hr(V,y.current),O=b.startX??0,U=b.startY??0,G={...b,x:$.x<O?$.x:O,y:$.y<U?$.y:U,width:Math.abs($.x-O),height:Math.abs($.y-U)},X=q(),te=iM(D,G,L,t===Eo.Partial,!0,I),se=sM(te,P).map(oe=>oe.id),le=te.map(oe=>oe.id);if(m.current!==le.length){m.current=le.length;const oe=bi(X,le);oe.length&&(A==null||A(oe))}if(p.current!==se.length){p.current=se.length;const oe=bi(P,se);oe.length&&(N==null||N(oe))}h.setState({userSelectionRect:G})},R=V=>{if(V.button!==0)return;const{userSelectionRect:b}=h.getState();!g&&b&&V.target===d.current&&(S==null||S(V)),h.setState({nodesSelectionActive:m.current>0}),x(),i==null||i(V)},j=V=>{g&&(h.setState({nodesSelectionActive:m.current>0}),i==null||i(V)),x()},B=v&&(e||g);return F.createElement("div",{className:rt(["react-flow__pane",{dragging:w,selection:e}]),onClick:B?void 0:mc(S,d),onContextMenu:mc(C,d),onWheel:mc(T,d),onMouseEnter:B?void 0:l,onMouseDown:B?k:void 0,onMouseMove:B?M:u,onMouseUp:B?R:void 0,onMouseLeave:B?j:c,ref:d,style:gy},f,F.createElement(lq,null))});SM.displayName="Pane";function bM(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:bM(r,t):!1}function h1(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function dq(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!bM(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var s,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=i.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function hq(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function EM(e,t,n,r,i=[0,0],s){const o=hq(e,e.extent||r);let a=o;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=n.get(l),{x:d,y:h}=zr(f,i).positionAbsolute;a=f&&qt(d)&&qt(h)&&qt(f.width)&&qt(f.height)?[[d+e.width*i[0],h+e.height*i[1]],[d+f.width-e.width+e.width*i[0],h+f.height-e.height+e.height*i[1]]]:a}else s==null||s("005",qn.error005()),a=o;else if(e.extent&&l&&e.extent!=="parent"){const f=n.get(l),{x:d,y:h}=zr(f,i).positionAbsolute;a=[[e.extent[0][0]+d,e.extent[0][1]+h],[e.extent[1][0]+d,e.extent[1][1]+h]]}let u={x:0,y:0};if(l){const f=n.get(l);u=zr(f,i).positionAbsolute}const c=a&&a!=="parent"?ly(t,a):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function gc({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const p1=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),o=t.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/n,y:(u.top-o.top-a.y)/n,...ay(l)}})};function Ss(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Lg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeInternals:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",qn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function pq(){const e=Ge();return E.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(o-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function vc(e){return(t,n,r)=>e==null?void 0:e(t,r)}function CM({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const a=Ge(),[l,u]=E.useState(!1),c=E.useRef([]),f=E.useRef({x:null,y:null}),d=E.useRef(0),h=E.useRef(null),m=E.useRef({x:0,y:0}),p=E.useRef(null),y=E.useRef(!1),g=E.useRef(!1),v=E.useRef(!1),w=pq();return E.useEffect(()=>{if(e!=null&&e.current){const x=Ot(e.current),S=({x:k,y:M})=>{const{nodeInternals:R,onNodeDrag:j,onSelectionDrag:B,updateNodePositions:V,nodeExtent:b,snapGrid:D,snapToGrid:P,nodeOrigin:L,onError:A}=a.getState();f.current={x:k,y:M};let N=!1,I={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&b){const $=au(c.current,L);I=bo($)}if(c.current=c.current.map($=>{const O={x:k-$.distance.x,y:M-$.distance.y};P&&(O.x=D[0]*Math.round(O.x/D[0]),O.y=D[1]*Math.round(O.y/D[1]));const U=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];c.current.length>1&&b&&!$.extent&&(U[0][0]=$.positionAbsolute.x-I.x+b[0][0],U[1][0]=$.positionAbsolute.x+($.width??0)-I.x2+b[1][0],U[0][1]=$.positionAbsolute.y-I.y+b[0][1],U[1][1]=$.positionAbsolute.y+($.height??0)-I.y2+b[1][1]);const G=EM($,O,R,U,L,A);return N=N||$.position.x!==G.position.x||$.position.y!==G.position.y,$.position=G.position,$.positionAbsolute=G.positionAbsolute,$}),!N)return;V(c.current,!0,!0),u(!0);const q=i?j:vc(B);if(q&&p.current){const[$,O]=gc({nodeId:i,dragItems:c.current,nodeInternals:R});q(p.current,$,O)}},C=()=>{if(!h.current)return;const[k,M]=WN(m.current,h.current);if(k!==0||M!==0){const{transform:R,panBy:j}=a.getState();f.current.x=(f.current.x??0)-k/R[2],f.current.y=(f.current.y??0)-M/R[2],j({x:k,y:M})&&S(f.current)}d.current=requestAnimationFrame(C)},T=k=>{var L;const{nodeInternals:M,multiSelectionActive:R,nodesDraggable:j,unselectNodesAndEdges:B,onNodeDragStart:V,onSelectionDragStart:b}=a.getState();g.current=!0;const D=i?V:vc(b);(!o||!s)&&!R&&i&&((L=M.get(i))!=null&&L.selected||B()),i&&s&&o&&Lg({id:i,store:a,nodeRef:e});const P=w(k);if(f.current=P,c.current=dq(M,j,P,i),D&&c.current){const[A,N]=gc({nodeId:i,dragItems:c.current,nodeInternals:M});D(k.sourceEvent,A,N)}};if(t)x.on(".drag",null);else{const k=EO().on("start",M=>{const{domNode:R,nodeDragThreshold:j}=a.getState();j===0&&T(M),v.current=!1;const B=w(M);f.current=B,h.current=(R==null?void 0:R.getBoundingClientRect())||null,m.current=hr(M.sourceEvent,h.current)}).on("drag",M=>{var V,b;const R=w(M),{autoPanOnNodeDrag:j,nodeDragThreshold:B}=a.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(v.current=!0),!v.current){if(!y.current&&g.current&&j&&(y.current=!0,C()),!g.current){const D=R.xSnapped-(((V=f==null?void 0:f.current)==null?void 0:V.x)??0),P=R.ySnapped-(((b=f==null?void 0:f.current)==null?void 0:b.y)??0);Math.sqrt(D*D+P*P)>B&&T(M)}(f.current.x!==R.xSnapped||f.current.y!==R.ySnapped)&&c.current&&g.current&&(p.current=M.sourceEvent,m.current=hr(M.sourceEvent,h.current),S(R))}}).on("end",M=>{if(!(!g.current||v.current)&&(u(!1),y.current=!1,g.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:R,nodeInternals:j,onNodeDragStop:B,onSelectionDragStop:V}=a.getState(),b=i?B:vc(V);if(R(c.current,!1,!1),b){const[D,P]=gc({nodeId:i,dragItems:c.current,nodeInternals:j});b(M.sourceEvent,D,P)}}}).filter(M=>{const R=M.target;return!M.button&&(!n||!h1(R,`.${n}`,e))&&(!r||h1(R,r,e))});return x.call(k),()=>{x.on(".drag",null)}}}},[e,t,n,r,s,a,i,o,w]),l}function TM(){const e=Ge();return E.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:o,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),f=o().filter(v=>v.selected&&(v.draggable||c&&typeof v.draggable>"u")),d=a?l[0]:5,h=a?l[1]:5,m=n.isShiftPressed?4:1,p=n.x*d*m,y=n.y*h*m,g=f.map(v=>{if(v.positionAbsolute){const w={x:v.positionAbsolute.x+p,y:v.positionAbsolute.y+y};a&&(w.x=l[0]*Math.round(w.x/l[0]),w.y=l[1]*Math.round(w.y/l[1]));const{positionAbsolute:x,position:S}=EM(v,w,r,i,void 0,u);v.position=S,v.positionAbsolute=x}return v});s(g,!0,!1)},[])}const Oi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var bs=e=>{const t=({id:n,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:m,onDoubleClick:p,style:y,className:g,isDraggable:v,isSelectable:w,isConnectable:x,isFocusable:S,selectNodesOnDrag:C,sourcePosition:T,targetPosition:k,hidden:M,resizeObserver:R,dragHandle:j,zIndex:B,isParent:V,noDragClassName:b,noPanClassName:D,initialized:P,disableKeyboardA11y:L,ariaLabel:A,rfId:N,hasHandleBounds:I})=>{const q=Ge(),$=E.useRef(null),O=E.useRef(null),U=E.useRef(T),G=E.useRef(k),X=E.useRef(r),te=w||v||c||f||d||h,se=TM(),le=Ss(n,q.getState,f),oe=Ss(n,q.getState,d),Te=Ss(n,q.getState,h),xe=Ss(n,q.getState,m),Be=Ss(n,q.getState,p),De=Y=>{const{nodeDragThreshold:K}=q.getState();if(w&&(!C||!v||K>0)&&Lg({id:n,store:q,nodeRef:$}),c){const _e=q.getState().nodeInternals.get(n);_e&&c(Y,{..._e})}},J=Y=>{if(!Pg(Y)&&!L)if(ZN.includes(Y.key)&&w){const K=Y.key==="Escape";Lg({id:n,store:q,unselect:K,nodeRef:$})}else v&&u&&Object.prototype.hasOwnProperty.call(Oi,Y.key)&&(q.setState({ariaLiveMessage:`Moved selected node ${Y.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`}),se({x:Oi[Y.key].x,y:Oi[Y.key].y,isShiftPressed:Y.shiftKey}))};E.useEffect(()=>()=>{O.current&&(R==null||R.unobserve(O.current),O.current=null)},[]),E.useEffect(()=>{if($.current&&!M){const Y=$.current;(!P||!I||O.current!==Y)&&(O.current&&(R==null||R.unobserve(O.current)),R==null||R.observe(Y),O.current=Y)}},[M,P,I]),E.useEffect(()=>{const Y=X.current!==r,K=U.current!==T,_e=G.current!==k;$.current&&(Y||K||_e)&&(Y&&(X.current=r),K&&(U.current=T),_e&&(G.current=k),q.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,r,T,k]);const Le=CM({nodeRef:$,disabled:M||!v,noDragClassName:b,handleSelector:j,nodeId:n,isSelectable:w,selectNodesOnDrag:C});return M?null:F.createElement("div",{className:rt(["react-flow__node",`react-flow__node-${r}`,{[D]:v},g,{selected:u,selectable:w,parent:V,dragging:Le}]),ref:$,style:{zIndex:B,transform:`translate(${a}px,${l}px)`,pointerEvents:te?"all":"none",visibility:P?"visible":"hidden",...y},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:le,onMouseMove:oe,onMouseLeave:Te,onContextMenu:xe,onClick:De,onDoubleClick:Be,onKeyDown:S?J:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":L?void 0:`${vM}-${N}`,"aria-label":A},F.createElement(kF,{value:n},F.createElement(e,{id:n,data:i,type:r,xPos:s,yPos:o,selected:u,isConnectable:x,sourcePosition:T,targetPosition:k,dragging:Le,dragHandle:j,zIndex:B})))};return t.displayName="NodeWrapper",E.memo(t)};const mq=e=>{const t=e.getNodes().filter(n=>n.selected);return{...au(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function gq({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ge(),{width:i,height:s,x:o,y:a,transformString:l,userSelectionActive:u}=me(mq,Ze),c=TM(),f=E.useRef(null);if(E.useEffect(()=>{var m;n||(m=f.current)==null||m.focus({preventScroll:!0})},[n]),CM({nodeRef:f}),u||!i||!s)return null;const d=e?m=>{const p=r.getState().getNodes().filter(y=>y.selected);e(m,p)}:void 0,h=m=>{Object.prototype.hasOwnProperty.call(Oi,m.key)&&c({x:Oi[m.key].x,y:Oi[m.key].y,isShiftPressed:m.shiftKey})};return F.createElement("div",{className:rt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},F.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s,top:a,left:o}}))}var vq=E.memo(gq);const yq=e=>e.nodesSelectionActive,kM=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:m,onSelectionEnd:p,multiSelectionKeyCode:y,panActivationKeyCode:g,zoomActivationKeyCode:v,elementsSelectable:w,zoomOnScroll:x,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:T,panOnScrollMode:k,zoomOnDoubleClick:M,panOnDrag:R,defaultViewport:j,translateExtent:B,minZoom:V,maxZoom:b,preventScrolling:D,onSelectionContextMenu:P,noWheelClassName:L,noPanClassName:A,disableKeyboardA11y:N})=>{const I=me(yq),q=Co(f),$=Co(g),O=$||R,U=$||C,G=q||d&&O!==!0;return nq({deleteKeyCode:a,multiSelectionKeyCode:y}),F.createElement(oq,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:s,elementsSelectable:w,zoomOnScroll:x,zoomOnPinch:S,panOnScroll:U,panOnScrollSpeed:T,panOnScrollMode:k,zoomOnDoubleClick:M,panOnDrag:!q&&O,defaultViewport:j,translateExtent:B,minZoom:V,maxZoom:b,zoomActivationKeyCode:v,preventScrolling:D,noWheelClassName:L,noPanClassName:A},F.createElement(SM,{onSelectionStart:m,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:O,isSelecting:!!G,selectionMode:h},e,I&&F.createElement(vq,{onSelectionContextMenu:P,noPanClassName:A,disableKeyboardA11y:N})))};kM.displayName="FlowRenderer";var wq=E.memo(kM);function xq(e){return me(E.useCallback(n=>e?iM(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function _q(e){const t={input:bs(e.input||hM),default:bs(e.default||Dg),output:bs(e.output||mM),group:bs(e.group||py)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=bs(e[s]||Dg),i),n);return{...t,...r}}const Sq=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},bq=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),NM=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:o}=me(bq,Ze),a=xq(e.onlyRenderVisibleElements),l=E.useRef(),u=E.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));s(d)});return l.current=c,c},[]);return E.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),F.createElement("div",{className:"react-flow__nodes",style:gy},a.map(c=>{var S,C,T;let f=c.type||"default";e.nodeTypes[f]||(o==null||o("003",qn.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,h=!!(c.draggable||t&&typeof c.draggable>"u"),m=!!(c.selectable||i&&typeof c.selectable>"u"),p=!!(c.connectable||n&&typeof c.connectable>"u"),y=!!(c.focusable||r&&typeof c.focusable>"u"),g=e.nodeExtent?ly(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,v=(g==null?void 0:g.x)??0,w=(g==null?void 0:g.y)??0,x=Sq({x:v,y:w,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return F.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||Z.Bottom,targetPosition:c.targetPosition||Z.Top,hidden:c.hidden,xPos:v,yPos:w,xPosOrigin:x.x,yPosOrigin:x.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:h,isSelectable:m,isConnectable:p,isFocusable:y,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[je])==null?void 0:S.z)??0,isParent:!!((C=c[je])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((T=c[je])!=null&&T.handleBounds)})}))};NM.displayName="NodeRenderer";var Eq=E.memo(NM);const Cq=(e,t,n)=>n===Z.Left?e-t:n===Z.Right?e+t:e,Tq=(e,t,n)=>n===Z.Top?e-t:n===Z.Bottom?e+t:e,m1="react-flow__edgeupdater",g1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>F.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:rt([m1,`${m1}-${a}`]),cx:Cq(t,r,e),cy:Tq(n,r,e),r,stroke:"transparent",fill:"transparent"}),kq=()=>!0;var ci=e=>{const t=({id:n,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:p,style:y,source:g,target:v,sourceX:w,sourceY:x,targetX:S,targetY:C,sourcePosition:T,targetPosition:k,elementsSelectable:M,hidden:R,sourceHandleId:j,targetHandleId:B,onContextMenu:V,onMouseEnter:b,onMouseMove:D,onMouseLeave:P,reconnectRadius:L,onReconnect:A,onReconnectStart:N,onReconnectEnd:I,markerEnd:q,markerStart:$,rfId:O,ariaLabel:U,isFocusable:G,isReconnectable:X,pathOptions:te,interactionWidth:se,disableKeyboardA11y:le})=>{const oe=E.useRef(null),[Te,xe]=E.useState(!1),[Be,De]=E.useState(!1),J=Ge(),Le=E.useMemo(()=>`url('#${Ig($,O)}')`,[$,O]),Y=E.useMemo(()=>`url('#${Ig(q,O)}')`,[q,O]);if(R)return null;const K=ge=>{var on;const{edges:ke,addSelectedEdges:ze,unselectNodesAndEdges:ct,multiSelectionActive:Cr}=J.getState(),yn=ke.find(ls=>ls.id===n);yn&&(M&&(J.setState({nodesSelectionActive:!1}),yn.selected&&Cr?(ct({nodes:[],edges:[yn]}),(on=oe.current)==null||on.blur()):ze([n])),o&&o(ge,yn))},_e=_s(n,J.getState,a),St=_s(n,J.getState,V),We=_s(n,J.getState,b),Qe=_s(n,J.getState,D),Se=_s(n,J.getState,P),H=(ge,ke)=>{if(ge.button!==0)return;const{edges:ze,isValidConnection:ct}=J.getState(),Cr=ke?v:g,yn=(ke?B:j)||null,on=ke?"target":"source",ls=ct||kq,Ru=ke,us=ze.find(Tr=>Tr.id===n);De(!0),N==null||N(ge,us,on);const Iu=Tr=>{De(!1),I==null||I(Tr,us,on)};uM({event:ge,handleId:yn,nodeId:Cr,onConnect:Tr=>A==null?void 0:A(us,Tr),isTarget:Ru,getState:J.getState,setState:J.setState,isValidConnection:ls,edgeUpdaterType:on,onReconnectEnd:Iu})},Q=ge=>H(ge,!0),ue=ge=>H(ge,!1),he=()=>xe(!0),Ke=()=>xe(!1),be=!M&&!o,qe=ge=>{var ke;if(!le&&ZN.includes(ge.key)&&M){const{unselectNodesAndEdges:ze,addSelectedEdges:ct,edges:Cr}=J.getState();ge.key==="Escape"?((ke=oe.current)==null||ke.blur(),ze({edges:[Cr.find(on=>on.id===n)]})):ct([n])}};return F.createElement("g",{className:rt(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:be,updating:Te}]),onClick:K,onDoubleClick:_e,onContextMenu:St,onMouseEnter:We,onMouseMove:Qe,onMouseLeave:Se,onKeyDown:G?qe:void 0,tabIndex:G?0:void 0,role:G?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":U===null?void 0:U||`Edge from ${g} to ${v}`,"aria-describedby":G?`${yM}-${O}`:void 0,ref:oe},!Be&&F.createElement(e,{id:n,source:g,target:v,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:p,data:s,style:y,sourceX:w,sourceY:x,targetX:S,targetY:C,sourcePosition:T,targetPosition:k,sourceHandleId:j,targetHandleId:B,markerStart:Le,markerEnd:Y,pathOptions:te,interactionWidth:se}),X&&F.createElement(F.Fragment,null,(X==="source"||X===!0)&&F.createElement(g1,{position:T,centerX:w,centerY:x,radius:L,onMouseDown:Q,onMouseEnter:he,onMouseOut:Ke,type:"source"}),(X==="target"||X===!0)&&F.createElement(g1,{position:k,centerX:S,centerY:C,radius:L,onMouseDown:ue,onMouseEnter:he,onMouseOut:Ke,type:"target"})))};return t.displayName="EdgeWrapper",E.memo(t)};function Nq(e){const t={default:ci(e.default||El),straight:ci(e.bezier||fy),step:ci(e.step||cy),smoothstep:ci(e.step||ou),simplebezier:ci(e.simplebezier||uy)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=ci(e[s]||El),i),n);return{...t,...r}}function v1(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case Z.Top:return{x:r+s/2,y:i};case Z.Right:return{x:r+s,y:i+o/2};case Z.Bottom:return{x:r+s/2,y:i+o};case Z.Left:return{x:r,y:i+o/2}}}function y1(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const Mq=(e,t,n,r,i,s)=>{const o=v1(n,e,t),a=v1(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function Aq({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=bo({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function w1(e){var r,i,s,o,a;const t=((r=e==null?void 0:e[je])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const Pq=[{level:0,isMaxLevel:!0,edges:[]}];function Rq(e,t,n=!1){let r=-1;const i=e.reduce((o,a)=>{var c,f;const l=qt(a.zIndex);let u=l?a.zIndex:0;if(n){const d=t.get(a.target),h=t.get(a.source),m=a.selected||(d==null?void 0:d.selected)||(h==null?void 0:h.selected),p=Math.max(((c=h==null?void 0:h[je])==null?void 0:c.z)||0,((f=d==null?void 0:d[je])==null?void 0:f.z)||0,1e3);u=(l?a.zIndex:0)+(m?p:0)}return o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?Pq:s}function Iq(e,t,n){const r=me(E.useCallback(i=>e?i.edges.filter(s=>{const o=t.get(s.source),a=t.get(s.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&Aq({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return Rq(r,t,n)}const jq=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Dq=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),x1={[bl.Arrow]:jq,[bl.ArrowClosed]:Dq};function Lq(e){const t=Ge();return E.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(x1,e)?x1[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",qn.error009(e)),null)},[e])}const Oq=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=Lq(t);return l?F.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},F.createElement(l,{color:n,strokeWidth:o})):null},Fq=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=Ig(o,t);r.includes(a)||(i.push({id:a,color:o.color||e,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},MM=({defaultColor:e,rfId:t})=>{const n=me(E.useCallback(Fq({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return F.createElement("defs",null,n.map(r=>F.createElement(Oq,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};MM.displayName="MarkerDefinitions";var qq=E.memo(MM);const $q=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),AM=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:m,reconnectRadius:p,children:y,disableKeyboardA11y:g})=>{const{edgesFocusable:v,edgesUpdatable:w,elementsSelectable:x,width:S,height:C,connectionMode:T,nodeInternals:k,onError:M}=me($q,Ze),R=Iq(t,k,n);return S?F.createElement(F.Fragment,null,R.map(({level:j,edges:B,isMaxLevel:V})=>F.createElement("svg",{key:j,style:{zIndex:j},width:S,height:C,className:"react-flow__edges react-flow__container"},V&&F.createElement(qq,{defaultColor:e,rfId:r}),F.createElement("g",null,B.map(b=>{const[D,P,L]=w1(k.get(b.source)),[A,N,I]=w1(k.get(b.target));if(!L||!I)return null;let q=b.type||"default";i[q]||(M==null||M("011",qn.error011(q)),q="default");const $=i[q]||i.default,O=T===Zr.Strict?N.target:(N.target??[]).concat(N.source??[]),U=y1(P.source,b.sourceHandle),G=y1(O,b.targetHandle),X=(U==null?void 0:U.position)||Z.Bottom,te=(G==null?void 0:G.position)||Z.Top,se=!!(b.focusable||v&&typeof b.focusable>"u"),le=b.reconnectable||b.updatable,oe=typeof d<"u"&&(le||w&&typeof le>"u");if(!U||!G)return M==null||M("008",qn.error008(U,b)),null;const{sourceX:Te,sourceY:xe,targetX:Be,targetY:De}=Mq(D,U,X,A,G,te);return F.createElement($,{key:b.id,id:b.id,className:rt([b.className,s]),type:q,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:Te,sourceY:xe,targetX:Be,targetY:De,sourcePosition:X,targetPosition:te,elementsSelectable:x,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:m,reconnectRadius:p,rfId:r,ariaLabel:b.ariaLabel,isFocusable:se,isReconnectable:oe,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:g})})))),y):null};AM.displayName="EdgeRenderer";var Vq=E.memo(AM);const Bq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function zq({children:e}){const t=me(Bq);return F.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Uq(e){const t=my(),n=E.useRef(!1);E.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Hq={[Z.Left]:Z.Right,[Z.Right]:Z.Left,[Z.Top]:Z.Bottom,[Z.Bottom]:Z.Top},PM=({nodeId:e,handleType:t,style:n,type:r=tr.Bezier,CustomComponent:i,connectionStatus:s})=>{var C,T,k;const{fromNode:o,handleId:a,toX:l,toY:u,connectionMode:c}=me(E.useCallback(M=>({fromNode:M.nodeInternals.get(e),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[e]),Ze),f=(C=o==null?void 0:o[je])==null?void 0:C.handleBounds;let d=f==null?void 0:f[t];if(c===Zr.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!d)return null;const h=a?d.find(M=>M.id===a):d[0],m=h?h.x+h.width/2:(o.width??0)/2,p=h?h.y+h.height/2:o.height??0,y=(((T=o.positionAbsolute)==null?void 0:T.x)??0)+m,g=(((k=o.positionAbsolute)==null?void 0:k.y)??0)+p,v=h==null?void 0:h.position,w=v?Hq[v]:null;if(!v||!w)return null;if(i)return F.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:h,fromX:y,fromY:g,toX:l,toY:u,fromPosition:v,toPosition:w,connectionStatus:s});let x="";const S={sourceX:y,sourceY:g,sourcePosition:v,targetX:l,targetY:u,targetPosition:w};return r===tr.Bezier?[x]=nM(S):r===tr.Step?[x]=Rg({...S,borderRadius:0}):r===tr.SmoothStep?[x]=Rg(S):r===tr.SimpleBezier?[x]=tM(S):x=`M${y},${g} ${l},${u}`,F.createElement("path",{d:x,fill:"none",className:"react-flow__connection-path",style:n})};PM.displayName="ConnectionLine";const Gq=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Wq({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:o,width:a,height:l,connectionStatus:u}=me(Gq,Ze);return!(i&&s&&a&&o)?null:F.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},F.createElement("g",{className:rt(["react-flow__connection",u])},F.createElement(PM,{nodeId:i,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function _1(e,t){return E.useRef(null),Ge(),E.useMemo(()=>t(e),[e])}const RM=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:m,onSelectionStart:p,onSelectionEnd:y,connectionLineType:g,connectionLineStyle:v,connectionLineComponent:w,connectionLineContainerStyle:x,selectionKeyCode:S,selectionOnDrag:C,selectionMode:T,multiSelectionKeyCode:k,panActivationKeyCode:M,zoomActivationKeyCode:R,deleteKeyCode:j,onlyRenderVisibleElements:B,elementsSelectable:V,selectNodesOnDrag:b,defaultViewport:D,translateExtent:P,minZoom:L,maxZoom:A,preventScrolling:N,defaultMarkerColor:I,zoomOnScroll:q,zoomOnPinch:$,panOnScroll:O,panOnScrollSpeed:U,panOnScrollMode:G,zoomOnDoubleClick:X,panOnDrag:te,onPaneClick:se,onPaneMouseEnter:le,onPaneMouseMove:oe,onPaneMouseLeave:Te,onPaneScroll:xe,onPaneContextMenu:Be,onEdgeContextMenu:De,onEdgeMouseEnter:J,onEdgeMouseMove:Le,onEdgeMouseLeave:Y,onReconnect:K,onReconnectStart:_e,onReconnectEnd:St,reconnectRadius:We,noDragClassName:Qe,noWheelClassName:Se,noPanClassName:H,elevateEdgesOnSelect:Q,disableKeyboardA11y:ue,nodeOrigin:he,nodeExtent:Ke,rfId:be})=>{const qe=_1(e,_q),ge=_1(t,Nq);return Uq(s),F.createElement(wq,{onPaneClick:se,onPaneMouseEnter:le,onPaneMouseMove:oe,onPaneMouseLeave:Te,onPaneContextMenu:Be,onPaneScroll:xe,deleteKeyCode:j,selectionKeyCode:S,selectionOnDrag:C,selectionMode:T,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:k,panActivationKeyCode:M,zoomActivationKeyCode:R,elementsSelectable:V,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:q,zoomOnPinch:$,zoomOnDoubleClick:X,panOnScroll:O,panOnScrollSpeed:U,panOnScrollMode:G,panOnDrag:te,defaultViewport:D,translateExtent:P,minZoom:L,maxZoom:A,onSelectionContextMenu:m,preventScrolling:N,noDragClassName:Qe,noWheelClassName:Se,noPanClassName:H,disableKeyboardA11y:ue},F.createElement(zq,null,F.createElement(Vq,{edgeTypes:ge,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:De,onEdgeMouseEnter:J,onEdgeMouseMove:Le,onEdgeMouseLeave:Y,onReconnect:K,onReconnectStart:_e,onReconnectEnd:St,reconnectRadius:We,defaultMarkerColor:I,noPanClassName:H,elevateEdgesOnSelect:!!Q,disableKeyboardA11y:ue,rfId:be},F.createElement(Wq,{style:v,type:g,component:w,containerStyle:x})),F.createElement("div",{className:"react-flow__edgelabel-renderer"}),F.createElement(Eq,{nodeTypes:qe,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:b,onlyRenderVisibleElements:B,noPanClassName:H,noDragClassName:Qe,disableKeyboardA11y:ue,nodeOrigin:he,nodeExtent:Ke,rfId:be})))};RM.displayName="GraphView";var Kq=E.memo(RM);const Og=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Gn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Og,nodeExtent:Og,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Zr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:_F,isValidConnection:void 0},Yq=()=>LD((e,t)=>({...Gn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:pc(n,r,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",o=i?pc(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((p,y)=>{const g=i.get(y.id);if(g!=null&&g.hidden)i.set(g.id,{...g,[je]:{...g[je],handleBounds:void 0}});else if(g){const v=ay(y.nodeElement);!!(v.width&&v.height&&(g.width!==v.width||g.height!==v.height||y.forceUpdate))&&(i.set(g.id,{...g,[je]:{...g[je],handleBounds:{source:p1(".source",y.nodeElement,d,u),target:p1(".target",y.nodeElement,d,u)}},...v}),p.push({id:g.id,type:"dimensions",dimensions:v}))}return p},[]);xM(i,u);const m=o||s&&!o&&_M(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:m}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=t(),o=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:o,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const u=cq(n,a()),c=pc(u,i,o,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>Qn(l,!0)):(o=bi(s(),n),a=bi(i,[])),wa({changedNodes:o,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=t();let o,a=null;r?o=n.map(l=>Qn(l,!0)):(o=bi(i,n),a=bi(s(),[])),wa({changedNodes:a,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=t(),o=n||s(),a=r||i,l=o.map(c=>(c.selected=!1,Qn(c.id,!1))),u=a.map(c=>Qn(c.id,!1));wa({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(a=>a.selected).map(a=>Qn(a.id,!1)),o=n.filter(a=>a.selected).map(a=>Qn(a.id,!1));wa({changedNodes:s,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=ly(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:o,d3Selection:a,translateExtent:l}=t();if(!o||!a||!n.x&&!n.y)return!1;const u=Pn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,s]],f=o==null?void 0:o.constrain()(u,c,l);return o.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Gn.connectionNodeId,connectionHandleId:Gn.connectionHandleId,connectionHandleType:Gn.connectionHandleType,connectionStatus:Gn.connectionStatus,connectionStartHandle:Gn.connectionStartHandle,connectionEndHandle:Gn.connectionEndHandle}),reset:()=>e({...Gn})}),Object.is),IM=({children:e})=>{const t=E.useRef(null);return t.current||(t.current=Yq()),F.createElement(pF,{value:t.current},e)};IM.displayName="ReactFlowProvider";const jM=({children:e})=>E.useContext(su)?F.createElement(F.Fragment,null,e):F.createElement(IM,null,e);jM.displayName="ReactFlowWrapper";const Xq={input:hM,default:Dg,output:mM,group:py},Zq={default:El,straight:fy,step:cy,smoothstep:ou,simplebezier:uy},Qq=[0,0],Jq=[15,15],e$={x:0,y:0,zoom:1},t$={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},DM=E.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=Xq,edgeTypes:o=Zq,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:y,onClickConnectEnd:g,onNodeMouseEnter:v,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:T,onNodeDrag:k,onNodeDragStop:M,onNodesDelete:R,onEdgesDelete:j,onSelectionChange:B,onSelectionDragStart:V,onSelectionDrag:b,onSelectionDragStop:D,onSelectionContextMenu:P,onSelectionStart:L,onSelectionEnd:A,connectionMode:N=Zr.Strict,connectionLineType:I=tr.Bezier,connectionLineStyle:q,connectionLineComponent:$,connectionLineContainerStyle:O,deleteKeyCode:U="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:X=!1,selectionMode:te=Eo.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:le=Sl()?"Meta":"Control",zoomActivationKeyCode:oe=Sl()?"Meta":"Control",snapToGrid:Te=!1,snapGrid:xe=Jq,onlyRenderVisibleElements:Be=!1,selectNodesOnDrag:De=!0,nodesDraggable:J,nodesConnectable:Le,nodesFocusable:Y,nodeOrigin:K=Qq,edgesFocusable:_e,edgesUpdatable:St,elementsSelectable:We,defaultViewport:Qe=e$,minZoom:Se=.5,maxZoom:H=2,translateExtent:Q=Og,preventScrolling:ue=!0,nodeExtent:he,defaultMarkerColor:Ke="#b1b1b7",zoomOnScroll:be=!0,zoomOnPinch:qe=!0,panOnScroll:ge=!1,panOnScrollSpeed:ke=.5,panOnScrollMode:ze=Or.Free,zoomOnDoubleClick:ct=!0,panOnDrag:Cr=!0,onPaneClick:yn,onPaneMouseEnter:on,onPaneMouseMove:ls,onPaneMouseLeave:Ru,onPaneScroll:us,onPaneContextMenu:Iu,children:g0,onEdgeContextMenu:Tr,onEdgeDoubleClick:RR,onEdgeMouseEnter:IR,onEdgeMouseMove:jR,onEdgeMouseLeave:DR,onEdgeUpdate:LR,onEdgeUpdateStart:OR,onEdgeUpdateEnd:FR,onReconnect:qR,onReconnectStart:$R,onReconnectEnd:VR,reconnectRadius:BR=10,edgeUpdaterRadius:zR=10,onNodesChange:UR,onEdgesChange:HR,noDragClassName:GR="nodrag",noWheelClassName:WR="nowheel",noPanClassName:v0="nopan",fitView:KR=!1,fitViewOptions:YR,connectOnClick:XR=!0,attributionPosition:ZR,proOptions:QR,defaultEdgeOptions:JR,elevateNodesOnSelect:e2=!0,elevateEdgesOnSelect:t2=!1,disableKeyboardA11y:y0=!1,autoPanOnConnect:n2=!0,autoPanOnNodeDrag:r2=!0,connectionRadius:i2=20,isValidConnection:s2,onError:o2,style:a2,id:w0,nodeDragThreshold:l2,...u2},c2)=>{const ju=w0||"1";return F.createElement("div",{...u2,style:{...a2,...t$},ref:c2,className:rt(["react-flow",i]),"data-testid":"rf__wrapper",id:w0},F.createElement(jM,null,F.createElement(Kq,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:v,onNodeMouseMove:w,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:o,connectionLineType:I,connectionLineStyle:q,connectionLineComponent:$,connectionLineContainerStyle:O,selectionKeyCode:G,selectionOnDrag:X,selectionMode:te,deleteKeyCode:U,multiSelectionKeyCode:le,panActivationKeyCode:se,zoomActivationKeyCode:oe,onlyRenderVisibleElements:Be,selectNodesOnDrag:De,defaultViewport:Qe,translateExtent:Q,minZoom:Se,maxZoom:H,preventScrolling:ue,zoomOnScroll:be,zoomOnPinch:qe,zoomOnDoubleClick:ct,panOnScroll:ge,panOnScrollSpeed:ke,panOnScrollMode:ze,panOnDrag:Cr,onPaneClick:yn,onPaneMouseEnter:on,onPaneMouseMove:ls,onPaneMouseLeave:Ru,onPaneScroll:us,onPaneContextMenu:Iu,onSelectionContextMenu:P,onSelectionStart:L,onSelectionEnd:A,onEdgeContextMenu:Tr,onEdgeDoubleClick:RR,onEdgeMouseEnter:IR,onEdgeMouseMove:jR,onEdgeMouseLeave:DR,onReconnect:qR??LR,onReconnectStart:$R??OR,onReconnectEnd:VR??FR,reconnectRadius:BR??zR,defaultMarkerColor:Ke,noDragClassName:GR,noWheelClassName:WR,noPanClassName:v0,elevateEdgesOnSelect:t2,rfId:ju,disableKeyboardA11y:y0,nodeOrigin:K,nodeExtent:he}),F.createElement(UF,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:m,onConnectEnd:p,onClickConnectStart:y,onClickConnectEnd:g,nodesDraggable:J,nodesConnectable:Le,nodesFocusable:Y,edgesFocusable:_e,edgesUpdatable:St,elementsSelectable:We,elevateNodesOnSelect:e2,minZoom:Se,maxZoom:H,nodeExtent:he,onNodesChange:UR,onEdgesChange:HR,snapToGrid:Te,snapGrid:xe,connectionMode:N,translateExtent:Q,connectOnClick:XR,defaultEdgeOptions:JR,fitView:KR,fitViewOptions:YR,onNodesDelete:R,onEdgesDelete:j,onNodeDragStart:T,onNodeDrag:k,onNodeDragStop:M,onSelectionDrag:b,onSelectionDragStart:V,onSelectionDragStop:D,noPanClassName:v0,nodeOrigin:K,rfId:ju,autoPanOnConnect:n2,autoPanOnNodeDrag:r2,onError:o2,connectionRadius:i2,isValidConnection:s2,nodeDragThreshold:l2}),F.createElement(BF,{onSelectionChange:B}),g0,F.createElement(gF,{proOptions:QR,position:ZR}),F.createElement(YF,{rfId:ju,disableKeyboardA11y:y0})))});DM.displayName="ReactFlow";const LM=({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,onClick:d,selected:h})=>{const{background:m,backgroundColor:p}=s||{},y=o||m||p;return F.createElement("rect",{className:rt(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:y,stroke:a,strokeWidth:l,shapeRendering:f,onClick:d?g=>d(g,e):void 0})};LM.displayName="MiniMapNode";var n$=E.memo(LM);const r$=e=>e.nodeOrigin,i$=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),yc=e=>e instanceof Function?e:()=>e;function s$({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=n$,onClick:o}){const a=me(i$,Ze),l=me(r$),u=yc(t),c=yc(e),f=yc(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return F.createElement(F.Fragment,null,a.map(h=>{const{x:m,y:p}=zr(h,l).positionAbsolute;return F.createElement(s,{key:h.id,x:m,y:p,width:h.width,height:h.height,style:h.style,selected:h.selected,className:f(h),color:u(h),borderRadius:r,strokeColor:c(h),strokeWidth:i,shapeRendering:d,onClick:o,id:h.id})}))}var o$=E.memo(s$);const a$=200,l$=150,u$=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?wF(au(t,e.nodeOrigin),n):n,rfId:e.rfId}},c$="react-flow__minimap-desc";function OM({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:d,onNodeClick:h,pannable:m=!1,zoomable:p=!1,ariaLabel:y="React Flow mini map",inversePan:g=!1,zoomStep:v=10,offsetScale:w=5}){const x=Ge(),S=E.useRef(null),{boundingRect:C,viewBB:T,rfId:k}=me(u$,Ze),M=(e==null?void 0:e.width)??a$,R=(e==null?void 0:e.height)??l$,j=C.width/M,B=C.height/R,V=Math.max(j,B),b=V*M,D=V*R,P=w*V,L=C.x-(b-C.width)/2-P,A=C.y-(D-C.height)/2-P,N=b+P*2,I=D+P*2,q=`${c$}-${k}`,$=E.useRef(0);$.current=V,E.useEffect(()=>{if(S.current){const G=Ot(S.current),X=le=>{const{transform:oe,d3Selection:Te,d3Zoom:xe}=x.getState();if(le.sourceEvent.type!=="wheel"||!Te||!xe)return;const Be=-le.sourceEvent.deltaY*(le.sourceEvent.deltaMode===1?.05:le.sourceEvent.deltaMode?1:.002)*v,De=oe[2]*Math.pow(2,Be);xe.scaleTo(Te,De)},te=le=>{const{transform:oe,d3Selection:Te,d3Zoom:xe,translateExtent:Be,width:De,height:J}=x.getState();if(le.sourceEvent.type!=="mousemove"||!Te||!xe)return;const Le=$.current*Math.max(1,oe[2])*(g?-1:1),Y={x:oe[0]-le.sourceEvent.movementX*Le,y:oe[1]-le.sourceEvent.movementY*Le},K=[[0,0],[De,J]],_e=Pn.translate(Y.x,Y.y).scale(oe[2]),St=xe.constrain()(_e,K,Be);xe.transform(Te,St)},se=HN().on("zoom",m?te:null).on("zoom.wheel",p?X:null);return G.call(se),()=>{G.on("zoom",null)}}},[m,p,g,v]);const O=d?G=>{const X=Yt(G);d(G,{x:X[0],y:X[1]})}:void 0,U=h?(G,X)=>{const te=x.getState().nodeInternals.get(X);h(G,te)}:void 0;return F.createElement(oy,{position:f,style:e,className:rt(["react-flow__minimap",t]),"data-testid":"rf__minimap"},F.createElement("svg",{width:M,height:R,viewBox:`${L} ${A} ${N} ${I}`,role:"img","aria-labelledby":q,ref:S,onClick:O},y&&F.createElement("title",{id:q},y),F.createElement(o$,{onClick:U,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),F.createElement("path",{className:"react-flow__minimap-mask",d:`M${L-P},${A-P}h${N+P*2}v${I+P*2}h${-N-P*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fill:l,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}OM.displayName="MiniMap";var f$=E.memo(OM);function d$(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},F.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function h$(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},F.createElement("path",{d:"M0 0h32v4.2H0z"}))}function p$(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},F.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function m$(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function g$(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ps=({children:e,className:t,...n})=>F.createElement("button",{type:"button",className:rt(["react-flow__controls-button",t]),...n},e);Ps.displayName="ControlButton";const v$=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),FM=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:c,position:f="bottom-left"})=>{const d=Ge(),[h,m]=E.useState(!1),{isInteractive:p,minZoomReached:y,maxZoomReached:g}=me(v$,Ze),{zoomIn:v,zoomOut:w,fitView:x}=my();if(E.useEffect(()=>{m(!0)},[]),!h)return null;const S=()=>{v(),s==null||s()},C=()=>{w(),o==null||o()},T=()=>{x(i),a==null||a()},k=()=>{d.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),l==null||l(!p)};return F.createElement(oy,{className:rt(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&F.createElement(F.Fragment,null,F.createElement(Ps,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:g},F.createElement(d$,null)),F.createElement(Ps,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},F.createElement(h$,null))),n&&F.createElement(Ps,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},F.createElement(p$,null)),r&&F.createElement(Ps,{className:"react-flow__controls-interactive",onClick:k,title:"toggle interactivity","aria-label":"toggle interactivity"},p?F.createElement(g$,null):F.createElement(m$,null)),c)};FM.displayName="Controls";var y$=E.memo(FM),en;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(en||(en={}));function w$({color:e,dimensions:t,lineWidth:n}){return F.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function x$({color:e,radius:t}){return F.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const _$={[en.Dots]:"#91919a",[en.Lines]:"#eee",[en.Cross]:"#e2e2e2"},S$={[en.Dots]:1,[en.Lines]:1,[en.Cross]:6},b$=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function qM({id:e,variant:t=en.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:o,style:a,className:l}){const u=E.useRef(null),{transform:c,patternId:f}=me(b$,Ze),d=o||_$[t],h=r||S$[t],m=t===en.Dots,p=t===en.Cross,y=Array.isArray(n)?n:[n,n],g=[y[0]*c[2]||1,y[1]*c[2]||1],v=h*c[2],w=p?[v,v]:g,x=m?[v/s,v/s]:[w[0]/s,w[1]/s];return F.createElement("svg",{className:rt(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},F.createElement("pattern",{id:f+e,x:c[0]%g[0],y:c[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${x[0]},-${x[1]})`},m?F.createElement(x$,{color:d,radius:v/s}):F.createElement(w$,{dimensions:w,color:d,lineWidth:i})),F.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}qM.displayName="Background";var E$=E.memo(qM);function Ba(e){const t=new Map;for(const r of e)r.type==="tool_call"&&r.toolCallId&&t.set(r.toolCallId,r.id);const n=[];for(const r of e)if(!(r.type!=="llm_call"||!r.io)){for(const i of r.io.emittedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_emit_${r.id}_${s}`,source:r.id,target:s,kind:"io",toolCallId:i})}for(const i of r.io.consumedToolCallIds??[]){const s=t.get(i);s&&n.push({id:`io_consume_${s}_${r.id}`,source:s,target:r.id,kind:"io",toolCallId:i})}}return n}function vy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wc,S1;function C$(){if(S1)return wc;S1=1;function e(){this.__data__=[],this.size=0}return wc=e,wc}var xc,b1;function ts(){if(b1)return xc;b1=1;function e(t,n){return t===n||t!==t&&n!==n}return xc=e,xc}var _c,E1;function lu(){if(E1)return _c;E1=1;var e=ts();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return _c=t,_c}var Sc,C1;function T$(){if(C1)return Sc;C1=1;var e=lu(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Sc=r,Sc}var bc,T1;function k$(){if(T1)return bc;T1=1;var e=lu();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return bc=t,bc}var Ec,k1;function N$(){if(k1)return Ec;k1=1;var e=lu();function t(n){return e(this.__data__,n)>-1}return Ec=t,Ec}var Cc,N1;function M$(){if(N1)return Cc;N1=1;var e=lu();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Cc=t,Cc}var Tc,M1;function uu(){if(M1)return Tc;M1=1;var e=C$(),t=T$(),n=k$(),r=N$(),i=M$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Tc=s,Tc}var kc,A1;function A$(){if(A1)return kc;A1=1;var e=uu();function t(){this.__data__=new e,this.size=0}return kc=t,kc}var Nc,P1;function P$(){if(P1)return Nc;P1=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Nc=e,Nc}var Mc,R1;function R$(){if(R1)return Mc;R1=1;function e(t){return this.__data__.get(t)}return Mc=e,Mc}var Ac,I1;function I$(){if(I1)return Ac;I1=1;function e(t){return this.__data__.has(t)}return Ac=e,Ac}var Pc,j1;function $M(){if(j1)return Pc;j1=1;var e=typeof Ko=="object"&&Ko&&Ko.Object===Object&&Ko;return Pc=e,Pc}var Rc,D1;function rn(){if(D1)return Rc;D1=1;var e=$M(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Rc=n,Rc}var Ic,L1;function ns(){if(L1)return Ic;L1=1;var e=rn(),t=e.Symbol;return Ic=t,Ic}var jc,O1;function j$(){if(O1)return jc;O1=1;var e=ns(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(a?o[i]=l:delete o[i]),c}return jc=s,jc}var Dc,F1;function D$(){if(F1)return Dc;F1=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Dc=n,Dc}var Lc,q1;function ei(){if(q1)return Lc;q1=1;var e=ns(),t=j$(),n=D$(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return Lc=o,Lc}var Oc,$1;function zt(){if($1)return Oc;$1=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Oc=e,Oc}var Fc,V1;function qo(){if(V1)return Fc;V1=1;var e=ei(),t=zt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==s}return Fc=o,Fc}var qc,B1;function L$(){if(B1)return qc;B1=1;var e=rn(),t=e["__core-js_shared__"];return qc=t,qc}var $c,z1;function O$(){if(z1)return $c;z1=1;var e=L$(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return $c=n,$c}var Vc,U1;function VM(){if(U1)return Vc;U1=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Vc=n,Vc}var Bc,H1;function F$(){if(H1)return Bc;H1=1;var e=qo(),t=O$(),n=zt(),r=VM(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?c:s;return h.test(r(d))}return Bc=f,Bc}var zc,G1;function q$(){if(G1)return zc;G1=1;function e(t,n){return t==null?void 0:t[n]}return zc=e,zc}var Uc,W1;function ti(){if(W1)return Uc;W1=1;var e=F$(),t=q$();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return Uc=n,Uc}var Hc,K1;function yy(){if(K1)return Hc;K1=1;var e=ti(),t=rn(),n=e(t,"Map");return Hc=n,Hc}var Gc,Y1;function cu(){if(Y1)return Gc;Y1=1;var e=ti(),t=e(Object,"create");return Gc=t,Gc}var Wc,X1;function $$(){if(X1)return Wc;X1=1;var e=cu();function t(){this.__data__=e?e(null):{},this.size=0}return Wc=t,Wc}var Kc,Z1;function V$(){if(Z1)return Kc;Z1=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Kc=e,Kc}var Yc,Q1;function B$(){if(Q1)return Yc;Q1=1;var e=cu(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return Yc=i,Yc}var Xc,J1;function z$(){if(J1)return Xc;J1=1;var e=cu(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return Xc=r,Xc}var Zc,ex;function U$(){if(ex)return Zc;ex=1;var e=cu(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return Zc=n,Zc}var Qc,tx;function H$(){if(tx)return Qc;tx=1;var e=$$(),t=V$(),n=B$(),r=z$(),i=U$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Qc=s,Qc}var Jc,nx;function G$(){if(nx)return Jc;nx=1;var e=H$(),t=uu(),n=yy();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Jc=r,Jc}var ef,rx;function W$(){if(rx)return ef;rx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return ef=e,ef}var tf,ix;function fu(){if(ix)return tf;ix=1;var e=W$();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return tf=t,tf}var nf,sx;function K$(){if(sx)return nf;sx=1;var e=fu();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return nf=t,nf}var rf,ox;function Y$(){if(ox)return rf;ox=1;var e=fu();function t(n){return e(this,n).get(n)}return rf=t,rf}var sf,ax;function X$(){if(ax)return sf;ax=1;var e=fu();function t(n){return e(this,n).has(n)}return sf=t,sf}var of,lx;function Z$(){if(lx)return of;lx=1;var e=fu();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return of=t,of}var af,ux;function wy(){if(ux)return af;ux=1;var e=G$(),t=K$(),n=Y$(),r=X$(),i=Z$();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var u=o[a];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,af=s,af}var lf,cx;function Q$(){if(cx)return lf;cx=1;var e=uu(),t=yy(),n=wy(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return lf=i,lf}var uf,fx;function du(){if(fx)return uf;fx=1;var e=uu(),t=A$(),n=P$(),r=R$(),i=I$(),s=Q$();function o(a){var l=this.__data__=new e(a);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,uf=o,uf}var cf,dx;function xy(){if(dx)return cf;dx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return cf=e,cf}var ff,hx;function BM(){if(hx)return ff;hx=1;var e=ti(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ff=t,ff}var df,px;function hu(){if(px)return df;px=1;var e=BM();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return df=t,df}var hf,mx;function pu(){if(mx)return hf;mx=1;var e=hu(),t=ts(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&t(l,a))||a===void 0&&!(o in s))&&e(s,o,a)}return hf=i,hf}var pf,gx;function $o(){if(gx)return pf;gx=1;var e=pu(),t=hu();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=o?o(s[c],r[c],c,s,r):void 0;f===void 0&&(f=r[c]),a?t(s,c,f):e(s,c,f)}return s}return pf=n,pf}var mf,vx;function J$(){if(vx)return mf;vx=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return mf=e,mf}var gf,yx;function vn(){if(yx)return gf;yx=1;function e(t){return t!=null&&typeof t=="object"}return gf=e,gf}var vf,wx;function eV(){if(wx)return vf;wx=1;var e=ei(),t=vn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return vf=r,vf}var yf,xx;function Vo(){if(xx)return yf;xx=1;var e=eV(),t=vn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return yf=s,yf}var wf,_x;function Ve(){if(_x)return wf;_x=1;var e=Array.isArray;return wf=e,wf}var Rs={exports:{}},xf,Sx;function tV(){if(Sx)return xf;Sx=1;function e(){return!1}return xf=e,xf}Rs.exports;var bx;function rs(){return bx||(bx=1,function(e,t){var n=rn(),r=tV(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u}(Rs,Rs.exports)),Rs.exports}var _f,Ex;function mu(){if(Ex)return _f;Ex=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return _f=n,_f}var Sf,Cx;function _y(){if(Cx)return Sf;Cx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Sf=t,Sf}var bf,Tx;function nV(){if(Tx)return bf;Tx=1;var e=ei(),t=_y(),n=vn(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",m="[object String]",p="[object WeakMap]",y="[object ArrayBuffer]",g="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",k="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",j={};j[v]=j[w]=j[x]=j[S]=j[C]=j[T]=j[k]=j[M]=j[R]=!0,j[r]=j[i]=j[y]=j[s]=j[g]=j[o]=j[a]=j[l]=j[u]=j[c]=j[f]=j[d]=j[h]=j[m]=j[p]=!1;function B(V){return n(V)&&t(V.length)&&!!j[e(V)]}return bf=B,bf}var Ef,kx;function gu(){if(kx)return Ef;kx=1;function e(t){return function(n){return t(n)}}return Ef=e,Ef}var Is={exports:{}};Is.exports;var Nx;function Sy(){return Nx||(Nx=1,function(e,t){var n=$M(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(Is,Is.exports)),Is.exports}var Cf,Mx;function Bo(){if(Mx)return Cf;Mx=1;var e=nV(),t=gu(),n=Sy(),r=n&&n.isTypedArray,i=r?t(r):e;return Cf=i,Cf}var Tf,Ax;function zM(){if(Ax)return Tf;Ax=1;var e=J$(),t=Vo(),n=Ve(),r=rs(),i=mu(),s=Bo(),o=Object.prototype,a=o.hasOwnProperty;function l(u,c){var f=n(u),d=!f&&t(u),h=!f&&!d&&r(u),m=!f&&!d&&!h&&s(u),p=f||d||h||m,y=p?e(u.length,String):[],g=y.length;for(var v in u)(c||a.call(u,v))&&!(p&&(v=="length"||h&&(v=="offset"||v=="parent")||m&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||i(v,g)))&&y.push(v);return y}return Tf=l,Tf}var kf,Px;function vu(){if(Px)return kf;Px=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return kf=t,kf}var Nf,Rx;function UM(){if(Rx)return Nf;Rx=1;function e(t,n){return function(r){return t(n(r))}}return Nf=e,Nf}var Mf,Ix;function rV(){if(Ix)return Mf;Ix=1;var e=UM(),t=e(Object.keys,Object);return Mf=t,Mf}var Af,jx;function by(){if(jx)return Af;jx=1;var e=vu(),t=rV(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return Af=i,Af}var Pf,Dx;function zn(){if(Dx)return Pf;Dx=1;var e=qo(),t=_y();function n(r){return r!=null&&t(r.length)&&!e(r)}return Pf=n,Pf}var Rf,Lx;function br(){if(Lx)return Rf;Lx=1;var e=zM(),t=by(),n=zn();function r(i){return n(i)?e(i):t(i)}return Rf=r,Rf}var If,Ox;function iV(){if(Ox)return If;Ox=1;var e=$o(),t=br();function n(r,i){return r&&e(i,t(i),r)}return If=n,If}var jf,Fx;function sV(){if(Fx)return jf;Fx=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return jf=e,jf}var Df,qx;function oV(){if(qx)return Df;qx=1;var e=zt(),t=vu(),n=sV(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),l=[];for(var u in o)u=="constructor"&&(a||!i.call(o,u))||l.push(u);return l}return Df=s,Df}var Lf,$x;function ni(){if($x)return Lf;$x=1;var e=zM(),t=oV(),n=zn();function r(i){return n(i)?e(i,!0):t(i)}return Lf=r,Lf}var Of,Vx;function aV(){if(Vx)return Of;Vx=1;var e=$o(),t=ni();function n(r,i){return r&&e(i,t(i),r)}return Of=n,Of}var js={exports:{}};js.exports;var Bx;function HM(){return Bx||(Bx=1,function(e,t){var n=rn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=a?a(f):new u.constructor(f);return u.copy(d),d}e.exports=l}(js,js.exports)),js.exports}var Ff,zx;function GM(){if(zx)return Ff;zx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Ff=e,Ff}var qf,Ux;function WM(){if(Ux)return qf;Ux=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return qf=e,qf}var $f,Hx;function KM(){if(Hx)return $f;Hx=1;function e(){return[]}return $f=e,$f}var Vf,Gx;function Ey(){if(Gx)return Vf;Gx=1;var e=WM(),t=KM(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return Vf=s,Vf}var Bf,Wx;function lV(){if(Wx)return Bf;Wx=1;var e=$o(),t=Ey();function n(r,i){return e(r,t(r),i)}return Bf=n,Bf}var zf,Kx;function Cy(){if(Kx)return zf;Kx=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return zf=e,zf}var Uf,Yx;function yu(){if(Yx)return Uf;Yx=1;var e=UM(),t=e(Object.getPrototypeOf,Object);return Uf=t,Uf}var Hf,Xx;function YM(){if(Xx)return Hf;Xx=1;var e=Cy(),t=yu(),n=Ey(),r=KM(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return Hf=s,Hf}var Gf,Zx;function uV(){if(Zx)return Gf;Zx=1;var e=$o(),t=YM();function n(r,i){return e(r,t(r),i)}return Gf=n,Gf}var Wf,Qx;function XM(){if(Qx)return Wf;Qx=1;var e=Cy(),t=Ve();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return Wf=n,Wf}var Kf,Jx;function ZM(){if(Jx)return Kf;Jx=1;var e=XM(),t=Ey(),n=br();function r(i){return e(i,n,t)}return Kf=r,Kf}var Yf,e_;function cV(){if(e_)return Yf;e_=1;var e=XM(),t=YM(),n=ni();function r(i){return e(i,n,t)}return Yf=r,Yf}var Xf,t_;function fV(){if(t_)return Xf;t_=1;var e=ti(),t=rn(),n=e(t,"DataView");return Xf=n,Xf}var Zf,n_;function dV(){if(n_)return Zf;n_=1;var e=ti(),t=rn(),n=e(t,"Promise");return Zf=n,Zf}var Qf,r_;function QM(){if(r_)return Qf;r_=1;var e=ti(),t=rn(),n=e(t,"Set");return Qf=n,Qf}var Jf,i_;function hV(){if(i_)return Jf;i_=1;var e=ti(),t=rn(),n=e(t,"WeakMap");return Jf=n,Jf}var ed,s_;function is(){if(s_)return ed;s_=1;var e=fV(),t=yy(),n=dV(),r=QM(),i=hV(),s=ei(),o=VM(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=o(e),m=o(t),p=o(n),y=o(r),g=o(i),v=s;return(e&&v(new e(new ArrayBuffer(1)))!=d||t&&v(new t)!=a||n&&v(n.resolve())!=u||r&&v(new r)!=c||i&&v(new i)!=f)&&(v=function(w){var x=s(w),S=x==l?w.constructor:void 0,C=S?o(S):"";if(C)switch(C){case h:return d;case m:return a;case p:return u;case y:return c;case g:return f}return x}),ed=v,ed}var td,o_;function pV(){if(o_)return td;o_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return td=n,td}var nd,a_;function JM(){if(a_)return nd;a_=1;var e=rn(),t=e.Uint8Array;return nd=t,nd}var rd,l_;function Ty(){if(l_)return rd;l_=1;var e=JM();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return rd=t,rd}var id,u_;function mV(){if(u_)return id;u_=1;var e=Ty();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return id=t,id}var sd,c_;function gV(){if(c_)return sd;c_=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return sd=t,sd}var od,f_;function vV(){if(f_)return od;f_=1;var e=ns(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return od=r,od}var ad,d_;function eA(){if(d_)return ad;d_=1;var e=Ty();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return ad=t,ad}var ld,h_;function yV(){if(h_)return ld;h_=1;var e=Ty(),t=mV(),n=gV(),r=vV(),i=eA(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",m="[object DataView]",p="[object Float32Array]",y="[object Float64Array]",g="[object Int8Array]",v="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]";function k(M,R,j){var B=M.constructor;switch(R){case h:return e(M);case s:case o:return new B(+M);case m:return t(M,j);case p:case y:case g:case v:case w:case x:case S:case C:case T:return i(M,j);case a:return new B;case l:case f:return new B(M);case u:return n(M);case c:return new B;case d:return r(M)}}return ld=k,ld}var ud,p_;function tA(){if(p_)return ud;p_=1;var e=zt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return ud=n,ud}var cd,m_;function nA(){if(m_)return cd;m_=1;var e=tA(),t=yu(),n=vu();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return cd=r,cd}var fd,g_;function wV(){if(g_)return fd;g_=1;var e=is(),t=vn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return fd=r,fd}var dd,v_;function xV(){if(v_)return dd;v_=1;var e=wV(),t=gu(),n=Sy(),r=n&&n.isMap,i=r?t(r):e;return dd=i,dd}var hd,y_;function _V(){if(y_)return hd;y_=1;var e=is(),t=vn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return hd=r,hd}var pd,w_;function SV(){if(w_)return pd;w_=1;var e=_V(),t=gu(),n=Sy(),r=n&&n.isSet,i=r?t(r):e;return pd=i,pd}var md,x_;function rA(){if(x_)return md;x_=1;var e=du(),t=xy(),n=pu(),r=iV(),i=aV(),s=HM(),o=GM(),a=lV(),l=uV(),u=ZM(),c=cV(),f=is(),d=pV(),h=yV(),m=nA(),p=Ve(),y=rs(),g=xV(),v=zt(),w=SV(),x=br(),S=ni(),C=1,T=2,k=4,M="[object Arguments]",R="[object Array]",j="[object Boolean]",B="[object Date]",V="[object Error]",b="[object Function]",D="[object GeneratorFunction]",P="[object Map]",L="[object Number]",A="[object Object]",N="[object RegExp]",I="[object Set]",q="[object String]",$="[object Symbol]",O="[object WeakMap]",U="[object ArrayBuffer]",G="[object DataView]",X="[object Float32Array]",te="[object Float64Array]",se="[object Int8Array]",le="[object Int16Array]",oe="[object Int32Array]",Te="[object Uint8Array]",xe="[object Uint8ClampedArray]",Be="[object Uint16Array]",De="[object Uint32Array]",J={};J[M]=J[R]=J[U]=J[G]=J[j]=J[B]=J[X]=J[te]=J[se]=J[le]=J[oe]=J[P]=J[L]=J[A]=J[N]=J[I]=J[q]=J[$]=J[Te]=J[xe]=J[Be]=J[De]=!0,J[V]=J[b]=J[O]=!1;function Le(Y,K,_e,St,We,Qe){var Se,H=K&C,Q=K&T,ue=K&k;if(_e&&(Se=We?_e(Y,St,We,Qe):_e(Y)),Se!==void 0)return Se;if(!v(Y))return Y;var he=p(Y);if(he){if(Se=d(Y),!H)return o(Y,Se)}else{var Ke=f(Y),be=Ke==b||Ke==D;if(y(Y))return s(Y,H);if(Ke==A||Ke==M||be&&!We){if(Se=Q||be?{}:m(Y),!H)return Q?l(Y,i(Se,Y)):a(Y,r(Se,Y))}else{if(!J[Ke])return We?Y:{};Se=h(Y,Ke,H)}}Qe||(Qe=new e);var qe=Qe.get(Y);if(qe)return qe;Qe.set(Y,Se),w(Y)?Y.forEach(function(ze){Se.add(Le(ze,K,_e,ze,Y,Qe))}):g(Y)&&Y.forEach(function(ze,ct){Se.set(ct,Le(ze,K,_e,ct,Y,Qe))});var ge=ue?Q?c:u:Q?S:x,ke=he?void 0:ge(Y);return t(ke||Y,function(ze,ct){ke&&(ct=ze,ze=Y[ct]),n(Se,ct,Le(ze,K,_e,ct,Y,Qe))}),Se}return md=Le,md}var gd,__;function bV(){if(__)return gd;__=1;var e=rA(),t=4;function n(r){return e(r,t)}return gd=n,gd}var vd,S_;function ky(){if(S_)return vd;S_=1;function e(t){return function(){return t}}return vd=e,vd}var yd,b_;function EV(){if(b_)return yd;b_=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var u=a[t?l:++s];if(r(o[u],u,o)===!1)break}return n}}return yd=e,yd}var wd,E_;function Ny(){if(E_)return wd;E_=1;var e=EV(),t=e();return wd=t,wd}var xd,C_;function My(){if(C_)return xd;C_=1;var e=Ny(),t=br();function n(r,i){return r&&e(r,i,t)}return xd=n,xd}var _d,T_;function CV(){if(T_)return _d;T_=1;var e=zn();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return _d=t,_d}var Sd,k_;function wu(){if(k_)return Sd;k_=1;var e=My(),t=CV(),n=t(e);return Sd=n,Sd}var bd,N_;function ri(){if(N_)return bd;N_=1;function e(t){return t}return bd=e,bd}var Ed,M_;function iA(){if(M_)return Ed;M_=1;var e=ri();function t(n){return typeof n=="function"?n:e}return Ed=t,Ed}var Cd,A_;function sA(){if(A_)return Cd;A_=1;var e=xy(),t=wu(),n=iA(),r=Ve();function i(s,o){var a=r(s)?e:t;return a(s,n(o))}return Cd=i,Cd}var Td,P_;function oA(){return P_||(P_=1,Td=sA()),Td}var kd,R_;function TV(){if(R_)return kd;R_=1;var e=wu();function t(n,r){var i=[];return e(n,function(s,o,a){r(s,o,a)&&i.push(s)}),i}return kd=t,kd}var Nd,I_;function kV(){if(I_)return Nd;I_=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Nd=t,Nd}var Md,j_;function NV(){if(j_)return Md;j_=1;function e(t){return this.__data__.has(t)}return Md=e,Md}var Ad,D_;function aA(){if(D_)return Ad;D_=1;var e=wy(),t=kV(),n=NV();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Ad=r,Ad}var Pd,L_;function MV(){if(L_)return Pd;L_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Pd=e,Pd}var Rd,O_;function lA(){if(O_)return Rd;O_=1;function e(t,n){return t.has(n)}return Rd=e,Rd}var Id,F_;function uA(){if(F_)return Id;F_=1;var e=aA(),t=MV(),n=lA(),r=1,i=2;function s(o,a,l,u,c,f){var d=l&r,h=o.length,m=a.length;if(h!=m&&!(d&&m>h))return!1;var p=f.get(o),y=f.get(a);if(p&&y)return p==a&&y==o;var g=-1,v=!0,w=l&i?new e:void 0;for(f.set(o,a),f.set(a,o);++g<h;){var x=o[g],S=a[g];if(u)var C=d?u(S,x,g,a,o,f):u(x,S,g,o,a,f);if(C!==void 0){if(C)continue;v=!1;break}if(w){if(!t(a,function(T,k){if(!n(w,k)&&(x===T||c(x,T,l,u,f)))return w.push(k)})){v=!1;break}}else if(!(x===S||c(x,S,l,u,f))){v=!1;break}}return f.delete(o),f.delete(a),v}return Id=s,Id}var jd,q_;function AV(){if(q_)return jd;q_=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return jd=e,jd}var Dd,$_;function Ay(){if($_)return Dd;$_=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Dd=e,Dd}var Ld,V_;function PV(){if(V_)return Ld;V_=1;var e=ns(),t=JM(),n=ts(),r=uA(),i=AV(),s=Ay(),o=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",m="[object Set]",p="[object String]",y="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",w=e?e.prototype:void 0,x=w?w.valueOf:void 0;function S(C,T,k,M,R,j,B){switch(k){case v:if(C.byteLength!=T.byteLength||C.byteOffset!=T.byteOffset)return!1;C=C.buffer,T=T.buffer;case g:return!(C.byteLength!=T.byteLength||!j(new t(C),new t(T)));case l:case u:case d:return n(+C,+T);case c:return C.name==T.name&&C.message==T.message;case h:case p:return C==T+"";case f:var V=i;case m:var b=M&o;if(V||(V=s),C.size!=T.size&&!b)return!1;var D=B.get(C);if(D)return D==T;M|=a,B.set(C,T);var P=r(V(C),V(T),M,R,j,B);return B.delete(C),P;case y:if(x)return x.call(C)==x.call(T)}return!1}return Ld=S,Ld}var Od,B_;function RV(){if(B_)return Od;B_=1;var e=ZM(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,u,c){var f=a&t,d=e(s),h=d.length,m=e(o),p=m.length;if(h!=p&&!f)return!1;for(var y=h;y--;){var g=d[y];if(!(f?g in o:r.call(o,g)))return!1}var v=c.get(s),w=c.get(o);if(v&&w)return v==o&&w==s;var x=!0;c.set(s,o),c.set(o,s);for(var S=f;++y<h;){g=d[y];var C=s[g],T=o[g];if(l)var k=f?l(T,C,g,o,s,c):l(C,T,g,s,o,c);if(!(k===void 0?C===T||u(C,T,a,l,c):k)){x=!1;break}S||(S=g=="constructor")}if(x&&!S){var M=s.constructor,R=o.constructor;M!=R&&"constructor"in s&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof R=="function"&&R instanceof R)&&(x=!1)}return c.delete(s),c.delete(o),x}return Od=i,Od}var Fd,z_;function IV(){if(z_)return Fd;z_=1;var e=du(),t=uA(),n=PV(),r=RV(),i=is(),s=Ve(),o=rs(),a=Bo(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function m(p,y,g,v,w,x){var S=s(p),C=s(y),T=S?c:i(p),k=C?c:i(y);T=T==u?f:T,k=k==u?f:k;var M=T==f,R=k==f,j=T==k;if(j&&o(p)){if(!o(y))return!1;S=!0,M=!1}if(j&&!M)return x||(x=new e),S||a(p)?t(p,y,g,v,w,x):n(p,y,T,g,v,w,x);if(!(g&l)){var B=M&&h.call(p,"__wrapped__"),V=R&&h.call(y,"__wrapped__");if(B||V){var b=B?p.value():p,D=V?y.value():y;return x||(x=new e),w(b,D,g,v,x)}}return j?(x||(x=new e),r(p,y,g,v,w,x)):!1}return Fd=m,Fd}var qd,U_;function cA(){if(U_)return qd;U_=1;var e=IV(),t=vn();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return qd=n,qd}var $d,H_;function jV(){if(H_)return $d;H_=1;var e=du(),t=cA(),n=1,r=2;function i(s,o,a,l){var u=a.length,c=u,f=!l;if(s==null)return!c;for(s=Object(s);u--;){var d=a[u];if(f&&d[2]?d[1]!==s[d[0]]:!(d[0]in s))return!1}for(;++u<c;){d=a[u];var h=d[0],m=s[h],p=d[1];if(f&&d[2]){if(m===void 0&&!(h in s))return!1}else{var y=new e;if(l)var g=l(m,p,h,s,o,y);if(!(g===void 0?t(p,m,n|r,l,y):g))return!1}}return!0}return $d=i,$d}var Vd,G_;function fA(){if(G_)return Vd;G_=1;var e=zt();function t(n){return n===n&&!e(n)}return Vd=t,Vd}var Bd,W_;function DV(){if(W_)return Bd;W_=1;var e=fA(),t=br();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return Bd=n,Bd}var zd,K_;function dA(){if(K_)return zd;K_=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return zd=e,zd}var Ud,Y_;function LV(){if(Y_)return Ud;Y_=1;var e=jV(),t=DV(),n=dA();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return Ud=r,Ud}var Hd,X_;function ss(){if(X_)return Hd;X_=1;var e=ei(),t=vn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Hd=r,Hd}var Gd,Z_;function Py(){if(Z_)return Gd;Z_=1;var e=Ve(),t=ss(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return Gd=i,Gd}var Wd,Q_;function OV(){if(Q_)return Wd;Q_=1;var e=wy(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var u=r.apply(this,o);return s.cache=l.set(a,u)||l,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,Wd=n,Wd}var Kd,J_;function FV(){if(J_)return Kd;J_=1;var e=OV(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return Kd=n,Kd}var Yd,eS;function qV(){if(eS)return Yd;eS=1;var e=FV(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,u){s.push(l?u.replace(n,"$1"):a||o)}),s});return Yd=r,Yd}var Xd,tS;function xu(){if(tS)return Xd;tS=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return Xd=e,Xd}var Zd,nS;function $V(){if(nS)return Zd;nS=1;var e=ns(),t=xu(),n=Ve(),r=ss(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Zd=o,Zd}var Qd,rS;function hA(){if(rS)return Qd;rS=1;var e=$V();function t(n){return n==null?"":e(n)}return Qd=t,Qd}var Jd,iS;function _u(){if(iS)return Jd;iS=1;var e=Ve(),t=Py(),n=qV(),r=hA();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return Jd=i,Jd}var eh,sS;function zo(){if(sS)return eh;sS=1;var e=ss();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return eh=t,eh}var th,oS;function Su(){if(oS)return th;oS=1;var e=_u(),t=zo();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return th=n,th}var nh,aS;function VV(){if(aS)return nh;aS=1;var e=Su();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return nh=t,nh}var rh,lS;function BV(){if(lS)return rh;lS=1;function e(t,n){return t!=null&&n in Object(t)}return rh=e,rh}var ih,uS;function pA(){if(uS)return ih;uS=1;var e=_u(),t=Vo(),n=Ve(),r=mu(),i=_y(),s=zo();function o(a,l,u){l=e(l,a);for(var c=-1,f=l.length,d=!1;++c<f;){var h=s(l[c]);if(!(d=a!=null&&u(a,h)))break;a=a[h]}return d||++c!=f?d:(f=a==null?0:a.length,!!f&&i(f)&&r(h,f)&&(n(a)||t(a)))}return ih=o,ih}var sh,cS;function mA(){if(cS)return sh;cS=1;var e=BV(),t=pA();function n(r,i){return r!=null&&t(r,i,e)}return sh=n,sh}var oh,fS;function zV(){if(fS)return oh;fS=1;var e=cA(),t=VV(),n=mA(),r=Py(),i=fA(),s=dA(),o=zo(),a=1,l=2;function u(c,f){return r(c)&&i(f)?s(o(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?n(d,c):e(f,h,a|l)}}return oh=u,oh}var ah,dS;function gA(){if(dS)return ah;dS=1;function e(t){return function(n){return n==null?void 0:n[t]}}return ah=e,ah}var lh,hS;function UV(){if(hS)return lh;hS=1;var e=Su();function t(n){return function(r){return e(r,n)}}return lh=t,lh}var uh,pS;function HV(){if(pS)return uh;pS=1;var e=gA(),t=UV(),n=Py(),r=zo();function i(s){return n(s)?e(r(s)):t(s)}return uh=i,uh}var ch,mS;function Un(){if(mS)return ch;mS=1;var e=LV(),t=zV(),n=ri(),r=Ve(),i=HV();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return ch=s,ch}var fh,gS;function vA(){if(gS)return fh;gS=1;var e=WM(),t=TV(),n=Un(),r=Ve();function i(s,o){var a=r(s)?e:t;return a(s,n(o,3))}return fh=i,fh}var dh,vS;function GV(){if(vS)return dh;vS=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return dh=n,dh}var hh,yS;function yA(){if(yS)return hh;yS=1;var e=GV(),t=pA();function n(r,i){return r!=null&&t(r,i,e)}return hh=n,hh}var ph,wS;function WV(){if(wS)return ph;wS=1;var e=by(),t=is(),n=Vo(),r=Ve(),i=zn(),s=rs(),o=vu(),a=Bo(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||s(h)||a(h)||n(h)))return!h.length;var m=t(h);if(m==l||m==u)return!h.size;if(o(h))return!e(h).length;for(var p in h)if(f.call(h,p))return!1;return!0}return ph=d,ph}var mh,xS;function wA(){if(xS)return mh;xS=1;function e(t){return t===void 0}return mh=e,mh}var gh,_S;function xA(){if(_S)return gh;_S=1;var e=wu(),t=zn();function n(r,i){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(a,l,u){o[++s]=i(a,l,u)}),o}return gh=n,gh}var vh,SS;function _A(){if(SS)return vh;SS=1;var e=xu(),t=Un(),n=xA(),r=Ve();function i(s,o){var a=r(s)?e:n;return a(s,t(o,3))}return vh=i,vh}var yh,bS;function KV(){if(bS)return yh;bS=1;function e(t,n,r,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(r=t[++s]);++s<o;)r=n(r,t[s],s,t);return r}return yh=e,yh}var wh,ES;function YV(){if(ES)return wh;ES=1;function e(t,n,r,i,s){return s(t,function(o,a,l){r=i?(i=!1,o):n(r,o,a,l)}),r}return wh=e,wh}var xh,CS;function SA(){if(CS)return xh;CS=1;var e=KV(),t=wu(),n=Un(),r=YV(),i=Ve();function s(o,a,l){var u=i(o)?e:r,c=arguments.length<3;return u(o,n(a,4),l,c,t)}return xh=s,xh}var _h,TS;function XV(){if(TS)return _h;TS=1;var e=ei(),t=Ve(),n=vn(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return _h=i,_h}var Sh,kS;function ZV(){if(kS)return Sh;kS=1;var e=gA(),t=e("length");return Sh=t,Sh}var bh,NS;function QV(){if(NS)return bh;NS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",a=RegExp("["+o+e+i+s+"]");function l(u){return a.test(u)}return bh=l,bh}var Eh,MS;function JV(){if(MS)return Eh;MS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="["+e+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+a+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",m=u+"?",p="["+s+"]?",y="(?:"+h+"(?:"+[c,f,d].join("|")+")"+p+m+")*",g=p+m+y,v="(?:"+[c+a+"?",a,f,d,o].join("|")+")",w=RegExp(l+"(?="+l+")|"+v+g,"g");function x(S){for(var C=w.lastIndex=0;w.test(S);)++C;return C}return Eh=x,Eh}var Ch,AS;function e4(){if(AS)return Ch;AS=1;var e=ZV(),t=QV(),n=JV();function r(i){return t(i)?n(i):e(i)}return Ch=r,Ch}var Th,PS;function t4(){if(PS)return Th;PS=1;var e=by(),t=is(),n=zn(),r=XV(),i=e4(),s="[object Map]",o="[object Set]";function a(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==s||u==o?l.size:e(l).length}return Th=a,Th}var kh,RS;function n4(){if(RS)return kh;RS=1;var e=xy(),t=tA(),n=My(),r=Un(),i=yu(),s=Ve(),o=rs(),a=qo(),l=zt(),u=Bo();function c(f,d,h){var m=s(f),p=m||o(f)||u(f);if(d=r(d,4),h==null){var y=f&&f.constructor;p?h=m?new y:[]:l(f)?h=a(y)?t(i(f)):{}:h={}}return(p?e:n)(f,function(g,v,w){return d(h,g,v,w)}),h}return kh=c,kh}var Nh,IS;function r4(){if(IS)return Nh;IS=1;var e=ns(),t=Vo(),n=Ve(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return Nh=i,Nh}var Mh,jS;function Ry(){if(jS)return Mh;jS=1;var e=Cy(),t=r4();function n(r,i,s,o,a){var l=-1,u=r.length;for(s||(s=t),a||(a=[]);++l<u;){var c=r[l];i>0&&s(c)?i>1?n(c,i-1,s,o,a):e(a,c):o||(a[a.length]=c)}return a}return Mh=n,Mh}var Ah,DS;function i4(){if(DS)return Ah;DS=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Ah=e,Ah}var Ph,LS;function bA(){if(LS)return Ph;LS=1;var e=i4(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=t(o.length-i,0),u=Array(l);++a<l;)u[a]=o[i+a];a=-1;for(var c=Array(i+1);++a<i;)c[a]=o[a];return c[i]=s(u),e(r,this,c)}}return Ph=n,Ph}var Rh,OS;function s4(){if(OS)return Rh;OS=1;var e=ky(),t=BM(),n=ri(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Rh=r,Rh}var Ih,FS;function o4(){if(FS)return Ih;FS=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=t-(a-o);if(o=a,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Ih=r,Ih}var jh,qS;function EA(){if(qS)return jh;qS=1;var e=s4(),t=o4(),n=t(e);return jh=n,jh}var Dh,$S;function bu(){if($S)return Dh;$S=1;var e=ri(),t=bA(),n=EA();function r(i,s){return n(t(i,s,e),i+"")}return Dh=r,Dh}var Lh,VS;function CA(){if(VS)return Lh;VS=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return Lh=e,Lh}var Oh,BS;function a4(){if(BS)return Oh;BS=1;function e(t){return t!==t}return Oh=e,Oh}var Fh,zS;function l4(){if(zS)return Fh;zS=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return Fh=e,Fh}var qh,US;function u4(){if(US)return qh;US=1;var e=CA(),t=a4(),n=l4();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return qh=r,qh}var $h,HS;function c4(){if(HS)return $h;HS=1;var e=u4();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return $h=t,$h}var Vh,GS;function f4(){if(GS)return Vh;GS=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return Vh=e,Vh}var Bh,WS;function d4(){if(WS)return Bh;WS=1;function e(){}return Bh=e,Bh}var zh,KS;function h4(){if(KS)return zh;KS=1;var e=QM(),t=d4(),n=Ay(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return zh=i,zh}var Uh,YS;function p4(){if(YS)return Uh;YS=1;var e=aA(),t=c4(),n=f4(),r=lA(),i=h4(),s=Ay(),o=200;function a(l,u,c){var f=-1,d=t,h=l.length,m=!0,p=[],y=p;if(c)m=!1,d=n;else if(h>=o){var g=u?null:i(l);if(g)return s(g);m=!1,d=r,y=new e}else y=u?[]:p;e:for(;++f<h;){var v=l[f],w=u?u(v):v;if(v=c||v!==0?v:0,m&&w===w){for(var x=y.length;x--;)if(y[x]===w)continue e;u&&y.push(w),p.push(v)}else d(y,w,c)||(y!==p&&y.push(w),p.push(v))}return p}return Uh=a,Uh}var Hh,XS;function TA(){if(XS)return Hh;XS=1;var e=zn(),t=vn();function n(r){return t(r)&&e(r)}return Hh=n,Hh}var Gh,ZS;function m4(){if(ZS)return Gh;ZS=1;var e=Ry(),t=bu(),n=p4(),r=TA(),i=t(function(s){return n(e(s,1,r,!0))});return Gh=i,Gh}var Wh,QS;function g4(){if(QS)return Wh;QS=1;var e=xu();function t(n,r){return e(r,function(i){return n[i]})}return Wh=t,Wh}var Kh,JS;function kA(){if(JS)return Kh;JS=1;var e=g4(),t=br();function n(r){return r==null?[]:e(r,t(r))}return Kh=n,Kh}var Yh,eb;function Ut(){if(eb)return Yh;eb=1;var e;if(typeof vy=="function")try{e={clone:bV(),constant:ky(),each:oA(),filter:vA(),has:yA(),isArray:Ve(),isEmpty:WV(),isFunction:qo(),isUndefined:wA(),keys:br(),map:_A(),reduce:SA(),size:t4(),transform:n4(),union:m4(),values:kA()}}catch{}return e||(e=window._),Yh=e,Yh}var Xh,tb;function Iy(){if(tb)return Xh;tb=1;var e=Ut();Xh=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(m){d.length>1?h.setNode(m,f):h.setNode(m)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(p,y){c(y)&&f.setNode(y,p)}),e.each(this._edgeObjs,function(p){f.hasNode(p.v)&&f.hasNode(p.w)&&f.setEdge(p,d.edge(p))});var h={};function m(p){var y=d.parent(p);return y===void 0||f.hasNode(y)?(h[p]=y,y):y in h?h[y]:m(y)}return this._isCompound&&e.each(f.nodes(),function(p){f.setParent(p,m(p))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(m,p){return h.length>1?d.setEdge(m,p,f):d.setEdge(m,p),p}),this},i.prototype.setEdge=function(){var c,f,d,h,m=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(c=p.v,f=p.w,d=p.name,arguments.length===2&&(h=arguments[1],m=!0)):(c=p,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],m=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var y=a(this._isDirected,c,f,d);if(e.has(this._edgeLabels,y))return m&&(this._edgeLabels[y]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[y]=m?h:this._defaultEdgeLabelFn(c,f,d);var g=l(this._isDirected,c,f,d);return c=g.v,f=g.w,Object.freeze(g),this._edgeObjs[y]=g,s(this._preds[f],c),s(this._sucs[c],f),this._in[f][y]=g,this._out[c][y]=g,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):a(this._isDirected,c,f,d),m=this._edgeObjs[h];return m&&(c=m.v,f=m.w,delete this._edgeLabels[h],delete this._edgeObjs[h],o(this._preds[f],c),o(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(m){return m.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(m){return m.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function s(c,f){c[f]?c[f]++:c[f]=1}function o(c,f){--c[f]||delete c[f]}function a(c,f,d,h){var m=""+f,p=""+d;if(!c&&m>p){var y=m;m=p,p=y}return m+r+p+r+(e.isUndefined(h)?t:h)}function l(c,f,d,h){var m=""+f,p=""+d;if(!c&&m>p){var y=m;m=p,p=y}var g={v:m,w:p};return h&&(g.name=h),g}function u(c,f){return a(c,f.v,f.w,f.name)}return Xh}var Zh,nb;function v4(){return nb||(nb=1,Zh="2.1.8"),Zh}var Qh,rb;function y4(){return rb||(rb=1,Qh={Graph:Iy(),version:v4()}),Qh}var Jh,ib;function w4(){if(ib)return Jh;ib=1;var e=Ut(),t=Iy();Jh={write:n,read:s};function n(o){var a={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:i(o)};return e.isUndefined(o.graph())||(a.value=e.clone(o.graph())),a}function r(o){return e.map(o.nodes(),function(a){var l=o.node(a),u=o.parent(a),c={v:a};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(o){return e.map(o.edges(),function(a){var l=o.edge(a),u={v:a.v,w:a.w};return e.isUndefined(a.name)||(u.name=a.name),e.isUndefined(l)||(u.value=l),u})}function s(o){var a=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),e.each(o.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return Jh}var ep,sb;function x4(){if(sb)return ep;sb=1;var e=Ut();ep=t;function t(n){var r={},i=[],s;function o(a){e.has(r,a)||(r[a]=!0,s.push(a),e.each(n.successors(a),o),e.each(n.predecessors(a),o))}return e.each(n.nodes(),function(a){s=[],o(a),s.length&&i.push(s)}),i}return ep}var tp,ob;function NA(){if(ob)return tp;ob=1;var e=Ut();tp=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},t.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r},tp}var np,ab;function MA(){if(ab)return np;ab=1;var e=Ut(),t=NA();np=r;var n=e.constant(1);function r(s,o,a,l){return i(s,String(o),a||n,l||function(u){return s.outEdges(u)})}function i(s,o,a,l){var u={},c=new t,f,d,h=function(m){var p=m.v!==f?m.v:m.w,y=u[p],g=a(m),v=d.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+m+" Weight: "+g);v<y.distance&&(y.distance=v,y.predecessor=f,c.decrease(p,v))};for(s.nodes().forEach(function(m){var p=m===o?0:Number.POSITIVE_INFINITY;u[m]={distance:p},c.add(m,p)});c.size()>0&&(f=c.removeMin(),d=u[f],d.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(h);return u}return np}var rp,lb;function _4(){if(lb)return rp;lb=1;var e=MA(),t=Ut();rp=n;function n(r,i,s){return t.transform(r.nodes(),function(o,a){o[a]=e(r,a,i,s)},{})}return rp}var ip,ub;function AA(){if(ub)return ip;ub=1;var e=Ut();ip=t;function t(n){var r=0,i=[],s={},o=[];function a(l){var u=s[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(d){e.has(s,d)?s[d].onStack&&(u.lowlink=Math.min(u.lowlink,s[d].index)):(a(d),u.lowlink=Math.min(u.lowlink,s[d].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),s[f].onStack=!1,c.push(f);while(l!==f);o.push(c)}}return n.nodes().forEach(function(l){e.has(s,l)||a(l)}),o}return ip}var sp,cb;function S4(){if(cb)return sp;cb=1;var e=Ut(),t=AA();sp=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return sp}var op,fb;function b4(){if(fb)return op;fb=1;var e=Ut();op=n;var t=e.constant(1);function n(i,s,o){return r(i,s||t,o||function(a){return i.outEdges(a)})}function r(i,s,o){var a={},l=i.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(c){u!==c&&(a[u][c]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(c){var f=c.v===u?c.w:c.v,d=s(c);a[u][f]={distance:d,predecessor:u}})}),l.forEach(function(u){var c=a[u];l.forEach(function(f){var d=a[f];l.forEach(function(h){var m=d[u],p=c[h],y=d[h],g=m.distance+p.distance;g<y.distance&&(y.distance=g,y.predecessor=p.predecessor)})})}),a}return op}var ap,db;function PA(){if(db)return ap;db=1;var e=Ut();ap=t,t.CycleException=n;function t(r){var i={},s={},o=[];function a(l){if(e.has(s,l))throw new n;e.has(i,l)||(s[l]=!0,i[l]=!0,e.each(r.predecessors(l),a),delete s[l],o.push(l))}if(e.each(r.sinks(),a),e.size(i)!==r.nodeCount())throw new n;return o}function n(){}return n.prototype=new Error,ap}var lp,hb;function E4(){if(hb)return lp;hb=1;var e=PA();lp=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return lp}var up,pb;function RA(){if(pb)return up;pb=1;var e=Ut();up=t;function t(r,i,s){e.isArray(i)||(i=[i]);var o=(r.isDirected()?r.successors:r.neighbors).bind(r),a=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,s==="post",l,o,a)}),a}function n(r,i,s,o,a,l){e.has(o,i)||(o[i]=!0,s||l.push(i),e.each(a(i),function(u){n(r,u,s,o,a,l)}),s&&l.push(i))}return up}var cp,mb;function C4(){if(mb)return cp;mb=1;var e=RA();cp=t;function t(n,r){return e(n,r,"post")}return cp}var fp,gb;function T4(){if(gb)return fp;gb=1;var e=RA();fp=t;function t(n,r){return e(n,r,"pre")}return fp}var dp,vb;function k4(){if(vb)return dp;vb=1;var e=Ut(),t=Iy(),n=NA();dp=r;function r(i,s){var o=new t,a={},l=new n,u;function c(d){var h=d.v===u?d.w:d.v,m=l.priority(h);if(m!==void 0){var p=s(d);p<m&&(a[h]=u,l.decrease(h,p))}}if(i.nodeCount()===0)return o;e.each(i.nodes(),function(d){l.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(a,u))o.setEdge(u,a[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return o}return dp}var hp,yb;function N4(){return yb||(yb=1,hp={components:x4(),dijkstra:MA(),dijkstraAll:_4(),findCycles:S4(),floydWarshall:b4(),isAcyclic:E4(),postorder:C4(),preorder:T4(),prim:k4(),tarjan:AA(),topsort:PA()}),hp}var pp,wb;function M4(){if(wb)return pp;wb=1;var e=y4();return pp={Graph:e.Graph,json:w4(),alg:N4(),version:e.version},pp}var Tl;if(typeof vy=="function")try{Tl=M4()}catch{}Tl||(Tl=window.graphlib);var sn=Tl,mp,xb;function A4(){if(xb)return mp;xb=1;var e=rA(),t=1,n=4;function r(i){return e(i,t|n)}return mp=r,mp}var gp,_b;function Eu(){if(_b)return gp;_b=1;var e=ts(),t=zn(),n=mu(),r=zt();function i(s,o,a){if(!r(a))return!1;var l=typeof o;return(l=="number"?t(a)&&n(o,a.length):l=="string"&&o in a)?e(a[o],s):!1}return gp=i,gp}var vp,Sb;function P4(){if(Sb)return vp;Sb=1;var e=bu(),t=ts(),n=Eu(),r=ni(),i=Object.prototype,s=i.hasOwnProperty,o=e(function(a,l){a=Object(a);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var d=l[u],h=r(d),m=-1,p=h.length;++m<p;){var y=h[m],g=a[y];(g===void 0||t(g,i[y])&&!s.call(a,y))&&(a[y]=d[y])}return a});return vp=o,vp}var yp,bb;function R4(){if(bb)return yp;bb=1;var e=Un(),t=zn(),n=br();function r(i){return function(s,o,a){var l=Object(s);if(!t(s)){var u=e(o,3);s=n(s),o=function(f){return u(l[f],f,l)}}var c=i(s,o,a);return c>-1?l[u?s[c]:c]:void 0}}return yp=r,yp}var wp,Eb;function I4(){if(Eb)return wp;Eb=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return wp=t,wp}var xp,Cb;function j4(){if(Cb)return xp;Cb=1;var e=I4(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return xp=n,xp}var _p,Tb;function D4(){if(Tb)return _p;Tb=1;var e=j4(),t=zt(),n=ss(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=s.test(u);return f||o.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return _p=l,_p}var Sp,kb;function IA(){if(kb)return Sp;kb=1;var e=D4(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return Sp=r,Sp}var bp,Nb;function L4(){if(Nb)return bp;Nb=1;var e=IA();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return bp=t,bp}var Ep,Mb;function O4(){if(Mb)return Ep;Mb=1;var e=CA(),t=Un(),n=L4(),r=Math.max;function i(s,o,a){var l=s==null?0:s.length;if(!l)return-1;var u=a==null?0:n(a);return u<0&&(u=r(l+u,0)),e(s,t(o,3),u)}return Ep=i,Ep}var Cp,Ab;function F4(){if(Ab)return Cp;Ab=1;var e=R4(),t=O4(),n=e(t);return Cp=n,Cp}var Tp,Pb;function jA(){if(Pb)return Tp;Pb=1;var e=Ry();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Tp=t,Tp}var kp,Rb;function q4(){if(Rb)return kp;Rb=1;var e=Ny(),t=iA(),n=ni();function r(i,s){return i==null?i:e(i,t(s),n)}return kp=r,kp}var Np,Ib;function $4(){if(Ib)return Np;Ib=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Np=e,Np}var Mp,jb;function V4(){if(jb)return Mp;jb=1;var e=hu(),t=My(),n=Un();function r(i,s){var o={};return s=n(s,3),t(i,function(a,l,u){e(o,l,s(a,l,u))}),o}return Mp=r,Mp}var Ap,Db;function jy(){if(Db)return Ap;Db=1;var e=ss();function t(n,r,i){for(var s=-1,o=n.length;++s<o;){var a=n[s],l=r(a);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=a}return c}return Ap=t,Ap}var Pp,Lb;function B4(){if(Lb)return Pp;Lb=1;function e(t,n){return t>n}return Pp=e,Pp}var Rp,Ob;function z4(){if(Ob)return Rp;Ob=1;var e=jy(),t=B4(),n=ri();function r(i){return i&&i.length?e(i,n,t):void 0}return Rp=r,Rp}var Ip,Fb;function DA(){if(Fb)return Ip;Fb=1;var e=hu(),t=ts();function n(r,i,s){(s!==void 0&&!t(r[i],s)||s===void 0&&!(i in r))&&e(r,i,s)}return Ip=n,Ip}var jp,qb;function U4(){if(qb)return jp;qb=1;var e=ei(),t=yu(),n=vn(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=a.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&o.call(d)==l}return jp=u,jp}var Dp,$b;function LA(){if($b)return Dp;$b=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Dp=e,Dp}var Lp,Vb;function H4(){if(Vb)return Lp;Vb=1;var e=$o(),t=ni();function n(r){return e(r,t(r))}return Lp=n,Lp}var Op,Bb;function G4(){if(Bb)return Op;Bb=1;var e=DA(),t=HM(),n=eA(),r=GM(),i=nA(),s=Vo(),o=Ve(),a=TA(),l=rs(),u=qo(),c=zt(),f=U4(),d=Bo(),h=LA(),m=H4();function p(y,g,v,w,x,S,C){var T=h(y,v),k=h(g,v),M=C.get(k);if(M){e(y,v,M);return}var R=S?S(T,k,v+"",y,g,C):void 0,j=R===void 0;if(j){var B=o(k),V=!B&&l(k),b=!B&&!V&&d(k);R=k,B||V||b?o(T)?R=T:a(T)?R=r(T):V?(j=!1,R=t(k,!0)):b?(j=!1,R=n(k,!0)):R=[]:f(k)||s(k)?(R=T,s(T)?R=m(T):(!c(T)||u(T))&&(R=i(k))):j=!1}j&&(C.set(k,R),x(R,k,w,S,C),C.delete(k)),e(y,v,R)}return Op=p,Op}var Fp,zb;function W4(){if(zb)return Fp;zb=1;var e=du(),t=DA(),n=Ny(),r=G4(),i=zt(),s=ni(),o=LA();function a(l,u,c,f,d){l!==u&&n(u,function(h,m){if(d||(d=new e),i(h))r(l,u,m,c,a,f,d);else{var p=f?f(o(l,m),h,m+"",l,u,d):void 0;p===void 0&&(p=h),t(l,m,p)}},s)}return Fp=a,Fp}var qp,Ub;function K4(){if(Ub)return qp;Ub=1;var e=bu(),t=Eu();function n(r){return e(function(i,s){var o=-1,a=s.length,l=a>1?s[a-1]:void 0,u=a>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(a--,l):void 0,u&&t(s[0],s[1],u)&&(l=a<3?void 0:l,a=1),i=Object(i);++o<a;){var c=s[o];c&&r(i,c,o,l)}return i})}return qp=n,qp}var $p,Hb;function Y4(){if(Hb)return $p;Hb=1;var e=W4(),t=K4(),n=t(function(r,i,s){e(r,i,s)});return $p=n,$p}var Vp,Gb;function OA(){if(Gb)return Vp;Gb=1;function e(t,n){return t<n}return Vp=e,Vp}var Bp,Wb;function X4(){if(Wb)return Bp;Wb=1;var e=jy(),t=OA(),n=ri();function r(i){return i&&i.length?e(i,n,t):void 0}return Bp=r,Bp}var zp,Kb;function Z4(){if(Kb)return zp;Kb=1;var e=jy(),t=Un(),n=OA();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return zp=r,zp}var Up,Yb;function Q4(){if(Yb)return Up;Yb=1;var e=rn(),t=function(){return e.Date.now()};return Up=t,Up}var Hp,Xb;function J4(){if(Xb)return Hp;Xb=1;var e=pu(),t=_u(),n=mu(),r=zt(),i=zo();function s(o,a,l,u){if(!r(o))return o;a=t(a,o);for(var c=-1,f=a.length,d=f-1,h=o;h!=null&&++c<f;){var m=i(a[c]),p=l;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(c!=d){var y=h[m];p=u?u(y,m,h):void 0,p===void 0&&(p=r(y)?y:n(a[c+1])?[]:{})}e(h,m,p),h=h[m]}return o}return Hp=s,Hp}var Gp,Zb;function eB(){if(Zb)return Gp;Zb=1;var e=Su(),t=J4(),n=_u();function r(i,s,o){for(var a=-1,l=s.length,u={};++a<l;){var c=s[a],f=e(i,c);o(f,c)&&t(u,n(c,i),f)}return u}return Gp=r,Gp}var Wp,Qb;function tB(){if(Qb)return Wp;Qb=1;var e=eB(),t=mA();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return Wp=n,Wp}var Kp,Jb;function nB(){if(Jb)return Kp;Jb=1;var e=jA(),t=bA(),n=EA();function r(i){return n(t(i,void 0,e),i+"")}return Kp=r,Kp}var Yp,eE;function rB(){if(eE)return Yp;eE=1;var e=tB(),t=nB(),n=t(function(r,i){return r==null?{}:e(r,i)});return Yp=n,Yp}var Xp,tE;function iB(){if(tE)return Xp;tE=1;var e=Math.ceil,t=Math.max;function n(r,i,s,o){for(var a=-1,l=t(e((i-r)/(s||1)),0),u=Array(l);l--;)u[o?l:++a]=r,r+=s;return u}return Xp=n,Xp}var Zp,nE;function sB(){if(nE)return Zp;nE=1;var e=iB(),t=Eu(),n=IA();function r(i){return function(s,o,a){return a&&typeof a!="number"&&t(s,o,a)&&(o=a=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),a=a===void 0?s<o?1:-1:n(a),e(s,o,a,i)}}return Zp=r,Zp}var Qp,rE;function oB(){if(rE)return Qp;rE=1;var e=sB(),t=e();return Qp=t,Qp}var Jp,iE;function aB(){if(iE)return Jp;iE=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Jp=e,Jp}var em,sE;function lB(){if(sE)return em;sE=1;var e=ss();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,a=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!a&&n>r||a&&l&&c&&!u&&!f||s&&l&&c||!i&&c||!o)return 1;if(!s&&!a&&!f&&n<r||f&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!c)return-1}return 0}return em=t,em}var tm,oE;function uB(){if(oE)return tm;oE=1;var e=lB();function t(n,r,i){for(var s=-1,o=n.criteria,a=r.criteria,l=o.length,u=i.length;++s<l;){var c=e(o[s],a[s]);if(c){if(s>=u)return c;var f=i[s];return c*(f=="desc"?-1:1)}}return n.index-r.index}return tm=t,tm}var nm,aE;function cB(){if(aE)return nm;aE=1;var e=xu(),t=Su(),n=Un(),r=xA(),i=aB(),s=gu(),o=uB(),a=ri(),l=Ve();function u(c,f,d){f.length?f=e(f,function(p){return l(p)?function(y){return t(y,p.length===1?p[0]:p)}:p}):f=[a];var h=-1;f=e(f,s(n));var m=r(c,function(p,y,g){var v=e(f,function(w){return w(p)});return{criteria:v,index:++h,value:p}});return i(m,function(p,y){return o(p,y,d)})}return nm=u,nm}var rm,lE;function fB(){if(lE)return rm;lE=1;var e=Ry(),t=cB(),n=bu(),r=Eu(),i=n(function(s,o){if(s==null)return[];var a=o.length;return a>1&&r(s,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return rm=i,rm}var im,uE;function dB(){if(uE)return im;uE=1;var e=hA(),t=0;function n(r){var i=++t;return e(r)+i}return im=n,im}var sm,cE;function hB(){if(cE)return sm;cE=1;function e(t,n,r){for(var i=-1,s=t.length,o=n.length,a={};++i<s;){var l=i<o?n[i]:void 0;r(a,t[i],l)}return a}return sm=e,sm}var om,fE;function pB(){if(fE)return om;fE=1;var e=pu(),t=hB();function n(r,i){return t(r||[],i||[],e)}return om=n,om}var kl;if(typeof vy=="function")try{kl={cloneDeep:A4(),constant:ky(),defaults:P4(),each:oA(),filter:vA(),find:F4(),flatten:jA(),forEach:sA(),forIn:q4(),has:yA(),isUndefined:wA(),last:$4(),map:_A(),mapValues:V4(),max:z4(),merge:Y4(),min:X4(),minBy:Z4(),now:Q4(),pick:rB(),range:oB(),reduce:SA(),sortBy:fB(),uniqueId:dB(),values:kA(),zipObject:pB()}}catch{}kl||(kl=window._);var Ce=kl,mB=Cu;function Cu(){var e={};e._next=e._prev=e,this._sentinel=e}Cu.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return FA(t),t};Cu.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&FA(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Cu.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,gB)),n=n._prev;return"["+e.join(", ")+"]"};function FA(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function gB(e,t){if(e!=="_next"&&e!=="_prev")return t}var Nn=Ce,vB=sn.Graph,yB=mB,wB=_B,xB=Nn.constant(1);function _B(e,t){if(e.nodeCount()<=1)return[];var n=bB(e,t||xB),r=SB(n.graph,n.buckets,n.zeroIdx);return Nn.flatten(Nn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function SB(e,t,n){for(var r=[],i=t[t.length-1],s=t[0],o;e.nodeCount();){for(;o=s.dequeue();)am(e,t,n,o);for(;o=i.dequeue();)am(e,t,n,o);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(o=t[a].dequeue(),o){r=r.concat(am(e,t,n,o,!0));break}}}return r}function am(e,t,n,r,i){var s=i?[]:void 0;return Nn.forEach(e.inEdges(r.v),function(o){var a=e.edge(o),l=e.node(o.v);i&&s.push({v:o.v,w:o.w}),l.out-=a,Fg(t,n,l)}),Nn.forEach(e.outEdges(r.v),function(o){var a=e.edge(o),l=o.w,u=e.node(l);u.in-=a,Fg(t,n,u)}),e.removeNode(r.v),s}function bB(e,t){var n=new vB,r=0,i=0;Nn.forEach(e.nodes(),function(a){n.setNode(a,{v:a,in:0,out:0})}),Nn.forEach(e.edges(),function(a){var l=n.edge(a.v,a.w)||0,u=t(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});var s=Nn.range(i+r+3).map(function(){return new yB}),o=r+1;return Nn.forEach(n.nodes(),function(a){Fg(s,o,n.node(a))}),{graph:n,buckets:s,zeroIdx:o}}function Fg(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Fr=Ce,EB=wB,CB={run:TB,undo:NB};function TB(e){var t=e.graph().acyclicer==="greedy"?EB(e,n(e)):kB(e);Fr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Fr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function kB(e){var t=[],n={},r={};function i(s){Fr.has(r,s)||(r[s]=!0,n[s]=!0,Fr.forEach(e.outEdges(s),function(o){Fr.has(n,o.w)?t.push(o):i(o.w)}),delete n[s])}return Fr.forEach(e.nodes(),i),t}function NB(e){Fr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var fe=Ce,qA=sn.Graph,_t={addDummyNode:$A,simplify:MB,asNonCompoundGraph:AB,successorWeights:PB,predecessorWeights:RB,intersectRect:IB,buildLayerMatrix:jB,normalizeRanks:DB,removeEmptyRanks:LB,addBorderNode:OB,maxRank:VA,partition:FB,time:qB,notime:$B};function $A(e,t,n,r){var i;do i=fe.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function MB(e){var t=new qA().setGraph(e.graph());return fe.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),fe.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function AB(e){var t=new qA({multigraph:e.isMultigraph()}).setGraph(e.graph());return fe.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),fe.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function PB(e){var t=fe.map(e.nodes(),function(n){var r={};return fe.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return fe.zipObject(e.nodes(),t)}function RB(e){var t=fe.map(e.nodes(),function(n){var r={};return fe.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return fe.zipObject(e.nodes(),t)}function IB(e,t){var n=e.x,r=e.y,i=t.x-n,s=t.y-r,o=e.width/2,a=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=a*i/s,u=a):(i<0&&(o=-o),l=o,u=o*s/i),{x:n+l,y:r+u}}function jB(e){var t=fe.map(fe.range(VA(e)+1),function(){return[]});return fe.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;fe.isUndefined(i)||(t[i][r.order]=n)}),t}function DB(e){var t=fe.min(fe.map(e.nodes(),function(n){return e.node(n).rank}));fe.forEach(e.nodes(),function(n){var r=e.node(n);fe.has(r,"rank")&&(r.rank-=t)})}function LB(e){var t=fe.min(fe.map(e.nodes(),function(s){return e.node(s).rank})),n=[];fe.forEach(e.nodes(),function(s){var o=e.node(s).rank-t;n[o]||(n[o]=[]),n[o].push(s)});var r=0,i=e.graph().nodeRankFactor;fe.forEach(n,function(s,o){fe.isUndefined(s)&&o%i!==0?--r:r&&fe.forEach(s,function(a){e.node(a).rank+=r})})}function OB(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),$A(e,"border",i,t)}function VA(e){return fe.max(fe.map(e.nodes(),function(t){var n=e.node(t).rank;if(!fe.isUndefined(n))return n}))}function FB(e,t){var n={lhs:[],rhs:[]};return fe.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function qB(e,t){var n=fe.now();try{return t()}finally{console.log(e+" time: "+(fe.now()-n)+"ms")}}function $B(e,t){return t()}var BA=Ce,VB=_t,BB={run:zB,undo:HB};function zB(e){e.graph().dummyChains=[],BA.forEach(e.edges(),function(t){UB(e,t)})}function UB(e,t){var n=t.v,r=e.node(n).rank,i=t.w,s=e.node(i).rank,o=t.name,a=e.edge(t),l=a.labelRank;if(s!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<s;++f,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:r},u=VB.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(n,u,{weight:a.weight},o),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:a.weight},o)}}function HB(e){BA.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var _a=Ce,Tu={longestPath:GB,slack:WB};function GB(e){var t={};function n(r){var i=e.node(r);if(_a.has(t,r))return i.rank;t[r]=!0;var s=_a.min(_a.map(e.outEdges(r),function(o){return n(o.w)-e.edge(o).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}_a.forEach(e.sources(),n)}function WB(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Nl=Ce,KB=sn.Graph,Ml=Tu.slack,zA=YB;function YB(e){var t=new KB({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,s;XB(t,e)<r;)i=ZB(t,e),s=t.hasNode(i.v)?Ml(e,i):-Ml(e,i),QB(t,e,s);return t}function XB(e,t){function n(r){Nl.forEach(t.nodeEdges(r),function(i){var s=i.v,o=r===s?i.w:s;!e.hasNode(o)&&!Ml(t,i)&&(e.setNode(o,{}),e.setEdge(r,o,{}),n(o))})}return Nl.forEach(e.nodes(),n),e.nodeCount()}function ZB(e,t){return Nl.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Ml(t,n)})}function QB(e,t,n){Nl.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var $n=Ce,JB=zA,ez=Tu.slack,tz=Tu.longestPath,nz=sn.alg.preorder,rz=sn.alg.postorder,iz=_t.simplify,sz=ii;ii.initLowLimValues=Ly;ii.initCutValues=Dy;ii.calcCutValue=UA;ii.leaveEdge=GA;ii.enterEdge=WA;ii.exchangeEdges=KA;function ii(e){e=iz(e),tz(e);var t=JB(e);Ly(t),Dy(t,e);for(var n,r;n=GA(t);)r=WA(t,e,n),KA(t,e,n,r)}function Dy(e,t){var n=rz(e,e.nodes());n=n.slice(0,n.length-1),$n.forEach(n,function(r){oz(e,t,r)})}function oz(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=UA(e,t,n)}function UA(e,t,n){var r=e.node(n),i=r.parent,s=!0,o=t.edge(n,i),a=0;return o||(s=!1,o=t.edge(i,n)),a=o.weight,$n.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===s,d=t.edge(l).weight;if(a+=f?d:-d,lz(e,n,c)){var h=e.edge(n,c).cutvalue;a+=f?-h:h}}}),a}function Ly(e,t){arguments.length<2&&(t=e.nodes()[0]),HA(e,{},1,t)}function HA(e,t,n,r,i){var s=n,o=e.node(r);return t[r]=!0,$n.forEach(e.neighbors(r),function(a){$n.has(t,a)||(n=HA(e,t,n,a,r))}),o.low=s,o.lim=n++,i?o.parent=i:delete o.parent,n}function GA(e){return $n.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function WA(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var s=e.node(r),o=e.node(i),a=s,l=!1;s.lim>o.lim&&(a=o,l=!0);var u=$n.filter(t.edges(),function(c){return l===dE(e,e.node(c.v),a)&&l!==dE(e,e.node(c.w),a)});return $n.minBy(u,function(c){return ez(t,c)})}function KA(e,t,n,r){var i=n.v,s=n.w;e.removeEdge(i,s),e.setEdge(r.v,r.w,{}),Ly(e),Dy(e,t),az(e,t)}function az(e,t){var n=$n.find(e.nodes(),function(i){return!t.node(i).parent}),r=nz(e,n);r=r.slice(1),$n.forEach(r,function(i){var s=e.node(i).parent,o=t.edge(i,s),a=!1;o||(o=t.edge(s,i),a=!0),t.node(i).rank=t.node(s).rank+(a?o.minlen:-o.minlen)})}function lz(e,t,n){return e.hasEdge(t,n)}function dE(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var uz=Tu,YA=uz.longestPath,cz=zA,fz=sz,dz=hz;function hz(e){switch(e.graph().ranker){case"network-simplex":hE(e);break;case"tight-tree":mz(e);break;case"longest-path":pz(e);break;default:hE(e)}}var pz=YA;function mz(e){YA(e),cz(e)}function hE(e){fz(e)}var qg=Ce,gz=vz;function vz(e){var t=wz(e);qg.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,s=yz(e,t,i.v,i.w),o=s.path,a=s.lca,l=0,u=o[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=o[l])!==a&&e.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<o.length-1&&e.node(u=o[l+1]).minRank<=r.rank;)l++;u=o[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function yz(e,t,n,r){var i=[],s=[],o=Math.min(t[n].low,t[r].low),a=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>o||a>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function wz(e){var t={},n=0;function r(i){var s=n;qg.forEach(e.children(i),r),t[i]={low:s,lim:n++}}return qg.forEach(e.children(),r),t}var Mn=Ce,$g=_t,xz={run:_z,cleanup:Ez};function _z(e){var t=$g.addDummyNode(e,"root",{},"_root"),n=Sz(e),r=Mn.max(Mn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Mn.forEach(e.edges(),function(o){e.edge(o).minlen*=i});var s=bz(e)+1;Mn.forEach(e.children(),function(o){XA(e,t,i,s,r,n,o)}),e.graph().nodeRankFactor=i}function XA(e,t,n,r,i,s,o){var a=e.children(o);if(!a.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:n});return}var l=$g.addBorderNode(e,"_bt"),u=$g.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(l,o),c.borderTop=l,e.setParent(u,o),c.borderBottom=u,Mn.forEach(a,function(f){XA(e,t,n,r,i,s,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,m=d.borderBottom?d.borderBottom:f,p=d.borderTop?r:2*r,y=h!==m?1:i-s[o]+1;e.setEdge(l,h,{weight:p,minlen:y,nestingEdge:!0}),e.setEdge(m,u,{weight:p,minlen:y,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:i+s[o]})}function Sz(e){var t={};function n(r,i){var s=e.children(r);s&&s.length&&Mn.forEach(s,function(o){n(o,i+1)}),t[r]=i}return Mn.forEach(e.children(),function(r){n(r,1)}),t}function bz(e){return Mn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function Ez(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Mn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var lm=Ce,Cz=_t,Tz=kz;function kz(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&lm.forEach(r,t),lm.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,o=i.maxRank+1;s<o;++s)pE(e,"borderLeft","_bl",n,i,s),pE(e,"borderRight","_br",n,i,s)}}lm.forEach(e.children(),t)}function pE(e,t,n,r,i,s){var o={width:0,height:0,rank:s,borderType:t},a=i[t][s-1],l=Cz.addDummyNode(e,"border",o,n);i[t][s]=l,e.setParent(l,r),a&&e.setEdge(a,l,{weight:1})}var cn=Ce,Nz={adjust:Mz,undo:Az};function Mz(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&ZA(e)}function Az(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&Pz(e),(t==="lr"||t==="rl")&&(Rz(e),ZA(e))}function ZA(e){cn.forEach(e.nodes(),function(t){mE(e.node(t))}),cn.forEach(e.edges(),function(t){mE(e.edge(t))})}function mE(e){var t=e.width;e.width=e.height,e.height=t}function Pz(e){cn.forEach(e.nodes(),function(t){um(e.node(t))}),cn.forEach(e.edges(),function(t){var n=e.edge(t);cn.forEach(n.points,um),cn.has(n,"y")&&um(n)})}function um(e){e.y=-e.y}function Rz(e){cn.forEach(e.nodes(),function(t){cm(e.node(t))}),cn.forEach(e.edges(),function(t){var n=e.edge(t);cn.forEach(n.points,cm),cn.has(n,"x")&&cm(n)})}function cm(e){var t=e.x;e.x=e.y,e.y=t}var xn=Ce,Iz=jz;function jz(e){var t={},n=xn.filter(e.nodes(),function(a){return!e.children(a).length}),r=xn.max(xn.map(n,function(a){return e.node(a).rank})),i=xn.map(xn.range(r+1),function(){return[]});function s(a){if(!xn.has(t,a)){t[a]=!0;var l=e.node(a);i[l.rank].push(a),xn.forEach(e.successors(a),s)}}var o=xn.sortBy(n,function(a){return e.node(a).rank});return xn.forEach(o,s),i}var Wn=Ce,Dz=Lz;function Lz(e,t){for(var n=0,r=1;r<t.length;++r)n+=Oz(e,t[r-1],t[r]);return n}function Oz(e,t,n){for(var r=Wn.zipObject(n,Wn.map(n,function(u,c){return c})),i=Wn.flatten(Wn.map(t,function(u){return Wn.sortBy(Wn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),s=1;s<n.length;)s<<=1;var o=2*s-1;s-=1;var a=Wn.map(new Array(o),function(){return 0}),l=0;return Wn.forEach(i.forEach(function(u){var c=u.pos+s;a[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*f})),l}var gE=Ce,Fz=qz;function qz(e,t){return gE.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=gE.reduce(r,function(s,o){var a=e.edge(o),l=e.node(o.v);return{sum:s.sum+a.weight*l.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var Et=Ce,$z=Vz;function Vz(e,t){var n={};Et.forEach(e,function(i,s){var o=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};Et.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Et.forEach(t.edges(),function(i){var s=n[i.v],o=n[i.w];!Et.isUndefined(s)&&!Et.isUndefined(o)&&(o.indegree++,s.out.push(n[i.w]))});var r=Et.filter(n,function(i){return!i.indegree});return Bz(r)}function Bz(e){var t=[];function n(s){return function(o){o.merged||(Et.isUndefined(o.barycenter)||Et.isUndefined(s.barycenter)||o.barycenter>=s.barycenter)&&zz(s,o)}}function r(s){return function(o){o.in.push(s),--o.indegree===0&&e.push(o)}}for(;e.length;){var i=e.pop();t.push(i),Et.forEach(i.in.reverse(),n(i)),Et.forEach(i.out,r(i))}return Et.map(Et.filter(t,function(s){return!s.merged}),function(s){return Et.pick(s,["vs","i","barycenter","weight"])})}function zz(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Ds=Ce,Uz=_t,Hz=Gz;function Gz(e,t){var n=Uz.partition(e,function(c){return Ds.has(c,"barycenter")}),r=n.lhs,i=Ds.sortBy(n.rhs,function(c){return-c.i}),s=[],o=0,a=0,l=0;r.sort(Wz(!!t)),l=vE(s,i,l),Ds.forEach(r,function(c){l+=c.vs.length,s.push(c.vs),o+=c.barycenter*c.weight,a+=c.weight,l=vE(s,i,l)});var u={vs:Ds.flatten(s,!0)};return a&&(u.barycenter=o/a,u.weight=a),u}function vE(e,t,n){for(var r;t.length&&(r=Ds.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function Wz(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var nr=Ce,Kz=Fz,Yz=$z,Xz=Hz,Zz=QA;function QA(e,t,n,r){var i=e.children(t),s=e.node(t),o=s?s.borderLeft:void 0,a=s?s.borderRight:void 0,l={};o&&(i=nr.filter(i,function(m){return m!==o&&m!==a}));var u=Kz(e,i);nr.forEach(u,function(m){if(e.children(m.v).length){var p=QA(e,m.v,n,r);l[m.v]=p,nr.has(p,"barycenter")&&Jz(m,p)}});var c=Yz(u,n);Qz(c,l);var f=Xz(c,r);if(o&&(f.vs=nr.flatten([o,f.vs,a],!0),e.predecessors(o).length)){var d=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(a)[0]);nr.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function Qz(e,t){nr.forEach(e,function(n){n.vs=nr.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function Jz(e,t){nr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ls=Ce,e5=sn.Graph,t5=n5;function n5(e,t,n){var r=r5(e),i=new e5({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return e.node(s)});return Ls.forEach(e.nodes(),function(s){var o=e.node(s),a=e.parent(s);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(s),i.setParent(s,a||r),Ls.forEach(e[n](s),function(l){var u=l.v===s?l.w:l.v,c=i.edge(u,s),f=Ls.isUndefined(c)?0:c.weight;i.setEdge(u,s,{weight:e.edge(l).weight+f})}),Ls.has(o,"minRank")&&i.setNode(s,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function r5(e){for(var t;e.hasNode(t=Ls.uniqueId("_root")););return t}var i5=Ce,s5=o5;function o5(e,t,n){var r={},i;i5.forEach(n,function(s){for(var o=e.parent(s),a,l;o;){if(a=e.parent(o),a?(l=r[a],r[a]=o):(l=i,i=o),l&&l!==o){t.setEdge(l,o);return}o=a}})}var pr=Ce,a5=Iz,l5=Dz,u5=Zz,c5=t5,f5=s5,d5=sn.Graph,yE=_t,h5=p5;function p5(e){var t=yE.maxRank(e),n=wE(e,pr.range(1,t+1),"inEdges"),r=wE(e,pr.range(t-1,-1,-1),"outEdges"),i=a5(e);xE(e,i);for(var s=Number.POSITIVE_INFINITY,o,a=0,l=0;l<4;++a,++l){m5(a%2?n:r,a%4>=2),i=yE.buildLayerMatrix(e);var u=l5(e,i);u<s&&(l=0,o=pr.cloneDeep(i),s=u)}xE(e,o)}function wE(e,t,n){return pr.map(t,function(r){return c5(e,r,n)})}function m5(e,t){var n=new d5;pr.forEach(e,function(r){var i=r.graph().root,s=u5(r,i,n,t);pr.forEach(s.vs,function(o,a){r.node(o).order=a}),f5(r,n,s.vs)})}function xE(e,t){pr.forEach(t,function(n){pr.forEach(n,function(r,i){e.node(r).order=i})})}var ne=Ce,g5=sn.Graph,v5=_t,y5={positionX:M5};function w5(e,t){var n={};function r(i,s){var o=0,a=0,l=i.length,u=ne.last(s);return ne.forEach(s,function(c,f){var d=_5(e,c),h=d?e.node(d).order:l;(d||c===u)&&(ne.forEach(s.slice(a,f+1),function(m){ne.forEach(e.predecessors(m),function(p){var y=e.node(p),g=y.order;(g<o||h<g)&&!(y.dummy&&e.node(m).dummy)&&JA(n,p,m)})}),a=f+1,o=h)}),s}return ne.reduce(t,r),n}function x5(e,t){var n={};function r(s,o,a,l,u){var c;ne.forEach(ne.range(o,a),function(f){c=s[f],e.node(c).dummy&&ne.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<l||h.order>u)&&JA(n,d,c)})})}function i(s,o){var a=-1,l,u=0;return ne.forEach(o,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(l=e.node(d[0]).order,r(o,u,f,a,l),u=f,a=l)}r(o,u,o.length,l,s.length)}),o}return ne.reduce(t,i),n}function _5(e,t){if(e.node(t).dummy)return ne.find(e.predecessors(t),function(n){return e.node(n).dummy})}function JA(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function S5(e,t,n){if(t>n){var r=t;t=n,n=r}return ne.has(e[t],n)}function b5(e,t,n,r){var i={},s={},o={};return ne.forEach(t,function(a){ne.forEach(a,function(l,u){i[l]=l,s[l]=l,o[l]=u})}),ne.forEach(t,function(a){var l=-1;ne.forEach(a,function(u){var c=r(u);if(c.length){c=ne.sortBy(c,function(p){return o[p]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var m=c[d];s[u]===u&&l<o[m]&&!S5(n,u,m)&&(s[m]=u,s[u]=i[u]=i[m],l=o[m])}}})}),{root:i,align:s}}function E5(e,t,n,r,i){var s={},o=C5(e,t,n,i),a=i?"borderLeft":"borderRight";function l(f,d){for(var h=o.nodes(),m=h.pop(),p={};m;)p[m]?f(m):(p[m]=!0,h.push(m),h=h.concat(d(m))),m=h.pop()}function u(f){s[f]=o.inEdges(f).reduce(function(d,h){return Math.max(d,s[h.v]+o.edge(h))},0)}function c(f){var d=o.outEdges(f).reduce(function(m,p){return Math.min(m,s[p.w]-o.edge(p))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(s[f]=Math.max(s[f],d))}return l(u,o.predecessors.bind(o)),l(c,o.successors.bind(o)),ne.forEach(r,function(f){s[f]=s[n[f]]}),s}function C5(e,t,n,r){var i=new g5,s=e.graph(),o=A5(s.nodesep,s.edgesep,r);return ne.forEach(t,function(a){var l;ne.forEach(a,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(o(e,u,l),d||0))}l=u})}),i}function T5(e,t){return ne.minBy(ne.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ne.forIn(n,function(s,o){var a=P5(e,o)/2;r=Math.max(s+a,r),i=Math.min(s-a,i)}),r-i})}function k5(e,t){var n=ne.values(t),r=ne.min(n),i=ne.max(n);ne.forEach(["u","d"],function(s){ne.forEach(["l","r"],function(o){var a=s+o,l=e[a],u;if(l!==t){var c=ne.values(l);u=o==="l"?r-ne.min(c):i-ne.max(c),u&&(e[a]=ne.mapValues(l,function(f){return f+u}))}})})}function N5(e,t){return ne.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ne.sortBy(ne.map(e,r));return(i[1]+i[2])/2})}function M5(e){var t=v5.buildLayerMatrix(e),n=ne.merge(w5(e,t),x5(e,t)),r={},i;ne.forEach(["u","d"],function(o){i=o==="u"?t:ne.values(t).reverse(),ne.forEach(["l","r"],function(a){a==="r"&&(i=ne.map(i,function(f){return ne.values(f).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),u=b5(e,i,n,l),c=E5(e,i,u.root,u.align,a==="r");a==="r"&&(c=ne.mapValues(c,function(f){return-f})),r[o+a]=c})});var s=T5(e,r);return k5(r,s),N5(r,e.graph().align)}function A5(e,t,n){return function(r,i,s){var o=r.node(i),a=r.node(s),l=0,u;if(l+=o.width/2,ne.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(o.dummy?t:e)/2,l+=(a.dummy?t:e)/2,l+=a.width/2,ne.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function P5(e,t){return e.node(t).width}var Os=Ce,eP=_t,R5=y5.positionX,I5=j5;function j5(e){e=eP.asNonCompoundGraph(e),D5(e),Os.forEach(R5(e),function(t,n){e.node(n).x=t})}function D5(e){var t=eP.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Os.forEach(t,function(i){var s=Os.max(Os.map(i,function(o){return e.node(o).height}));Os.forEach(i,function(o){e.node(o).y=r+s/2}),r+=s+n})}var re=Ce,_E=CB,SE=BB,L5=dz,O5=_t.normalizeRanks,F5=gz,q5=_t.removeEmptyRanks,bE=xz,$5=Tz,EE=Nz,V5=h5,B5=I5,vr=_t,z5=sn.Graph,U5=H5;function H5(e,t){var n=t&&t.debugTiming?vr.time:vr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return n6(e)});n("  runLayout",function(){G5(r,n)}),n("  updateInputGraph",function(){W5(e,r)})})}function G5(e,t){t("    makeSpaceForEdgeLabels",function(){r6(e)}),t("    removeSelfEdges",function(){d6(e)}),t("    acyclic",function(){_E.run(e)}),t("    nestingGraph.run",function(){bE.run(e)}),t("    rank",function(){L5(vr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){i6(e)}),t("    removeEmptyRanks",function(){q5(e)}),t("    nestingGraph.cleanup",function(){bE.cleanup(e)}),t("    normalizeRanks",function(){O5(e)}),t("    assignRankMinMax",function(){s6(e)}),t("    removeEdgeLabelProxies",function(){o6(e)}),t("    normalize.run",function(){SE.run(e)}),t("    parentDummyChains",function(){F5(e)}),t("    addBorderSegments",function(){$5(e)}),t("    order",function(){V5(e)}),t("    insertSelfEdges",function(){h6(e)}),t("    adjustCoordinateSystem",function(){EE.adjust(e)}),t("    position",function(){B5(e)}),t("    positionSelfEdges",function(){p6(e)}),t("    removeBorderNodes",function(){f6(e)}),t("    normalize.undo",function(){SE.undo(e)}),t("    fixupEdgeLabelCoords",function(){u6(e)}),t("    undoCoordinateSystem",function(){EE.undo(e)}),t("    translateGraph",function(){a6(e)}),t("    assignNodeIntersects",function(){l6(e)}),t("    reversePoints",function(){c6(e)}),t("    acyclic.undo",function(){_E.undo(e)})}function W5(e,t){re.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),re.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,re.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var K5=["nodesep","edgesep","ranksep","marginx","marginy"],Y5={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},X5=["acyclicer","ranker","rankdir","align"],Z5=["width","height"],Q5={width:0,height:0},J5=["minlen","weight","width","height","labeloffset"],e6={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},t6=["labelpos"];function n6(e){var t=new z5({multigraph:!0,compound:!0}),n=dm(e.graph());return t.setGraph(re.merge({},Y5,fm(n,K5),re.pick(n,X5))),re.forEach(e.nodes(),function(r){var i=dm(e.node(r));t.setNode(r,re.defaults(fm(i,Z5),Q5)),t.setParent(r,e.parent(r))}),re.forEach(e.edges(),function(r){var i=dm(e.edge(r));t.setEdge(r,re.merge({},e6,fm(i,J5),re.pick(i,t6)))}),t}function r6(e){var t=e.graph();t.ranksep/=2,re.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function i6(e){re.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-r.rank)/2+r.rank,e:t};vr.addDummyNode(e,"edge-proxy",s,"_ep")}})}function s6(e){var t=0;re.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=re.max(t,r.maxRank))}),e.graph().maxRank=t}function o6(e){re.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function a6(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=e.graph(),o=s.marginx||0,a=s.marginy||0;function l(u){var c=u.x,f=u.y,d=u.width,h=u.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}re.forEach(e.nodes(),function(u){l(e.node(u))}),re.forEach(e.edges(),function(u){var c=e.edge(u);re.has(c,"x")&&l(c)}),t-=o,r-=a,re.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),re.forEach(e.edges(),function(u){var c=e.edge(u);re.forEach(c.points,function(f){f.x-=t,f.y-=r}),re.has(c,"x")&&(c.x-=t),re.has(c,"y")&&(c.y-=r)}),s.width=n-t+o,s.height=i-r+a}function l6(e){re.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),s,o;n.points?(s=n.points[0],o=n.points[n.points.length-1]):(n.points=[],s=i,o=r),n.points.unshift(vr.intersectRect(r,s)),n.points.push(vr.intersectRect(i,o))})}function u6(e){re.forEach(e.edges(),function(t){var n=e.edge(t);if(re.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function c6(e){re.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function f6(e){re.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),s=e.node(re.last(n.borderLeft)),o=e.node(re.last(n.borderRight));n.width=Math.abs(o.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),re.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function d6(e){re.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function h6(e){var t=vr.buildLayerMatrix(e);re.forEach(t,function(n){var r=0;re.forEach(n,function(i,s){var o=e.node(i);o.order=s+r,re.forEach(o.selfEdges,function(a){vr.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:o.rank,order:s+ ++r,e:a.e,label:a.label},"_se")}),delete o.selfEdges})})}function p6(e){re.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,s=r.y,o=n.x-i,a=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:s-a},{x:i+5*o/6,y:s-a},{x:i+o,y:s},{x:i+5*o/6,y:s+a},{x:i+2*o/3,y:s+a}],n.label.x=n.x,n.label.y=n.y}})}function fm(e,t){return re.mapValues(re.pick(e,t),Number)}function dm(e){var t={};return re.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Sa=Ce,m6=_t,g6=sn.Graph,v6={debugOrdering:y6};function y6(e){var t=m6.buildLayerMatrix(e),n=new g6({compound:!0,multigraph:!0}).setGraph({});return Sa.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Sa.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Sa.forEach(t,function(r,i){var s="layer"+i;n.setNode(s,{rank:"same"}),Sa.reduce(r,function(o,a){return n.setEdge(o,a,{style:"invis"}),a})}),n}var w6="0.8.5",x6={graphlib:sn,layout:U5,debug:v6,util:{time:_t.time,notime:_t.notime},version:w6};const CE=iv(x6),TE=new Map;function _6(e,t){const n=e.map(i=>i.id).join("|"),r=t.map(i=>`${i.source}->${i.target}`).join("|");return`${e.length}:${t.length}:${n}:${r}`}function Vg(e,t,n){if(n){const r=_6(e,t),i=TE.get(n);if(i&&i.signature===r)return i.layout;const s=kE(e,t);return TE.set(n,{signature:r,layout:s}),s}return kE(e,t)}function kE(e,t){if(e.length>2500){const r=Math.ceil(Math.sqrt(e.length));return e.map((i,s)=>{const o=Math.floor(s/r),a=s%r;return{id:i.id,position:{x:a*260,y:o*160}}})}const n=new CE.graphlib.Graph;return n.setGraph({rankdir:"LR",nodesep:48,ranksep:80}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:220,height:120})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),CE.layout(n),e.map(r=>{const i=n.node(r.id);return{id:r.id,position:{x:i.x-i.width/2,y:i.y-i.height/2}}})}function S6(e,t,n=200){const r=e.zoom||1,i=(0-e.x)/r-n,s=(0-e.y)/r-n,o=(t.width-e.x)/r+n,a=(t.height-e.y)/r+n;return{minX:i,minY:s,maxX:o,maxY:a}}function b6(e,t,n,r=200){if(n.width<=0||n.height<=0)return e;const i=S6(t,n,r);return e.filter(s=>{const o=s.x,a=s.y,l=s.x+s.width,u=s.y+s.height;return!(l<i.minX||o>i.maxX||u<i.minY||a>i.maxY)})}function Oy(e,t){const n=E6(e,t),r=new Set(n.map(f=>f.leftId)),i=new Set(n.map(f=>f.rightId)),s=t.steps.filter(f=>!i.has(f.id)).map(f=>f.id),o=e.steps.filter(f=>!r.has(f.id)).map(f=>f.id),a=n.filter(f=>{const d=e.steps.find(m=>m.id===f.leftId),h=t.steps.find(m=>m.id===f.rightId);return!d||!h?!1:NE(d)!==NE(h)}),l=a.map(f=>f.leftId),u=(t.metadata.totalCostUsd??0)-(e.metadata.totalCostUsd??0),c=t.metadata.wallTimeMs-e.metadata.wallTimeMs;return{addedSteps:s,removedSteps:o,changedSteps:l,changedPairs:a,alignedSteps:n,costDeltaUsd:u,wallTimeDeltaMs:c}}function E6(e,t){const n=[],r=new Set(e.steps.map(c=>c.id)),i=new Set(t.steps.map(c=>c.id));Array.from(r).forEach(c=>{i.has(c)&&(n.push({leftId:c,rightId:c}),r.delete(c),i.delete(c))});const s=new Map;t.steps.forEach(c=>{c.toolCallId&&s.set(c.toolCallId,c.id)}),e.steps.forEach(c=>{if(!c.toolCallId)return;const f=s.get(c.toolCallId);f&&i.has(f)&&(n.push({leftId:c.id,rightId:f}),r.delete(c.id),i.delete(f))});const o=PE(e),a=PE(t),l=C6(e,t),u={};return i.forEach(c=>{const f=a.get(c);if(!f)return;const d=ME(f.step);d&&(u[d]||(u[d]=[]),u[d].push(c))}),Object.values(u).forEach(c=>{c.sort((f,d)=>{var h,m;return(((h=a.get(f))==null?void 0:h.startMs)??0)-(((m=a.get(d))==null?void 0:m.startMs)??0)})}),Array.from(r).forEach(c=>{var m;const f=o.get(c);if(!f)return;const d=ME(f.step);if(!d||!((m=u[d])!=null&&m.length))return;const h=T6(f,u[d],a,l);h&&(n.push({leftId:c,rightId:h}),r.delete(c),i.delete(h),u[d]=u[d].filter(p=>p!==h))}),n}function NE(e){var r,i;const t=((r=e.preview)==null?void 0:r.outputPreview)??null,n=((i=e.metrics)==null?void 0:i.costUsd)??null;return`${e.status}|${t??""}|${n??""}`}function ME(e){return e.type?`${e.type}:${e.name??""}`:null}function AE(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function PE(e){const t=AE(e.startedAt),n=new Map;return e.steps.forEach(r=>{const i=AE(r.startedAt),s=t!=null&&i!=null?i-t:null;n.set(r.id,{step:r,startMs:s})}),n}function C6(e,t){const n=Math.max(e.metadata.wallTimeMs,t.metadata.wallTimeMs,1);return Math.max(1e3,Math.min(5e3,Math.round(n*.1)))}function T6(e,t,n,r){const i=e.startMs;if(i==null)return null;let s=null,o=r+1;return t.forEach(a=>{const l=n.get(a);if(!l||l.startMs==null)return;const u=Math.abs(l.startMs-i);u<o&&(o=u,s=a)}),o<=r?s:null}function k6({layers:e,onChange:t}){return _.jsxs("div",{className:"edge-toggles",children:[_.jsxs("label",{title:"Parent/child span edges","data-help":!0,"data-help-title":"Structure edges","data-help-body":"Shows parent-child spans to reveal hierarchy.","data-help-placement":"top",children:[_.jsx("input",{type:"checkbox",checked:e.structure,onChange:n=>t({...e,structure:n.target.checked})}),"Structure"]}),_.jsxs("label",{title:"Chronological sequence edges","data-help":!0,"data-help-title":"Sequence edges","data-help-body":"Shows chronological ordering of steps.","data-help-placement":"top",children:[_.jsx("input",{type:"checkbox",checked:e.sequence,onChange:n=>t({...e,sequence:n.target.checked})}),"Sequence"]}),_.jsxs("label",{title:"Tool call I/O binding edges","data-help":!0,"data-help-title":"I/O edges","data-help-body":"Connects tool calls to their inputs and outputs.","data-help-placement":"top",children:[_.jsx("input",{type:"checkbox",checked:e.io,onChange:n=>t({...e,io:n.target.checked})}),"I/O Binding"]})]})}function N6({data:e}){var c,f,d,h;const t=e.step,n=lN(t),r=e.diffStatus?`diff-${e.diffStatus}`:"",i=e.ghost?"ghost-node":"",s=t.type.replace("_"," ").toUpperCase(),o=((c=t.metrics)==null?void 0:c.tokensTotal)!=null?`${t.metrics.tokensTotal} tokens`:null,a=t.durationMs!=null?`${t.durationMs}ms`:null,l=[o,a,n].filter(Boolean).join("  "),u=`Click to inspect or replay this step.${l?` ${l}.`:""}`;return _.jsxs("div",{className:`flow-node step-${t.type} ${r} ${i}`,"data-help":!0,"data-help-title":`${t.name}  ${s}`,"data-help-body":u,"data-help-placement":"right",children:[_.jsxs("div",{className:"flow-node-header",children:[_.jsxs("div",{className:"flow-node-title",children:[_.jsx(Jv,{type:t.type}),_.jsx("span",{children:t.name})]}),_.jsx("span",{className:`status-pill status-${t.status}`,children:t.status})]}),_.jsx("div",{className:"flow-node-preview",children:((f=t.preview)==null?void 0:f.outputPreview)??((d=t.preview)==null?void 0:d.inputPreview)}),_.jsxs("div",{className:"flow-node-metrics",children:[((h=t.metrics)==null?void 0:h.tokensTotal)!=null?_.jsxs("span",{children:[t.metrics.tokensTotal," tok"]}):null,t.durationMs!=null?_.jsxs("span",{children:[t.durationMs,"ms"]}):null,n?_.jsx("span",{children:n}):null]})]})}const M6={stepNode:N6},A6={structure:!0,sequence:!1,io:!0};function hm(e){return e.filter(t=>t.parentStepId).map(t=>({id:`structure_${t.parentStepId}_${t.id}`,source:t.parentStepId,target:t.id,kind:"structure"}))}function pm(e){const t=[...e].sort((r,i)=>r.index-i.index),n=[];for(let r=1;r<t.length;r+=1)n.push({id:`sequence_${t[r-1].id}_${t[r].id}`,source:t[r-1].id,target:t[r].id,kind:"sequence"});return n}function P6({steps:e,onSelectStep:t,selectedStepId:n,baseTrace:r,compareTrace:i,compareSteps:s=[],overlayEnabled:o,onToggleOverlay:a}){var q,$;const[l,u]=E.useState(A6),[c,f]=E.useState(e.length>500),[d,h]=E.useState({x:0,y:0,zoom:1}),m=E.useRef(null),p=E.useRef(d),y=E.useRef(null);E.useEffect(()=>{e.length<=500&&f(!1)},[e.length]),E.useEffect(()=>()=>{y.current&&cancelAnimationFrame(y.current)},[]);const g=E.useMemo(()=>{const O=hm(e),U=pm(e),G=Ba(e),X=[];return l.structure&&X.push(...O),l.sequence&&X.push(...U),l.io&&X.push(...G),X},[e,l]),v=E.useMemo(()=>{const O=hm(e),U=pm(e),G=Ba(e);return[...O,...U,...G]},[e]),w=E.useMemo(()=>Vg(e,v.map(O=>({source:O.source,target:O.target})),r.id),[e,v,r.id]),x=E.useMemo(()=>i?Oy(r,i):null,[r,i]),S=E.useMemo(()=>new Set((x==null?void 0:x.addedSteps)??[]),[x]),C=E.useMemo(()=>new Set((x==null?void 0:x.changedSteps)??[]),[x]),T=E.useMemo(()=>new Set((x==null?void 0:x.removedSteps)??[]),[x]),k=new Map(w.map(O=>[O.id,O.position])),M=e.map(O=>({id:O.id,type:"stepNode",position:k.get(O.id)??{x:0,y:0},data:{step:O,diffStatus:C.has(O.id)?"changed":T.has(O.id)?"removed":null,ghost:!1}})),R=M.map(O=>({id:O.id,x:O.position.x,y:O.position.y,width:220,height:120})),j={width:((q=m.current)==null?void 0:q.clientWidth)??0,height:(($=m.current)==null?void 0:$.clientHeight)??0},B=new Map(M.map(O=>[O.id,O]));let V=c?b6(R,d,j,300).map(O=>B.get(O.id)):[...M];const b=new Set(V.filter(Boolean).map(O=>O.id));if(n&&!b.has(n)){const O=B.get(n);O&&(b.add(O.id),V=[...V,O])}const D=g.filter(O=>b.has(O.source)&&b.has(O.target)).map(O=>({id:O.id,source:O.source,target:O.target,type:"smoothstep",animated:O.kind==="io",style:O.kind==="io"?{stroke:"var(--accent-io)",strokeWidth:2}:O.kind==="sequence"?{stroke:"var(--accent-sequence)",strokeDasharray:"6 6"}:{stroke:"var(--accent-structure)"}})),P=V.filter(Boolean).map(O=>({...O})),L=E.useMemo(()=>{if(!i)return[];const O=hm(i.steps),U=pm(i.steps),G=Ba(i.steps);return[...O,...U,...G]},[i]),A=E.useMemo(()=>i?Vg(i.steps,L.map(O=>({source:O.source,target:O.target})),i.id):[],[i,L]),N=E.useMemo(()=>new Map(A.map(O=>[O.id,O.position])),[A]),I=E.useMemo(()=>!i||!o?[]:s.filter(O=>S.has(O.id)).map(O=>({id:`ghost-${O.id}`,type:"stepNode",position:N.get(O.id)??{x:0,y:0},data:{step:O,diffStatus:"added",ghost:!0}})),[i,s,N,S,o]);return _.jsxs("div",{className:"flow-mode",children:[_.jsxs("div",{className:"flow-controls","data-help":!0,"data-help-title":"Flow controls","data-help-body":"Toggle edge layers and windowing for high-density graphs.","data-help-placement":"bottom",children:[_.jsx(k6,{layers:l,onChange:u}),e.length>500?_.jsxs("label",{className:"toggle",title:"Window nodes based on viewport for large graphs","data-help":!0,"data-help-title":"Windowed flow","data-help-body":"Limits the graph to the visible region for performance.","data-help-placement":"bottom",children:[_.jsx("input",{type:"checkbox",checked:c,onChange:()=>f(O=>!O)}),"Windowed"]}):null,i?_.jsxs("button",{className:"ghost-button",type:"button",onClick:a,title:"Show or hide ghost overlay from replay","data-help":!0,"data-help-title":"Overlay diff","data-help-body":"Layer the replay on top to see what changed.","data-help-placement":"bottom",children:[o?"Hide overlay":"Show overlay"," (",(x==null?void 0:x.addedSteps.length)??0,"/",(x==null?void 0:x.removedSteps.length)??0,"/",(x==null?void 0:x.changedSteps.length)??0,")"]}):null]}),_.jsx("div",{className:"flow-canvas",ref:m,"data-help":!0,"data-help-indicator":!0,"data-help-title":"Flow canvas","data-help-body":"A spatial map of step dependencies. Click nodes to inspect.","data-help-placement":"top",children:_.jsxs(DM,{nodes:o?[...P,...I]:P,edges:D,nodeTypes:M6,onNodeClick:(O,U)=>{const G=U.id.startsWith("ghost-")?U.id.replace("ghost-",""):U.id;t(G)},onMove:(O,U)=>{p.current=U,!y.current&&(y.current=requestAnimationFrame(()=>{h(p.current),y.current=null}))},fitView:!0,children:[_.jsx(f$,{nodeColor:O=>{switch(O.data.step.type){case"llm_call":return"var(--accent-llm)";case"tool_call":return"var(--accent-tool)";case"decision":return"var(--accent-decision)";case"handoff":return"var(--accent-handoff)";case"guardrail":return"var(--accent-guardrail)";default:return"var(--accent-structure)"}},maskColor:"rgba(15, 17, 21, 0.6)"}),_.jsx(E$,{gap:20}),_.jsx(y$,{position:"bottom-right"})]})})]})}function R6({steps:e,onSelectStep:t,selectedStepId:n,baseTrace:r,compareTrace:i,compareSteps:s,overlayEnabled:o,onToggleOverlay:a}){return _.jsx("section",{className:"flow-mode-wrapper","aria-label":"Flow mode",children:_.jsx(P6,{steps:e,selectedStepId:n,onSelectStep:t,baseTrace:r,compareTrace:i,compareSteps:s,overlayEnabled:o,onToggleOverlay:a})})}function I6(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(r)}function RE(e,t,n){return Math.min(n,Math.max(t,e))}function j6({baseTrace:e,compareTrace:t,playheadMs:n,onExit:r,safeExport:i}){const s=Oy(e,t),o=e.metadata.wallTimeMs||1,a=t.metadata.wallTimeMs||1,l=RE(n/o*100,0,100),u=RE(n/a*100,0,100),c={generatedAt:new Date().toISOString(),base:{id:e.id,name:e.name,parentTraceId:e.parentTraceId,startedAt:e.startedAt,endedAt:e.endedAt},compare:{id:t.id,name:t.name,parentTraceId:t.parentTraceId,branchPointStepId:t.branchPointStepId,replay:t.replay,startedAt:t.startedAt,endedAt:t.endedAt},deltas:{added:s.addedSteps.length,removed:s.removedSteps.length,changed:s.changedSteps.length,costDeltaUsd:s.costDeltaUsd,wallTimeDeltaMs:s.wallTimeDeltaMs},alignment:s.alignedSteps,changedPairs:s.changedPairs,safeExport:!!i};return _.jsxs("section",{className:"compare-view","data-help":!0,"data-help-indicator":!0,"data-tour":"compare-view","data-help-title":"Compare runs","data-help-body":"Side-by-side playback showing deltas in steps, cost, and wall time after a replay.","data-help-placement":"top",children:[_.jsxs("div",{className:"compare-header",children:[_.jsxs("div",{children:[_.jsx("div",{className:"compare-title",children:"Compare Runs"}),_.jsxs("div",{className:"compare-subtitle",children:["+",s.addedSteps.length," steps, ",s.costDeltaUsd.toFixed(3)," USD, ",s.wallTimeDeltaMs,"ms"]})]}),_.jsxs("div",{className:"compare-actions",children:[_.jsx("button",{className:"ghost-button",type:"button",onClick:()=>I6(`agent-director-diff-${e.id}-${t.id}.json`,c),title:"Export diff summary","data-help":!0,"data-help-title":"Export diff","data-help-body":"Download a JSON summary you can share or archive.","data-help-placement":"bottom",children:"Export diff"}),_.jsx("button",{className:"ghost-button",type:"button",onClick:r,"data-help":!0,"data-help-title":"Exit compare","data-help-body":"Return to the primary run timeline.","data-help-placement":"bottom",children:"Exit compare"})]})]}),_.jsxs("div",{className:"compare-grid",children:[_.jsxs("div",{className:"compare-pane","data-help":!0,"data-help-title":"Base run","data-help-body":"Original timeline for baseline comparison.","data-help-placement":"top",children:[_.jsx("div",{className:"compare-pane-title",children:"Base run"}),_.jsx(_g,{trace:e,steps:e.steps,selectedStepId:null,onSelectStep:()=>{},playheadPct:l,playheadMs:n,windowRange:null})]}),_.jsxs("div",{className:"compare-pane","data-help":!0,"data-help-title":"Replay run","data-help-body":"Replay timeline to validate improvements.","data-help-placement":"top",children:[_.jsx("div",{className:"compare-pane-title",children:"Replay run"}),_.jsx(_g,{trace:t,steps:t.steps,selectedStepId:null,onSelectStep:()=>{},playheadPct:u,playheadMs:n,windowRange:null})]})]})]})}const D6="demo-trace-overlap-001",L6="Overlap + ToolCallId Demo",O6="2026-01-27T10:00:00.000Z",F6="2026-01-27T10:00:05.000Z",q6="completed",$6={source:"openai_agents",agentName:"DemoAgent",modelId:"gpt-4o-2024-11-20",wallTimeMs:5e3,workTimeMs:7200,totalTokens:1400,totalCostUsd:.018},V6=[{id:"s1",index:0,type:"llm_call",name:"plan",startedAt:"2026-01-27T10:00:00.000Z",endedAt:"2026-01-27T10:00:01.000Z",durationMs:1e3,childStepIds:[],metrics:{tokensTotal:300,costUsd:.004},preview:{title:"LLM: plan",subtitle:"gpt-4o",outputPreview:"I'll fetch two sources..."},status:"completed"},{id:"s2",index:1,type:"llm_call",name:"call_tools",startedAt:"2026-01-27T10:00:01.000Z",endedAt:"2026-01-27T10:00:01.200Z",durationMs:200,childStepIds:[],metrics:{tokensTotal:120,costUsd:.002},preview:{title:"LLM: call tools",outputPreview:"Calling web_search + database_query"},io:{emittedToolCallIds:["tc-001","tc-002"]},status:"completed"},{id:"s3",index:2,type:"tool_call",name:"web_search",toolCallId:"tc-001",startedAt:"2026-01-27T10:00:01.200Z",endedAt:"2026-01-27T10:00:03.200Z",durationMs:2e3,childStepIds:[],metrics:{costUsd:0},preview:{title:"Tool: web_search",inputPreview:'{"q":"EU AI Act"}',outputPreview:"[3 results...]"},status:"completed"},{id:"s4",index:3,type:"tool_call",name:"database_query",toolCallId:"tc-002",startedAt:"2026-01-27T10:00:01.500Z",endedAt:"2026-01-27T10:00:02.700Z",durationMs:1200,childStepIds:[],preview:{title:"Tool: database_query",inputPreview:'{"sql":"SELECT..."}',outputPreview:'{"rows":42}'},status:"completed"},{id:"s5",index:4,type:"llm_call",name:"analyze",startedAt:"2026-01-27T10:00:03.200Z",endedAt:"2026-01-27T10:00:04.600Z",durationMs:1400,childStepIds:[],metrics:{tokensTotal:700,costUsd:.012},preview:{title:"LLM: analyze",outputPreview:"Synthesis based on tool outputs..."},io:{consumedToolCallIds:["tc-001","tc-002"]},status:"completed"}],tP={id:D6,name:L6,startedAt:O6,endedAt:F6,status:q6,metadata:$6,steps:V6},B6=new Map,z6=new Map;async function U6(){return[tP]}async function H6(e){return{trace:tP}}async function nP(e,t,n,r=[],i=!1){return null}async function G6(e,t,n){await nP(e,t,"redacted",[],n)}function W6(){B6.clear(),z6.clear()}async function K6(e,t,n,r,i){return i?Y6(i,t,n,r):null}function Y6(e,t,n,r){var m;const i=JSON.parse(JSON.stringify(e)),s=6e4,o=Date.parse("2024-01-01T00:00:00.000Z"),a=Date.parse(e.endedAt??e.startedAt??""),u=(Number.isNaN(a)?o:a)+s,c=new Date(u);i.id=`${e.id}-replay-${u}`,i.parentTraceId=e.id,i.branchPointStepId=t,i.replay={strategy:n,modifiedStepId:t,modifications:r,createdAt:c.toISOString()};const f=p=>{if(!p)return p;const y=Date.parse(p);return Number.isNaN(y)?p:new Date(y+s).toISOString()};i.startedAt=f(i.startedAt)??i.startedAt,i.endedAt=f(i.endedAt);const d=new Set,h=((m=i.steps.find(p=>p.id===t))==null?void 0:m.index)??-1;return i.steps.forEach(p=>{p.index>h&&d.add(p.id)}),i.steps=i.steps.map(p=>{var g;const y={...p};if(y.startedAt=f(p.startedAt)??p.startedAt,y.endedAt=f(p.endedAt),p.id===t){const v=((g=p.preview)==null?void 0:g.outputPreview)??"";y.preview={...p.preview,outputPreview:`${v} (modified)`.trim()}}return d.has(p.id)&&(y.status="pending",y.endedAt=null,y.durationMs=void 0,y.metrics=void 0,y.preview={...p.preview,outputPreview:"[invalidated for replay]"}),y}),i}function X6(e){return JSON.stringify(e,null,2)}function Z6({traceId:e,step:t,safeExport:n,onClose:r,onReplay:i}){var m,p;const[s,o]=E.useState(null),[a,l]=E.useState("redacted"),[u,c]=E.useState([]);if(E.useEffect(()=>{c([]),l("redacted")},[t==null?void 0:t.id,n]),E.useEffect(()=>{if(!t)return;let y=!0;return(async()=>{const v=n?"redacted":a,w=await nP(e,t.id,v,v==="redacted"?u:[],n);y&&o(w)})(),()=>{y=!1}},[e,t,a,n,u]),!t)return null;const f=s==null?void 0:s.redaction,d=(f==null?void 0:f.fieldsRedacted)??[],h=(f==null?void 0:f.revealedFields)??[];return _.jsxs("aside",{className:"inspector","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Deep dive into a single step: payloads, redaction, metrics, and replay.","data-help-placement":"left",children:[_.jsxs("div",{className:"inspector-header",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"inspector-title",children:[_.jsx(Jv,{type:t.type,size:"md",showLabel:!0}),_.jsx("span",{children:t.name}),_.jsx("span",{className:`status-pill status-${t.status}`,children:t.status})]}),_.jsx("div",{className:"inspector-subtitle",children:t.type})]}),_.jsx("button",{className:"ghost-button",type:"button",onClick:r,"aria-label":"Close inspector",children:"Close"})]}),_.jsxs("div",{className:"inspector-section",children:[_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Status"}),_.jsx("span",{children:t.status})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Duration"}),_.jsxs("span",{children:[t.durationMs??0,"ms"]})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Tokens"}),_.jsx("span",{children:((m=t.metrics)==null?void 0:m.tokensTotal)??"-"})]}),_.jsxs("div",{className:"inspector-row",children:[_.jsx("span",{children:"Cost"}),_.jsx("span",{children:((p=t.metrics)==null?void 0:p.costUsd)!=null?`$${t.metrics.costUsd.toFixed(3)}`:"-"})]})]}),_.jsxs("div",{className:"inspector-section",children:[_.jsx("div",{className:"inspector-section-title",children:"Payload"}),_.jsxs("div",{className:"inspector-controls",children:[_.jsxs("label",{title:n?"Safe export enabled: raw view disabled.":"Toggle raw payload view.","data-help":!0,"data-help-title":"Raw payload","data-help-body":"Switch between redacted and raw payloads when Safe export is off.","data-help-placement":"top",children:[_.jsx("input",{type:"checkbox",checked:a==="raw",disabled:n,onChange:y=>l(y.target.checked?"raw":"redacted")}),"Reveal raw (dangerous)"]}),_.jsx("button",{className:"ghost-button",type:"button","aria-label":"Copy payload JSON",onClick:async()=>{s&&await navigator.clipboard.writeText(JSON.stringify(s.data,null,2))},"data-help":!0,"data-help-title":"Copy JSON","data-help-body":"Copy the payload to your clipboard.","data-help-placement":"top",children:"Copy JSON"}),u.length>0&&a==="redacted"?_.jsx("button",{className:"ghost-button",type:"button","aria-label":"Reset revealed fields",onClick:()=>c([]),"data-help":!0,"data-help-title":"Reset reveals","data-help-body":"Re-hide any fields you temporarily revealed.","data-help-placement":"top",children:"Reset reveals"}):null]}),_.jsx("pre",{className:"inspector-json",children:s?X6(s.data):"Loading..."}),d.length>0?_.jsxs("div",{className:"inspector-redaction",children:["Redacted fields:",_.jsx("ul",{children:d.map(y=>{const g=!n&&a==="redacted";return _.jsxs("li",{children:[y.path," (",y.kind,")",g?_.jsx("button",{className:"ghost-button",type:"button","aria-label":`Reveal ${y.path}`,onClick:()=>c(v=>v.includes(y.path)?v:[...v,y.path]),children:"Reveal"}):null]},y.path)})}),h.length>0?_.jsxs("div",{className:"inspector-revealed",children:["Revealed:",_.jsx("ul",{children:h.map(y=>_.jsxs("li",{children:[y.path," (",y.kind,")"]},y.path))})]}):null]}):null]}),_.jsx("div",{className:"inspector-section",children:_.jsx("button",{className:"primary-button",type:"button",onClick:()=>i(t.id),"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a new run starting from this step.","data-help-placement":"top",children:"Replay from this step"})})]})}const rP=E.createContext({});function Q6(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Fy=E.createContext(null),iP=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function J6(e=!0){const t=E.useContext(Fy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=E.useId();E.useEffect(()=>{e&&i(s)},[e]);const o=E.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const qy=typeof window<"u",e8=qy?E.useLayoutEffect:E.useEffect,kt=e=>e;let sP=kt;function $y(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Rn=e=>e*1e3,In=e=>e/1e3,t8={useManualTiming:!1};function n8(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,c=!1,f=!1)=>{const h=f&&r?t:n;return c&&s.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const ba=["read","resolveKeyframes","update","preRender","render","postRender"],r8=40;function oP(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ba.reduce((g,v)=>(g[v]=n8(s),g),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:d}=o,h=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,r8),1),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},m=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:ba.reduce((g,v)=>{const w=o[v];return g[v]=(x,S=!1,C=!1)=>(n||m(),w.schedule(x,S,C)),g},{}),cancel:g=>{for(let v=0;v<ba.length;v++)o[ba[v]].cancel(g)},state:i,steps:o}}const{schedule:we,cancel:yr,state:et,steps:mm}=oP(typeof requestAnimationFrame<"u"?requestAnimationFrame:kt,!0),aP=E.createContext({strict:!1}),IE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xi={};for(const e in IE)Xi[e]={isEnabled:t=>IE[e].some(n=>!!t[n])};function i8(e){for(const t in e)Xi[t]={...Xi[t],...e[t]}}const s8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Al(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||s8.has(e)}let lP=e=>!Al(e);function o8(e){e&&(lP=t=>t.startsWith("on")?!Al(t):e(t))}try{o8(require("@emotion/is-prop-valid").default)}catch{}function a8(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(lP(i)||n===!0&&Al(i)||!t&&!Al(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function l8(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const ku=E.createContext({});function To(e){return typeof e=="string"||Array.isArray(e)}function Nu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],By=["initial",...Vy];function Mu(e){return Nu(e.animate)||By.some(t=>To(e[t]))}function uP(e){return!!(Mu(e)||e.variants)}function u8(e,t){if(Mu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||To(n)?n:void 0,animate:To(r)?r:void 0}}return e.inherit!==!1?t:{}}function c8(e){const{initial:t,animate:n}=u8(e,E.useContext(ku));return E.useMemo(()=>({initial:t,animate:n}),[jE(t),jE(n)])}function jE(e){return Array.isArray(e)?e.join(" "):e}const f8=Symbol.for("motionComponentSymbol");function Ei(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function d8(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ei(n)&&(n.current=r))},[t])}const zy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),h8="framerAppearId",cP="data-"+zy(h8),{schedule:Uy}=oP(queueMicrotask,!1),fP=E.createContext({});function p8(e,t,n,r,i){var s,o;const{visualElement:a}=E.useContext(ku),l=E.useContext(aP),u=E.useContext(Fy),c=E.useContext(iP).reducedMotion,f=E.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,h=E.useContext(fP);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&m8(f.current,n,i,h);const m=E.useRef(!1);E.useInsertionEffect(()=>{d&&m.current&&d.update(n,u)});const p=n[cP],y=E.useRef(!!p&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return e8(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Uy.render(d.render),y.current&&d.animationState&&d.animationState.animateChanges())}),E.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,p)}),y.current=!1))}),d}function m8(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dP(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ei(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function dP(e){if(e)return e.options.allowProjection!==!1?e.projection:dP(e.parent)}function g8({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&i8(e);function a(u,c){let f;const d={...E.useContext(iP),...u,layoutId:v8(u)},{isStatic:h}=d,m=c8(u),p=r(u,h);if(!h&&qy){y8();const y=w8(d);f=y.MeasureLayout,m.visualElement=p8(i,p,d,t,y.ProjectionNode)}return _.jsxs(ku.Provider,{value:m,children:[f&&m.visualElement?_.jsx(f,{visualElement:m.visualElement,...d}):null,n(i,u,d8(p,m.visualElement,c),p,h,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=E.forwardRef(a);return l[f8]=i,l}function v8({layoutId:e}){const t=E.useContext(rP).id;return t&&e!==void 0?t+"-"+e:e}function y8(e,t){E.useContext(aP).strict}function w8(e){const{drag:t,layout:n}=Xi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const x8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hy(e){return typeof e!="string"||e.includes("-")?!1:!!(x8.indexOf(e)>-1||/[A-Z]/u.test(e))}function DE(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Gy(e,t,n,r){if(typeof t=="function"){const[i,s]=DE(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=DE(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Bg=e=>Array.isArray(e),_8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),S8=e=>Bg(e)?e[e.length-1]||0:e,lt=e=>!!(e&&e.getVelocity);function za(e){const t=lt(e)?e.get():e;return _8(t)?t.toValue():t}function b8({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:E8(r,i,s,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const hP=e=>(t,n)=>{const r=E.useContext(ku),i=E.useContext(Fy),s=()=>b8(e,t,r,i);return n?s():Q6(s)};function E8(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=za(s[d]);let{initial:o,animate:a}=e;const l=Mu(e),u=uP(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!Nu(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const m=Gy(e,d[h]);if(m){const{transitionEnd:p,transition:y,...g}=m;for(const v in g){let w=g[v];if(Array.isArray(w)){const x=c?w.length-1:0;w=w[x]}w!==null&&(i[v]=w)}for(const v in p)i[v]=p[v]}}}return i}const os=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],si=new Set(os),pP=e=>t=>typeof t=="string"&&t.startsWith(e),mP=pP("--"),C8=pP("var(--"),Wy=e=>C8(e)?T8.test(e.split("/*")[0].trim()):!1,T8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Vn=(e,t,n)=>n>t?t:n<e?e:n,as={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ko={...as,transform:e=>Vn(0,1,e)},Ea={...as,default:1},Uo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kn=Uo("deg"),pn=Uo("%"),ee=Uo("px"),k8=Uo("vh"),N8=Uo("vw"),LE={...pn,parse:e=>pn.parse(e)/100,transform:e=>pn.transform(e*100)},M8={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee},A8={rotate:Kn,rotateX:Kn,rotateY:Kn,rotateZ:Kn,scale:Ea,scaleX:Ea,scaleY:Ea,scaleZ:Ea,skew:Kn,skewX:Kn,skewY:Kn,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:ko,originX:LE,originY:LE,originZ:ee},OE={...as,transform:Math.round},Ky={...M8,...A8,zIndex:OE,size:ee,fillOpacity:ko,strokeOpacity:ko,numOctaves:OE},P8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R8=os.length;function I8(e,t,n){let r="",i=!0;for(let s=0;s<R8;s++){const o=os[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=gP(a,Ky[o]);if(!l){i=!1;const c=P8[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Yy(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(si.has(l)){o=!0;continue}else if(mP(l)){i[l]=u;continue}else{const c=gP(u,Ky[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=I8(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const j8={offset:"stroke-dashoffset",array:"stroke-dasharray"},D8={offset:"strokeDashoffset",array:"strokeDasharray"};function L8(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?j8:D8;e[s.offset]=ee.transform(-r);const o=ee.transform(t),a=ee.transform(n);e[s.array]=`${o} ${a}`}function FE(e,t,n){return typeof e=="string"?e:ee.transform(t+n*e)}function O8(e,t,n){const r=FE(t,e.x,e.width),i=FE(n,e.y,e.height);return`${r} ${i}`}function Xy(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,f){if(Yy(e,u,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h,dimensions:m}=e;d.transform&&(m&&(h.transform=d.transform),delete d.transform),m&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=O8(m,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&L8(d,o,a,l,!1)}const Zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),vP=()=>({...Zy(),attrs:{}}),Qy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yP(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const wP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xP(e,t,n,r){yP(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(wP.has(i)?i:zy(i),t.attrs[i])}const Pl={};function F8(e){Object.assign(Pl,e)}function _P(e,{layout:t,layoutId:n}){return si.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Pl[e]||e==="opacity")}function Jy(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(lt(i[o])||t.style&&lt(t.style[o])||_P(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function SP(e,t,n){const r=Jy(e,t,n);for(const i in e)if(lt(e[i])||lt(t[i])){const s=os.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function q8(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const qE=["x","y","width","height","cx","cy","r"],$8={useVisualState:hP({scrapeMotionValuesFromProps:SP,createRenderState:vP,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const a in i)if(si.has(a)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let a=0;a<qE.length;a++){const l=qE[a];e[l]!==t[l]&&(o=!0)}o&&we.read(()=>{q8(n,r),we.render(()=>{Xy(r,i,Qy(n.tagName),e.transformTemplate),xP(n,r)})})}})},V8={useVisualState:hP({scrapeMotionValuesFromProps:Jy,createRenderState:Zy})};function bP(e,t,n){for(const r in t)!lt(t[r])&&!_P(r,n)&&(e[r]=t[r])}function B8({transformTemplate:e},t){return E.useMemo(()=>{const n=Zy();return Yy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function z8(e,t){const n=e.style||{},r={};return bP(r,n,e),Object.assign(r,B8(e,t)),r}function U8(e,t){const n={},r=z8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function H8(e,t,n,r){const i=E.useMemo(()=>{const s=vP();return Xy(s,t,Qy(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};bP(s,e.style,e),i.style={...s,...i.style}}return i}function G8(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Hy(n)?H8:U8)(r,s,o,n),u=a8(r,typeof n=="string",e),c=n!==E.Fragment?{...u,...l,ref:i}:{},{children:f}=r,d=E.useMemo(()=>lt(f)?f.get():f,[f]);return E.createElement(n,{...c,children:d})}}function W8(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Hy(r)?$8:V8,preloadedFeatures:e,useRender:G8(i),createVisualElement:t,Component:r};return g8(o)}}function EP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Au(e,t,n){const r=e.getProps();return Gy(r,t,n!==void 0?n:r.custom,e)}const K8=$y(()=>window.ScrollTimeline!==void 0);class Y8{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(K8()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class X8 extends Y8{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function e0(e,t){return e?e[t]||e.default||e:void 0}const zg=2e4;function CP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<zg;)t+=n,r=e.next(t);return t>=zg?1/0:t}function t0(e){return typeof e=="function"}function $E(e,t){e.timeline=t,e.onfinish=null}const n0=e=>Array.isArray(e)&&typeof e[0]=="number",Z8={linearEasing:void 0};function Q8(e,t){const n=$y(e);return()=>{var r;return(r=Z8[t])!==null&&r!==void 0?r:n()}}const Rl=Q8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),TP=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Yi(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function kP(e){return!!(typeof e=="function"&&Rl()||!e||typeof e=="string"&&(e in Ug||Rl())||n0(e)||Array.isArray(e)&&e.every(kP))}const Fs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ug={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fs([0,.65,.55,1]),circOut:Fs([.55,0,1,.45]),backIn:Fs([.31,.01,.66,-.59]),backOut:Fs([.33,1.53,.69,.99])};function NP(e,t){if(e)return typeof e=="function"&&Rl()?TP(e,t):n0(e)?Fs(e):Array.isArray(e)?e.map(n=>NP(n,t)||Ug.easeOut):Ug[e]}const Gt={x:!1,y:!1};function MP(){return Gt.x||Gt.y}function J8(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function AP(e,t){const n=J8(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function VE(e){return t=>{t.pointerType==="touch"||MP()||e(t)}}function eU(e,t,n={}){const[r,i,s]=AP(e,n),o=VE(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const c=VE(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const PP=(e,t)=>t?e===t?!0:PP(e,t.parentElement):!1,r0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,tU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nU(e){return tU.has(e.tagName)||e.tabIndex!==-1}const qs=new WeakSet;function BE(e){return t=>{t.key==="Enter"&&e(t)}}function gm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=BE(()=>{if(qs.has(n))return;gm(n,"down");const i=BE(()=>{gm(n,"up")}),s=()=>gm(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function zE(e){return r0(e)&&!MP()}function iU(e,t,n={}){const[r,i,s]=AP(e,n),o=a=>{const l=a.currentTarget;if(!zE(a)||qs.has(l))return;qs.add(l);const u=t(a),c=(h,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!zE(h)||!qs.has(l))&&(qs.delete(l),typeof u=="function"&&u(h,{success:m}))},f=h=>{c(h,n.useGlobalTarget||PP(l,h.target))},d=h=>{c(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{!nU(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>rU(u,i),i)}),s}function sU(e){return e==="x"||e==="y"?Gt[e]?null:(Gt[e]=!0,()=>{Gt[e]=!1}):Gt.x||Gt.y?null:(Gt.x=Gt.y=!0,()=>{Gt.x=Gt.y=!1})}const RP=new Set(["width","height","top","left","right","bottom",...os]);let Ua;function oU(){Ua=void 0}const mn={now:()=>(Ua===void 0&&mn.set(et.isProcessing||t8.useManualTiming?et.timestamp:performance.now()),Ua),set:e=>{Ua=e,queueMicrotask(oU)}};function i0(e,t){e.indexOf(t)===-1&&e.push(t)}function s0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class o0{constructor(){this.subscriptions=[]}add(t){return i0(this.subscriptions,t),()=>s0(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function IP(e,t){return t?e*(1e3/t):0}const UE=30,aU=e=>!isNaN(parseFloat(e));class lU{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=mn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new o0);const r=this.events[t].add(n);return t==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>UE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,UE);return IP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(e,t){return new lU(e,t)}function uU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,No(n))}function cU(e,t){const n=Au(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=S8(s[o]);uU(e,o,a)}}function fU(e){return!!(lt(e)&&e.add)}function Hg(e,t){const n=e.getValue("willChange");if(fU(n))return n.add(t)}function jP(e){return e.props[cP]}const DP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,dU=1e-7,hU=12;function pU(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=DP(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>dU&&++a<hU);return o}function Ho(e,t,n,r){if(e===t&&n===r)return kt;const i=s=>pU(s,0,1,e,n);return s=>s===0||s===1?s:DP(i(s),t,r)}const LP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,OP=e=>t=>1-e(1-t),FP=Ho(.33,1.53,.69,.99),a0=OP(FP),qP=LP(a0),$P=e=>(e*=2)<1?.5*a0(e):.5*(2-Math.pow(2,-10*(e-1))),l0=e=>1-Math.sin(Math.acos(e)),VP=OP(l0),BP=LP(l0),zP=e=>/^0[^.\s]+$/u.test(e);function mU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||zP(e):!0}const Xs=e=>Math.round(e*1e5)/1e5,u0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gU(e){return e==null}const vU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,c0=(e,t)=>n=>!!(typeof n=="string"&&vU.test(n)&&n.startsWith(e)||t&&!gU(n)&&Object.prototype.hasOwnProperty.call(n,t)),UP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(u0);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yU=e=>Vn(0,255,e),vm={...as,transform:e=>Math.round(yU(e))},qr={test:c0("rgb","red"),parse:UP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+vm.transform(e)+", "+vm.transform(t)+", "+vm.transform(n)+", "+Xs(ko.transform(r))+")"};function wU(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gg={test:c0("#"),parse:wU,transform:qr.transform},Ci={test:c0("hsl","hue"),parse:UP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pn.transform(Xs(t))+", "+pn.transform(Xs(n))+", "+Xs(ko.transform(r))+")"},ot={test:e=>qr.test(e)||Gg.test(e)||Ci.test(e),parse:e=>qr.test(e)?qr.parse(e):Ci.test(e)?Ci.parse(e):Gg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qr.transform(e):Ci.transform(e)},xU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _U(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(u0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(xU))===null||n===void 0?void 0:n.length)||0)>0}const HP="number",GP="color",SU="var",bU="var(",HE="${}",EU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(EU,l=>(ot.test(l)?(r.color.push(s),i.push(GP),n.push(ot.parse(l))):l.startsWith(bU)?(r.var.push(s),i.push(SU),n.push(l)):(r.number.push(s),i.push(HP),n.push(parseFloat(l))),++s,HE)).split(HE);return{values:n,split:a,indexes:r,types:i}}function WP(e){return Mo(e).values}function KP(e){const{split:t,types:n}=Mo(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===HP?s+=Xs(i[o]):a===GP?s+=ot.transform(i[o]):s+=i[o]}return s}}const CU=e=>typeof e=="number"?0:e;function TU(e){const t=WP(e);return KP(e)(t.map(CU))}const wr={test:_U,parse:WP,createTransformer:KP,getAnimatableNone:TU},kU=new Set(["brightness","contrast","saturate","opacity"]);function NU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(u0)||[];if(!r)return e;const i=n.replace(r,"");let s=kU.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const MU=/\b([a-z-]*)\(.*?\)/gu,Wg={...wr,getAnimatableNone:e=>{const t=e.match(MU);return t?t.map(NU).join(" "):e}},AU={...Ky,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:Wg,WebkitFilter:Wg},f0=e=>AU[e];function YP(e,t){let n=f0(e);return n!==Wg&&(n=wr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const PU=new Set(["auto","none","0"]);function RU(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!PU.has(s)&&Mo(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=YP(n,i)}const GE=e=>e===as||e===ee,WE=(e,t)=>parseFloat(e.split(", ")[t]),KE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return WE(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?WE(s[1],e):0}},IU=new Set(["x","y","z"]),jU=os.filter(e=>!IU.has(e));function DU(e){const t=[];return jU.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Zi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:KE(4,13),y:KE(5,14)};Zi.translateX=Zi.x;Zi.translateY=Zi.y;const Ur=new Set;let Kg=!1,Yg=!1;function XP(){if(Yg){const e=Array.from(Ur).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=DU(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yg=!1,Kg=!1,Ur.forEach(e=>e.complete()),Ur.clear()}function ZP(){Ur.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yg=!0)})}function LU(){ZP(),XP()}class d0{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ur.add(this),Kg||(Kg=!0,we.read(ZP),we.resolveKeyframes(XP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ur.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ur.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const QP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),OU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FU(e){const t=OU.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function JP(e,t,n=1){const[r,i]=FU(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return QP(o)?parseFloat(o):o}return Wy(i)?JP(i,t,n+1):i}const eR=e=>t=>t.test(e),qU={test:e=>e==="auto",parse:e=>e},tR=[as,ee,pn,Kn,N8,k8,qU],YE=e=>tR.find(eR(e));class nR extends d0{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Wy(u))){const c=JP(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!RP.has(r)||t.length!==2)return;const[i,s]=t,o=YE(i),a=YE(s);if(o!==a)if(GE(o)&&GE(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)mU(t[i])&&r.push(i);r.length&&RU(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Zi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const XE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wr.test(e)||e==="0")&&!e.startsWith("url("));function $U(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function VU(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=XE(i,t),a=XE(s,t);return!o||!a?!1:$U(e)||(n==="spring"||t0(n))&&r}const BU=e=>e!==null;function Pu(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(BU),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const zU=40;class rR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mn.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&LU(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=mn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!VU(t,r,i,s))if(o)this.options.duration=0;else{l&&l(Pu(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Me=(e,t,n)=>e+(t-e)*n;function ym(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function UU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=ym(l,a,e+1/3),s=ym(l,a,e),o=ym(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Il(e,t){return n=>n>0?t:e}const wm=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},HU=[Gg,qr,Ci],GU=e=>HU.find(t=>t.test(e));function ZE(e){const t=GU(e);if(!t)return!1;let n=t.parse(e);return t===Ci&&(n=UU(n)),n}const QE=(e,t)=>{const n=ZE(e),r=ZE(t);if(!n||!r)return Il(e,t);const i={...n};return s=>(i.red=wm(n.red,r.red,s),i.green=wm(n.green,r.green,s),i.blue=wm(n.blue,r.blue,s),i.alpha=Me(n.alpha,r.alpha,s),qr.transform(i))},WU=(e,t)=>n=>t(e(n)),Go=(...e)=>e.reduce(WU),Xg=new Set(["none","hidden"]);function KU(e,t){return Xg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function YU(e,t){return n=>Me(e,t,n)}function h0(e){return typeof e=="number"?YU:typeof e=="string"?Wy(e)?Il:ot.test(e)?QE:QU:Array.isArray(e)?iR:typeof e=="object"?ot.test(e)?QE:XU:Il}function iR(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>h0(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function XU(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=h0(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function ZU(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const QU=(e,t)=>{const n=wr.createTransformer(t),r=Mo(e),i=Mo(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Xg.has(e)&&!i.values.length||Xg.has(t)&&!r.values.length?KU(e,t):Go(iR(ZU(r,i),i.values),n):Il(e,t)};function sR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Me(e,t,n):h0(e)(e,t)}const JU=5;function oR(e,t,n){const r=Math.max(t-JU,0);return IP(n-e(r),t-r)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xm=.001;function eH({duration:e=Re.duration,bounce:t=Re.bounce,velocity:n=Re.velocity,mass:r=Re.mass}){let i,s,o=1-t;o=Vn(Re.minDamping,Re.maxDamping,o),e=Vn(Re.minDuration,Re.maxDuration,In(e)),o<1?(i=u=>{const c=u*o,f=c*e,d=c-n,h=Zg(u,o),m=Math.exp(-f);return xm-d/h*m},s=u=>{const f=u*o*e,d=f*n+n,h=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-f),p=Zg(Math.pow(u,2),o);return(-i(u)+xm>0?-1:1)*((d-h)*m)/p}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-xm+c*f},s=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=nH(i,s,a);if(e=Rn(e),isNaN(l))return{stiffness:Re.stiffness,damping:Re.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const tH=12;function nH(e,t,n){let r=n;for(let i=1;i<tH;i++)r=r-e(r)/t(r);return r}function Zg(e,t){return e*Math.sqrt(1-t*t)}const rH=["duration","bounce"],iH=["stiffness","damping","mass"];function JE(e,t){return t.some(n=>e[n]!==void 0)}function sH(e){let t={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...e};if(!JE(e,iH)&&JE(e,rH))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Vn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Re.mass,stiffness:i,damping:s}}else{const n=eH(e);t={...t,...n,mass:Re.mass},t.isResolvedFromDuration=!0}return t}function aR(e=Re.visualDuration,t=Re.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:h}=sH({...n,velocity:-In(n.velocity||0)}),m=d||0,p=u/(2*Math.sqrt(l*c)),y=o-s,g=In(Math.sqrt(l/c)),v=Math.abs(y)<5;r||(r=v?Re.restSpeed.granular:Re.restSpeed.default),i||(i=v?Re.restDelta.granular:Re.restDelta.default);let w;if(p<1){const S=Zg(g,p);w=C=>{const T=Math.exp(-p*g*C);return o-T*((m+p*g*y)/S*Math.sin(S*C)+y*Math.cos(S*C))}}else if(p===1)w=S=>o-Math.exp(-g*S)*(y+(m+g*y)*S);else{const S=g*Math.sqrt(p*p-1);w=C=>{const T=Math.exp(-p*g*C),k=Math.min(S*C,300);return o-T*((m+p*g*y)*Math.sinh(k)+S*y*Math.cosh(k))/S}}const x={calculatedDuration:h&&f||null,next:S=>{const C=w(S);if(h)a.done=S>=f;else{let T=0;p<1&&(T=S===0?Rn(m):oR(w,S,C));const k=Math.abs(T)<=r,M=Math.abs(o-C)<=i;a.done=k&&M}return a.value=a.done?o:C,a},toString:()=>{const S=Math.min(CP(x),zg),C=TP(T=>x.next(S*T).value,S,30);return S+"ms "+C}};return x}function eC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},h=k=>a!==void 0&&k<a||l!==void 0&&k>l,m=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let p=n*t;const y=f+p,g=o===void 0?y:o(y);g!==y&&(p=g-f);const v=k=>-p*Math.exp(-k/r),w=k=>g+v(k),x=k=>{const M=v(k),R=w(k);d.done=Math.abs(M)<=u,d.value=d.done?g:R};let S,C;const T=k=>{h(d.value)&&(S=k,C=aR({keyframes:[d.value,m(d.value)],velocity:oR(w,k,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:k=>{let M=!1;return!C&&S===void 0&&(M=!0,x(k),T(k)),S!==void 0&&k>=S?C.next(k-S):(!M&&x(k),d)}}}const oH=Ho(.42,0,1,1),aH=Ho(0,0,.58,1),lR=Ho(.42,0,.58,1),lH=e=>Array.isArray(e)&&typeof e[0]!="number",uH={linear:kt,easeIn:oH,easeInOut:lR,easeOut:aH,circIn:l0,circInOut:BP,circOut:VP,backIn:a0,backInOut:qP,backOut:FP,anticipate:$P},tC=e=>{if(n0(e)){sP(e.length===4);const[t,n,r,i]=e;return Ho(t,n,r,i)}else if(typeof e=="string")return uH[e];return e};function cH(e,t,n){const r=[],i=n||sR,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||kt:t;a=Go(l,a)}r.push(a)}return r}function fH(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(sP(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=cH(t,r,i),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const d=Yi(e[f],e[f+1],c);return a[f](d)};return n?c=>u(Vn(e[0],e[s-1],c)):u}function dH(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Yi(0,t,r);e.push(Me(n,1,i))}}function hH(e){const t=[0];return dH(t,e.length-1),t}function pH(e,t){return e.map(n=>n*t)}function mH(e,t){return e.map(()=>t||lR).splice(0,e.length-1)}function jl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=lH(r)?r.map(tC):tC(r),s={done:!1,value:t[0]},o=pH(n&&n.length===t.length?n:hH(t),e),a=fH(o,t,{ease:Array.isArray(i)?i:mH(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const gH=e=>{const t=({timestamp:n})=>e(n);return{start:()=>we.update(t,!0),stop:()=>yr(t),now:()=>et.isProcessing?et.timestamp:mn.now()}},vH={decay:eC,inertia:eC,tween:jl,keyframes:jl,spring:aR},yH=e=>e/100;class p0 extends rR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||d0,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=t0(n)?n:vH[n]||jl;let l,u;a!==jl&&typeof t[0]!="number"&&(l=Go(yH,sR(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});s==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=CP(c));const{calculatedDuration:f}=c,d=f+i,h=d*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:d,repeat:h,repeatType:m,repeatDelay:p,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let w=this.currentTime,x=s;if(h){const k=Math.min(this.currentTime,c)/f;let M=Math.floor(k),R=k%1;!R&&k>=1&&(R=1),R===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(m==="reverse"?(R=1-R,p&&(R-=p/f)):m==="mirror"&&(x=o)),w=Vn(0,1,R)*f}const S=v?{done:!1,value:l[0]}:x.next(w);a&&(S.value=a(S.value));let{done:C}=S;!v&&u!==null&&(C=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&i!==void 0&&(S.value=Pu(l,this.options,i)),y&&y(S.value),T&&this.finish(),S}get duration(){const{resolved:t}=this;return t?In(t.calculatedDuration):0}get time(){return In(this.currentTime)}set time(t){t=Rn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=In(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=gH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const wH=new Set(["opacity","clipPath","filter","transform"]);function xH(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=NP(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const _H=$y(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dl=10,SH=2e4;function bH(e){return t0(e.type)||e.type==="spring"||!kP(e.ease)}function EH(e,t){const n=new p0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<SH;)r=n.sample(s),i.push(r.value),s+=Dl;return{times:void 0,keyframes:i,duration:s-Dl,ease:"linear"}}const uR={anticipate:$P,backInOut:qP,circInOut:BP};function CH(e){return e in uR}class nC extends rR{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new nR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Rl()&&CH(s)&&(s=uR[s]),bH(this.options)){const{onComplete:f,onUpdate:d,motionValue:h,element:m,...p}=this.options,y=EH(t,p);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const c=xH(a.owner.current,l,t,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?($E(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(Pu(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return In(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return In(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Rn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return kt;const{animation:r}=n;$E(r,t)}return kt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:d,...h}=this.options,m=new p0({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),p=Rn(this.time);u.setWithVelocity(m.sample(p-Dl).value,m.sample(p).value,Dl)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return _H()&&r&&wH.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const TH={type:"spring",stiffness:500,damping:25,restSpeed:10},kH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),NH={type:"keyframes",duration:.8},MH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AH=(e,{keyframes:t})=>t.length>2?NH:si.has(e)?e.startsWith("scale")?kH(t[1]):TH:MH;function PH({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const m0=(e,t,n,r={},i,s)=>o=>{const a=e0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Rn(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:d=>{t.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};PH(a)||(c={...c,...AH(e,c)}),c.duration&&(c.duration=Rn(c.duration)),c.repeatDelay&&(c.repeatDelay=Rn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!s&&t.get()!==void 0){const d=Pu(c.keyframes,a);if(d!==void 0)return we.update(()=>{c.onUpdate(d),c.onComplete()}),new X8([])}return!s&&nC.supports(c)?new nC(c):new p0(c)};function RH({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function cR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const d=e.getValue(f,(s=e.latestValues[f])!==null&&s!==void 0?s:null),h=l[f];if(h===void 0||c&&RH(c,f))continue;const m={delay:n,...e0(o||{},f)};let p=!1;if(window.MotionHandoffAnimation){const g=jP(e);if(g){const v=window.MotionHandoffAnimation(g,f,we);v!==null&&(m.startTime=v,p=!0)}}Hg(e,f),d.start(m0(f,d,h,e.shouldReduceMotion&&RP.has(f)?{type:!1}:m,e,p));const y=d.animation;y&&u.push(y)}return a&&Promise.all(u).then(()=>{we.update(()=>{a&&cU(e,a)})}),u}function Qg(e,t,n={}){var r;const i=Au(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(cR(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=s;return IH(e,t,c+u,f,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function IH(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(jH).forEach((u,c)=>{u.notify("AnimationStart",t),o.push(Qg(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function jH(e,t){return e.sortNodePosition(t)}function DH(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Qg(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Qg(e,t,n);else{const i=typeof t=="function"?Au(e,t,n.custom):t;r=Promise.all(cR(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const LH=By.length;function fR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<LH;n++){const r=By[n],i=e.props[r];(To(i)||i===!1)&&(t[r]=i)}return t}const OH=[...Vy].reverse(),FH=Vy.length;function qH(e){return t=>Promise.all(t.map(({animation:n,options:r})=>DH(e,n,r)))}function $H(e){let t=qH(e),n=rC(),r=!0;const i=l=>(u,c)=>{var f;const d=Au(e,c,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:m,...p}=d;u={...u,...p,...m}}return u};function s(l){t=l(e)}function o(l){const{props:u}=e,c=fR(e.parent)||{},f=[],d=new Set;let h={},m=1/0;for(let y=0;y<FH;y++){const g=OH[y],v=n[g],w=u[g]!==void 0?u[g]:c[g],x=To(w),S=g===l?v.isActive:null;S===!1&&(m=y);let C=w===c[g]&&w!==u[g]&&x;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...h},!v.isActive&&S===null||!w&&!v.prevProp||Nu(w)||typeof w=="boolean")continue;const T=VH(v.prevProp,w);let k=T||g===l&&v.isActive&&!C&&x||y>m&&x,M=!1;const R=Array.isArray(w)?w:[w];let j=R.reduce(i(g),{});S===!1&&(j={});const{prevResolvedValues:B={}}=v,V={...B,...j},b=L=>{k=!0,d.has(L)&&(M=!0,d.delete(L)),v.needsAnimating[L]=!0;const A=e.getValue(L);A&&(A.liveStyle=!1)};for(const L in V){const A=j[L],N=B[L];if(h.hasOwnProperty(L))continue;let I=!1;Bg(A)&&Bg(N)?I=!EP(A,N):I=A!==N,I?A!=null?b(L):d.add(L):A!==void 0&&d.has(L)?b(L):v.protectedKeys[L]=!0}v.prevProp=w,v.prevResolvedValues=j,v.isActive&&(h={...h,...j}),r&&e.blockInitialAnimation&&(k=!1),k&&(!(C&&T)||M)&&f.push(...R.map(L=>({animation:L,options:{type:g}})))}if(d.size){const y={};d.forEach(g=>{const v=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),y[g]=v??null}),f.push({animation:y})}let p=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(d=>{var h;return(h=d.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=rC(),r=!0}}}function VH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EP(t,e):!1}function kr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rC(){return{animate:kr(!0),whileInView:kr(),whileHover:kr(),whileTap:kr(),whileDrag:kr(),whileFocus:kr(),exit:kr()}}class Er{constructor(t){this.isMounted=!1,this.node=t}update(){}}class BH extends Er{constructor(t){super(t),t.animationState||(t.animationState=$H(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let zH=0;class UH extends Er{constructor(){super(...arguments),this.id=zH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const HH={animation:{Feature:BH},exit:{Feature:UH}};function Ao(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Wo(e){return{point:{x:e.pageX,y:e.pageY}}}const GH=e=>t=>r0(t)&&e(t,Wo(t));function Zs(e,t,n,r){return Ao(e,t,GH(n),r)}const iC=(e,t)=>Math.abs(e-t);function WH(e,t){const n=iC(e.x,t.x),r=iC(e.y,t.y);return Math.sqrt(n**2+r**2)}class dR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Sm(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=WH(f.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:m}=f,{timestamp:p}=et;this.history.push({...m,timestamp:p});const{onStart:y,onMove:g}=this.handlers;d||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=_m(d,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:h,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Sm(f.type==="pointercancel"?this.lastMoveEventInfo:_m(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,y),m&&m(f,y)},!r0(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Wo(t),a=_m(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=et;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,Sm(a,this.history)),this.removeListeners=Go(Zs(this.contextWindow,"pointermove",this.handlePointerMove),Zs(this.contextWindow,"pointerup",this.handlePointerUp),Zs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yr(this.updatePoint)}}function _m(e,t){return t?{point:t(e.point)}:e}function sC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sm({point:e},t){return{point:e,delta:sC(e,hR(t)),offset:sC(e,KH(t)),velocity:YH(t,.1)}}function KH(e){return e[0]}function hR(e){return e[e.length-1]}function YH(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=hR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Rn(t)));)n--;if(!r)return{x:0,y:0};const s=In(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const pR=1e-4,XH=1-pR,ZH=1+pR,mR=.01,QH=0-mR,JH=0+mR;function At(e){return e.max-e.min}function e9(e,t,n){return Math.abs(e-t)<=n}function oC(e,t,n,r=.5){e.origin=r,e.originPoint=Me(t.min,t.max,e.origin),e.scale=At(n)/At(t),e.translate=Me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=XH&&e.scale<=ZH||isNaN(e.scale))&&(e.scale=1),(e.translate>=QH&&e.translate<=JH||isNaN(e.translate))&&(e.translate=0)}function Qs(e,t,n,r){oC(e.x,t.x,n.x,r?r.originX:void 0),oC(e.y,t.y,n.y,r?r.originY:void 0)}function aC(e,t,n){e.min=n.min+t.min,e.max=e.min+At(t)}function t9(e,t,n){aC(e.x,t.x,n.x),aC(e.y,t.y,n.y)}function lC(e,t,n){e.min=t.min-n.min,e.max=e.min+At(t)}function Js(e,t,n){lC(e.x,t.x,n.x),lC(e.y,t.y,n.y)}function n9(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Me(n,e,r.max):Math.min(e,n)),e}function uC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function r9(e,{top:t,left:n,bottom:r,right:i}){return{x:uC(e.x,n,i),y:uC(e.y,t,r)}}function cC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function i9(e,t){return{x:cC(e.x,t.x),y:cC(e.y,t.y)}}function s9(e,t){let n=.5;const r=At(e),i=At(t);return i>r?n=Yi(t.min,t.max-r,e.min):r>i&&(n=Yi(e.min,e.max-i,t.min)),Vn(0,1,n)}function o9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jg=.35;function a9(e=Jg){return e===!1?e=0:e===!0&&(e=Jg),{x:fC(e,"left","right"),y:fC(e,"top","bottom")}}function fC(e,t,n){return{min:dC(e,t),max:dC(e,n)}}function dC(e,t){return typeof e=="number"?e:e[t]||0}const hC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ti=()=>({x:hC(),y:hC()}),pC=()=>({min:0,max:0}),Oe=()=>({x:pC(),y:pC()});function jt(e){return[e("x"),e("y")]}function gR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function l9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function u9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function bm(e){return e===void 0||e===1}function ev({scale:e,scaleX:t,scaleY:n}){return!bm(e)||!bm(t)||!bm(n)}function Pr(e){return ev(e)||vR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vR(e){return mC(e.x)||mC(e.y)}function mC(e){return e&&e!=="0%"}function Ll(e,t,n){const r=e-n,i=t*r;return n+i}function gC(e,t,n,r,i){return i!==void 0&&(e=Ll(e,i,r)),Ll(e,n,r)+t}function tv(e,t=0,n=1,r,i){e.min=gC(e.min,t,n,r,i),e.max=gC(e.max,t,n,r,i)}function yR(e,{x:t,y:n}){tv(e.x,t.translate,t.scale,t.originPoint),tv(e.y,n.translate,n.scale,n.originPoint)}const vC=.999999999999,yC=1.0000000000001;function c9(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ni(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,yR(e,o)),r&&Pr(s.latestValues)&&Ni(e,s.latestValues))}t.x<yC&&t.x>vC&&(t.x=1),t.y<yC&&t.y>vC&&(t.y=1)}function ki(e,t){e.min=e.min+t,e.max=e.max+t}function wC(e,t,n,r,i=.5){const s=Me(e.min,e.max,i);tv(e,t,n,s,r)}function Ni(e,t){wC(e.x,t.x,t.scaleX,t.scale,t.originX),wC(e.y,t.y,t.scaleY,t.scale,t.originY)}function wR(e,t){return gR(u9(e.getBoundingClientRect(),t))}function f9(e,t,n){const r=wR(e,n),{scroll:i}=t;return i&&(ki(r.x,i.offset.x),ki(r.y,i.offset.y)),r}const xR=({current:e})=>e?e.ownerDocument.defaultView:null,d9=new WeakMap;class h9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wo(c).point)},s=(c,f)=>{const{drag:d,dragPropagation:h,onDragStart:m}=this.getProps();if(d&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sU(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jt(y=>{let g=this.getAxisMotionValue(y).get()||0;if(pn.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[y];w&&(g=At(w)*(parseFloat(g)/100))}}this.originPoint[y]=g}),m&&we.postRender(()=>m(c,f)),Hg(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(c,f)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:m,onDrag:p}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:y}=f;if(h&&this.currentDirection===null){this.currentDirection=p9(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),p&&p(c,f)},a=(c,f)=>this.stop(c,f),l=()=>jt(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new dR(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:xR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&we.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ca(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=n9(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Ei(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=r9(i.layoutBox,n):this.constraints=!1,this.elastic=a9(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&jt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=o9(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ei(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=f9(r,i.root,this.visualElement.getTransformPagePoint());let o=i9(i.layout.layoutBox,s);if(n){const a=n(l9(o));this.hasMutatedConstraints=!!a,a&&(o=gR(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=jt(c=>{if(!Ca(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,m={type:"inertia",velocity:r?t[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Hg(this.visualElement,t),r.start(m0(t,r,0,n,this.visualElement,!1))}stopAnimation(){jt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){jt(n=>{const{drag:r}=this.getProps();if(!Ca(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Me(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ei(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=s9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jt(o=>{if(!Ca(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Me(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;d9.set(this.visualElement,this);const t=this.visualElement.current,n=Zs(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ei(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),we.read(r);const o=Ao(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(jt(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Jg,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ca(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function p9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class m9 extends Er{constructor(t){super(t),this.removeGroupControls=kt,this.removeListeners=kt,this.controls=new h9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const xC=e=>(t,n)=>{e&&we.postRender(()=>e(t,n))};class g9 extends Er{constructor(){super(...arguments),this.removePointerDownListener=kt}onPointerDown(t){this.session=new dR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xC(t),onStart:xC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&we.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Zs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ha={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _C(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Es={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=_C(e,t.target.x),r=_C(e,t.target.y);return`${n}% ${r}%`}},v9={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=wr.parse(e);if(i.length>5)return r;const s=wr.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=Me(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class y9 extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;F8(w9),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ha.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||we.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Uy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _R(e){const[t,n]=J6(),r=E.useContext(rP);return _.jsx(y9,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(fP),isPresent:t,safeToRemove:n})}const w9={borderRadius:{...Es,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Es,borderTopRightRadius:Es,borderBottomLeftRadius:Es,borderBottomRightRadius:Es,boxShadow:v9};function x9(e,t,n){const r=lt(e)?e:No(e);return r.start(m0("",r,t,n)),r.animation}function _9(e){return e instanceof SVGElement&&e.tagName!=="svg"}const S9=(e,t)=>e.depth-t.depth;class b9{constructor(){this.children=[],this.isDirty=!1}add(t){i0(this.children,t),this.isDirty=!0}remove(t){s0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(S9),this.isDirty=!1,this.children.forEach(t)}}function E9(e,t){const n=mn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(yr(r),e(s-t))};return we.read(r,!0),()=>yr(r)}const SR=["TopLeft","TopRight","BottomLeft","BottomRight"],C9=SR.length,SC=e=>typeof e=="string"?parseFloat(e):e,bC=e=>typeof e=="number"||ee.test(e);function T9(e,t,n,r,i,s){i?(e.opacity=Me(0,n.opacity!==void 0?n.opacity:1,k9(r)),e.opacityExit=Me(t.opacity!==void 0?t.opacity:1,0,N9(r))):s&&(e.opacity=Me(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<C9;o++){const a=`border${SR[o]}Radius`;let l=EC(t,a),u=EC(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||bC(l)===bC(u)?(e[a]=Math.max(Me(SC(l),SC(u),r),0),(pn.test(u)||pn.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Me(t.rotate||0,n.rotate||0,r))}function EC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const k9=bR(0,.5,VP),N9=bR(.5,.95,kt);function bR(e,t,n){return r=>r<e?0:r>t?1:n(Yi(e,t,r))}function CC(e,t){e.min=t.min,e.max=t.max}function It(e,t){CC(e.x,t.x),CC(e.y,t.y)}function TC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kC(e,t,n,r,i){return e-=t,e=Ll(e,1/n,r),i!==void 0&&(e=Ll(e,1/i,r)),e}function M9(e,t=0,n=1,r=.5,i,s=e,o=e){if(pn.test(t)&&(t=parseFloat(t),t=Me(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Me(s.min,s.max,r);e===s&&(a-=t),e.min=kC(e.min,t,n,a,i),e.max=kC(e.max,t,n,a,i)}function NC(e,t,[n,r,i],s,o){M9(e,t[n],t[r],t[i],t.scale,s,o)}const A9=["x","scaleX","originX"],P9=["y","scaleY","originY"];function MC(e,t,n,r){NC(e.x,t,A9,n?n.x:void 0,r?r.x:void 0),NC(e.y,t,P9,n?n.y:void 0,r?r.y:void 0)}function AC(e){return e.translate===0&&e.scale===1}function ER(e){return AC(e.x)&&AC(e.y)}function PC(e,t){return e.min===t.min&&e.max===t.max}function R9(e,t){return PC(e.x,t.x)&&PC(e.y,t.y)}function RC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function CR(e,t){return RC(e.x,t.x)&&RC(e.y,t.y)}function IC(e){return At(e.x)/At(e.y)}function jC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class I9{constructor(){this.members=[]}add(t){i0(this.members,t),t.scheduleRender()}remove(t){if(s0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j9(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:h,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Rr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$s=typeof window<"u"&&window.MotionDebug!==void 0,Em=["","X","Y","Z"],D9={visibility:"hidden"},DC=1e3;let L9=0;function Cm(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function TR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",we,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&TR(r)}function kR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=L9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$s&&(Rr.totalNodes=Rr.resolvedTargetDeltas=Rr.recalculatedProjection=0),this.nodes.forEach(q9),this.nodes.forEach(U9),this.nodes.forEach(H9),this.nodes.forEach($9),$s&&window.MotionDebug.record(Rr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new b9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new o0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_9(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=E9(d,250),Ha.hasAnimatedSinceResize&&(Ha.hasAnimatedSinceResize=!1,this.nodes.forEach(OC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||X9,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=c.getProps(),v=!this.targetLayout||!CR(this.targetLayout,m)||h,w=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const x={...e0(p,"layout"),onPlay:y,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||OC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LC);return}this.isUpdating||this.nodes.forEach(B9),this.isUpdating=!1,this.nodes.forEach(z9),this.nodes.forEach(O9),this.nodes.forEach(F9),this.clearAllSnapshots();const a=mn.now();et.delta=Vn(0,1e3/60,a-et.timestamp),et.timestamp=a,et.isProcessing=!0,mm.update.process(et),mm.preRender.process(et),mm.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Uy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V9),this.sharedNodes.forEach(W9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ER(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Pr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Z9(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Oe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Q9))){const{scroll:c}=this.root;c&&(ki(l.x,c.offset.x),ki(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=Oe();if(It(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&It(l,o),ki(l.x,f.offset.x),ki(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Oe();It(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ni(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Pr(c.latestValues)&&Ni(l,c.latestValues)}return Pr(this.latestValues)&&Ni(l,this.latestValues),l}removeTransform(o){const a=Oe();It(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Pr(u.latestValues))continue;ev(u.latestValues)&&u.updateSnapshot();const c=Oe(),f=u.measurePageBox();It(c,f),MC(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Pr(this.latestValues)&&MC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Js(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):It(this.target,this.layout.layoutBox),yR(this.target,this.targetDelta)):It(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Js(this.relativeTargetOrigin,this.target,h.target),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$s&&Rr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ev(this.parent.latestValues)||vR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===et.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;It(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;c9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Oe());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TC(this.prevProjectionDelta.x,this.projectionDelta.x),TC(this.prevProjectionDelta.y,this.projectionDelta.y)),Qs(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!jC(this.projectionDelta.x,this.prevProjectionDelta.x)||!jC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),$s&&Rr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ti(),this.projectionDelta=Ti(),this.projectionDeltaWithTransform=Ti()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Ti();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Oe(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,p=h!==m,y=this.getStack(),g=!y||y.members.length<=1,v=!!(p&&!g&&this.options.crossfade===!0&&!this.path.some(Y9));this.animationProgress=0;let w;this.mixTargetDelta=x=>{const S=x/1e3;FC(f.x,o.x,S),FC(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Js(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K9(this.relativeTarget,this.relativeTargetOrigin,d,S),w&&R9(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Oe()),It(w,this.relativeTarget)),p&&(this.animationValues=c,T9(c,u,this.latestValues,S,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Ha.hasAnimatedSinceResize=!0,this.currentAnimation=x9(0,DC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&NR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Oe();const f=At(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=At(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}It(a,l),Ni(a,c),Qs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new I9),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Cm("z",o,u,this.animationValues);for(let c=0;c<Em.length;c++)Cm(`rotate${Em[c]}`,o,u,this.animationValues),Cm(`skew${Em[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return D9;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=za(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=za(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Pr(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=j9(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:h,y:m}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Pl){if(d[p]===void 0)continue;const{correct:y,applyTo:g}=Pl[p],v=u.transform==="none"?d[p]:y(d[p],f);if(g){const w=g.length;for(let x=0;x<w;x++)u[g[x]]=v}else u[p]=v}return this.options.layoutId&&(u.pointerEvents=f===this?za(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(LC),this.root.sharedNodes.clear()}}}function O9(e){e.updateLayout()}function F9(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?jt(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],h=At(d);d.min=r[f].min,d.max=d.min+h}):NR(s,n.layoutBox,r)&&jt(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],h=At(r[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const a=Ti();Qs(a,r,n.layoutBox);const l=Ti();o?Qs(l,e.applyTransform(i,!0),n.measuredBox):Qs(l,r,n.layoutBox);const u=!ER(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const m=Oe();Js(m,n.layoutBox,d.layoutBox);const p=Oe();Js(p,r,h.layoutBox),CR(m,p)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function q9(e){$s&&Rr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function V9(e){e.clearSnapshot()}function LC(e){e.clearMeasurements()}function B9(e){e.isLayoutDirty=!1}function z9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function U9(e){e.resolveTargetDelta()}function H9(e){e.calcProjection()}function G9(e){e.resetSkewAndRotation()}function W9(e){e.removeLeadSnapshot()}function FC(e,t,n){e.translate=Me(t.translate,0,n),e.scale=Me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qC(e,t,n,r){e.min=Me(t.min,n.min,r),e.max=Me(t.max,n.max,r)}function K9(e,t,n,r){qC(e.x,t.x,n.x,r),qC(e.y,t.y,n.y,r)}function Y9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const X9={duration:.45,ease:[.4,0,.1,1]},$C=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),VC=$C("applewebkit/")&&!$C("chrome/")?Math.round:kt;function BC(e){e.min=VC(e.min),e.max=VC(e.max)}function Z9(e){BC(e.x),BC(e.y)}function NR(e,t,n){return e==="position"||e==="preserve-aspect"&&!e9(IC(t),IC(n),.2)}function Q9(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const J9=kR({attachResizeListener:(e,t)=>Ao(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tm={current:void 0},MR=kR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Tm.current){const e=new J9({});e.mount(window),e.setOptions({layoutScroll:!0}),Tm.current=e}return Tm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),eG={pan:{Feature:g9},drag:{Feature:m9,ProjectionNode:MR,MeasureLayout:_R}};function zC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&we.postRender(()=>s(t,Wo(t)))}class tG extends Er{mount(){const{current:t}=this.node;t&&(this.unmount=eU(t,n=>(zC(this.node,n,"Start"),r=>zC(this.node,r,"End"))))}unmount(){}}class nG extends Er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Go(Ao(this.node.current,"focus",()=>this.onFocus()),Ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UC(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&we.postRender(()=>s(t,Wo(t)))}class rG extends Er{mount(){const{current:t}=this.node;t&&(this.unmount=iU(t,n=>(UC(this.node,n,"Start"),(r,{success:i})=>UC(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nv=new WeakMap,km=new WeakMap,iG=e=>{const t=nv.get(e.target);t&&t(e)},sG=e=>{e.forEach(iG)};function oG({root:e,...t}){const n=e||document;km.has(n)||km.set(n,{});const r=km.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(sG,{root:e,...t})),r[i]}function aG(e,t,n){const r=oG(t);return nv.set(e,n),r.observe(e),()=>{nv.delete(e),r.unobserve(e)}}const lG={some:0,all:1};class uG extends Er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:lG[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return aG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(cG(t,n))&&this.startObserver()}unmount(){}}function cG({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const fG={inView:{Feature:uG},tap:{Feature:rG},focus:{Feature:nG},hover:{Feature:tG}},dG={layout:{ProjectionNode:MR,MeasureLayout:_R}},rv={current:null},AR={current:!1};function hG(){if(AR.current=!0,!!qy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rv.current=e.matches;e.addListener(t),t()}else rv.current=!1}const pG=[...tR,ot,wr],mG=e=>pG.find(eR(e)),HC=new WeakMap;function gG(e,t,n){for(const r in t){const i=t[r],s=n[r];if(lt(i))e.addValue(r,i);else if(lt(s))e.addValue(r,No(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,No(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const GC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vG{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=d0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=mn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,we.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Mu(n),this.isVariantNode=uP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const m=d[h];l[h]!==void 0&&lt(m)&&m.set(l[h],!1)}}mount(t){this.current=t,HC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AR.current||hG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){HC.delete(this.current),this.projection&&this.projection.unmount(),yr(this.notifyUpdate),yr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=si.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xi){const n=Xi[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GC.length;r++){const i=GC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=gG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=No(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(QP(i)||zP(i))?i=parseFloat(i):!mG(i)&&wr.test(n)&&(i=YP(t,n)),this.setBaseTarget(t,lt(i)?i.get():i)),lt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Gy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!lt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new o0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class PR extends vG{constructor(){super(...arguments),this.KeyframeResolver=nR}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yG(e){return window.getComputedStyle(e)}class wG extends PR{constructor(){super(...arguments),this.type="html",this.renderInstance=yP}readValueFromInstance(t,n){if(si.has(n)){const r=f0(n);return r&&r.default||0}else{const r=yG(t),i=(mP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wR(t,n)}build(t,n,r){Yy(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Jy(t,n,r)}}class xG extends PR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(si.has(n)){const r=f0(n);return r&&r.default||0}return n=wP.has(n)?n:zy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return SP(t,n,r)}build(t,n,r){Xy(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){xP(t,n,r,i)}mount(t){this.isSVGTag=Qy(t.tagName),super.mount(t)}}const _G=(e,t)=>Hy(e)?new xG(t):new wG(t,{allowProjection:e!==E.Fragment}),SG=W8({...HH,...fG,...eG,...dG},_G),bG=l8(SG);function EG({steps:e,fromRects:t,toRects:n,onComplete:r}){return E.useEffect(()=>{const i=window.setTimeout(r,550);return()=>window.clearTimeout(i)},[r]),_.jsx("div",{className:"morph-layer",children:e.map(i=>{var a;const s=t[i.id],o=n[i.id];return!s||!o?null:_.jsxs(bG.div,{className:`morph-card step-${i.type}`,initial:{left:s.left,top:s.top,width:s.width,height:s.height},animate:{left:o.left,top:o.top,width:o.width,height:o.height},transition:{duration:.5,ease:"easeInOut"},children:[_.jsx("div",{className:"morph-card-title",children:i.name}),_.jsx("div",{className:"morph-card-subtitle",children:((a=i.preview)==null?void 0:a.title)??i.type})]},i.id)})})}function CG({morph:e,onComplete:t,children:n}){return _.jsxs("div",{className:"morph-orchestrator",children:[n,e?_.jsx(EG,{steps:e.steps,fromRects:e.fromRects,toRects:e.toRects,onComplete:t}):null]})}function TG(){const[e,t]=E.useState(null),[n,r]=E.useState(null),[i,s]=E.useState(!0),[o,a]=E.useState(null),[l,u]=E.useState([]),[c,f]=E.useState(null),d=E.useCallback(async m=>{const p=await H6(),y=(p==null?void 0:p.trace)??null;t(y),r(y?(p==null?void 0:p.insights)??Bj(y):null)},[t,r]),h=E.useCallback(async()=>{var m;s(!0),a(null);try{const p=await U6();u(p);const y=((m=p[p.length-1])==null?void 0:m.id)??null,g=c??y;if(!g){t(null),r(null);return}if(!c||c!==g){f(g);return}await d(g)}catch(p){a(p instanceof Error?p.message:"Failed to load trace")}finally{s(!1)}},[c,d]);return E.useEffect(()=>{h()},[h]),E.useEffect(()=>{c&&(s(!0),d(c).catch(m=>{a(m instanceof Error?m.message:"Failed to load trace")}).finally(()=>s(!1)))},[c,d]),{trace:e,insights:n,loading:i,error:o,reload:h,traces:l,selectedTraceId:c,setSelectedTraceId:f}}function _n(e,t){const[n,r]=E.useState(()=>{if(typeof window>"u")return t;try{const i=window.localStorage.getItem(e);return i==null?t:JSON.parse(i)}catch{return t}});return E.useEffect(()=>{try{window.localStorage.setItem(e,JSON.stringify(n))}catch{}},[e,n]),[n,r]}function kG(e,t,n){const{intervals:r}=Jl(e,t,n),i=new Set;return r.forEach(s=>{i.add(s.startMs),i.add(s.endMs)}),Array.from(i).sort((s,o)=>s-o)}function NG(e,t,n){if(!e.length)return null;if(n===1){for(const r of e)if(r>t+1)return r;return e[e.length-1]}for(let r=e.length-1;r>=0;r-=1){const i=e[r];if(i<t-1)return i}return e[0]}const WC=220,KC=120;function MG(e){return e.filter(t=>t.parentStepId).map(t=>({source:t.parentStepId,target:t.id}))}function AG(e){const t=[...e].sort((n,r)=>n.index-r.index);return t.slice(1).map((n,r)=>({source:t[r].id,target:n.id}))}function PG(e){const t={},n=e.getBoundingClientRect();return e.querySelectorAll(".step-card").forEach(i=>{const s=i.dataset.stepId;if(!s)return;const o=i.getBoundingClientRect();t[s]={left:o.left-n.left,top:o.top-n.top,width:o.width,height:o.height}}),t}function RG(e,t,n){const r=[...MG(e),...AG(e),...Ba(e).map(m=>({source:m.source,target:m.target}))],i=Vg(e,r,n),s=t.getBoundingClientRect(),o=Math.min(...i.map(m=>m.position.x)),a=Math.min(...i.map(m=>m.position.y)),l=Math.max(...i.map(m=>m.position.x)),u=Math.max(...i.map(m=>m.position.y)),c=l-o+WC,f=u-a+KC,d=Math.max(32,(s.width-c)/2),h=Math.max(24,(s.height-f)/2);return i.reduce((m,p)=>(m[p.id]={left:p.position.x-o+d,top:p.position.y-a+h,width:WC,height:KC},m),{})}function YC(e,t,n){const r=t.trim().toLowerCase();return e.filter(i=>{var o,a,l;return n!=="all"&&i.type!==n?!1:r?[i.name,(o=i.preview)==null?void 0:o.title,(a=i.preview)==null?void 0:a.outputPreview,(l=i.preview)==null?void 0:l.inputPreview].filter(Boolean).join(" ").toLowerCase().includes(r):!0})}function IG(){const{trace:e,insights:t,loading:n,error:r,reload:i,traces:s,selectedTraceId:o,setSelectedTraceId:a}=TG(),[l,u]=_n("agentDirector.mode","cinema"),[c,f]=E.useState(""),[d,h]=E.useState("all"),[m,p]=E.useState(null),[y,g]=_n("agentDirector.safeExport",!1),[v,w]=E.useState(null),[x,S]=E.useState(!1),[C,T]=E.useState(0),[k,M]=_n("agentDirector.speed",1),[R,j]=_n("agentDirector.windowed",!1),[B,V]=E.useState(2e4),[b,D]=E.useState(!1),[P,L]=_n("agentDirector.overlayEnabled",!1),[A,N]=_n("agentDirector.onboarded",!1),[I,q]=_n("agentDirector.tourCompleted",!1),[$,O]=_n("agentDirector.explainMode",!1),U=!1,[G,X]=_n("agentDirector.introDismissed",U),[te,se]=E.useState(!1),[le,oe]=E.useState(null),Te=E.useRef(null),xe=E.useMemo(()=>e?YC(e.steps,c,d):[],[e,c,d]),Be=E.useMemo(()=>v?YC(v.steps,c,d):[],[v,c,d]),De=E.useMemo(()=>e?kG(e.startedAt,e.endedAt,e.steps):[],[e]),J=E.useMemo(()=>!e||!v?null:Oy(e,v),[e,v]),Le=E.useMemo(()=>e?e.steps.find(H=>H.id===m)??null:null,[e,m]),Y=async H=>{if(!e)return;const Q=await K6(e.id,H,"hybrid",{note:"UI replay"},e);Q&&(w(Q),L(!0),u("flow"))},K=E.useCallback(()=>{if(!e)return;const H=[...e.steps].sort((Q,ue)=>(ue.durationMs??0)-(Q.durationMs??0))[0];H&&(p(H.id),u("cinema"))},[e,u]),_e=E.useCallback(()=>{if(!e)return;const H=e.steps.find(Q=>Q.status==="failed");H&&(p(H.id),u("cinema"))},[e,u]),St=E.useMemo(()=>[{id:"header",title:"Mission control",body:"Confirm the run, status, and metadata. Use Guide and Explain to orient the room instantly.",target:'[data-tour="header"]',placement:"bottom"},{id:"insights",title:"Fast diagnosis",body:"Jump straight to bottlenecks, errors, and high-cost steps with one click.",target:'[data-tour="insights"]',placement:"bottom"},{id:"journey",title:"Director journey",body:"A narrative path that teaches how to watch, inspect, and direct a better run.",target:'[data-tour="journey"]',placement:"bottom"},{id:"toolbar",title:"Filters + modes",body:"Search, filter, and switch between Cinema, Flow, and Compare as the story evolves.",target:'[data-tour="toolbar"]',placement:"bottom"},{id:"stage",title:"Cinema stage",body:"The timeline shows every step as a scene. Scrub to see pacing and concurrency.",target:'[data-tour="stage"]',placement:"top"},{id:"inspector",title:"Inspector",body:"Open any step to read payloads, apply redaction, and replay from that moment.",target:'[data-tour="inspector"]',placement:"left"},{id:"compare",title:"Compare runs",body:v?"Compare is live. Review deltas in cost, steps, and wall time side by side.":"Replay from a step to unlock compare mode and validate improvements.",target:'[data-tour="compare"]',placement:"top"}],[v]),We=E.useCallback(H=>{if(!(H===l||!e)){if(H==="flow"&&S(!1),H==="flow"&&l==="cinema"&&Te.current){const Q=Te.current,ue=PG(Q),he=RG(e.steps,Q,e.id);oe({steps:e.steps,fromRects:ue,toRects:he});return}u(H)}},[l,e,S,u]),Qe=E.useCallback(()=>{oe(null),u("flow")},[u]);E.useEffect(()=>{if(!e)return;W6(),T(0),S(!1);const H=Math.min(Math.max((e.metadata.wallTimeMs||1)*.2,5e3),6e4);V(H),e.steps.length>500&&j(!0),v||L(!1),l==="compare"&&!v&&u("cinema")},[e,v,l,u,j,L]),E.useEffect(()=>{!I&&G&&se(!0)},[I,G]),E.useEffect(()=>(document.body.classList.toggle("explain-mode",$),()=>{document.body.classList.remove("explain-mode")}),[$]),E.useEffect(()=>{if(!e)return;const Q=Date.parse(e.startedAt)+C;let ue=0,he=Number.POSITIVE_INFINITY;e.steps.forEach((be,qe)=>{const ge=Date.parse(be.startedAt),ke=Date.parse(be.endedAt??be.startedAt);if(Q>=ge&&Q<=ke){ue=qe,he=0;return}const ze=Math.min(Math.abs(Q-ge),Math.abs(Q-ke));ze<he&&(he=ze,ue=qe)}),[ue,ue-1,ue+1].filter(be=>be>=0&&be<e.steps.length).forEach(be=>{const qe=e.steps[be];qe&&G6(e.id,qe.id,y)})},[e,C,y]),E.useEffect(()=>{if(!e||!x||l!=="cinema"&&l!=="compare")return;const H=(v==null?void 0:v.metadata.wallTimeMs)??0,Q=l==="compare"?Math.max(e.metadata.wallTimeMs||1,H||1):e.metadata.wallTimeMs||1;let ue=0,he=performance.now();const Ke=be=>{const qe=(be-he)*k;he=be,T(ge=>{const ke=ge+qe;return ke>=Q?(S(!1),Q):ke}),ue=requestAnimationFrame(Ke)};return ue=requestAnimationFrame(Ke),()=>cancelAnimationFrame(ue)},[e,v,x,k,l]),E.useEffect(()=>{const H=Q=>{var be;const ue=Q.target,he=(be=ue==null?void 0:ue.tagName)==null?void 0:be.toLowerCase();if(!(he==="input"||he==="textarea"||he==="select"||ue!=null&&ue.isContentEditable)){if(Q.key==="?"||Q.key==="/"&&Q.shiftKey){Q.preventDefault(),D(!0);return}if(Q.key==="Escape"){D(!1),p(null);return}if(Q.key===" "){Q.preventDefault(),(l==="cinema"||l==="compare")&&S(qe=>!qe);return}if(Q.key.toLowerCase()==="f"){Q.preventDefault(),l==="flow"?u("cinema"):l==="cinema"&&We("flow");return}if(Q.key.toLowerCase()==="i"){Q.preventDefault(),m?p(null):e!=null&&e.steps.length&&p(e.steps[0].id);return}if(Q.key==="ArrowLeft"||Q.key==="ArrowRight"){if(Q.preventDefault(),!e)return;const qe=e.metadata.wallTimeMs||1;if(Q.shiftKey){T(Q.key==="ArrowLeft"?0:qe),S(!1),u("cinema");return}const ge=Q.key==="ArrowRight"?1:-1,ke=NG(De,C,ge);ke!=null&&(T(ke),S(!1),u("cinema"))}}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[l,m,e,C,De,We,u]);const Se=E.useMemo(()=>{if(!e||!R||c)return null;const H=e.metadata.wallTimeMs||1,Q=Math.min(Math.max(B,5e3),H);let ue=Math.max(0,C-Q/2);const he=Math.min(H,ue+Q);return he-ue<Q&&(ue=Math.max(0,he-Q)),{startMs:ue,endMs:he}},[e,R,C,c,B]);return n?_.jsx("div",{className:"loading",children:"Loading trace..."}):r||!e?_.jsxs("div",{className:"error",children:[_.jsx("p",{children:r??"Failed to load trace."}),_.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Retry"})]}):_.jsxs("div",{className:`app ${$?"explain-mode":""}`,children:[_.jsx(Fj,{trace:e,traces:s,selectedTraceId:o,onSelectTrace:a,onReload:i,onStartTour:()=>se(!0),onToggleExplain:()=>O(H=>!H),explainMode:$}),!G&&!U?_.jsx(cD,{onComplete:()=>X(!0)}):null,_.jsx(aD,{steps:St,open:te,onClose:()=>{se(!1),q(!0)},onComplete:()=>{se(!1),q(!0)}}),_.jsx(lD,{enabled:$}),_.jsx(qj,{insights:t,onSelectStep:H=>{p(H),l!=="cinema"&&u("cinema")},onJumpToError:_e,onJumpToBottleneck:K}),_.jsx(iD,{trace:e,mode:l,playheadMs:C,selectedStepId:m,compareTrace:v,collapsed:A,onToggleCollapsed:()=>N(H=>!H),onModeChange:We,onSelectStep:H=>{p(H),l!=="cinema"&&u("cinema")},onJumpToBottleneck:K,onReplay:Y,onShowShortcuts:()=>D(!0),onStartTour:()=>se(!0)}),_.jsxs("div",{className:"toolbar","data-help":!0,"data-help-indicator":!0,"data-tour":"toolbar","data-help-title":"Search + filters","data-help-body":"Filter by step type, enable Safe export, and jump between Cinema, Flow, and Compare.","data-help-placement":"bottom",children:[_.jsx(Vj,{query:c,typeFilter:d,onQueryChange:f,onTypeFilterChange:h}),_.jsxs("div",{className:"toolbar-actions",children:[_.jsx("button",{className:`ghost-button ${l==="cinema"?"active":""}`,type:"button","aria-pressed":l==="cinema",title:"Timeline playback",onClick:()=>We("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view with step cards ordered by time.","data-help-placement":"bottom",children:"Cinema"}),_.jsx("button",{className:`ghost-button ${l==="flow"?"active":""}`,type:"button","aria-pressed":l==="flow",title:"Graph view",onClick:()=>We("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Dependency graph of steps and tool calls.","data-help-placement":"bottom",children:"Flow"}),_.jsx("button",{className:`ghost-button ${l==="compare"?"active":""}`,type:"button","aria-pressed":l==="compare",title:v?"Side-by-side compare":"Run a replay to enable compare",onClick:()=>We("compare"),disabled:!v,"data-tour":"compare","data-help":!0,"data-help-title":"Compare mode","data-help-body":"Side-by-side view after a replay. Enabled once you replay.","data-help-placement":"bottom",children:"Compare"}),_.jsxs("label",{className:"toggle",title:"Redact payloads and disable raw views for safe sharing","data-help":!0,"data-help-title":"Safe export","data-help-body":"Redacts secrets and disables raw payload views for safe sharing.","data-help-placement":"bottom",children:[_.jsx("input",{type:"checkbox",checked:y,onChange:()=>g(H=>!H)}),"Safe export"]}),e.steps.length>200||R?_.jsxs("label",{className:"toggle",title:"Window steps around the playhead for large traces","data-help":!0,"data-help-title":"Windowed mode","data-help-body":"Limits rendering to a playhead window for large traces.","data-help-placement":"bottom",children:[_.jsx("input",{type:"checkbox",checked:R,onChange:()=>j(H=>!H)}),"Windowed"]}):null,v?_.jsxs("label",{className:"toggle",title:"Show ghost overlay of replay in Cinema/Flow","data-help":!0,"data-help-title":"Overlay replay","data-help-body":"Layer the replay over the base run to spot differences.","data-help-placement":"bottom",children:[_.jsx("input",{type:"checkbox",checked:P,onChange:()=>L(H=>!H)}),"Overlay"]}):null]})]}),l==="cinema"?_.jsxs("div",{className:"playback-stack","data-tour":"playback",children:[_.jsx("div",{"data-help":!0,"data-help-title":"Playback controls","data-help-body":"Play, pause, scrub, and adjust speed to feel the rhythm of the run.","data-help-placement":"bottom",children:_.jsx(Aw,{playheadMs:C,wallTimeMs:e.metadata.wallTimeMs||1,isPlaying:x,speed:k,onToggle:()=>S(H=>!H),onScrub:H=>T(H),onSpeedChange:M})}),_.jsx("div",{"data-help":!0,"data-help-title":"Density map","data-help-body":"Zoom into hotspots and keep long traces readable with windowing.","data-help-placement":"bottom",children:_.jsx(eD,{traceStart:e.startedAt,traceEnd:e.endedAt,steps:e.steps,playheadMs:C,windowRange:Se,windowed:R,spanMs:B,onSpanChange:V,onToggleWindowed:j,onScrub:H=>T(H)})})]}):null,l==="compare"&&v?_.jsx("div",{"data-help":!0,"data-help-title":"Compare playback","data-help-body":"Sync both runs to evaluate improvements at identical timestamps.","data-help-placement":"bottom",children:_.jsx(Aw,{playheadMs:C,wallTimeMs:Math.max(e.metadata.wallTimeMs||1,v.metadata.wallTimeMs||1),isPlaying:x,speed:k,onToggle:()=>S(H=>!H),onScrub:H=>T(H),onSpeedChange:M})}):null,_.jsxs("div",{className:"stage",children:[_.jsx("div",{className:"main",ref:Te,"data-help":!0,"data-help-indicator":!0,"data-tour":"stage","data-help-title":"Trace stage","data-help-body":"Every step becomes a scene. Hover or click to open deep inspection.","data-help-placement":"top",children:_.jsxs(CG,{morph:le,onComplete:Qe,children:[l==="cinema"?_.jsx(Zj,{trace:e,steps:xe,selectedStepId:m,onSelectStep:H=>p(H),playheadMs:C,windowRange:Se,timing:t==null?void 0:t.timing,ghostTrace:P?v:null,diff:J}):null,l==="flow"?_.jsx(R6,{steps:xe,selectedStepId:m,onSelectStep:H=>p(H),baseTrace:e,compareTrace:v,compareSteps:Be,overlayEnabled:P,onToggleOverlay:()=>L(H=>!H)}):null,l==="compare"&&v?_.jsx(j6,{baseTrace:e,compareTrace:v,playheadMs:C,safeExport:y,onExit:()=>{u("cinema"),w(null)}}):null]})}),Le?_.jsx(Z6,{traceId:e.id,step:Le,safeExport:y,onClose:()=>p(null),onReplay:Y}):_.jsx(oD,{trace:e,mode:l,selectedStepId:m,onModeChange:We,onSelectStep:H=>p(H),onJumpToBottleneck:K,onReplay:Y})]}),_.jsx(nD,{open:b,onClose:()=>D(!1)})]})}Nm.createRoot(document.getElementById("root")).render(_.jsx(F.StrictMode,{children:_.jsx(IG,{})}));
