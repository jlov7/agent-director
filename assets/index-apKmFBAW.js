const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-b0RL5qW9.js","assets/index-B5DZHykP.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l_={exports:{}},wo={},u_={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ia=Symbol.for("react.element"),FP=Symbol.for("react.portal"),VP=Symbol.for("react.fragment"),BP=Symbol.for("react.strict_mode"),$P=Symbol.for("react.profiler"),UP=Symbol.for("react.provider"),zP=Symbol.for("react.context"),GP=Symbol.for("react.forward_ref"),HP=Symbol.for("react.suspense"),KP=Symbol.for("react.memo"),WP=Symbol.for("react.lazy"),pg=Symbol.iterator;function YP(e){return e===null||typeof e!="object"?null:(e=pg&&e[pg]||e["@@iterator"],typeof e=="function"?e:null)}var c_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d_=Object.assign,f_={};function mi(e,t,n){this.props=e,this.context=t,this.refs=f_,this.updater=n||c_}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h_(){}h_.prototype=mi.prototype;function lm(e,t,n){this.props=e,this.context=t,this.refs=f_,this.updater=n||c_}var um=lm.prototype=new h_;um.constructor=lm;d_(um,mi.prototype);um.isPureReactComponent=!0;var mg=Array.isArray,p_=Object.prototype.hasOwnProperty,cm={current:null},m_={key:!0,ref:!0,__self:!0,__source:!0};function v_(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)p_.call(t,r)&&!m_.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ia,type:e,key:a,ref:s,props:i,_owner:cm.current}}function QP(e,t){return{$$typeof:Ia,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ia}function XP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vg=/\/+/g;function ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XP(""+e.key):t.toString(36)}function _s(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ia:case FP:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+ml(s,0):r,mg(i)?(n="",e!=null&&(n=e.replace(vg,"$&/")+"/"),_s(i,t,n,"",function(u){return u})):i!=null&&(dm(i)&&(i=QP(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(vg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",mg(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+ml(a,o);s+=_s(a,t,n,l,i)}else if(l=YP(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+ml(a,o++),s+=_s(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Za(e,t,n){if(e==null)return e;var r=[],i=0;return _s(e,r,"","",function(a){return t.call(n,a,i++)}),r}function JP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},Cs={transition:null},ZP={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:cm};function g_(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Za,forEach:function(e,t,n){Za(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Za(e,function(){t++}),t},toArray:function(e){return Za(e,function(t){return t})||[]},only:function(e){if(!dm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=mi;W.Fragment=VP;W.Profiler=$P;W.PureComponent=lm;W.StrictMode=BP;W.Suspense=HP;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZP;W.act=g_;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=d_({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=cm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)p_.call(t,l)&&!m_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Ia,type:e.type,key:i,ref:a,props:r,_owner:s}};W.createContext=function(e){return e={$$typeof:zP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UP,_context:e},e.Consumer=e};W.createElement=v_;W.createFactory=function(e){var t=v_.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:GP,render:e}};W.isValidElement=dm;W.lazy=function(e){return{$$typeof:WP,_payload:{_status:-1,_result:e},_init:JP}};W.memo=function(e,t){return{$$typeof:KP,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Cs.transition;Cs.transition={};try{e()}finally{Cs.transition=t}};W.unstable_act=g_;W.useCallback=function(e,t){return Je.current.useCallback(e,t)};W.useContext=function(e){return Je.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};W.useEffect=function(e,t){return Je.current.useEffect(e,t)};W.useId=function(){return Je.current.useId()};W.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Je.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};W.useRef=function(e){return Je.current.useRef(e)};W.useState=function(e){return Je.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Je.current.useTransition()};W.version="18.3.1";u_.exports=W;var _=u_.exports;const ej=o_(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=_,nj=Symbol.for("react.element"),rj=Symbol.for("react.fragment"),ij=Object.prototype.hasOwnProperty,aj=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sj={key:!0,ref:!0,__self:!0,__source:!0};function y_(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ij.call(t,r)&&!sj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nj,type:e,key:a,ref:s,props:i,_owner:aj.current}}wo.Fragment=rj;wo.jsx=y_;wo.jsxs=y_;l_.exports=wo;var h=l_.exports,Qh={},x_={exports:{}},mt={},w_={exports:{}},b_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,O){var q=P.length;P.push(O);e:for(;0<q;){var B=q-1>>>1,Q=P[B];if(0<i(Q,O))P[B]=O,P[q]=Q,q=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var O=P[0],q=P.pop();if(q!==O){P[0]=q;e:for(var B=0,Q=P.length,Ne=Q>>>1;B<Ne;){var $e=2*(B+1)-1,et=P[$e],De=$e+1,Ye=P[De];if(0>i(et,q))De<Q&&0>i(Ye,et)?(P[B]=Ye,P[De]=q,B=De):(P[B]=et,P[$e]=q,B=$e);else if(De<Q&&0>i(Ye,q))P[B]=Ye,P[De]=q,B=De;else break e}}return O}function i(P,O){var q=P.sortIndex-O.sortIndex;return q!==0?q:P.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,f=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=P)r(u),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(u)}}function b(P){if(m=!1,x(P),!g)if(n(l)!==null)g=!0,_e(S);else{var O=n(u);O!==null&&re(b,O.startTime-P)}}function S(P,O){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var q=f;try{for(x(O),d=n(l);d!==null&&(!(d.expirationTime>O)||P&&!I());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var Q=B(d.expirationTime<=O);O=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),x(O)}else r(l);d=n(l)}if(d!==null)var Ne=!0;else{var $e=n(u);$e!==null&&re(b,$e.startTime-O),Ne=!1}return Ne}finally{d=null,f=q,p=!1}}var E=!1,T=null,C=-1,j=5,M=-1;function I(){return!(e.unstable_now()-M<j)}function U(){if(T!==null){var P=e.unstable_now();M=P;var O=!0;try{O=T(!0,P)}finally{O?ee():(E=!1,T=null)}}else E=!1}var ee;if(typeof y=="function")ee=function(){y(U)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=U,ee=function(){ie.postMessage(null)}}else ee=function(){w(U,0)};function _e(P){T=P,E||(E=!0,ee())}function re(P,O){C=w(function(){P(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,_e(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var q=f;f=O;try{return P()}finally{f=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,O){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var q=f;f=P;try{return O()}finally{f=q}},e.unstable_scheduleCallback=function(P,O,q){var B=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?B+q:B):q=B,P){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,P={id:c++,callback:O,priorityLevel:P,startTime:q,expirationTime:Q,sortIndex:-1},q>B?(P.sortIndex=q,t(u,P),n(l)===null&&P===n(u)&&(m?(v(C),C=-1):m=!0,re(b,q-B))):(P.sortIndex=Q,t(l,P),g||p||(g=!0,_e(S))),P},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(P){var O=f;return function(){var q=f;f=O;try{return P.apply(this,arguments)}finally{f=q}}}})(b_);w_.exports=b_;var oj=w_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj=_,ht=oj;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S_=new Set,fa={};function Sr(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(fa[e]=t,e=0;e<t.length;e++)S_.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=Object.prototype.hasOwnProperty,uj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gg={},yg={};function cj(e){return Xh.call(yg,e)?!0:Xh.call(gg,e)?!1:uj.test(e)?yg[e]=!0:(gg[e]=!0,!1)}function dj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fj(e,t,n,r){if(t===null||typeof t>"u"||dj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var fm=/[\-:]([a-z])/g;function hm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fm,hm);Be[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fm,hm);Be[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fm,hm);Be[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function pm(e,t,n,r){var i=Be.hasOwnProperty(t)?Be[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fj(t,n,i,r)&&(n=null),r||i===null?cj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),mm=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),C_=Symbol.for("react.context"),vm=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),T_=Symbol.for("react.offscreen"),xg=Symbol.iterator;function ji(e){return e===null||typeof e!="object"?null:(e=xg&&e[xg]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,vl;function Vi(e){if(vl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vl=t&&t[1]||""}return`
`+vl+e}var gl=!1;function yl(e,t){if(!e||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vi(e):""}function hj(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function tp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Or:return"Fragment";case Lr:return"Portal";case Jh:return"Profiler";case mm:return"StrictMode";case Zh:return"Suspense";case ep:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C_:return(e.displayName||"Context")+".Consumer";case __:return(e._context.displayName||"Context")+".Provider";case vm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gm:return t=e.displayName||null,t!==null?t:tp(e.type)||"Memo";case Pn:t=e._payload,e=e._init;try{return tp(e(t))}catch{}}return null}function pj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tp(t);case 8:return t===mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mj(e){var t=E_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=mj(e))}function k_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=E_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function np(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P_(e,t){t=t.checked,t!=null&&pm(e,"checked",t,!1)}function rp(e,t){P_(e,t);var n=zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ip(e,t.type,n):t.hasOwnProperty("defaultValue")&&ip(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ip(e,t,n){(t!=="number"||qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bi=Array.isArray;function Zr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ap(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Bi(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zn(n)}}function j_(e,t){var n=zn(t.value),r=zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _g(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,N_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vj=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(e){vj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zi[t]=Zi[e]})});function A_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zi.hasOwnProperty(e)&&Zi[e]?(""+t).trim():t+"px"}function M_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=A_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var gj=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function op(e,t){if(t){if(gj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function lp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function ym(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cp=null,ei=null,ti=null;function Cg(e){if(e=Oa(e)){if(typeof cp!="function")throw Error(N(280));var t=e.stateNode;t&&(t=To(t),cp(e.stateNode,e.type,t))}}function I_(e){ei?ti?ti.push(e):ti=[e]:ei=e}function D_(){if(ei){var e=ei,t=ti;if(ti=ei=null,Cg(e),t)for(e=0;e<t.length;e++)Cg(t[e])}}function L_(e,t){return e(t)}function O_(){}var xl=!1;function q_(e,t,n){if(xl)return e(t,n);xl=!0;try{return L_(e,t,n)}finally{xl=!1,(ei!==null||ti!==null)&&(O_(),D_())}}function pa(e,t){var n=e.stateNode;if(n===null)return null;var r=To(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var dp=!1;if(hn)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){dp=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{dp=!1}function yj(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ea=!1,Fs=null,Vs=!1,fp=null,xj={onError:function(e){ea=!0,Fs=e}};function wj(e,t,n,r,i,a,s,o,l){ea=!1,Fs=null,yj.apply(xj,arguments)}function bj(e,t,n,r,i,a,s,o,l){if(wj.apply(this,arguments),ea){if(ea){var u=Fs;ea=!1,Fs=null}else throw Error(N(198));Vs||(Vs=!0,fp=u)}}function _r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function F_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tg(e){if(_r(e)!==e)throw Error(N(188))}function Sj(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Tg(i),e;if(a===r)return Tg(i),t;a=a.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function V_(e){return e=Sj(e),e!==null?B_(e):null}function B_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B_(e);if(t!==null)return t;e=e.sibling}return null}var $_=ht.unstable_scheduleCallback,Eg=ht.unstable_cancelCallback,_j=ht.unstable_shouldYield,Cj=ht.unstable_requestPaint,Se=ht.unstable_now,Tj=ht.unstable_getCurrentPriorityLevel,xm=ht.unstable_ImmediatePriority,U_=ht.unstable_UserBlockingPriority,Bs=ht.unstable_NormalPriority,Ej=ht.unstable_LowPriority,z_=ht.unstable_IdlePriority,bo=null,Yt=null;function kj(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(bo,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Rj,Pj=Math.log,jj=Math.LN2;function Rj(e){return e>>>=0,e===0?32:31-(Pj(e)/jj|0)|0}var rs=64,is=4194304;function $i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $s(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=$i(o):(a&=s,a!==0&&(r=$i(a)))}else s=n&~i,s!==0?r=$i(s):a!==0&&(r=$i(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qt(t),i=1<<n,r|=e[n],t&=~i;return r}function Nj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-qt(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=Nj(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function hp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function G_(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Da(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=n}function Mj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function wm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ne=0;function H_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var K_,bm,W_,Y_,Q_,pp=!1,as=[],Dn=null,Ln=null,On=null,ma=new Map,va=new Map,Rn=[],Ij="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kg(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ma.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(t.pointerId)}}function Ni(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Oa(t),t!==null&&bm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dj(e,t,n,r,i){switch(t){case"focusin":return Dn=Ni(Dn,e,t,n,r,i),!0;case"dragenter":return Ln=Ni(Ln,e,t,n,r,i),!0;case"mouseover":return On=Ni(On,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ma.set(a,Ni(ma.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,va.set(a,Ni(va.get(a)||null,e,t,n,r,i)),!0}return!1}function X_(e){var t=lr(e.target);if(t!==null){var n=_r(t);if(n!==null){if(t=n.tag,t===13){if(t=F_(n),t!==null){e.blockedOn=t,Q_(e.priority,function(){W_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);up=r,n.target.dispatchEvent(r),up=null}else return t=Oa(n),t!==null&&bm(t),e.blockedOn=n,!1;t.shift()}return!0}function Pg(e,t,n){Ts(e)&&n.delete(t)}function Lj(){pp=!1,Dn!==null&&Ts(Dn)&&(Dn=null),Ln!==null&&Ts(Ln)&&(Ln=null),On!==null&&Ts(On)&&(On=null),ma.forEach(Pg),va.forEach(Pg)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,pp||(pp=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Lj)))}function ga(e){function t(i){return Ai(i,e)}if(0<as.length){Ai(as[0],e);for(var n=1;n<as.length;n++){var r=as[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dn!==null&&Ai(Dn,e),Ln!==null&&Ai(Ln,e),On!==null&&Ai(On,e),ma.forEach(t),va.forEach(t),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)X_(n),n.blockedOn===null&&Rn.shift()}var ni=xn.ReactCurrentBatchConfig,Us=!0;function Oj(e,t,n,r){var i=ne,a=ni.transition;ni.transition=null;try{ne=1,Sm(e,t,n,r)}finally{ne=i,ni.transition=a}}function qj(e,t,n,r){var i=ne,a=ni.transition;ni.transition=null;try{ne=4,Sm(e,t,n,r)}finally{ne=i,ni.transition=a}}function Sm(e,t,n,r){if(Us){var i=mp(e,t,n,r);if(i===null)Rl(e,t,r,zs,n),kg(e,r);else if(Dj(i,e,t,n,r))r.stopPropagation();else if(kg(e,r),t&4&&-1<Ij.indexOf(e)){for(;i!==null;){var a=Oa(i);if(a!==null&&K_(a),a=mp(e,t,n,r),a===null&&Rl(e,t,r,zs,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Rl(e,t,r,null,n)}}var zs=null;function mp(e,t,n,r){if(zs=null,e=ym(r),e=lr(e),e!==null)if(t=_r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=F_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function J_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tj()){case xm:return 1;case U_:return 4;case Bs:case Ej:return 16;case z_:return 536870912;default:return 16}default:return 16}}var Mn=null,_m=null,Es=null;function Z_(){if(Es)return Es;var e,t=_m,n=t.length,r,i="value"in Mn?Mn.value:Mn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Es=i.slice(e,1<r?1-r:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ss(){return!0}function jg(){return!1}function vt(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ss:jg,this.isPropagationStopped=jg,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cm=vt(vi),La=me({},vi,{view:0,detail:0}),Fj=vt(La),bl,Sl,Mi,So=me({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(bl=e.screenX-Mi.screenX,Sl=e.screenY-Mi.screenY):Sl=bl=0,Mi=e),bl)},movementY:function(e){return"movementY"in e?e.movementY:Sl}}),Rg=vt(So),Vj=me({},So,{dataTransfer:0}),Bj=vt(Vj),$j=me({},La,{relatedTarget:0}),_l=vt($j),Uj=me({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),zj=vt(Uj),Gj=me({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hj=vt(Gj),Kj=me({},vi,{data:0}),Ng=vt(Kj),Wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qj[e])?!!t[e]:!1}function Tm(){return Xj}var Jj=me({},La,{key:function(e){if(e.key){var t=Wj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zj=vt(Jj),eR=me({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ag=vt(eR),tR=me({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),nR=vt(tR),rR=me({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),iR=vt(rR),aR=me({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=vt(aR),oR=[9,13,27,32],Em=hn&&"CompositionEvent"in window,ta=null;hn&&"documentMode"in document&&(ta=document.documentMode);var lR=hn&&"TextEvent"in window&&!ta,eC=hn&&(!Em||ta&&8<ta&&11>=ta),Mg=" ",Ig=!1;function tC(e,t){switch(e){case"keyup":return oR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function uR(e,t){switch(e){case"compositionend":return nC(t);case"keypress":return t.which!==32?null:(Ig=!0,Mg);case"textInput":return e=t.data,e===Mg&&Ig?null:e;default:return null}}function cR(e,t){if(qr)return e==="compositionend"||!Em&&tC(e,t)?(e=Z_(),Es=_m=Mn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eC&&t.locale!=="ko"?null:t.data;default:return null}}var dR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dR[e.type]:t==="textarea"}function rC(e,t,n,r){I_(r),t=Gs(t,"onChange"),0<t.length&&(n=new Cm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var na=null,ya=null;function fR(e){pC(e,0)}function _o(e){var t=Br(e);if(k_(t))return e}function hR(e,t){if(e==="change")return t}var iC=!1;if(hn){var Cl;if(hn){var Tl="oninput"in document;if(!Tl){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Tl=typeof Lg.oninput=="function"}Cl=Tl}else Cl=!1;iC=Cl&&(!document.documentMode||9<document.documentMode)}function Og(){na&&(na.detachEvent("onpropertychange",aC),ya=na=null)}function aC(e){if(e.propertyName==="value"&&_o(ya)){var t=[];rC(t,ya,e,ym(e)),q_(fR,t)}}function pR(e,t,n){e==="focusin"?(Og(),na=t,ya=n,na.attachEvent("onpropertychange",aC)):e==="focusout"&&Og()}function mR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(ya)}function vR(e,t){if(e==="click")return _o(t)}function gR(e,t){if(e==="input"||e==="change")return _o(t)}function yR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:yR;function xa(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xh.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function qg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fg(e,t){var n=qg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qg(n)}}function sC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oC(){for(var e=window,t=qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qs(e.document)}return t}function km(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xR(e){var t=oC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sC(n.ownerDocument.documentElement,n)){if(r!==null&&km(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Fg(n,a);var s=Fg(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wR=hn&&"documentMode"in document&&11>=document.documentMode,Fr=null,vp=null,ra=null,gp=!1;function Vg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gp||Fr==null||Fr!==qs(r)||(r=Fr,"selectionStart"in r&&km(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ra&&xa(ra,r)||(ra=r,r=Gs(vp,"onSelect"),0<r.length&&(t=new Cm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fr)))}function os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vr={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},El={},lC={};hn&&(lC=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Co(e){if(El[e])return El[e];if(!Vr[e])return e;var t=Vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lC)return El[e]=t[n];return e}var uC=Co("animationend"),cC=Co("animationiteration"),dC=Co("animationstart"),fC=Co("transitionend"),hC=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){hC.set(e,t),Sr(t,[e])}for(var kl=0;kl<Bg.length;kl++){var Pl=Bg[kl],bR=Pl.toLowerCase(),SR=Pl[0].toUpperCase()+Pl.slice(1);Yn(bR,"on"+SR)}Yn(uC,"onAnimationEnd");Yn(cC,"onAnimationIteration");Yn(dC,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(fC,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_R=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function $g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bj(r,t,void 0,e),e.currentTarget=null}function pC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;$g(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;$g(i,o,u),a=l}}}if(Vs)throw e=fp,Vs=!1,fp=null,e}function oe(e,t){var n=t[Sp];n===void 0&&(n=t[Sp]=new Set);var r=e+"__bubble";n.has(r)||(mC(t,e,2,!1),n.add(r))}function jl(e,t,n){var r=0;t&&(r|=4),mC(n,e,r,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function wa(e){if(!e[ls]){e[ls]=!0,S_.forEach(function(n){n!=="selectionchange"&&(_R.has(n)||jl(n,!1,e),jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,jl("selectionchange",!1,t))}}function mC(e,t,n,r){switch(J_(t)){case 1:var i=Oj;break;case 4:i=qj;break;default:i=Sm}n=i.bind(null,t,n,e),i=void 0,!dp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rl(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=lr(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}q_(function(){var u=a,c=ym(n),d=[];e:{var f=hC.get(e);if(f!==void 0){var p=Cm,g=e;switch(e){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":p=Zj;break;case"focusin":g="focus",p=_l;break;case"focusout":g="blur",p=_l;break;case"beforeblur":case"afterblur":p=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Bj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nR;break;case uC:case cC:case dC:p=zj;break;case fC:p=iR;break;case"scroll":p=Fj;break;case"wheel":p=sR;break;case"copy":case"cut":case"paste":p=Hj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ag}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=pa(y,v),b!=null&&m.push(ba(y,b,x)))),w)break;y=y.return}0<m.length&&(f=new p(f,g,null,n,c),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==up&&(g=n.relatedTarget||n.fromElement)&&(lr(g)||g[pn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?lr(g):null,g!==null&&(w=_r(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=Rg,b="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Ag,b="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?f:Br(p),x=g==null?f:Br(g),f=new m(b,y+"leave",p,n,c),f.target=w,f.relatedTarget=x,b=null,lr(c)===u&&(m=new m(v,y+"enter",g,n,c),m.target=x,m.relatedTarget=w,b=m),w=b,p&&g)t:{for(m=p,v=g,y=0,x=m;x;x=Dr(x))y++;for(x=0,b=v;b;b=Dr(b))x++;for(;0<y-x;)m=Dr(m),y--;for(;0<x-y;)v=Dr(v),x--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Dr(m),v=Dr(v)}m=null}else m=null;p!==null&&Ug(d,f,p,m,!1),g!==null&&w!==null&&Ug(d,w,g,m,!0)}}e:{if(f=u?Br(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=hR;else if(Dg(f))if(iC)S=gR;else{S=mR;var E=pR}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=vR);if(S&&(S=S(e,u))){rC(d,S,n,c);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&ip(f,"number",f.value)}switch(E=u?Br(u):window,e){case"focusin":(Dg(E)||E.contentEditable==="true")&&(Fr=E,vp=u,ra=null);break;case"focusout":ra=vp=Fr=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,Vg(d,n,c);break;case"selectionchange":if(wR)break;case"keydown":case"keyup":Vg(d,n,c)}var T;if(Em)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else qr?tC(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(eC&&n.locale!=="ko"&&(qr||C!=="onCompositionStart"?C==="onCompositionEnd"&&qr&&(T=Z_()):(Mn=c,_m="value"in Mn?Mn.value:Mn.textContent,qr=!0)),E=Gs(u,C),0<E.length&&(C=new Ng(C,e,null,n,c),d.push({event:C,listeners:E}),T?C.data=T:(T=nC(n),T!==null&&(C.data=T)))),(T=lR?uR(e,n):cR(e,n))&&(u=Gs(u,"onBeforeInput"),0<u.length&&(c=new Ng("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}pC(d,t)})}function ba(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gs(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=pa(e,n),a!=null&&r.unshift(ba(e,a,i)),a=pa(e,t),a!=null&&r.push(ba(e,a,i))),e=e.return}return r}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ug(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=pa(n,a),l!=null&&s.unshift(ba(n,l,o))):i||(l=pa(n,a),l!=null&&s.push(ba(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var CR=/\r\n?/g,TR=/\u0000|\uFFFD/g;function zg(e){return(typeof e=="string"?e:""+e).replace(CR,`
`).replace(TR,"")}function us(e,t,n){if(t=zg(t),zg(e)!==t&&n)throw Error(N(425))}function Hs(){}var yp=null,xp=null;function wp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,kR=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(e){return Gg.resolve(null).then(e).catch(PR)}:bp;function PR(e){setTimeout(function(){throw e})}function Nl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ga(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ga(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+gi,Sa="__reactProps$"+gi,pn="__reactContainer$"+gi,Sp="__reactEvents$"+gi,jR="__reactListeners$"+gi,RR="__reactHandles$"+gi;function lr(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hg(e);e!==null;){if(n=e[Kt])return n;e=Hg(e)}return t}e=n,n=e.parentNode}return null}function Oa(e){return e=e[Kt]||e[pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function To(e){return e[Sa]||null}var _p=[],$r=-1;function Qn(e){return{current:e}}function le(e){0>$r||(e.current=_p[$r],_p[$r]=null,$r--)}function se(e,t){$r++,_p[$r]=e.current,e.current=t}var Gn={},We=Qn(Gn),rt=Qn(!1),gr=Gn;function si(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function it(e){return e=e.childContextTypes,e!=null}function Ks(){le(rt),le(We)}function Kg(e,t,n){if(We.current!==Gn)throw Error(N(168));se(We,t),se(rt,n)}function vC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,pj(e)||"Unknown",i));return me({},n,r)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,gr=We.current,se(We,e),se(rt,rt.current),!0}function Wg(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=vC(e,t,gr),r.__reactInternalMemoizedMergedChildContext=e,le(rt),le(We),se(We,e)):le(rt),se(rt,n)}var rn=null,Eo=!1,Al=!1;function gC(e){rn===null?rn=[e]:rn.push(e)}function NR(e){Eo=!0,gC(e)}function Xn(){if(!Al&&rn!==null){Al=!0;var e=0,t=ne;try{var n=rn;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,Eo=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),$_(xm,Xn),i}finally{ne=t,Al=!1}}return null}var Ur=[],zr=0,Ys=null,Qs=0,St=[],_t=0,yr=null,sn=1,on="";function ir(e,t){Ur[zr++]=Qs,Ur[zr++]=Ys,Ys=e,Qs=t}function yC(e,t,n){St[_t++]=sn,St[_t++]=on,St[_t++]=yr,yr=e;var r=sn;e=on;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var a=32-qt(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,sn=1<<32-qt(t)+i|n<<i|r,on=a+e}else sn=1<<a|n<<i|r,on=e}function Pm(e){e.return!==null&&(ir(e,1),yC(e,1,0))}function jm(e){for(;e===Ys;)Ys=Ur[--zr],Ur[zr]=null,Qs=Ur[--zr],Ur[zr]=null;for(;e===yr;)yr=St[--_t],St[_t]=null,on=St[--_t],St[_t]=null,sn=St[--_t],St[_t]=null}var dt=null,ct=null,ce=!1,Ot=null;function xC(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:sn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dt=e,ct=null,!0):!1;default:return!1}}function Cp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tp(e){if(ce){var t=ct;if(t){var n=t;if(!Yg(e,t)){if(Cp(e))throw Error(N(418));t=qn(n.nextSibling);var r=dt;t&&Yg(e,t)?xC(r,n):(e.flags=e.flags&-4097|2,ce=!1,dt=e)}}else{if(Cp(e))throw Error(N(418));e.flags=e.flags&-4097|2,ce=!1,dt=e}}}function Qg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function cs(e){if(e!==dt)return!1;if(!ce)return Qg(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wp(e.type,e.memoizedProps)),t&&(t=ct)){if(Cp(e))throw wC(),Error(N(418));for(;t;)xC(e,t),t=qn(t.nextSibling)}if(Qg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?qn(e.stateNode.nextSibling):null;return!0}function wC(){for(var e=ct;e;)e=qn(e.nextSibling)}function oi(){ct=dt=null,ce=!1}function Rm(e){Ot===null?Ot=[e]:Ot.push(e)}var AR=xn.ReactCurrentBatchConfig;function Ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xg(e){var t=e._init;return t(e._payload)}function bC(e){function t(v,y){if(e){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=$n(v,y),v.index=0,v.sibling=null,v}function a(v,y,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,y,x,b){return y===null||y.tag!==6?(y=Fl(x,v.mode,b),y.return=v,y):(y=i(y,x),y.return=v,y)}function l(v,y,x,b){var S=x.type;return S===Or?c(v,y,x.props.children,b,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pn&&Xg(S)===y.type)?(b=i(y,x.props),b.ref=Ii(v,y,x),b.return=v,b):(b=Is(x.type,x.key,x.props,null,v.mode,b),b.ref=Ii(v,y,x),b.return=v,b)}function u(v,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Vl(x,v.mode,b),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function c(v,y,x,b,S){return y===null||y.tag!==7?(y=pr(x,v.mode,b,S),y.return=v,y):(y=i(y,x),y.return=v,y)}function d(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Fl(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case es:return x=Is(y.type,y.key,y.props,null,v.mode,x),x.ref=Ii(v,null,y),x.return=v,x;case Lr:return y=Vl(y,v.mode,x),y.return=v,y;case Pn:var b=y._init;return d(v,b(y._payload),x)}if(Bi(y)||ji(y))return y=pr(y,v.mode,x,null),y.return=v,y;ds(v,y)}return null}function f(v,y,x,b){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(v,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case es:return x.key===S?l(v,y,x,b):null;case Lr:return x.key===S?u(v,y,x,b):null;case Pn:return S=x._init,f(v,y,S(x._payload),b)}if(Bi(x)||ji(x))return S!==null?null:c(v,y,x,b,null);ds(v,x)}return null}function p(v,y,x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,o(y,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case es:return v=v.get(b.key===null?x:b.key)||null,l(y,v,b,S);case Lr:return v=v.get(b.key===null?x:b.key)||null,u(y,v,b,S);case Pn:var E=b._init;return p(v,y,x,E(b._payload),S)}if(Bi(b)||ji(b))return v=v.get(x)||null,c(y,v,b,S,null);ds(y,b)}return null}function g(v,y,x,b){for(var S=null,E=null,T=y,C=y=0,j=null;T!==null&&C<x.length;C++){T.index>C?(j=T,T=null):j=T.sibling;var M=f(v,T,x[C],b);if(M===null){T===null&&(T=j);break}e&&T&&M.alternate===null&&t(v,T),y=a(M,y,C),E===null?S=M:E.sibling=M,E=M,T=j}if(C===x.length)return n(v,T),ce&&ir(v,C),S;if(T===null){for(;C<x.length;C++)T=d(v,x[C],b),T!==null&&(y=a(T,y,C),E===null?S=T:E.sibling=T,E=T);return ce&&ir(v,C),S}for(T=r(v,T);C<x.length;C++)j=p(T,v,C,x[C],b),j!==null&&(e&&j.alternate!==null&&T.delete(j.key===null?C:j.key),y=a(j,y,C),E===null?S=j:E.sibling=j,E=j);return e&&T.forEach(function(I){return t(v,I)}),ce&&ir(v,C),S}function m(v,y,x,b){var S=ji(x);if(typeof S!="function")throw Error(N(150));if(x=S.call(x),x==null)throw Error(N(151));for(var E=S=null,T=y,C=y=0,j=null,M=x.next();T!==null&&!M.done;C++,M=x.next()){T.index>C?(j=T,T=null):j=T.sibling;var I=f(v,T,M.value,b);if(I===null){T===null&&(T=j);break}e&&T&&I.alternate===null&&t(v,T),y=a(I,y,C),E===null?S=I:E.sibling=I,E=I,T=j}if(M.done)return n(v,T),ce&&ir(v,C),S;if(T===null){for(;!M.done;C++,M=x.next())M=d(v,M.value,b),M!==null&&(y=a(M,y,C),E===null?S=M:E.sibling=M,E=M);return ce&&ir(v,C),S}for(T=r(v,T);!M.done;C++,M=x.next())M=p(T,v,C,M.value,b),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?C:M.key),y=a(M,y,C),E===null?S=M:E.sibling=M,E=M);return e&&T.forEach(function(U){return t(v,U)}),ce&&ir(v,C),S}function w(v,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Or&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case es:e:{for(var S=x.key,E=y;E!==null;){if(E.key===S){if(S=x.type,S===Or){if(E.tag===7){n(v,E.sibling),y=i(E,x.props.children),y.return=v,v=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pn&&Xg(S)===E.type){n(v,E.sibling),y=i(E,x.props),y.ref=Ii(v,E,x),y.return=v,v=y;break e}n(v,E);break}else t(v,E);E=E.sibling}x.type===Or?(y=pr(x.props.children,v.mode,b,x.key),y.return=v,v=y):(b=Is(x.type,x.key,x.props,null,v.mode,b),b.ref=Ii(v,y,x),b.return=v,v=b)}return s(v);case Lr:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Vl(x,v.mode,b),y.return=v,v=y}return s(v);case Pn:return E=x._init,w(v,y,E(x._payload),b)}if(Bi(x))return g(v,y,x,b);if(ji(x))return m(v,y,x,b);ds(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,x),y.return=v,v=y):(n(v,y),y=Fl(x,v.mode,b),y.return=v,v=y),s(v)):n(v,y)}return w}var li=bC(!0),SC=bC(!1),Xs=Qn(null),Js=null,Gr=null,Nm=null;function Am(){Nm=Gr=Js=null}function Mm(e){var t=Xs.current;le(Xs),e._currentValue=t}function Ep(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ri(e,t){Js=e,Nm=Gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Nm!==e)if(e={context:e,memoizedValue:t,next:null},Gr===null){if(Js===null)throw Error(N(308));Gr=e,Js.dependencies={lanes:0,firstContext:e}}else Gr=Gr.next=e;return t}var ur=null;function Im(e){ur===null?ur=[e]:ur.push(e)}function _C(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Im(t)):(n.next=i.next,i.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function Dm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mn(e,n)}return i=r.interleaved,i===null?(t.next=t,Im(r)):(t.next=i.next,i.next=t),r.interleaved=t,mn(e,n)}function Ps(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wm(e,n)}}function Jg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zs(e,t,n,r){var i=e.updateQueue;jn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var f=o.lane,p=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(f=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=me({},d,f);break e;case 2:jn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);wr|=s,e.lanes=s,e.memoizedState=d}}function Zg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var qa={},Qt=Qn(qa),_a=Qn(qa),Ca=Qn(qa);function cr(e){if(e===qa)throw Error(N(174));return e}function Lm(e,t){switch(se(Ca,t),se(_a,e),se(Qt,qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sp(t,e)}le(Qt),se(Qt,t)}function ui(){le(Qt),le(_a),le(Ca)}function TC(e){cr(Ca.current);var t=cr(Qt.current),n=sp(t,e.type);t!==n&&(se(_a,e),se(Qt,n))}function Om(e){_a.current===e&&(le(Qt),le(_a))}var fe=Qn(0);function eo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function qm(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var js=xn.ReactCurrentDispatcher,Il=xn.ReactCurrentBatchConfig,xr=0,pe=null,je=null,Me=null,to=!1,ia=!1,Ta=0,MR=0;function Ue(){throw Error(N(321))}function Fm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Vm(e,t,n,r,i,a){if(xr=a,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,js.current=e===null||e.memoizedState===null?OR:qR,e=n(r,i),ia){a=0;do{if(ia=!1,Ta=0,25<=a)throw Error(N(301));a+=1,Me=je=null,t.updateQueue=null,js.current=FR,e=n(r,i)}while(ia)}if(js.current=no,t=je!==null&&je.next!==null,xr=0,Me=je=pe=null,to=!1,t)throw Error(N(300));return e}function Bm(){var e=Ta!==0;return Ta=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?pe.memoizedState=Me=e:Me=Me.next=e,Me}function kt(){if(je===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Me===null?pe.memoizedState:Me.next;if(t!==null)Me=t,je=e;else{if(e===null)throw Error(N(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Me===null?pe.memoizedState=Me=e:Me=Me.next=e}return Me}function Ea(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=kt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=je,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((xr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,pe.lanes|=c,wr|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Vt(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,pe.lanes|=a,wr|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ll(e){var t=kt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Vt(a,t.memoizedState)||(nt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function EC(){}function kC(e,t){var n=pe,r=kt(),i=t(),a=!Vt(r.memoizedState,i);if(a&&(r.memoizedState=i,nt=!0),r=r.queue,$m(RC.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,ka(9,jC.bind(null,n,r,i,t),void 0,null),Ie===null)throw Error(N(349));xr&30||PC(n,t,i)}return i}function PC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jC(e,t,n,r){t.value=n,t.getSnapshot=r,NC(t)&&AC(e)}function RC(e,t,n){return n(function(){NC(t)&&AC(e)})}function NC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function AC(e){var t=mn(e,1);t!==null&&Ft(t,e,1,-1)}function ey(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=LR.bind(null,pe,e),[t.memoizedState,e]}function ka(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function MC(){return kt().memoizedState}function Rs(e,t,n,r){var i=Ht();pe.flags|=e,i.memoizedState=ka(1|t,n,void 0,r===void 0?null:r)}function ko(e,t,n,r){var i=kt();r=r===void 0?null:r;var a=void 0;if(je!==null){var s=je.memoizedState;if(a=s.destroy,r!==null&&Fm(r,s.deps)){i.memoizedState=ka(t,n,a,r);return}}pe.flags|=e,i.memoizedState=ka(1|t,n,a,r)}function ty(e,t){return Rs(8390656,8,e,t)}function $m(e,t){return ko(2048,8,e,t)}function IC(e,t){return ko(4,2,e,t)}function DC(e,t){return ko(4,4,e,t)}function LC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OC(e,t,n){return n=n!=null?n.concat([e]):null,ko(4,4,LC.bind(null,t,e),n)}function Um(){}function qC(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FC(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VC(e,t,n){return xr&21?(Vt(n,t)||(n=G_(),pe.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function IR(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=Il.transition;Il.transition={};try{e(!1),t()}finally{ne=n,Il.transition=r}}function BC(){return kt().memoizedState}function DR(e,t,n){var r=Bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$C(e))UC(t,n);else if(n=_C(e,t,n,r),n!==null){var i=Xe();Ft(n,e,r,i),zC(n,t,r)}}function LR(e,t,n){var r=Bn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($C(e))UC(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Vt(o,s)){var l=t.interleaved;l===null?(i.next=i,Im(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_C(e,t,i,r),n!==null&&(i=Xe(),Ft(n,e,r,i),zC(n,t,r))}}function $C(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function UC(e,t){ia=to=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wm(e,n)}}var no={readContext:Et,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},OR={readContext:Et,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:ty,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Rs(4194308,4,LC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=DR.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:ey,useDebugValue:Um,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=ey(!1),t=e[0];return e=IR.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,i=Ht();if(ce){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Ie===null)throw Error(N(349));xr&30||PC(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ty(RC.bind(null,r,a,e),[e]),r.flags|=2048,ka(9,jC.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Ie.identifierPrefix;if(ce){var n=on,r=sn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ta++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=MR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qR={readContext:Et,useCallback:qC,useContext:Et,useEffect:$m,useImperativeHandle:OC,useInsertionEffect:IC,useLayoutEffect:DC,useMemo:FC,useReducer:Dl,useRef:MC,useState:function(){return Dl(Ea)},useDebugValue:Um,useDeferredValue:function(e){var t=kt();return VC(t,je.memoizedState,e)},useTransition:function(){var e=Dl(Ea)[0],t=kt().memoizedState;return[e,t]},useMutableSource:EC,useSyncExternalStore:kC,useId:BC,unstable_isNewReconciler:!1},FR={readContext:Et,useCallback:qC,useContext:Et,useEffect:$m,useImperativeHandle:OC,useInsertionEffect:IC,useLayoutEffect:DC,useMemo:FC,useReducer:Ll,useRef:MC,useState:function(){return Ll(Ea)},useDebugValue:Um,useDeferredValue:function(e){var t=kt();return je===null?t.memoizedState=e:VC(t,je.memoizedState,e)},useTransition:function(){var e=Ll(Ea)[0],t=kt().memoizedState;return[e,t]},useMutableSource:EC,useSyncExternalStore:kC,useId:BC,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function kp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Po={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),i=Bn(e),a=cn(r,i);a.payload=t,n!=null&&(a.callback=n),t=Fn(e,a,i),t!==null&&(Ft(t,e,i,r),Ps(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),i=Bn(e),a=cn(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Fn(e,a,i),t!==null&&(Ft(t,e,i,r),Ps(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=Bn(e),i=cn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Fn(e,i,r),t!==null&&(Ft(t,e,r,n),Ps(t,e,r))}};function ny(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!xa(n,r)||!xa(i,a):!0}function GC(e,t,n){var r=!1,i=Gn,a=t.contextType;return typeof a=="object"&&a!==null?a=Et(a):(i=it(t)?gr:We.current,r=t.contextTypes,a=(r=r!=null)?si(e,i):Gn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Po,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ry(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Po.enqueueReplaceState(t,t.state,null)}function Pp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Dm(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Et(a):(a=it(t)?gr:We.current,i.context=si(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(kp(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Po.enqueueReplaceState(i,i.state,null),Zs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do n+=hj(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var VR=typeof WeakMap=="function"?WeakMap:Map;function HC(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){io||(io=!0,Fp=r),jp(e,t)},n}function KC(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){jp(e,t),typeof r!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function iy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new VR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=eN.bind(null,e,t,n),t.then(e,e))}function ay(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e)}var BR=xn.ReactCurrentOwner,nt=!1;function Qe(e,t,n,r){t.child=e===null?SC(t,null,n,r):li(t,e.child,n,r)}function oy(e,t,n,r,i){n=n.render;var a=t.ref;return ri(t,i),r=Vm(e,t,n,r,a,i),n=Bm(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(ce&&n&&Pm(t),t.flags|=1,Qe(e,t,r,i),t.child)}function ly(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Xm(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,WC(e,t,a,r,i)):(e=Is(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:xa,n(s,r)&&e.ref===t.ref)return vn(e,t,i)}return t.flags|=1,e=$n(a,r),e.ref=t.ref,e.return=t,t.child=e}function WC(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(xa(a,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,vn(e,t,i)}return Rp(e,t,n,r,i)}function YC(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Kr,lt),lt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Kr,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,se(Kr,lt),lt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,se(Kr,lt),lt|=r;return Qe(e,t,i,n),t.child}function QC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rp(e,t,n,r,i){var a=it(n)?gr:We.current;return a=si(t,a),ri(t,i),n=Vm(e,t,n,r,a,i),r=Bm(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(ce&&r&&Pm(t),t.flags|=1,Qe(e,t,n,i),t.child)}function uy(e,t,n,r,i){if(it(n)){var a=!0;Ws(t)}else a=!1;if(ri(t,i),t.stateNode===null)Ns(e,t),GC(t,n,r),Pp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Et(u):(u=it(n)?gr:We.current,u=si(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&ry(t,s,r,u),jn=!1;var f=t.memoizedState;s.state=f,Zs(t,r,s,i),l=t.memoizedState,o!==r||f!==l||rt.current||jn?(typeof c=="function"&&(kp(t,n,c,r),l=t.memoizedState),(o=jn||ny(t,n,o,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,CC(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Dt(t.type,o),s.props=u,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Et(l):(l=it(n)?gr:We.current,l=si(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&ry(t,s,r,l),jn=!1,f=t.memoizedState,s.state=f,Zs(t,r,s,i);var g=t.memoizedState;o!==d||f!==g||rt.current||jn?(typeof p=="function"&&(kp(t,n,p,r),g=t.memoizedState),(u=jn||ny(t,n,u,r,f,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Np(e,t,n,r,a,i)}function Np(e,t,n,r,i,a){QC(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Wg(t,n,!1),vn(e,t,a);r=t.stateNode,BR.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=li(t,e.child,null,a),t.child=li(t,null,o,a)):Qe(e,t,o,a),t.memoizedState=r.state,i&&Wg(t,n,!0),t.child}function XC(e){var t=e.stateNode;t.pendingContext?Kg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kg(e,t.context,!1),Lm(e,t.containerInfo)}function cy(e,t,n,r,i){return oi(),Rm(i),t.flags|=256,Qe(e,t,n,r),t.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Mp(e){return{baseLanes:e,cachePool:null,transitions:null}}function JC(e,t,n){var r=t.pendingProps,i=fe.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),se(fe,i&1),e===null)return Tp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=No(s,r,0,null),e=pr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Mp(n),t.memoizedState=Ap,e):zm(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return $R(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=$n(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=$n(o,a):(a=pr(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Mp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Ap,r}return a=e.child,e=a.sibling,r=$n(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zm(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fs(e,t,n,r){return r!==null&&Rm(r),li(t,e.child,null,n),e=zm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $R(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Ol(Error(N(422))),fs(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=No({mode:"visible",children:r.children},i,0,null),a=pr(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&li(t,e.child,null,s),t.child.memoizedState=Mp(s),t.memoizedState=Ap,a);if(!(t.mode&1))return fs(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(N(419)),r=Ol(a,r,void 0),fs(e,t,s,r)}if(o=(s&e.childLanes)!==0,nt||o){if(r=Ie,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,mn(e,i),Ft(r,e,i,-1))}return Qm(),r=Ol(Error(N(421))),fs(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tN.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ct=qn(i.nextSibling),dt=t,ce=!0,Ot=null,e!==null&&(St[_t++]=sn,St[_t++]=on,St[_t++]=yr,sn=e.id,on=e.overflow,yr=t),t=zm(t,r.children),t.flags|=4096,t)}function dy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ep(e.return,t,n)}function ql(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ZC(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Qe(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,n,t);else if(e.tag===19)dy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(fe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&eo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ql(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&eo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ql(t,!0,n,null,a);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function UR(e,t,n){switch(t.tag){case 3:XC(t),oi();break;case 5:TC(t);break;case 1:it(t.type)&&Ws(t);break;case 4:Lm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;se(Xs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?JC(e,t,n):(se(fe,fe.current&1),e=vn(e,t,n),e!==null?e.sibling:null);se(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,YC(e,t,n)}return vn(e,t,n)}var eT,Ip,tT,nT;eT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ip=function(){};tT=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cr(Qt.current);var a=null;switch(n){case"input":i=np(e,i),r=np(e,r),a=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),a=[];break;case"textarea":i=ap(e,i),r=ap(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hs)}op(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fa.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&oe("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};nT=function(e,t,n,r){n!==r&&(t.flags|=4)};function Di(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zR(e,t,n){var r=t.pendingProps;switch(jm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return it(t.type)&&Ks(),ze(t),null;case 3:return r=t.stateNode,ui(),le(rt),le(We),qm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&($p(Ot),Ot=null))),Ip(e,t),ze(t),null;case 5:Om(t);var i=cr(Ca.current);if(n=t.type,e!==null&&t.stateNode!=null)tT(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return ze(t),null}if(e=cr(Qt.current),cs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Kt]=t,r[Sa]=a,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(i=0;i<Ui.length;i++)oe(Ui[i],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":wg(r,a),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},oe("invalid",r);break;case"textarea":Sg(r,a),oe("invalid",r)}op(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&us(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&us(r.textContent,o,e),i=["children",""+o]):fa.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&oe("scroll",r)}switch(n){case"input":ts(r),bg(r,a,!0);break;case"textarea":ts(r),_g(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Hs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Kt]=t,e[Sa]=r,eT(e,t,!1,!1),t.stateNode=e;e:{switch(s=lp(n,r),n){case"dialog":oe("cancel",e),oe("close",e),i=r;break;case"iframe":case"object":case"embed":oe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ui.length;i++)oe(Ui[i],e);i=r;break;case"source":oe("error",e),i=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),i=r;break;case"details":oe("toggle",e),i=r;break;case"input":wg(e,r),i=np(e,r),oe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),oe("invalid",e);break;case"textarea":Sg(e,r),i=ap(e,r),oe("invalid",e);break;default:i=r}op(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?M_(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N_(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ha(e,l):typeof l=="number"&&ha(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fa.hasOwnProperty(a)?l!=null&&a==="onScroll"&&oe("scroll",e):l!=null&&pm(e,a,l,s))}switch(n){case"input":ts(e),bg(e,r,!1);break;case"textarea":ts(e),_g(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Zr(e,!!r.multiple,a,!1):r.defaultValue!=null&&Zr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)nT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=cr(Ca.current),cr(Qt.current),cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(a=r.nodeValue!==n)&&(e=dt,e!==null))switch(e.tag){case 3:us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return ze(t),null;case 13:if(le(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&ct!==null&&t.mode&1&&!(t.flags&128))wC(),oi(),t.flags|=98560,a=!1;else if(a=cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(N(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(N(317));a[Kt]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),a=!1}else Ot!==null&&($p(Ot),Ot=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Re===0&&(Re=3):Qm())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return ui(),Ip(e,t),e===null&&wa(t.stateNode.containerInfo),ze(t),null;case 10:return Mm(t.type._context),ze(t),null;case 17:return it(t.type)&&Ks(),ze(t),null;case 19:if(le(fe),a=t.memoizedState,a===null)return ze(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Di(a,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=eo(e),s!==null){for(t.flags|=128,Di(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(fe,fe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Se()>di&&(t.flags|=128,r=!0,Di(a,!1),t.lanes=4194304)}else{if(!r)if(e=eo(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Di(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ce)return ze(t),null}else 2*Se()-a.renderingStartTime>di&&n!==1073741824&&(t.flags|=128,r=!0,Di(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Se(),t.sibling=null,n=fe.current,se(fe,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Ym(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function GR(e,t){switch(jm(t),t.tag){case 1:return it(t.type)&&Ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(),le(rt),le(We),qm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Om(t),null;case 13:if(le(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(fe),null;case 4:return ui(),null;case 10:return Mm(t.type._context),null;case 22:case 23:return Ym(),null;case 24:return null;default:return null}}var hs=!1,He=!1,HR=typeof WeakSet=="function"?WeakSet:Set,L=null;function Hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Dp(e,t,n){try{n()}catch(r){ye(e,t,r)}}var fy=!1;function KR(e,t){if(yp=Us,e=oC(),km(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(o=s),f===a&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:e,selectionRange:n},Us=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Dt(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){ye(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return g=fy,fy=!1,g}function aa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Dp(t,n,a)}i=i.next}while(i!==r)}}function jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rT(e){var t=e.alternate;t!==null&&(e.alternate=null,rT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Sa],delete t[Sp],delete t[jR],delete t[RR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iT(e){return e.tag===5||e.tag===3||e.tag===4}function hy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Op(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hs));else if(r!==4&&(e=e.child,e!==null))for(Op(e,t,n),e=e.sibling;e!==null;)Op(e,t,n),e=e.sibling}function qp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qp(e,t,n),e=e.sibling;e!==null;)qp(e,t,n),e=e.sibling}var qe=null,Lt=!1;function Tn(e,t,n){for(n=n.child;n!==null;)aT(e,t,n),n=n.sibling}function aT(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(bo,n)}catch{}switch(n.tag){case 5:He||Hr(n,t);case 6:var r=qe,i=Lt;qe=null,Tn(e,t,n),qe=r,Lt=i,qe!==null&&(Lt?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(Lt?(e=qe,n=n.stateNode,e.nodeType===8?Nl(e.parentNode,n):e.nodeType===1&&Nl(e,n),ga(e)):Nl(qe,n.stateNode));break;case 4:r=qe,i=Lt,qe=n.stateNode.containerInfo,Lt=!0,Tn(e,t,n),qe=r,Lt=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Dp(n,t,s),i=i.next}while(i!==r)}Tn(e,t,n);break;case 1:if(!He&&(Hr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ye(n,t,o)}Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Tn(e,t,n),He=r):Tn(e,t,n);break;default:Tn(e,t,n)}}function py(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HR),t.forEach(function(r){var i=nN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:qe=o.stateNode,Lt=!1;break e;case 3:qe=o.stateNode.containerInfo,Lt=!0;break e;case 4:qe=o.stateNode.containerInfo,Lt=!0;break e}o=o.return}if(qe===null)throw Error(N(160));aT(a,s,i),qe=null,Lt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sT(t,e),t=t.sibling}function sT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Gt(e),r&4){try{aa(3,e,e.return),jo(3,e)}catch(m){ye(e,e.return,m)}try{aa(5,e,e.return)}catch(m){ye(e,e.return,m)}}break;case 1:At(t,e),Gt(e),r&512&&n!==null&&Hr(n,n.return);break;case 5:if(At(t,e),Gt(e),r&512&&n!==null&&Hr(n,n.return),e.flags&32){var i=e.stateNode;try{ha(i,"")}catch(m){ye(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&P_(i,a),lp(o,s);var u=lp(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?M_(i,d):c==="dangerouslySetInnerHTML"?N_(i,d):c==="children"?ha(i,d):pm(i,c,d,u)}switch(o){case"input":rp(i,a);break;case"textarea":j_(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Zr(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Zr(i,!!a.multiple,a.defaultValue,!0):Zr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Sa]=a}catch(m){ye(e,e.return,m)}}break;case 6:if(At(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){ye(e,e.return,m)}}break;case 3:if(At(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ga(t.containerInfo)}catch(m){ye(e,e.return,m)}break;case 4:At(t,e),Gt(e);break;case 13:At(t,e),Gt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Km=Se())),r&4&&py(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||c,At(t,e),He=u):At(t,e),Gt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(d=L=c;L!==null;){switch(f=L,p=f.child,f.tag){case 0:case 11:case 14:case 15:aa(4,f,f.return);break;case 1:Hr(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){ye(r,n,m)}}break;case 5:Hr(f,f.return);break;case 22:if(f.memoizedState!==null){vy(d);continue}}p!==null?(p.return=f,L=p):vy(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=A_("display",s))}catch(m){ye(e,e.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){ye(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:At(t,e),Gt(e),r&4&&py(e);break;case 21:break;default:At(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iT(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ha(i,""),r.flags&=-33);var a=hy(e);qp(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=hy(e);Op(e,o,s);break;default:throw Error(N(161))}}catch(l){ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WR(e,t,n){L=e,oT(e)}function oT(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var i=L,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||hs;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||He;o=hs;var u=He;if(hs=s,(He=l)&&!u)for(L=i;L!==null;)s=L,l=s.child,s.tag===22&&s.memoizedState!==null?gy(i):l!==null?(l.return=s,L=l):gy(i);for(;a!==null;)L=a,oT(a),a=a.sibling;L=i,hs=o,He=u}my(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,L=a):my(e)}}function my(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||jo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Zg(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zg(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ga(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}He||t.flags&512&&Lp(t)}catch(f){ye(t,t.return,f)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function vy(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function gy(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jo(4,t)}catch(l){ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ye(t,i,l)}}var a=t.return;try{Lp(t)}catch(l){ye(t,a,l)}break;case 5:var s=t.return;try{Lp(t)}catch(l){ye(t,s,l)}}}catch(l){ye(t,t.return,l)}if(t===e){L=null;break}var o=t.sibling;if(o!==null){o.return=t.return,L=o;break}L=t.return}}var YR=Math.ceil,ro=xn.ReactCurrentDispatcher,Gm=xn.ReactCurrentOwner,Tt=xn.ReactCurrentBatchConfig,J=0,Ie=null,Te=null,Ve=0,lt=0,Kr=Qn(0),Re=0,Pa=null,wr=0,Ro=0,Hm=0,sa=null,tt=null,Km=0,di=1/0,nn=null,io=!1,Fp=null,Vn=null,ps=!1,In=null,ao=0,oa=0,Vp=null,As=-1,Ms=0;function Xe(){return J&6?Se():As!==-1?As:As=Se()}function Bn(e){return e.mode&1?J&2&&Ve!==0?Ve&-Ve:AR.transition!==null?(Ms===0&&(Ms=G_()),Ms):(e=ne,e!==0||(e=window.event,e=e===void 0?16:J_(e.type)),e):1}function Ft(e,t,n,r){if(50<oa)throw oa=0,Vp=null,Error(N(185));Da(e,n,r),(!(J&2)||e!==Ie)&&(e===Ie&&(!(J&2)&&(Ro|=n),Re===4&&Nn(e,Ve)),at(e,r),n===1&&J===0&&!(t.mode&1)&&(di=Se()+500,Eo&&Xn()))}function at(e,t){var n=e.callbackNode;Aj(e,t);var r=$s(e,e===Ie?Ve:0);if(r===0)n!==null&&Eg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eg(n),t===1)e.tag===0?NR(yy.bind(null,e)):gC(yy.bind(null,e)),kR(function(){!(J&6)&&Xn()}),n=null;else{switch(H_(r)){case 1:n=xm;break;case 4:n=U_;break;case 16:n=Bs;break;case 536870912:n=z_;break;default:n=Bs}n=mT(n,lT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lT(e,t){if(As=-1,Ms=0,J&6)throw Error(N(327));var n=e.callbackNode;if(ii()&&e.callbackNode!==n)return null;var r=$s(e,e===Ie?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=so(e,r);else{t=r;var i=J;J|=2;var a=cT();(Ie!==e||Ve!==t)&&(nn=null,di=Se()+500,hr(e,t));do try{JR();break}catch(o){uT(e,o)}while(!0);Am(),ro.current=a,J=i,Te!==null?t=0:(Ie=null,Ve=0,t=Re)}if(t!==0){if(t===2&&(i=hp(e),i!==0&&(r=i,t=Bp(e,i))),t===1)throw n=Pa,hr(e,0),Nn(e,r),at(e,Se()),n;if(t===6)Nn(e,r);else{if(i=e.current.alternate,!(r&30)&&!QR(i)&&(t=so(e,r),t===2&&(a=hp(e),a!==0&&(r=a,t=Bp(e,a))),t===1))throw n=Pa,hr(e,0),Nn(e,r),at(e,Se()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:ar(e,tt,nn);break;case 3:if(Nn(e,r),(r&130023424)===r&&(t=Km+500-Se(),10<t)){if($s(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bp(ar.bind(null,e,tt,nn),t);break}ar(e,tt,nn);break;case 4:if(Nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-qt(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YR(r/1960))-r,10<r){e.timeoutHandle=bp(ar.bind(null,e,tt,nn),r);break}ar(e,tt,nn);break;case 5:ar(e,tt,nn);break;default:throw Error(N(329))}}}return at(e,Se()),e.callbackNode===n?lT.bind(null,e):null}function Bp(e,t){var n=sa;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=so(e,t),e!==2&&(t=tt,tt=n,t!==null&&$p(t)),e}function $p(e){tt===null?tt=e:tt.push.apply(tt,e)}function QR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Vt(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~Hm,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function yy(e){if(J&6)throw Error(N(327));ii();var t=$s(e,0);if(!(t&1))return at(e,Se()),null;var n=so(e,t);if(e.tag!==0&&n===2){var r=hp(e);r!==0&&(t=r,n=Bp(e,r))}if(n===1)throw n=Pa,hr(e,0),Nn(e,t),at(e,Se()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e,tt,nn),at(e,Se()),null}function Wm(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(di=Se()+500,Eo&&Xn())}}function br(e){In!==null&&In.tag===0&&!(J&6)&&ii();var t=J;J|=1;var n=Tt.transition,r=ne;try{if(Tt.transition=null,ne=1,e)return e()}finally{ne=r,Tt.transition=n,J=t,!(J&6)&&Xn()}}function Ym(){lt=Kr.current,le(Kr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ER(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(jm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ks();break;case 3:ui(),le(rt),le(We),qm();break;case 5:Om(r);break;case 4:ui();break;case 13:le(fe);break;case 19:le(fe);break;case 10:Mm(r.type._context);break;case 22:case 23:Ym()}n=n.return}if(Ie=e,Te=e=$n(e.current,null),Ve=lt=t,Re=0,Pa=null,Hm=Ro=wr=0,tt=sa=null,ur!==null){for(t=0;t<ur.length;t++)if(n=ur[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}ur=null}return e}function uT(e,t){do{var n=Te;try{if(Am(),js.current=no,to){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}to=!1}if(xr=0,Me=je=pe=null,ia=!1,Ta=0,Gm.current=null,n===null||n.return===null){Re=1,Pa=t,Te=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Ve,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ay(s);if(p!==null){p.flags&=-257,sy(p,s,o,a,t),p.mode&1&&iy(a,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){iy(a,u,t),Qm();break e}l=Error(N(426))}}else if(ce&&o.mode&1){var w=ay(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),sy(w,s,o,a,t),Rm(ci(l,o));break e}}a=l=ci(l,o),Re!==4&&(Re=2),sa===null?sa=[a]:sa.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=HC(a,l,t);Jg(a,v);break e;case 1:o=l;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vn===null||!Vn.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=KC(a,o,t);Jg(a,b);break e}}a=a.return}while(a!==null)}fT(n)}catch(S){t=S,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function cT(){var e=ro.current;return ro.current=no,e===null?no:e}function Qm(){(Re===0||Re===3||Re===2)&&(Re=4),Ie===null||!(wr&268435455)&&!(Ro&268435455)||Nn(Ie,Ve)}function so(e,t){var n=J;J|=2;var r=cT();(Ie!==e||Ve!==t)&&(nn=null,hr(e,t));do try{XR();break}catch(i){uT(e,i)}while(!0);if(Am(),J=n,ro.current=r,Te!==null)throw Error(N(261));return Ie=null,Ve=0,Re}function XR(){for(;Te!==null;)dT(Te)}function JR(){for(;Te!==null&&!_j();)dT(Te)}function dT(e){var t=pT(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?fT(e):Te=t,Gm.current=null}function fT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=GR(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Te=null;return}}else if(n=zR(n,t,lt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Re===0&&(Re=5)}function ar(e,t,n){var r=ne,i=Tt.transition;try{Tt.transition=null,ne=1,ZR(e,t,n,r)}finally{Tt.transition=i,ne=r}return null}function ZR(e,t,n,r){do ii();while(In!==null);if(J&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Mj(e,a),e===Ie&&(Te=Ie=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ps||(ps=!0,mT(Bs,function(){return ii(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Tt.transition,Tt.transition=null;var s=ne;ne=1;var o=J;J|=4,Gm.current=null,KR(e,n),sT(n,e),xR(xp),Us=!!yp,xp=yp=null,e.current=n,WR(n),Cj(),J=o,ne=s,Tt.transition=a}else e.current=n;if(ps&&(ps=!1,In=e,ao=i),a=e.pendingLanes,a===0&&(Vn=null),kj(n.stateNode),at(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(io)throw io=!1,e=Fp,Fp=null,e;return ao&1&&e.tag!==0&&ii(),a=e.pendingLanes,a&1?e===Vp?oa++:(oa=0,Vp=e):oa=0,Xn(),null}function ii(){if(In!==null){var e=H_(ao),t=Tt.transition,n=ne;try{if(Tt.transition=null,ne=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,ao=0,J&6)throw Error(N(331));var i=J;for(J|=4,L=e.current;L!==null;){var a=L,s=a.child;if(L.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:aa(8,c,a)}var d=c.child;if(d!==null)d.return=c,L=d;else for(;L!==null;){c=L;var f=c.sibling,p=c.return;if(rT(c),c===u){L=null;break}if(f!==null){f.return=p,L=f;break}L=p}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}L=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,L=s;else e:for(;L!==null;){if(a=L,a.flags&2048)switch(a.tag){case 0:case 11:case 15:aa(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,L=v;break e}L=a.return}}var y=e.current;for(L=y;L!==null;){s=L;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,L=x;else e:for(s=y;L!==null;){if(o=L,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:jo(9,o)}}catch(S){ye(o,o.return,S)}if(o===s){L=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,L=b;break e}L=o.return}}if(J=i,Xn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(bo,e)}catch{}r=!0}return r}finally{ne=n,Tt.transition=t}}return!1}function xy(e,t,n){t=ci(n,t),t=HC(e,t,1),e=Fn(e,t,1),t=Xe(),e!==null&&(Da(e,1,t),at(e,t))}function ye(e,t,n){if(e.tag===3)xy(e,e,n);else for(;t!==null;){if(t.tag===3){xy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vn===null||!Vn.has(r))){e=ci(n,e),e=KC(t,e,1),t=Fn(t,e,1),e=Xe(),t!==null&&(Da(t,1,e),at(t,e));break}}t=t.return}}function eN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Ve&n)===n&&(Re===4||Re===3&&(Ve&130023424)===Ve&&500>Se()-Km?hr(e,0):Hm|=n),at(e,t)}function hT(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var n=Xe();e=mn(e,t),e!==null&&(Da(e,t,n),at(e,n))}function tN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hT(e,n)}function nN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),hT(e,n)}var pT;pT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,UR(e,t,n);nt=!!(e.flags&131072)}else nt=!1,ce&&t.flags&1048576&&yC(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ns(e,t),e=t.pendingProps;var i=si(t,We.current);ri(t,n),i=Vm(null,t,r,e,i,n);var a=Bm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)?(a=!0,Ws(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dm(t),i.updater=Po,t.stateNode=i,i._reactInternals=t,Pp(t,r,e,n),t=Np(null,t,r,!0,a,n)):(t.tag=0,ce&&a&&Pm(t),Qe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ns(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=iN(r),e=Dt(r,e),i){case 0:t=Rp(null,t,r,e,n);break e;case 1:t=uy(null,t,r,e,n);break e;case 11:t=oy(null,t,r,e,n);break e;case 14:t=ly(null,t,r,Dt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),Rp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),uy(e,t,r,i,n);case 3:e:{if(XC(t),e===null)throw Error(N(387));r=t.pendingProps,a=t.memoizedState,i=a.element,CC(e,t),Zs(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ci(Error(N(423)),t),t=cy(e,t,r,n,i);break e}else if(r!==i){i=ci(Error(N(424)),t),t=cy(e,t,r,n,i);break e}else for(ct=qn(t.stateNode.containerInfo.firstChild),dt=t,ce=!0,Ot=null,n=SC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oi(),r===i){t=vn(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return TC(t),e===null&&Tp(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,wp(r,i)?s=null:a!==null&&wp(r,a)&&(t.flags|=32),QC(e,t),Qe(e,t,s,n),t.child;case 6:return e===null&&Tp(t),null;case 13:return JC(e,t,n);case 4:return Lm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=li(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),oy(e,t,r,i,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,se(Xs,r._currentValue),r._currentValue=s,a!==null)if(Vt(a.value,s)){if(a.children===i.children&&!rt.current){t=vn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=cn(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ep(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(N(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ep(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Qe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ri(t,n),i=Et(i),r=r(i),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,i=Dt(r,t.pendingProps),i=Dt(r.type,i),ly(e,t,r,i,n);case 15:return WC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),Ns(e,t),t.tag=1,it(r)?(e=!0,Ws(t)):e=!1,ri(t,n),GC(t,r,i),Pp(t,r,i,n),Np(null,t,r,!0,e,n);case 19:return ZC(e,t,n);case 22:return YC(e,t,n)}throw Error(N(156,t.tag))};function mT(e,t){return $_(e,t)}function rN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new rN(e,t,n,r)}function Xm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iN(e){if(typeof e=="function")return Xm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vm)return 11;if(e===gm)return 14}return 2}function $n(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Is(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")Xm(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Or:return pr(n.children,i,a,t);case mm:s=8,i|=8;break;case Jh:return e=Ct(12,n,t,i|2),e.elementType=Jh,e.lanes=a,e;case Zh:return e=Ct(13,n,t,i),e.elementType=Zh,e.lanes=a,e;case ep:return e=Ct(19,n,t,i),e.elementType=ep,e.lanes=a,e;case T_:return No(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case __:s=10;break e;case C_:s=9;break e;case vm:s=11;break e;case gm:s=14;break e;case Pn:s=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Ct(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function pr(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function No(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=T_,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Vl(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jm(e,t,n,r,i,a,s,o,l){return e=new aN(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ct(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(a),e}function sN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vT(e){if(!e)return Gn;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(it(n))return vC(e,n,t)}return t}function gT(e,t,n,r,i,a,s,o,l){return e=Jm(n,r,!0,e,i,a,s,o,l),e.context=vT(null),n=e.current,r=Xe(),i=Bn(n),a=cn(r,i),a.callback=t??null,Fn(n,a,i),e.current.lanes=i,Da(e,i,r),at(e,r),e}function Ao(e,t,n,r){var i=t.current,a=Xe(),s=Bn(i);return n=vT(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(i,t,s),e!==null&&(Ft(e,i,s,a),Ps(e,i,s)),s}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zm(e,t){wy(e,t),(e=e.alternate)&&wy(e,t)}function oN(){return null}var yT=typeof reportError=="function"?reportError:function(e){console.error(e)};function ev(e){this._internalRoot=e}Mo.prototype.render=ev.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Ao(e,t,null,null)};Mo.prototype.unmount=ev.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){Ao(null,e,null,null)}),t[pn]=null}};function Mo(e){this._internalRoot=e}Mo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&X_(e)}};function tv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function by(){}function lN(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=oo(s);a.call(u)}}var s=gT(t,r,e,0,null,!1,!1,"",by);return e._reactRootContainer=s,e[pn]=s.current,wa(e.nodeType===8?e.parentNode:e),br(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=oo(l);o.call(u)}}var l=Jm(e,0,!1,null,null,!1,!1,"",by);return e._reactRootContainer=l,e[pn]=l.current,wa(e.nodeType===8?e.parentNode:e),br(function(){Ao(t,l,n,r)}),l}function Do(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=oo(s);o.call(l)}}Ao(t,s,e,i)}else s=lN(n,t,e,i,r);return oo(s)}K_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$i(t.pendingLanes);n!==0&&(wm(t,n|1),at(t,Se()),!(J&6)&&(di=Se()+500,Xn()))}break;case 13:br(function(){var r=mn(e,1);if(r!==null){var i=Xe();Ft(r,e,1,i)}}),Zm(e,1)}};bm=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=Xe();Ft(t,e,134217728,n)}Zm(e,134217728)}};W_=function(e){if(e.tag===13){var t=Bn(e),n=mn(e,t);if(n!==null){var r=Xe();Ft(n,e,t,r)}Zm(e,t)}};Y_=function(){return ne};Q_=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};cp=function(e,t,n){switch(t){case"input":if(rp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=To(r);if(!i)throw Error(N(90));k_(r),rp(r,i)}}}break;case"textarea":j_(e,n);break;case"select":t=n.value,t!=null&&Zr(e,!!n.multiple,t,!1)}};L_=Wm;O_=br;var uN={usingClientEntryPoint:!1,Events:[Oa,Br,To,I_,D_,Wm]},Li={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cN={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=V_(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||oN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{bo=ms.inject(cN),Yt=ms}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uN;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(t))throw Error(N(200));return sN(e,t,null,n)};mt.createRoot=function(e,t){if(!tv(e))throw Error(N(299));var n=!1,r="",i=yT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Jm(e,1,!1,null,null,n,!1,r,i),e[pn]=t.current,wa(e.nodeType===8?e.parentNode:e),new ev(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=V_(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return br(e)};mt.hydrate=function(e,t,n){if(!Io(t))throw Error(N(200));return Do(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!tv(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=yT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=gT(t,null,e,1,n??null,i,!1,a,s),e[pn]=t.current,wa(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Mo(t)};mt.render=function(e,t,n){if(!Io(t))throw Error(N(200));return Do(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!Io(e))throw Error(N(40));return e._reactRootContainer?(br(function(){Do(null,null,e,!1,function(){e._reactRootContainer=null,e[pn]=null})}),!0):!1};mt.unstable_batchedUpdates=Wm;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Io(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Do(e,t,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function xT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xT)}catch(e){console.error(e)}}xT(),x_.exports=mt;var dN=x_.exports,Sy=dN;Qh.createRoot=Sy.createRoot,Qh.hydrateRoot=Sy.hydrateRoot;const fN="modulepreload",hN=function(e){return"/agent-director/"+e},_y={},nv=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=hN(l),l in _y)return;_y[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":fN,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},pN=()=>h.jsxs("svg",{className:"logo-mark",width:"54",height:"54",viewBox:"0 0 120 120",role:"img","aria-label":"Agent Director logo",children:[h.jsx("rect",{x:"8",y:"8",width:"104",height:"104",rx:"18",className:"logo-frame"}),h.jsx("rect",{x:"24",y:"28",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-a"}),h.jsx("rect",{x:"24",y:"52",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-b"}),h.jsx("rect",{x:"24",y:"76",width:"72",height:"16",rx:"6",className:"logo-bar logo-bar-c"}),h.jsx("circle",{cx:"96",cy:"36",r:"6",className:"logo-node logo-node-a"}),h.jsx("circle",{cx:"96",cy:"60",r:"6",className:"logo-node logo-node-b"}),h.jsx("circle",{cx:"96",cy:"84",r:"6",className:"logo-node logo-node-c"})]});function mN({trace:e,traces:t=[],selectedTraceId:n,onSelectTrace:r,onReload:i,onStartTour:a,onToggleStory:s,onOpenPalette:o,onToggleExplain:l,explainMode:u=!1,storyActive:c=!1}){return h.jsxs("header",{className:"header","data-help":!0,"data-help-indicator":!0,"data-tour":"header","data-help-title":"Mission control","data-help-body":"Trace identity, status, and live controls live here. Use Story, Guide, or Explain to orient new viewers.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"header-title",children:[h.jsxs("div",{className:"header-logo",children:[h.jsx(pN,{}),h.jsx("span",{children:"Agent Director"})]}),h.jsx("div",{className:"header-tagline",children:"Cinematic trace intelligence for agent runs."}),h.jsxs("div",{className:"header-meta",children:[h.jsxs("span",{className:"header-run",children:["Run: ",(e==null?void 0:e.id)??"loading"]}),t.length>0?h.jsx("select",{className:"trace-select",value:n??(e==null?void 0:e.id)??"","aria-label":"Select trace",onChange:d=>r==null?void 0:r(d.target.value),"data-help":!0,"data-help-title":"Trace selector","data-help-body":"Switch between available runs to compare different sessions.","data-help-placement":"bottom",children:t.map(d=>h.jsxs("option",{value:d.id,children:[d.name," (",d.id,")"]},d.id))}):null,h.jsx("span",{className:`status-pill status-${(e==null?void 0:e.status)??"loading"}`,children:(e==null?void 0:e.status)??"loading"}),e!=null&&e.replay?h.jsxs("span",{className:"header-replay",title:`Replay from ${e.branchPointStepId??"unknown step"}`,children:["Replay: ",e.replay.strategy]}):null,h.jsxs("span",{className:"header-wall",children:["Wall: ",(e==null?void 0:e.metadata.wallTimeMs)??0,"ms"]})]})]}),h.jsxs("div",{className:"header-actions",children:[h.jsx("button",{className:`ghost-button ${c?"active":""}`,type:"button",onClick:s,"aria-pressed":c,"aria-label":"Toggle story mode","data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough for demos.","data-help-placement":"bottom",children:"Story"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:a,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk through the interface step by step.","data-help-placement":"bottom",children:"Guide"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:o,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search and trigger any action instantly.","data-help-placement":"bottom",children:"Command"}),h.jsx("button",{className:`ghost-button ${u?"active":""}`,type:"button",onClick:l,"aria-pressed":u,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Hover any control to see contextual guidance.","data-help-placement":"bottom",children:"Explain"}),h.jsx("button",{className:"ghost-button",onClick:i,type:"button","aria-label":"Refresh traces",title:"Refresh traces","data-help":!0,"data-help-title":"Refresh","data-help-body":"Reload traces from the data store.","data-help-placement":"bottom",children:"Refresh"}),h.jsx("a",{className:"ghost-button",href:"/help.html",target:"_blank",rel:"noreferrer","data-help":!0,"data-help-title":"Help","data-help-body":"Open quick docs for first run, key flows, troubleshooting, and shortcuts.","data-help-placement":"bottom",children:"Help"}),null]})]})}function vN({insights:e,investigation:t,onSelectStep:n,onJumpToBottleneck:r,onJumpToError:i}){var f,p,g,m,w;if(!e)return null;const a=e.timing,s=e.ioWarnings??[],o=e.concurrency,l=e.retryPatterns,u=e.costByTool??{},c=e.costByModel??{},d=((f=t==null?void 0:t.hypotheses)==null?void 0:f.slice(0,2))??[];return h.jsxs("section",{className:"insight-strip","data-help":!0,"data-help-indicator":!0,"data-tour":"insights","data-help-title":"Run insights","data-help-body":"Fast diagnostics for latency, cost, errors, and concurrency. Click chips to jump into the trace.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Top latency","data-help-body":"Largest steps by duration; jump straight to the slowest.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Top latency"}),h.jsxs("div",{className:"insight-items",children:[e.topLatencySteps.map(v=>h.jsxs("button",{className:"insight-chip",type:"button",title:`Jump to ${v.name}`,onClick:()=>n==null?void 0:n(v.stepId),children:[v.name," (",v.durationMs,"ms)"]},v.stepId)),e.topLatencySteps.length>0?h.jsx("button",{className:"insight-chip",type:"button",onClick:r,title:"Jump to longest step",children:"Jump to bottleneck"}):null]})]}),h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by type","data-help-body":"Aggregated spend by step class.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Cost by type"}),h.jsx("div",{className:"insight-items",children:Object.entries(e.costByType).map(([v,y])=>h.jsxs("span",{className:"insight-chip",title:`Total cost for ${v}`,children:[v,": $",y.toFixed(3)]},v))})]}),Object.keys(u).length?h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Cost by tool","data-help-body":"Top tools by total spend.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Cost by tool"}),h.jsx("div",{className:"insight-items",children:Object.entries(u).sort((v,y)=>y[1]-v[1]).slice(0,3).map(([v,y])=>h.jsxs("span",{className:"insight-chip",title:`Total cost for ${v}`,children:[v,": $",y.toFixed(3)]},v))})]}):null,h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Errors & retries","data-help-body":"Instant visibility into failed or retried steps.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Errors / retries"}),h.jsxs("div",{className:"insight-items",children:[h.jsxs("span",{className:"insight-chip",children:["Errors: ",e.errors]}),h.jsxs("span",{className:"insight-chip",children:["Retries: ",e.retries]}),e.errors>0?h.jsx("button",{className:"insight-chip",type:"button",onClick:i,title:"Jump to first error",children:"Jump to first error"}):null,(p=l==null?void 0:l.topRetries)!=null&&p.length?h.jsxs("span",{className:"insight-chip",title:`Retry rate ${(l.retryRate*100).toFixed(1)}%`,children:["Top retries: ",l.topRetries.length]}):null]})]}),h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Wall vs work","data-help-body":"Wall time vs summed work to show parallelism.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Wall vs work"}),h.jsxs("div",{className:"insight-items",children:[h.jsxs("span",{className:"insight-chip",title:"Wall clock duration",children:["Wall: ",e.wallTimeMs,"ms"]}),h.jsxs("span",{className:"insight-chip",title:"Sum of step durations",children:["Work: ",e.workTimeMs,"ms"]}),e.criticalPathMs!=null?h.jsxs("span",{className:"insight-chip",title:"Longest parent-child chain",children:["Critical: ",e.criticalPathMs,"ms"]}):null]})]}),h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Health","data-help-body":"Timing and I/O anomalies detected in the trace.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Health"}),h.jsxs("div",{className:"insight-items",children:[a!=null&&a.degraded?h.jsx("span",{className:"insight-chip insight-warning",title:a.issues.join(" "),children:"Timing degraded"}):h.jsx("span",{className:"insight-chip",children:"Timing OK"}),s.length>0?h.jsxs("span",{className:"insight-chip insight-warning",title:s.map(v=>v.message).join(" "),children:["IO warnings: ",s.length]}):h.jsx("span",{className:"insight-chip",children:"IO OK"})]})]}),d.length?h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Investigator","data-help-body":"Automated root-cause hypotheses ranked by severity and confidence.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Investigator"}),h.jsxs("div",{className:"insight-items",children:[d.map(v=>h.jsxs("span",{className:"insight-chip",title:v.summary,children:[v.title," (",Math.round(v.confidence*100),"%)"]},v.id)),(m=(g=d[0])==null?void 0:g.evidenceStepIds)!=null&&m[0]?h.jsx("button",{className:"insight-chip",type:"button",onClick:()=>n==null?void 0:n(d[0].evidenceStepIds[0]),children:"Jump to evidence"}):null]})]}):null,(w=o==null?void 0:o.buckets)!=null&&w.length?h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Parallelism","data-help-body":"How many steps ran concurrently over time.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Parallelism"}),h.jsx("div",{className:"insight-items",children:h.jsx("div",{className:"insight-heatmap",title:`Peak concurrency: ${o.peak}`,children:o.buckets.map((v,y)=>h.jsx("span",{className:"heatmap-bar",style:{height:`${Math.max(20,v.active/Math.max(1,o.peak)*48)}px`},title:`Bucket ${y+1}: ${v.active} active`},`${v.startMs}-${v.endMs}`))})})]}):null,Object.keys(c).length?h.jsxs("div",{className:"insight-block","data-help":!0,"data-help-title":"Model cost","data-help-body":"Spend by model family.","data-help-placement":"bottom",children:[h.jsx("span",{className:"insight-label",children:"Model cost"}),h.jsx("div",{className:"insight-items",children:Object.entries(c).map(([v,y])=>h.jsxs("span",{className:"insight-chip",title:`Total cost for ${v}`,children:[v,": $",y.toFixed(3)]},v))})]}):null]})}const gN=["all","llm_call","tool_call","decision","handoff","guardrail"];function yN({query:e,typeFilter:t,onQueryChange:n,onTypeFilterChange:r}){return h.jsxs("div",{className:"search-bar",children:[h.jsx("input",{className:"search-input",placeholder:"Search steps, tools, previews...","aria-label":"Search steps",value:e,onChange:i=>n(i.target.value),"data-help":!0,"data-help-title":"Search","data-help-body":"Filter steps by name, tool, or payload preview. Great for fast recall.","data-help-placement":"bottom"}),h.jsx("select",{className:"search-select",value:t,"aria-label":"Filter by step type",onChange:i=>r(i.target.value),"data-help":!0,"data-help-title":"Type filter","data-help-body":"Narrow the timeline to a specific class of steps (LLM, tool, decision, handoff).","data-help-placement":"bottom",children:gN.map(i=>h.jsx("option",{value:i,children:i},i))})]})}function Lo(e,t,n){const r=Date.parse(e),i=n.map(c=>Date.parse(c.endedAt??c.startedAt)).filter(c=>Number.isFinite(c)),a=t?Date.parse(t):i.length?Math.max(...i):r,s=Math.max(1,a-r),o=n.map(c=>{const d=Math.max(0,Date.parse(c.startedAt)-r),f=Math.max(d,Date.parse(c.endedAt??c.startedAt)-r);return{stepId:c.id,startMs:d,endMs:f}}).sort((c,d)=>c.startMs-d.startMs||c.endMs-d.endMs),l=[],u=[];for(const c of o){let d=l.findIndex(f=>f<=c.startMs);d===-1?(d=l.length,l.push(c.endMs)):l[d]=c.endMs,u.push({stepId:c.stepId,startMs:c.startMs,endMs:c.endMs,lane:d,xPct:c.startMs/s*100,wPct:Math.max(.75,(c.endMs-c.startMs)/s*100)})}return{wallTimeMs:s,intervals:u,laneCount:l.length}}function xN(e){var g;const n=e.steps.map(m=>({stepId:m.id,name:m.name,durationMs:m.durationMs??0})).sort((m,w)=>w.durationMs-m.durationMs).slice(0,3),r={},i={};for(const m of e.steps)((g=m.metrics)==null?void 0:g.costUsd)!=null&&(r[m.type]=(r[m.type]??0)+m.metrics.costUsd,m.type==="tool_call"&&(i[m.name]=(i[m.name]??0)+m.metrics.costUsd));const a=e.steps.filter(m=>m.status==="failed").length,s=e.steps.filter(m=>!!m.retryOfStepId).length,o=e.metadata.wallTimeMs,l=e.metadata.workTimeMs??e.steps.reduce((m,w)=>m+(w.durationMs??0),0),u=bN(e),c=SN(e.steps),d=_N(e.steps),f=CN(e),p=TN(e.steps);return{topLatencySteps:n,costByType:r,costByTool:i,costByModel:{[e.metadata.modelId]:e.metadata.totalCostUsd??0},errors:a,retries:s,wallTimeMs:o,workTimeMs:l,timing:u,ioWarnings:c,criticalPathMs:d,concurrency:f,retryPatterns:p}}function wN(e){var n;const t=(n=e.metrics)==null?void 0:n.costUsd;return t==null?null:`$${t.toFixed(3)}`}function an(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function bN(e){const t=an(e.startedAt),n=an(e.endedAt??void 0),r=[],i=[],a=[];return t==null&&a.push("Trace start time missing or invalid."),e.steps.forEach(s=>{const o=an(s.startedAt),l=an(s.endedAt??s.startedAt);if(o==null||l==null){r.push(s.id);return}if(l<o){i.push(s.id);return}t!=null&&o<t&&i.push(s.id),n!=null&&l>n&&i.push(s.id)}),r.length&&a.push(`Missing timestamps on ${r.length} steps.`),i.length&&a.push(`Timestamp skew detected on ${i.length} steps.`),{degraded:!!(r.length||i.length||t==null),issues:a,missingStepIds:r,skewedStepIds:i}}function SN(e){const t=new Map;e.forEach(a=>{a.type==="tool_call"&&a.toolCallId&&t.set(a.toolCallId,a)});const n=new Set,r=new Set,i=[];return e.forEach(a=>{a.type!=="llm_call"||!a.io||((a.io.emittedToolCallIds??[]).forEach(s=>{n.add(s),t.has(s)||i.push({kind:"missing_tool_step",message:`Emitted toolCallId ${s} has no tool step.`,stepId:a.id,toolCallId:s})}),(a.io.consumedToolCallIds??[]).forEach(s=>{r.add(s),t.has(s)||i.push({kind:"missing_tool_step",message:`Consumed toolCallId ${s} has no tool step.`,stepId:a.id,toolCallId:s}),n.has(s)||i.push({kind:"consume_without_emit",message:`Consumed toolCallId ${s} without emission.`,stepId:a.id,toolCallId:s})}))}),t.forEach((a,s)=>{n.has(s)||i.push({kind:"unemitted_tool",message:`Tool step ${a.id} has toolCallId ${s} never emitted.`,stepId:a.id,toolCallId:s}),r.has(s)||i.push({kind:"unconsumed_tool",message:`Tool step ${a.id} has toolCallId ${s} never consumed.`,stepId:a.id,toolCallId:s})}),i}function _N(e){const t=new Map,n=new Map,r=[];e.forEach(s=>{if(t.set(s.id,s.durationMs??0),s.parentStepId){const o=n.get(s.parentStepId)??[];o.push(s.id),n.set(s.parentStepId,o)}else r.push(s.id)});const i=new Map,a=s=>{if(i.has(s))return i.get(s)??0;const l=(n.get(s)??[]).reduce((c,d)=>Math.max(c,a(d)),0),u=(t.get(s)??0)+l;return i.set(s,u),u};return r.length?Math.max(...r.map(s=>a(s))):0}function CN(e){const t=an(e.startedAt);if(t==null)return{buckets:[],peak:0};const n=an(e.endedAt??void 0)??Math.max(...e.steps.map(l=>an(l.endedAt??l.startedAt)??t),t),r=Math.max(1,n-t),i=12,a=Math.max(1,Math.floor(r/i)),s=[];let o=0;for(let l=0;l<i;l+=1){const u=t+l*a,c=u+a;let d=0;e.steps.forEach(f=>{const p=an(f.startedAt),g=an(f.endedAt??f.startedAt);p==null||g==null||g>=u&&p<=c&&(d+=1)}),o=Math.max(o,d),s.push({startMs:l*a,endMs:(l+1)*a,active:d})}return{buckets:s,peak:o}}function TN(e){const t={};e.forEach(i=>{i.retryOfStepId&&(t[i.retryOfStepId]=(t[i.retryOfStepId]??0)+1)});const n=Object.values(t).reduce((i,a)=>i+a,0),r=Object.entries(t).sort((i,a)=>a[1]-i[1]).slice(0,3);return{totalRetries:n,retryRate:e.length?n/e.length:0,topRetries:r.map(([i,a])=>({stepId:i,count:a}))}}const EN={llm_call:{label:"LLM",icon:"LLM",description:"Model call"},tool_call:{label:"TOOL",icon:"TOOL",description:"Tool call"},decision:{label:"DEC",icon:"DEC",description:"Decision"},handoff:{label:"HAND",icon:"HAND",description:"Handoff"},guardrail:{label:"GUARD",icon:"GUARD",description:"Guardrail"}};function kN(e){return EN[e]}function PN({type:e,size:t="sm",showLabel:n=!1}){const r=kN(e);return h.jsxs("span",{className:`step-badge step-badge-${e} step-badge-${t}`,title:r.description,children:[h.jsx("span",{className:"step-badge-icon",children:r.icon}),n?h.jsx("span",{className:"step-badge-label",children:r.label}):null]})}function wT({step:e,interval:t,playbackState:n,selected:r,onSelect:i,variant:a="base",diffStatus:s,disabled:o=!1,laneHeight:l=140}){var b,S,E,T,C,j;const u=wN(e),c=((b=e.preview)==null?void 0:b.subtitle)??((S=e.preview)==null?void 0:S.title)??"",d=((E=e.preview)==null?void 0:E.outputPreview)??((T=e.preview)==null?void 0:T.inputPreview)??"",f=s?`step-diff-${s}`:"",p=a==="ghost"?"step-ghost":"",g=t.wPct<8?"step-compact":"",m=e.type.replace("_"," ").toUpperCase(),w=((C=e.metrics)==null?void 0:C.tokensTotal)!=null?`${e.metrics.tokensTotal} tokens`:null,v=e.durationMs!=null?`${e.durationMs}ms`:null,y=[w,v,u].filter(Boolean).join("  "),x=`Click to inspect inputs/outputs and replay from this moment.${y?` ${y}.`:""}`;return h.jsxs("button",{type:"button",className:`step-card step-${e.type} step-${n} ${r?"step-selected":""} ${f} ${p} ${g}`,"data-step-id":e.id,"aria-pressed":r,"aria-hidden":a==="ghost",disabled:o,"data-help":!0,"data-help-title":`${e.name}  ${m}`,"data-help-body":x,"data-help-placement":"top",style:{left:`${t.xPct}%`,width:`${t.wPct}%`,top:`${t.lane*l}px`},onClick:()=>{o||i(e.id)},children:[h.jsxs("div",{className:"step-card-header",children:[h.jsxs("div",{className:"step-title-group",children:[h.jsx(PN,{type:e.type}),h.jsx("span",{className:"step-title",children:e.name})]}),h.jsx("span",{className:`status-pill status-${e.status}`,children:e.status})]}),c?h.jsx("div",{className:"step-subtitle",children:c}):null,h.jsxs("div",{className:"step-metrics",children:[((j=e.metrics)==null?void 0:j.tokensTotal)!=null?h.jsxs("span",{children:[e.metrics.tokensTotal," tok"]}):null,e.durationMs!=null?h.jsxs("span",{children:[e.durationMs,"ms"]}):null,u?h.jsx("span",{children:u}):null]}),d?h.jsx("div",{className:"step-preview",children:d}):null]})}function bT(e,t){return t<e.startMs?"future":t>e.endMs?"past":"active"}const jN=140,RN=132,NN=96,Cy={llm_call:1,tool_call:2,decision:3,handoff:4,guardrail:5};function ST(e){return[...e].sort((t,n)=>(Cy[t.type]??9)-(Cy[n.type]??9))}function AN({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:i,playheadMs:a,windowRange:s,ghostTrace:o,diff:l,laneHeight:u=jN,cardHeight:c=RN,compactHeight:d=NN}){const{intervals:f,laneCount:p}=Lo(e.startedAt,e.endedAt,t),g=new Map(f.map(T=>[T.stepId,T])),m=ST(t),w=e.metadata.wallTimeMs||1,v=new Set((l==null?void 0:l.removedSteps)??[]),y=new Set((l==null?void 0:l.changedSteps)??[]),x=new Set(((l==null?void 0:l.changedPairs)??[]).map(T=>T.rightId)),b=new Set((l==null?void 0:l.addedSteps)??[]);let S=f;if(s){const T=s.endMs-s.startMs,C=Math.max(1e3,T*.15),j=Math.max(0,s.startMs-C),M=s.endMs+C;if(S=f.filter(I=>I.endMs>=j&&I.startMs<=M),n&&!S.some(I=>I.stepId===n)){const I=g.get(n);I&&(S=[...S,I])}}const E=new Set(S.map(T=>T.stepId));return h.jsx("div",{className:"timeline",style:{"--step-card-height":`${c}px`,"--step-compact-height":`${d}px`},children:h.jsxs("div",{className:"timeline-grid",style:{height:`${p*u}px`},"data-help":!0,"data-help-title":"Timeline lanes","data-help-body":"Each lane stacks overlapping steps; width reflects duration.","data-help-placement":"top",children:[h.jsx("div",{className:"playback-cursor",style:{left:`${i}%`}}),m.filter(T=>E.has(T.id)).map(T=>{const C=g.get(T.id);if(!C)return null;const j=bT(C,a);return h.jsx(wT,{step:T,interval:C,playbackState:j,selected:n===T.id,diffStatus:v.has(T.id)?"removed":y.has(T.id)?"changed":null,laneHeight:u,onSelect:r},T.id)}),o?h.jsx(MN,{ghostTrace:o,baseWallTimeMs:w,playheadMs:a,windowRange:s,diffAdded:b,diffChanged:x,laneHeight:u}):null]})})}function MN({ghostTrace:e,baseWallTimeMs:t,playheadMs:n,windowRange:r,diffAdded:i,diffChanged:a,laneHeight:s}){const{intervals:o,laneCount:l}=Lo(e.startedAt,e.endedAt,e.steps),u=new Map(o.map(m=>[m.stepId,m])),c=e.metadata.wallTimeMs||1,d=n/t*c;let f=o;if(r){const m=r.endMs-r.startMs,w=Math.max(1e3,m*.15),v=c/t,y=Math.max(0,(r.startMs-w)*v),x=Math.min(c,(r.endMs+w)*v);f=o.filter(b=>b.endMs>=y&&b.startMs<=x)}const p=new Set(f.map(m=>m.stepId)),g=ST(e.steps);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"ghost-lanes",style:{height:`${l*s}px`}}),g.filter(m=>p.has(m.id)).map(m=>{const w=u.get(m.id);if(!w)return null;const v=bT(w,d),y=i.has(m.id)?"added":a.has(m.id)?"changed":null;return h.jsx(wT,{step:m,interval:w,playbackState:v,selected:!1,diffStatus:y,variant:"ghost",disabled:!0,laneHeight:s,onSelect:()=>{}},`ghost-${m.id}`)})]})}function IN({trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadMs:i,windowRange:a,timing:s,ghostTrace:o,diff:l}){const u=e.metadata.wallTimeMs||1,c=Math.min(100,Math.max(0,i/u*100));return h.jsxs("section",{className:"cinema-mode","aria-label":"Cinema mode",children:[s!=null&&s.degraded?h.jsxs("div",{className:"timing-banner",title:s.issues.join(" "),children:["Timing degraded: ",s.issues[0]??"Check timestamps."]}):null,h.jsx(AN,{trace:e,steps:t,selectedStepId:n,onSelectStep:r,playheadPct:c,playheadMs:i,windowRange:a,ghostTrace:o,diff:l})]})}const DN=[.5,1,1.5,2,4];function Ty({playheadMs:e,wallTimeMs:t,isPlaying:n,speed:r,onToggle:i,onScrub:a,onSpeedChange:s}){const o=l=>{a(Number(l.target.value))};return h.jsxs("div",{className:"playback-controls",children:[h.jsx("button",{className:"ghost-button",type:"button",onClick:i,"aria-label":n?"Pause playback":"Play playback","data-help":!0,"data-help-title":"Playhead","data-help-body":"Start or pause the run to experience timing as it unfolded.","data-help-placement":"bottom",children:n?"Pause":"Play"}),h.jsx("input",{className:"playback-slider",type:"range",min:0,max:t,value:e,"aria-label":"Playback position",onChange:o,"data-help":!0,"data-help-title":"Scrub timeline","data-help-body":"Drag to jump to any moment in the run.","data-help-placement":"bottom"}),h.jsx("select",{className:"playback-speed",value:r,"aria-label":"Playback speed",onChange:l=>s(Number(l.target.value)),"data-help":!0,"data-help-title":"Speed","data-help-body":"Slow down to inspect or speed up to skim.","data-help-placement":"bottom",children:DN.map(l=>h.jsxs("option",{value:l,children:[l,"x"]},l))})]})}function LN(e,t,n,r=60){const{wallTimeMs:i,intervals:a}=Lo(e,t,n),s=new Array(r).fill(0);if(!i)return{buckets:s,wallTimeMs:0};const o=i/r;return!Number.isFinite(o)||o<=0?{buckets:s,wallTimeMs:i}:(a.forEach(l=>{const u=Math.max(0,Math.floor(l.startMs/o)),c=Math.min(r-1,Math.floor(l.endMs/o));for(let d=u;d<=c;d+=1)s[d]+=1}),{buckets:s,wallTimeMs:i})}const Oi=5e3;function vs(e,t,n){return Math.min(n,Math.max(t,e))}function ON({traceStart:e,traceEnd:t,steps:n,playheadMs:r,windowRange:i,windowed:a,spanMs:s,onSpanChange:o,onToggleWindowed:l,onScrub:u}){const{buckets:c,wallTimeMs:d}=LN(e,t,n,64),f=Math.max(1,...c),p=vs(s,Oi,Math.max(Oi,d)),g=(i==null?void 0:i.startMs)??0,m=(i==null?void 0:i.endMs)??d,w=d?g/d*100:0,v=d?(m-g)/d*100:100,y=d?r/d*100:0,x=S=>{const E=S.currentTarget.getBoundingClientRect(),T=(S.clientX-E.left)/E.width,C=vs(Math.round(T*d),0,d);u(C)},b=S=>{if(S.key==="ArrowLeft"){S.preventDefault(),u(vs(r-Math.max(250,Math.round(d*.02)),0,d));return}if(S.key==="ArrowRight"){S.preventDefault(),u(vs(r+Math.max(250,Math.round(d*.02)),0,d));return}if(S.key==="Home"){S.preventDefault(),u(0);return}if(S.key==="End"){S.preventDefault(),u(d);return}(S.key===" "||S.key==="Enter")&&(S.preventDefault(),u(r))};return h.jsxs("div",{className:"mini-timeline",children:[h.jsxs("div",{className:"mini-track",onClick:x,role:"slider",tabIndex:0,"aria-label":"Timeline density map","aria-valuemin":0,"aria-valuemax":d,"aria-valuenow":r,"aria-valuetext":`${r} milliseconds`,onKeyDown:b,"data-help":!0,"data-help-title":"Density map","data-help-body":"A compact view of activity density. Click to jump the playhead.","data-help-placement":"top",children:[h.jsx("div",{className:"mini-bars",children:c.map((S,E)=>h.jsx("span",{className:"mini-bar",style:{height:`${S/f*100}%`}},`bucket-${E}`))}),h.jsx("div",{className:"mini-window",style:{left:`${w}%`,width:`${v}%`,opacity:a?1:.4}}),h.jsx("div",{className:"mini-playhead",style:{left:`${y}%`}})]}),h.jsxs("div",{className:"mini-controls",children:[h.jsx("label",{className:"mini-label",children:"Zoom"}),h.jsx("input",{type:"range",min:Oi,max:Math.max(Oi,d),value:p,"aria-label":"Timeline zoom",onChange:S=>{l(!0),o(Number(S.target.value))},"data-help":!0,"data-help-title":"Zoom window","data-help-body":"Tighten the window to focus on hotspots.","data-help-placement":"top"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>l(!a),title:"Toggle windowed playback",children:a?"Full":"Window"}),h.jsx("button",{className:"ghost-button",type:"button",title:"Reset zoom",onClick:()=>{l(!0),o(Math.min(Math.max(d*.2,Oi),6e4))},children:"Reset"})]})]})}const qN=[{keys:"Space",action:"Play / pause"},{keys:" / ",action:"Step boundary back / forward"},{keys:"Shift +  / ",action:"Jump to start / end"},{keys:"F",action:"Toggle Flow mode"},{keys:"I",action:"Toggle Inspector"},{keys:"S",action:"Story mode"},{keys:"E",action:"Explain mode"},{keys:"T",action:"Start tour"},{keys:"Cmd/Ctrl + K",action:"Open command palette"},{keys:"?",action:"Show shortcuts"},{keys:"Esc",action:"Close modal / inspector"}];function FN({open:e,onClose:t}){const n=_.useRef(null);if(_.useEffect(()=>{var i;e&&((i=n.current)==null||i.focus())},[e]),!e)return null;const r=i=>{var l;if(i.key==="Escape"){i.preventDefault(),t();return}if(i.key!=="Tab")return;const a=Array.from(i.currentTarget.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(a.length===0)return;const s=a.indexOf(document.activeElement),o=i.shiftKey?s<=0?a.length-1:s-1:(s+1)%a.length;(l=a[o])==null||l.focus(),i.preventDefault()};return h.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",onKeyDown:r,children:h.jsxs("div",{className:"modal",tabIndex:-1,children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("div",{className:"modal-title",id:"shortcuts-title",children:"Keyboard Shortcuts"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:t,ref:n,"aria-label":"Close shortcuts",children:"Close"})]}),h.jsx("div",{className:"modal-body",children:qN.map(i=>h.jsxs("div",{className:"modal-row",children:[h.jsx("span",{className:"modal-keys",children:i.keys}),h.jsx("span",{className:"modal-action",children:i.action})]},i.keys))})]})})}const VN=e=>e.trim().toLowerCase();function BN(e){const t=new Map;return e.forEach(n=>{var i;const r=n.group??"General";t.has(r)||t.set(r,[]),(i=t.get(r))==null||i.push(n)}),t}function Ey(e,t,n){var i;if(!e.length)return 0;let r=t;for(let a=0;a<e.length;a+=1)if(r=(r+n+e.length)%e.length,!((i=e[r])!=null&&i.disabled))return r;return t}function $N({open:e,onClose:t,actions:n}){var m,w;const[r,i]=_.useState(""),[a,s]=_.useState(0),o=_.useRef(null),l=_.useRef(null),u=_.useMemo(()=>{const v=VN(r);return v?n.filter(y=>[y.label,y.description,y.group,y.keys].filter(Boolean).join(" ").toLowerCase().includes(v)):n},[n,r]),c=_.useMemo(()=>BN(u),[u]);if(_.useEffect(()=>{if(!e)return;i(""),s(0);const v=window.setTimeout(()=>{var y;return(y=o.current)==null?void 0:y.focus()},0);return()=>window.clearTimeout(v)},[e]),_.useEffect(()=>{a>=u.length&&s(0)},[a,u.length]),!e)return null;const d=v=>{v.disabled||(v.onTrigger(),t())},f=v=>{var y,x;if(v.key==="Escape"){v.preventDefault(),t();return}if(v.key==="ArrowDown"){v.preventDefault(),s(b=>Ey(u,b,1));return}if(v.key==="ArrowUp"){v.preventDefault(),s(b=>Ey(u,b,-1));return}if(v.key==="Enter"){v.preventDefault();const b=u[a];b&&d(b);return}if(v.key==="Tab"){const b=Array.from(((y=l.current)==null?void 0:y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??[]);if(!b.length)return;const S=b.indexOf(document.activeElement),E=v.shiftKey?S<=0?b.length-1:S-1:(S+1)%b.length;(x=b[E])==null||x.focus(),v.preventDefault()}},p=(m=u[a])!=null&&m.id?`palette-option-${(w=u[a])==null?void 0:w.id}`:void 0;let g=-1;return h.jsx("div",{className:"modal-backdrop palette-backdrop",role:"dialog","aria-modal":"true","aria-label":"Command palette",onKeyDown:f,onMouseDown:v=>{v.target===v.currentTarget&&t()},children:h.jsxs("div",{className:"palette",ref:l,children:[h.jsxs("div",{className:"palette-header",children:[h.jsxs("div",{children:[h.jsx("div",{className:"palette-title",children:"Command palette"}),h.jsx("div",{className:"palette-subtitle",children:"Search actions, modes, and playbook steps."})]}),h.jsx("button",{className:"ghost-button",type:"button",onClick:t,"aria-label":"Close command palette",children:"Close"})]}),h.jsx("input",{ref:o,className:"palette-input",value:r,onChange:v=>i(v.target.value),placeholder:"Type to filter actions","aria-label":"Search commands",role:"combobox","aria-expanded":"true","aria-controls":"command-palette-list","aria-activedescendant":p,"aria-autocomplete":"list"}),h.jsxs("div",{className:"palette-list",role:"listbox",id:"command-palette-list",children:[u.length===0?h.jsx("div",{className:"palette-empty",children:"No matching commands."}):null,Array.from(c.entries()).map(([v,y])=>h.jsxs("div",{className:"palette-group",children:[h.jsx("div",{className:"palette-group-title",children:v}),h.jsx("div",{className:"palette-group-list",children:y.map(x=>{g+=1;const b=g===a;return h.jsxs("button",{id:`palette-option-${x.id}`,className:`palette-item ${b?"active":""}`,type:"button",role:"option","aria-selected":b,onMouseEnter:()=>s(g),onClick:()=>d(x),disabled:x.disabled,children:[h.jsxs("div",{className:"palette-item-main",children:[h.jsx("div",{className:"palette-item-title",children:x.label}),x.description?h.jsx("div",{className:"palette-item-description",children:x.description}):null]}),x.keys?h.jsx("div",{className:"palette-item-keys",children:x.keys}):null]},x.id)})})]},v))]})]})})}function UN(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function zN({trace:e,mode:t,playheadMs:n,selectedStepId:r,compareTrace:i,collapsed:a,onToggleCollapsed:s,onModeChange:o,onSelectStep:l,onJumpToBottleneck:u,onReplay:c,onStartTour:d}){var C;const f=e.steps??[],p=UN(f),g=r??(p==null?void 0:p.id)??((C=f[0])==null?void 0:C.id)??null,m=t==="cinema"||n>0,w=!!r,v=!!i,y=[m,w,v].filter(Boolean).length,x=[m,w,v].findIndex(j=>!j),b=x===-1?2:x,S=[0,1,2].map(j=>[m,w,v][j]?"done":j===b?"active":"next"),E=[{id:"observe",title:"Act I: Observe",summary:"Scrub the timeline to feel the pacing, bottlenecks, and tool choreography.",status:S[0],actionLabel:"Enter cinema",action:()=>o("cinema"),tasks:[{label:"Scrub the timeline",done:n>0},{label:"Stay in Cinema mode",done:t==="cinema"}]},{id:"inspect",title:"Act II: Inspect",summary:"Open the most expensive or failed step and read the payload with context.",status:S[1],actionLabel:p?"Jump to bottleneck":"Select first step",action:()=>{if(r){o("cinema");return}if(p){u();return}g&&(l(g),o("cinema"))},disabled:!g,tasks:[{label:"Open the Inspector",done:!!r},{label:"Jump to the bottleneck",done:!!(p&&r===p.id)}]},{id:"direct",title:"Act III: Direct",summary:"Replay from a decisive step, then compare flows and diffs side-by-side.",status:S[2],actionLabel:i?"Open compare":"Replay from step",action:()=>{if(i){o("compare");return}g&&c(g)},disabled:!g,tasks:[{label:"Replay from a step",done:!!i},{label:"Compare runs side-by-side",done:!!(i&&t==="compare")}]}],T=E[b];return a?h.jsxs("section",{className:"journey-panel journey-collapsed","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A guided path from observation to replay. Use it to show newcomers what to do first.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"journey-collapsed-main",children:[h.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),h.jsx("div",{className:"journey-collapsed-title",children:"From observe to direct"})]}),h.jsxs("div",{className:"journey-collapsed-actions",children:[h.jsxs("span",{className:"journey-progress-text",children:[y,"/3 complete"]}),T?h.jsxs("button",{className:"primary-button journey-next",type:"button",onClick:T.action,disabled:T.disabled,children:["Next: ",T.actionLabel]}):null,d?h.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Tour"}):null,h.jsx("button",{className:"primary-button journey-expand",type:"button",onClick:s,children:"Expand"})]})]}):h.jsxs("section",{className:"journey-panel","aria-label":"Director journey","data-help":!0,"data-help-indicator":!0,"data-tour":"journey","data-help-title":"Director journey","data-help-body":"A three-act flow that teaches the story: observe, inspect, direct. Each act jumps to the right place.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"journey-head",children:[h.jsxs("div",{children:[h.jsx("div",{className:"journey-eyebrow",children:"Director journey"}),h.jsx("h2",{className:"journey-title",children:"Cut a perfect take in three acts."}),h.jsx("p",{className:"journey-subtitle",children:"Trace the performance, interrogate the moment, then direct a better run."})]}),h.jsxs("div",{className:"journey-head-actions",children:[d?h.jsx("button",{className:"ghost-button",type:"button",onClick:d,children:"Start tour"}):null,h.jsx("button",{className:"ghost-button",type:"button",onClick:s,children:"Collapse"})]})]}),h.jsx("div",{className:"journey-track",children:E.map((j,M)=>{var I;return h.jsxs("div",{className:"journey-card","data-status":j.status,children:[h.jsxs("div",{className:"journey-card-top",children:[h.jsxs("span",{className:"journey-index",children:["0",M+1]}),h.jsx("span",{className:"journey-status",children:j.status})]}),h.jsx("h3",{className:"journey-card-title",children:j.title}),h.jsx("p",{className:"journey-card-body",children:j.summary}),(I=j.tasks)!=null&&I.length?h.jsx("ul",{className:"journey-tasks",children:j.tasks.map(U=>h.jsxs("li",{className:`journey-task ${U.done?"done":""}`,children:[h.jsx("span",{className:"journey-task-icon","aria-hidden":"true",children:U.done?"":""}),h.jsx("span",{children:U.label})]},U.label))}):null,h.jsx("button",{className:"primary-button journey-action",type:"button",onClick:j.action,disabled:j.disabled,children:j.actionLabel})]},j.id)})}),h.jsxs("div",{className:"journey-footer",children:[h.jsxs("div",{children:[h.jsx("div",{className:"journey-progress-label",children:"Progress"}),h.jsx("div",{className:"journey-progress",children:h.jsx("span",{className:"journey-progress-bar",style:{width:`${y/3*100}%`}})})]}),h.jsx("div",{className:"journey-footnote",children:"Tip: Use Flow to spot fan-out, Compare to validate your changes."})]})]})}function GN(e){return e.length?e.reduce((t,n)=>(n.durationMs??0)>(t.durationMs??0)?n:t,e[0]):null}function HN({trace:e,mode:t,selectedStepId:n,onModeChange:r,onSelectStep:i,onJumpToBottleneck:a,onReplay:s}){var d;const o=e.steps??[],l=GN(o),u=n??(l==null?void 0:l.id)??((d=o[0])==null?void 0:d.id)??null,c=e.metadata.wallTimeMs??0;return h.jsxs("aside",{className:"inspector inspector-empty","data-help":!0,"data-help-indicator":!0,"data-tour":"inspector","data-help-title":"Inspector panel","data-help-body":"Select a step to open detailed payloads, redaction controls, and replay actions.","data-help-placement":"left",children:[h.jsx("div",{className:"inspector-header",children:h.jsxs("div",{children:[h.jsx("div",{className:"inspector-title",children:"Director's notes"}),h.jsx("div",{className:"inspector-subtitle",children:"Select a step to open deep inspection."})]})}),h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Run summary"}),h.jsxs("div",{className:"inspector-row",children:[h.jsx("span",{children:"Steps"}),h.jsx("span",{children:o.length})]}),h.jsxs("div",{className:"inspector-row",children:[h.jsx("span",{children:"Wall time"}),h.jsxs("span",{children:[c,"ms"]})]}),h.jsxs("div",{className:"inspector-row",children:[h.jsx("span",{children:"Status"}),h.jsx("span",{children:e.status})]})]}),h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Next actions"}),h.jsxs("div",{className:"director-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Open cinema","data-help-body":"Jump straight into the timeline.","data-help-placement":"right",children:"Open cinema"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Open flow","data-help-body":"See the dependency graph of the run.","data-help-placement":"right",children:"Switch to flow"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{if(!n){if(l){a();return}u&&i(u)}},disabled:!u||!!n,"data-help":!0,"data-help-title":"Jump to bottleneck","data-help-body":"Select the slowest step for inspection.","data-help-placement":"right",children:n?"Inspector open":l?"Jump to bottleneck":"Select first step"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>u&&s(u),disabled:!u,"data-help":!0,"data-help-title":"Replay","data-help-body":"Branch a replay from a decisive step.","data-help-placement":"right",children:"Replay from step"})]})]}),h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Mode"}),h.jsxs("div",{className:"director-modes",children:[h.jsx("button",{className:`ghost-button ${t==="cinema"?"active":""}`,type:"button",onClick:()=>r("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view for pacing and sequence.","data-help-placement":"right",children:"Cinema"}),h.jsx("button",{className:`ghost-button ${t==="flow"?"active":""}`,type:"button",onClick:()=>r("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Graph view for dependencies.","data-help-placement":"right",children:"Flow"}),h.jsx("button",{className:"ghost-button",type:"button",disabled:!0,children:"Compare"})]})]})]})}const Bl=(e,t,n)=>Math.min(n,Math.max(t,e));function KN({steps:e,open:t,onClose:n,onComplete:r}){const[i,a]=_.useState(0),[s,o]=_.useState(null),[l,u]=_.useState(null),c=_.useRef(null),d=_.useRef(null),f=_.useRef(null),p=_.useMemo(()=>e[i],[e,i]),g=_.useCallback(()=>{if(!t)return;const b=document.querySelector(p.target);if(!b){d.current=null,o(null);return}d.current=b;const S=b.getBoundingClientRect();o(S)},[t,p.target]),m=_.useCallback(()=>{if(!s||!c.current){u(null);return}const b=c.current.offsetWidth,S=c.current.offsetHeight,E=16;let T=Bl(s.left+s.width/2-b/2,E,window.innerWidth-b-E),C=s.bottom+16;p.placement==="top"&&(C=s.top-S-16),p.placement==="left"&&(T=s.left-b-16,C=s.top+s.height/2-S/2),p.placement==="right"&&(T=s.right+16,C=s.top+s.height/2-S/2),C+S>window.innerHeight-E&&(C=s.top-S-16),C<E&&(C=s.bottom+16),T=Bl(T,E,window.innerWidth-b-E),C=Bl(C,E,window.innerHeight-S-E),u({top:C,left:T})},[p.placement,s]);if(_.useEffect(()=>{t&&a(0)},[t]),_.useEffect(()=>{var S,E;if(!t){(E=(S=f.current)==null?void 0:S.focus)==null||E.call(S);return}f.current=document.activeElement;const b=window.setTimeout(()=>{var C,j;(j=((C=c.current)==null?void 0:C.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??c.current)==null||j.focus()},0);return()=>window.clearTimeout(b)},[t]),_.useEffect(()=>{if(!t)return;const b=document.querySelector(p.target);b&&b.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const S=window.requestAnimationFrame(()=>g());return()=>window.cancelAnimationFrame(S)},[t,p.target,g]),_.useLayoutEffect(()=>{m()},[s,m,p.title]),_.useEffect(()=>{if(!t)return;const b=()=>{g(),m()};return window.addEventListener("resize",b),window.addEventListener("scroll",b,!0),()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",b,!0)}},[t,g,m]),!t||!p)return null;const w=b=>{var j,M;if(b.key==="Escape"){b.preventDefault(),n();return}if(b.key!=="Tab")return;const S=Array.from(((j=c.current)==null?void 0:j.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))??[]);if(S.length===0)return;const E=document.activeElement,T=S.indexOf(E),C=b.shiftKey?T<=0?S.length-1:T-1:(T+1)%S.length;(M=S[C])==null||M.focus(),b.preventDefault()},v=`tour-title-${p.id}`,y=`tour-body-${p.id}`,x=s?{top:s.top-6,left:s.left-6,width:s.width+12,height:s.height+12}:void 0;return h.jsxs("div",{className:"tour-overlay",role:"dialog","aria-modal":"true","aria-label":"Guided tour","aria-labelledby":v,"aria-describedby":y,onKeyDown:w,children:[h.jsx("div",{className:"tour-backdrop",onClick:n}),s?h.jsx("div",{className:"tour-spotlight",style:x}):null,h.jsxs("div",{className:`tour-card ${l?"tour-card-anchored":""}`,ref:c,style:l??void 0,tabIndex:-1,children:[h.jsxs("div",{className:"tour-step",children:["Step ",i+1," of ",e.length]}),h.jsx("div",{className:"tour-title",id:v,children:p.title}),h.jsx("p",{className:"tour-body",id:y,children:p.body}),h.jsxs("div",{className:"tour-actions",children:[h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>a(b=>Math.max(0,b-1)),disabled:i===0,children:"Back"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:n,children:"Skip"}),i===e.length-1?h.jsx("button",{className:"primary-button",type:"button",onClick:r,children:"Finish tour"}):h.jsx("button",{className:"primary-button",type:"button",onClick:()=>a(b=>b+1),children:"Next"})]})]})]})}const ky=(e,t,n)=>Math.min(n,Math.max(t,e));function WN({enabled:e}){const[t,n]=_.useState(null),[r,i]=_.useState(null),a=_.useRef(null),s=_.useRef(null),o=_.useCallback(()=>{const u=a.current;if(!u){n(null);return}const c=u.getBoundingClientRect(),d=u.dataset.helpTitle??"Context",f=u.dataset.helpBody??"",p=u.dataset.helpPlacement??"right";n({rect:c,title:d,body:f,placement:p})},[]);_.useEffect(()=>{if(!e){a.current=null,n(null);return}const u=g=>{var w,v;const m=(v=(w=g.target)==null?void 0:w.closest)==null?void 0:v.call(w,"[data-help]");if(!m){a.current||n(null);return}a.current!==m&&(a.current=m,o())},c=g=>{var w,v;const m=(v=(w=g.target)==null?void 0:w.closest)==null?void 0:v.call(w,"[data-help]");m&&(a.current=m,o())},d=g=>{var w;const m=g.relatedTarget;(w=m==null?void 0:m.closest)!=null&&w.call(m,"[data-help]")||(a.current=null,n(null))},f=g=>{var w,v;const m=(v=(w=g.target)==null?void 0:w.closest)==null?void 0:v.call(w,"[data-help]");if(!m){a.current=null,n(null);return}a.current=m,o()},p=()=>{a.current&&o()};return window.addEventListener("mousemove",u),window.addEventListener("focusin",c),window.addEventListener("focusout",d),window.addEventListener("pointerdown",f),window.addEventListener("scroll",p,!0),window.addEventListener("resize",p),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("focusin",c),window.removeEventListener("focusout",d),window.removeEventListener("pointerdown",f),window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",p)}},[e,o]);const l=_.useCallback(()=>{if(!t||!s.current){i(null);return}const u=12,c=s.current.offsetWidth,d=s.current.offsetHeight,{rect:f,placement:p}=t;let g=f.right+16,m=f.top+f.height/2-d/2;p==="left"&&(g=f.left-c-16,m=f.top+f.height/2-d/2),p==="top"&&(g=f.left+f.width/2-c/2,m=f.top-d-16),p==="bottom"&&(g=f.left+f.width/2-c/2,m=f.bottom+16),g=ky(g,u,window.innerWidth-c-u),m=ky(m,u,window.innerHeight-d-u),i({left:g,top:m})},[t]);return _.useLayoutEffect(()=>{l()},[l]),!e||!t?null:h.jsxs("div",{className:"help-overlay","aria-hidden":"true",children:[h.jsx("div",{className:"help-highlight",style:{top:t.rect.top-6,left:t.rect.left-6,width:t.rect.width+12,height:t.rect.height+12}}),h.jsxs("div",{className:"help-bubble",ref:s,style:r??void 0,"data-placement":t.placement,children:[h.jsx("div",{className:"help-title",children:t.title}),h.jsx("div",{className:"help-body",children:t.body})]})]})}function YN({onComplete:e,onStartTour:t,onStartStory:n}){const r=()=>{t==null||t(),e()},i=()=>{n==null||n(),e()};return h.jsx("div",{className:"intro-overlay",role:"dialog","aria-modal":"true","aria-label":"Agent Director intro",children:h.jsxs("div",{className:"intro-card",children:[h.jsx("div",{className:"intro-scan"}),h.jsx("div",{className:"intro-title",children:"Agent Director"}),h.jsx("div",{className:"intro-tagline",children:"Watch your agent think. Then direct it."}),h.jsxs("div",{className:"intro-steps",children:[h.jsxs("div",{className:"intro-step",children:[h.jsx("div",{className:"intro-step-label",children:"Observe"}),h.jsx("div",{className:"intro-step-body",children:"Scrub the timeline to feel pacing and parallelism."})]}),h.jsxs("div",{className:"intro-step",children:[h.jsx("div",{className:"intro-step-label",children:"Inspect"}),h.jsx("div",{className:"intro-step-body",children:"Open the bottleneck to read payloads and costs."})]}),h.jsxs("div",{className:"intro-step",children:[h.jsx("div",{className:"intro-step-label",children:"Direct"}),h.jsx("div",{className:"intro-step-body",children:"Replay from a decisive step and compare runs."})]})]}),h.jsxs("div",{className:"intro-grid",children:[h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{})]}),h.jsxs("div",{className:"intro-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:r,children:"Start guided tour"}),n?h.jsx("button",{className:"ghost-button",type:"button",onClick:i,children:"Play story mode"}):null,h.jsx("button",{className:"ghost-button",type:"button",onClick:e,children:"Skip intro"})]})]})})}function QN({explainMode:e,storyActive:t,onStartTour:n,onStartStory:r,onToggleExplain:i,onDismiss:a}){return h.jsxs("section",{className:"hero-ribbon","aria-label":"Director briefing","data-help":!0,"data-help-indicator":!0,"data-tour":"hero","data-help-title":"Director briefing","data-help-body":"Start the tour, play story mode, or enable explain to learn the interface instantly.","data-help-placement":"bottom",children:[h.jsxs("div",{className:"hero-ribbon-top",children:[h.jsx("span",{className:"hero-eyebrow",children:"Director briefing"}),h.jsx("button",{className:"ghost-button hero-dismiss",type:"button",onClick:a,children:"Dismiss"})]}),h.jsx("div",{className:"hero-title",children:"Observe. Inspect. Direct."}),h.jsx("div",{className:"hero-subtitle",children:"A cinematic control room for agent traces. See time, read structure, then replay with confidence."}),h.jsxs("div",{className:"hero-pills",children:[h.jsx("span",{className:"hero-pill","data-tone":"observe",children:"Observe"}),h.jsx("span",{className:"hero-pill","data-tone":"inspect",children:"Inspect"}),h.jsx("span",{className:"hero-pill","data-tone":"direct",children:"Direct"})]}),h.jsxs("div",{className:"hero-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:n,children:"Start guided tour"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:r,disabled:t,children:t?"Story running":"Play story mode"}),h.jsxs("button",{className:`ghost-button ${e?"active":""}`,type:"button",onClick:i,"aria-pressed":e,children:["Explain ",e?"On":"Off"]})]})]})}function XN({mode:e,isPlaying:t,storyActive:n,explainMode:r,hidden:i=!1,open:a,onToggleOpen:s,onTogglePlay:o,onStartStory:l,onStopStory:u,onStartTour:c,onOpenPalette:d,onShowShortcuts:f,onToggleExplain:p,onJumpToBottleneck:g}){if(i)return null;const m=t?"Pause":"Play",w=n?"Stop story":"Story mode";return a?h.jsxs("aside",{className:"quick-actions","aria-label":"Quick actions","data-help":!0,"data-help-indicator":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Launch story mode, open the command palette, or jump to the bottleneck instantly.","data-help-placement":"left",children:[h.jsxs("div",{className:"quick-actions-header",children:[h.jsxs("div",{children:[h.jsx("div",{className:"quick-actions-title",children:"Quick actions"}),h.jsx("div",{className:"quick-actions-subtitle",children:"Pin demo controls close at hand."})]}),h.jsx("button",{className:"ghost-button",type:"button",onClick:s,"aria-label":"Collapse quick actions",children:"Collapse"})]}),h.jsxs("button",{className:`quick-action ${t?"active":""}`,type:"button",onClick:o,"aria-label":m,"data-help":!0,"data-help-title":"Play or pause","data-help-body":"Start or stop playback from anywhere.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:m}),h.jsx("span",{className:"quick-action-meta",children:e==="flow"?"Cinema":"Space"})]}),h.jsxs("button",{className:`quick-action ${n?"active":""}`,type:"button",onClick:n?u:l,"aria-label":w,"data-help":!0,"data-help-title":"Story mode","data-help-body":"Auto-runs a cinematic walkthrough of the run.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:w}),h.jsx("span",{className:"quick-action-meta",children:"S"})]}),h.jsxs("button",{className:"quick-action",type:"button",onClick:d,"aria-label":"Open command palette","data-help":!0,"data-help-title":"Command palette","data-help-body":"Search every action and jump instantly.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Command"}),h.jsx("span",{className:"quick-action-meta",children:"Cmd+K"})]}),h.jsxs("button",{className:"quick-action",type:"button",onClick:c,"aria-label":"Start guided tour","data-help":!0,"data-help-title":"Guided tour","data-help-body":"Walk the interface with a curated tour.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Tour"}),h.jsx("span",{className:"quick-action-meta",children:"Guide"})]}),h.jsxs("button",{className:`quick-action ${r?"active":""}`,type:"button",onClick:p,"aria-label":"Toggle explain mode","data-help":!0,"data-help-title":"Explain mode","data-help-body":"Toggle contextual overlays for every control.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Explain"}),h.jsx("span",{className:"quick-action-meta",children:r?"On":"Off"})]}),h.jsxs("button",{className:"quick-action",type:"button",onClick:g,"aria-label":"Jump to bottleneck","data-help":!0,"data-help-title":"Bottleneck jump","data-help-body":"Focus instantly on the slowest step.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Bottleneck"}),h.jsx("span",{className:"quick-action-meta",children:"Latency"})]}),h.jsxs("button",{className:"quick-action",type:"button",onClick:f,"aria-label":"Show shortcuts","data-help":!0,"data-help-title":"Shortcuts","data-help-body":"See the full keyboard map.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-action-label",children:"Shortcuts"}),h.jsx("span",{className:"quick-action-meta",children:"?"})]})]}):h.jsxs("button",{className:"quick-actions-toggle",type:"button",onClick:s,title:"Open quick actions","aria-expanded":"false","data-help":!0,"data-tour":"quick-actions","data-help-title":"Quick actions","data-help-body":"Open the dock to access demos, shortcuts, and instant actions.","data-help-placement":"left",children:[h.jsx("span",{className:"quick-actions-toggle-label",children:"Actions"}),h.jsx("span",{className:"quick-actions-toggle-meta",children:"Dock"})]})}function JN({active:e,label:t,step:n,total:r,onStop:i,onRestart:a}){if(!e)return null;const s=r>0?(n+1)/r*100:0;return h.jsxs("div",{className:"story-banner",role:"status","aria-live":"polite",children:[h.jsxs("div",{className:"story-banner-main",children:[h.jsx("div",{className:"story-banner-title",children:"Story mode"}),h.jsx("div",{className:"story-banner-step",children:t})]}),h.jsxs("div",{className:"story-banner-actions",children:[h.jsxs("span",{className:"story-banner-count",children:[Math.min(n+1,r),"/",r]}),h.jsx("button",{className:"ghost-button",type:"button",onClick:a,children:"Restart"}),h.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Stop"})]}),h.jsx("div",{className:"story-banner-progress",children:h.jsx("span",{style:{width:`${s}%`}})})]})}function Py(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(r)}function ZN(e,t,n="text/plain"){const r=new Blob([t],{type:n}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(i)}const _T=/token|secret|password|api[_-]?key|authorization|bearer|session|cookie|private|ssh|credentials/i;function rv(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function eA(e){const t=[],n=new WeakSet,r=(i,a)=>{if(Array.isArray(i)){i.forEach((s,o)=>{r(s,`${a}[${o}]`)});return}rv(i)&&(n.has(i)||(n.add(i),Object.entries(i).forEach(([s,o])=>{const l=a?`${a}.${s}`:s;_T.test(s)&&t.push(l),r(o,l)})))};return r(e,""),t}function CT(e){const t=new WeakMap,n=r=>{if(Array.isArray(r))return r.map(a=>n(a));if(!rv(r))return r;if(t.has(r))return t.get(r);const i={};return t.set(r,i),Object.entries(r).forEach(([a,s])=>{_T.test(a)?i[a]="[REDACTED]":i[a]=n(s)}),i};return n(e)}function tA(e){return rv(e)}function jy(e){return e==null||Number.isNaN(e)?"n/a":e.toString()}function nA(e){return e==null||Number.isNaN(e)?"n/a":e.toFixed(3)}function rA(e,t){return t?CT(e):e}function iA({job:e,matrix:t,safeExport:n,sensitiveKeys:r,anchorStepName:i}){const a=t.rows.map(s=>({scenarioId:s.scenarioId,name:s.name,strategy:s.strategy,status:s.status,replayTraceId:s.replayTraceId,modifications:rA(s.modifications,n),error:s.error??null,changedStepIds:s.changedStepIds,addedStepIds:s.addedStepIds,removedStepIds:s.removedStepIds,metrics:s.metrics}));return{generatedAt:new Date().toISOString(),safeExport:n,redaction:{safeExport:n,sensitiveKeys:r,policy:n?"redacted":"raw"},job:e?{id:e.id,status:e.status,createdAt:e.createdAt,startedAt:e.startedAt??null,endedAt:e.endedAt??null,scenarioCount:e.scenarioCount,completedCount:e.completedCount,failedCount:e.failedCount,canceledCount:e.canceledCount}:null,base:{traceId:t.traceId,stepId:t.stepId,anchorStepName:i??null},rows:a,causalRanking:t.causalRanking}}function aA({job:e,matrix:t,safeExport:n,anchorStepName:r}){const i=[],a=new Date().toISOString();return i.push("# Counterfactual Replay Matrix"),i.push(""),i.push(`Generated: ${a}`),i.push(`Safe export: ${n?"on":"off"}`),i.push(""),i.push("## Base trace"),i.push(`- Trace: ${t.traceId}`),i.push(`- Anchor step: ${r??t.stepId}`),i.push(""),e&&(i.push("## Job status"),i.push(`- Job: ${e.id}`),i.push(`- Status: ${e.status}`),i.push(`- Scenarios: ${e.scenarioCount} (completed ${e.completedCount}, failed ${e.failedCount}, canceled ${e.canceledCount})`),i.push("")),i.push("## Scenario outcomes"),i.push("| Scenario | Status | Wall  (ms) | Cost  (USD) | Errors  | Changed |"),i.push("| --- | --- | --- | --- | --- | --- |"),t.rows.forEach(s=>{i.push(`| ${s.name} | ${s.status} | ${jy(s.metrics.wallTimeDeltaMs)} | ${nA(s.metrics.costDeltaUsd)} | ${jy(s.metrics.errorDelta)} | ${s.metrics.changedSteps} |`)}),i.push(""),i.push("## Causal ranking"),t.causalRanking.length?t.causalRanking.slice(0,10).forEach(s=>{i.push(`- ${s.factor}: score ${s.score.toFixed(3)}, confidence ${(s.confidence*100).toFixed(0)}% (samples ${s.evidence.samples})`)}):i.push("- No causal ranking available."),i.push(""),i.push("## Redaction"),i.push(`Safe export: ${n?"enabled":"disabled"}.`),i.push(""),i.join(`
`)}const Ry=["recorded","live","hybrid"],gs=25,qi=[{id:"prompt-tighten",label:"Prompt tighten",description:"Shorten or focus the assistant response",name:"Prompt tighter",strategy:"hybrid",modifications:{prompt:"Return concise response"}},{id:"tool-timeout",label:"Tool timeout",description:"Extend tool timeout for flaky calls",name:"Tool timeout 45s",strategy:"live",modifications:{toolTimeoutMs:45e3}},{id:"recorded-baseline",label:"Recorded baseline",description:"Pure recorded replay for determinism",name:"Recorded baseline",strategy:"recorded",modifications:{}}];function Ny(e){return e??Number.POSITIVE_INFINITY}function Ay(){return`scenario-${Math.random().toString(36).slice(2,9)}`}function sA(e){const t=e.trim();if(!t)return{value:{}};try{const n=JSON.parse(t);return tA(n)?{value:n}:{error:"Modifications must be a JSON object."}}catch{return{error:"Modifications must be valid JSON."}}}function oA(e,t){const n=t.get(e);return n?n.name:e}function lA({steps:e,anchorStepId:t,onAnchorStepChange:n,scenarios:r,onScenarioChange:i,onAddScenario:a,onRemoveScenario:s,onReplaceScenarios:o,onRun:l,onCancel:u,loading:c,error:d,job:f,matrix:p,safeExport:g,onOpenCompare:m}){var ot,Rr;const[w,v]=_.useState("wallTimeDeltaMs"),[y,x]=_.useState(!0),[b,S]=_.useState(null),[E,T]=_.useState(((ot=qi[0])==null?void 0:ot.id)??""),[C,j]=_.useState(null),M=_.useRef(null),I=_.useMemo(()=>new Map(e.map(R=>[R.id,R])),[e]),U=_.useMemo(()=>{const R=r.map((D,Y)=>D.name.trim()||`Scenario ${Y+1}`),H=new Map;return R.forEach(D=>{const Y=D.toLowerCase();H.set(Y,(H.get(Y)??0)+1)}),r.map((D,Y)=>{const V=R[Y],we=V.toLowerCase(),ae=sA(D.modificationsText),ve=[];ae.error&&ve.push(ae.error),(H.get(we)??0)>1&&ve.push(`Duplicate scenario name: ${V}`);const gt=ae.value??{},Ce=ae.value?eA(ae.value):[];return{id:D.id,name:V,parsedModifications:gt,errors:ve,sensitiveKeys:Ce}})},[r]),ee=U.reduce((R,H)=>R+H.errors.length,0),G=r.length>gs?`Scenario limit exceeded (${r.length}/${gs}).`:null,ie=ee>0||!!G,_e=G||(ee>0?"Fix scenario errors before running.":null),re=!c&&r.length>0&&!ie,P=_.useMemo(()=>{const H=[...(p==null?void 0:p.rows)??[]];return H.sort((D,Y)=>{if(w==="name")return y?D.name.localeCompare(Y.name):Y.name.localeCompare(D.name);if(w==="changedSteps"){const ae=D.metrics.changedSteps,ve=Y.metrics.changedSteps;return y?ae-ve:ve-ae}const V=Ny(D.metrics[w]),we=Ny(Y.metrics[w]);return y?V-we:we-V}),H},[p==null?void 0:p.rows,w,y]),O=R=>{if(R===w){x(H=>!H);return}v(R),x(!0)},q=U.map((R,H)=>{var D;return{name:R.name,strategy:((D=r[H])==null?void 0:D.strategy)??"hybrid",modifications:R.parsedModifications}}),B=()=>{re&&l(q)},Q=()=>{const R=qi.find(H=>H.id===E)??qi[0];R&&o([...r,{id:Ay(),name:R.name,strategy:R.strategy,modificationsText:JSON.stringify(R.modifications,null,2)}])},Ne=()=>{const R={version:1,anchorStepId:t,scenarios:r.map(H=>({name:H.name,strategy:H.strategy,modificationsText:H.modificationsText}))};Py(`agent-director-scenarios-${t||"matrix"}.json`,R)},$e=async R=>{var D;const H=(D=R.target.files)==null?void 0:D[0];if(H){R.target.value="";try{const Y=await H.text(),V=JSON.parse(Y),we=Array.isArray(V.scenarios)?V.scenarios:Array.isArray(V)?V:null;if(!we||we.length===0){j("Scenario file must include a scenarios array.");return}if(we.length>gs){j(`Scenario file exceeds ${gs} scenarios.`);return}const ae=we.map((ve,gt)=>{if(!ve||typeof ve!="object")throw new Error("Scenario entries must be objects.");const Ce=ve,Ae=String(Ce.name??`Scenario ${gt+1}`),Rt=String(Ce.strategy??"hybrid"),en=Ry.includes(Rt)?Rt:"hybrid",Nr=typeof Ce.modificationsText=="string"?Ce.modificationsText:JSON.stringify(Ce.modifications??{},null,2);return{id:Ay(),name:Ae,strategy:en,modificationsText:Nr}});typeof V.anchorStepId=="string"&&I.has(V.anchorStepId)&&n(V.anchorStepId),o(ae),j(null)}catch(Y){j(Y instanceof Error?Y.message:"Failed to import scenario file.")}}},et=_.useMemo(()=>{const R=U.flatMap(H=>H.sensitiveKeys);return Array.from(new Set(R))},[U]),De=()=>{var D;if(!p)return;const R=((D=I.get(t))==null?void 0:D.name)??null,H=iA({job:f,matrix:p,safeExport:g,sensitiveKeys:et,anchorStepName:R});Py(`agent-director-matrix-${p.jobId}.json`,H)},Ye=()=>{var D;if(!p)return;const R=((D=I.get(t))==null?void 0:D.name)??null,H=aA({job:f,matrix:p,safeExport:g,anchorStepName:R});ZN(`agent-director-matrix-${p.jobId}.md`,H,"text/markdown")},er=(f==null?void 0:f.status)==="queued"||(f==null?void 0:f.status)==="running",xe=b?((p==null?void 0:p.rows)??[]).find(R=>R.scenarioId===b)??null:null,Ti=xe?g?CT(xe.modifications):xe.modifications:null;return h.jsxs("section",{className:"matrix-mode","data-help":!0,"data-help-title":"Matrix mode","data-help-body":"Run multiple replay scenarios from one anchor and compare outcome deltas with causal ranking.","data-help-placement":"top",children:[h.jsxs("div",{className:"matrix-panel",children:[h.jsxs("div",{className:"matrix-panel-header",children:[h.jsx("h2",{children:"Counterfactual Replay Matrix"}),h.jsx("div",{className:"matrix-job-state",children:f?h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:`status-pill status-${f.status}`,children:["Job: ",f.status]}),h.jsxs("span",{children:[f.completedCount,"/",f.scenarioCount," completed"]}),f.failedCount?h.jsxs("span",{children:[f.failedCount," failed"]}):null,f.canceledCount?h.jsxs("span",{children:[f.canceledCount," canceled"]}):null]}):h.jsx("span",{children:"No job yet"})})]}),h.jsxs("div",{className:"matrix-controls",children:[h.jsxs("label",{children:["Anchor step",h.jsx("select",{value:t,onChange:R=>n(R.target.value),children:e.map(R=>h.jsxs("option",{value:R.id,children:[R.name," (",R.id,")"]},R.id))})]}),h.jsxs("label",{children:["Preset",h.jsx("select",{value:E,onChange:R=>T(R.target.value),"data-help":!0,"data-help-title":"Scenario presets","data-help-body":"Insert common experiments like prompt tweaks or recorded baselines.","data-help-placement":"bottom",children:qi.map(R=>h.jsx("option",{value:R.id,children:R.label},R.id))})]}),h.jsx("button",{type:"button",className:"ghost-button",onClick:Q,disabled:c,"data-help":!0,"data-help-title":"Add preset","data-help-body":"Append the selected preset as a new scenario.","data-help-placement":"bottom",children:"Add preset"}),h.jsxs("div",{className:"matrix-actions",children:[h.jsx("button",{type:"button",className:"primary-button",onClick:B,disabled:!re,"data-help":!0,"data-help-title":"Run matrix","data-help-body":"Execute all scenarios sequentially and gather outcome deltas.","data-help-placement":"bottom",children:c?"Running...":"Run matrix"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:a,disabled:c,children:"Add scenario"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:u,disabled:!er||c,children:"Cancel job"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:Ne,"data-help":!0,"data-help-title":"Export scenarios","data-help-body":"Download the scenario set as JSON for reuse.","data-help-placement":"bottom",children:"Export scenarios"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>{var R;return(R=M.current)==null?void 0:R.click()},"data-help":!0,"data-help-title":"Import scenarios","data-help-body":"Load a scenario JSON file to repopulate the builder.","data-help-placement":"bottom",children:"Import scenarios"}),h.jsx("input",{ref:M,type:"file",accept:"application/json",onChange:$e,className:"matrix-file-input"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:De,disabled:!p,"data-help":!0,"data-help-title":"Export matrix","data-help-body":"Download the full matrix JSON with redaction metadata.","data-help-placement":"bottom",children:"Export matrix"}),h.jsx("button",{type:"button",className:"ghost-button",onClick:Ye,disabled:!p,"data-help":!0,"data-help-title":"Export summary","data-help-body":"Download a markdown summary for sharing.","data-help-placement":"bottom",children:"Export summary"})]})]}),h.jsx("div",{className:"matrix-presets",children:qi.map(R=>h.jsxs("div",{className:"matrix-preset",children:[h.jsx("strong",{children:R.label}),h.jsx("span",{children:R.description})]},R.id))}),h.jsx("div",{className:"matrix-scenarios",children:r.map((R,H)=>{const D=U[H];return h.jsxs("article",{className:"matrix-scenario",children:[h.jsxs("div",{className:"matrix-scenario-head",children:[h.jsx("input",{value:R.name,onChange:Y=>i(R.id,{name:Y.target.value}),placeholder:"Scenario name"}),h.jsx("select",{value:R.strategy,onChange:Y=>i(R.id,{strategy:Y.target.value}),children:Ry.map(Y=>h.jsx("option",{value:Y,children:Y},Y))})]}),h.jsx("textarea",{value:R.modificationsText,onChange:Y=>i(R.id,{modificationsText:Y.target.value}),rows:3,spellCheck:!1,"aria-label":`Scenario ${R.name} modifications`}),D!=null&&D.errors.length?h.jsx("div",{className:"matrix-scenario-error",children:D.errors.map(Y=>h.jsx("div",{children:Y},Y))}):null,D!=null&&D.sensitiveKeys.length?h.jsxs("div",{className:"matrix-scenario-warning",children:["Sensitive keys: ",D.sensitiveKeys.join(", ")]}):null,h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>s(R.id),disabled:r.length<=1,children:"Remove"})]},R.id)})}),_e?h.jsx("div",{className:"error-banner",children:_e}):null,C?h.jsx("div",{className:"error-banner",children:C}):null,d?h.jsx("div",{className:"error-banner",children:d}):null]}),h.jsxs("div",{className:"matrix-results",children:[h.jsx("div",{className:"matrix-table-wrap",children:h.jsxs("table",{className:"matrix-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>O("name"),children:"Scenario"})}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>O("wallTimeDeltaMs"),children:"Wall  (ms)"})}),h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>O("costDeltaUsd"),children:"Cost  (USD)"})}),h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>O("errorDelta"),children:"Errors "})}),h.jsx("th",{children:h.jsx("button",{type:"button",className:"table-sort",onClick:()=>O("changedSteps"),children:"Changed"})}),h.jsx("th",{children:"Details"}),h.jsx("th",{children:"Compare"})]})}),h.jsx("tbody",{children:P.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:8,children:"No matrix results yet. Run a job to populate this table."})}):P.map(R=>h.jsxs("tr",{children:[h.jsx("td",{children:R.name}),h.jsx("td",{title:R.error??void 0,children:R.status}),h.jsx("td",{children:R.metrics.wallTimeDeltaMs??"n/a"}),h.jsx("td",{children:R.metrics.costDeltaUsd??"n/a"}),h.jsx("td",{children:R.metrics.errorDelta??"n/a"}),h.jsx("td",{children:R.metrics.changedSteps}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>S(R.scenarioId),children:"Details"})}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"ghost-button",disabled:!R.replayTraceId,onClick:()=>R.replayTraceId&&m(R.replayTraceId),children:"Open"})})]},R.scenarioId))})]})}),h.jsxs("aside",{className:"matrix-causal",children:[h.jsx("h3",{children:"Causal ranking"}),(Rr=p==null?void 0:p.causalRanking)!=null&&Rr.length?h.jsx("ul",{children:p.causalRanking.slice(0,8).map(R=>h.jsxs("li",{children:[h.jsxs("div",{className:"factor-row",children:[h.jsx("strong",{children:R.factor}),h.jsxs("span",{children:["score ",R.score.toFixed(3)]})]}),h.jsxs("div",{className:"factor-meta",children:["confidence ",(R.confidence*100).toFixed(0),"%  samples ",R.evidence.samples]}),R.evidence.examples.length?h.jsx("div",{className:"factor-chips",children:R.evidence.examples.map(H=>h.jsx("span",{className:"factor-chip",children:H},H))}):null]},R.factor))}):h.jsx("p",{children:"No causal ranking yet."})]}),xe?h.jsxs("aside",{className:"matrix-detail",role:"dialog","aria-label":"Scenario details",children:[h.jsxs("div",{className:"matrix-detail-header",children:[h.jsxs("div",{children:[h.jsx("h3",{children:"Scenario details"}),h.jsxs("p",{className:"matrix-detail-subtitle",children:[xe.name,"  ",xe.status]})]}),h.jsx("button",{type:"button",className:"ghost-button",onClick:()=>S(null),children:"Close"})]}),h.jsxs("div",{className:"matrix-detail-grid",children:[h.jsxs("div",{className:"matrix-detail-block",children:[h.jsx("h4",{children:"Modifications"}),g?h.jsx("p",{className:"matrix-detail-note",children:"Safe export enabled: sensitive keys are redacted."}):null,h.jsx("pre",{children:JSON.stringify(Ti??{},null,2)})]}),h.jsxs("div",{className:"matrix-detail-block",children:[h.jsx("h4",{children:"Change summary"}),h.jsxs("div",{className:"matrix-detail-metrics",children:[h.jsxs("span",{children:["Changed: ",xe.metrics.changedSteps]}),h.jsxs("span",{children:["Added: ",xe.metrics.addedSteps]}),h.jsxs("span",{children:["Removed: ",xe.metrics.removedSteps]}),h.jsxs("span",{children:["Invalidated: ",xe.metrics.invalidatedStepCount]})]}),h.jsxs("div",{className:"matrix-detail-steps",children:[h.jsx("strong",{children:"Top changed steps"}),h.jsx("div",{className:"matrix-step-chips",children:xe.changedStepIds.length?xe.changedStepIds.slice(0,6).map(R=>h.jsx("span",{className:"matrix-step-chip",title:R,children:oA(R,I)},R)):h.jsx("span",{className:"matrix-step-chip",children:"None"})}),xe.changedStepIds.length>6?h.jsxs("div",{className:"matrix-step-more",children:["+",xe.changedStepIds.length-6," more steps changed"]}):null]}),xe.error?h.jsx("div",{className:"matrix-detail-error",children:xe.error}):null]})]})]}):null]})]})}const TT=_.createContext({});function uA(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const iv=_.createContext(null),ET=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function cA(e=!0){const t=_.useContext(iv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=_.useId();_.useEffect(()=>{e&&i(a)},[e]);const s=_.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const av=typeof window<"u",dA=av?_.useLayoutEffect:_.useEffect,ft=e=>e;let kT=ft;function sv(e){let t;return()=>(t===void 0&&(t=e()),t)}const fi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},dn=e=>e*1e3,fn=e=>e/1e3,fA={useManualTiming:!1};function hA(e){let t=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){a.has(u)&&(l.schedule(u),e()),u(s)}const l={schedule:(u,c=!1,d=!1)=>{const p=d&&r?t:n;return c&&a.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(s=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const ys=["read","resolveKeyframes","update","preRender","render","postRender"],pA=40;function PT(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=ys.reduce((v,y)=>(v[y]=hA(a),v),{}),{read:o,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:f}=s,p=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,pA),1),i.timestamp=v,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(p))},g=()=>{n=!0,r=!0,i.isProcessing||e(p)};return{schedule:ys.reduce((v,y)=>{const x=s[y];return v[y]=(b,S=!1,E=!1)=>(n||g(),x.schedule(b,S,E)),v},{}),cancel:v=>{for(let y=0;y<ys.length;y++)s[ys[y]].cancel(v)},state:i,steps:s}}const{schedule:ue,cancel:Hn,state:Fe,steps:$l}=PT(typeof requestAnimationFrame<"u"?requestAnimationFrame:ft,!0),jT=_.createContext({strict:!1}),My={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hi={};for(const e in My)hi[e]={isEnabled:t=>My[e].some(n=>!!t[n])};function mA(e){for(const t in e)hi[t]={...hi[t],...e[t]}}const vA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vA.has(e)}let RT=e=>!lo(e);function gA(e){e&&(RT=t=>t.startsWith("on")?!lo(t):e(t))}try{gA(require("@emotion/is-prop-valid").default)}catch{}function yA(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(RT(i)||n===!0&&lo(i)||!t&&!lo(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function xA(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Oo=_.createContext({});function ja(e){return typeof e=="string"||Array.isArray(e)}function qo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lv=["initial",...ov];function Fo(e){return qo(e.animate)||lv.some(t=>ja(e[t]))}function NT(e){return!!(Fo(e)||e.variants)}function wA(e,t){if(Fo(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ja(n)?n:void 0,animate:ja(r)?r:void 0}}return e.inherit!==!1?t:{}}function bA(e){const{initial:t,animate:n}=wA(e,_.useContext(Oo));return _.useMemo(()=>({initial:t,animate:n}),[Iy(t),Iy(n)])}function Iy(e){return Array.isArray(e)?e.join(" "):e}const SA=Symbol.for("motionComponentSymbol");function Wr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _A(e,t,n){return _.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Wr(n)&&(n.current=r))},[t])}const uv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CA="framerAppearId",AT="data-"+uv(CA),{schedule:cv}=PT(queueMicrotask,!1),MT=_.createContext({});function TA(e,t,n,r,i){var a,s;const{visualElement:o}=_.useContext(Oo),l=_.useContext(jT),u=_.useContext(iv),c=_.useContext(ET).reducedMotion,d=_.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=_.useContext(MT);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&EA(d.current,n,i,p);const g=_.useRef(!1);_.useInsertionEffect(()=>{f&&g.current&&f.update(n,u)});const m=n[AT],w=_.useRef(!!m&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,m))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return dA(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),cv.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,m)}),w.current=!1))}),f}function EA(e,t,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:IT(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&Wr(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function IT(e){if(e)return e.options.allowProjection!==!1?e.projection:IT(e.parent)}function kA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var a,s;e&&mA(e);function o(u,c){let d;const f={..._.useContext(ET),...u,layoutId:PA(u)},{isStatic:p}=f,g=bA(u),m=r(u,p);if(!p&&av){jA();const w=RA(f);d=w.MeasureLayout,g.visualElement=TA(i,m,f,t,w.ProjectionNode)}return h.jsxs(Oo.Provider,{value:g,children:[d&&g.visualElement?h.jsx(d,{visualElement:g.visualElement,...f}):null,n(i,u,_A(m,g.visualElement,c),m,p,g.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(s=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&s!==void 0?s:""})`}`;const l=_.forwardRef(o);return l[SA]=i,l}function PA({layoutId:e}){const t=_.useContext(TT).id;return t&&e!==void 0?t+"-"+e:e}function jA(e,t){_.useContext(jT).strict}function RA(e){const{drag:t,layout:n}=hi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const NA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dv(e){return typeof e!="string"||e.includes("-")?!1:!!(NA.indexOf(e)>-1||/[A-Z]/u.test(e))}function Dy(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function fv(e,t,n,r){if(typeof t=="function"){const[i,a]=Dy(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Dy(r);t=t(n!==void 0?n:e.custom,i,a)}return t}const Up=e=>Array.isArray(e),AA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),MA=e=>Up(e)?e[e.length-1]||0:e,Ke=e=>!!(e&&e.getVelocity);function Ds(e){const t=Ke(e)?e.get():e;return AA(t)?t.toValue():t}function IA({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,a){const s={latestValues:DA(r,i,a,e),renderState:t()};return n&&(s.onMount=o=>n({props:r,current:o,...s}),s.onUpdate=o=>n(o)),s}const DT=e=>(t,n)=>{const r=_.useContext(Oo),i=_.useContext(iv),a=()=>IA(e,t,r,i);return n?a():uA(a)};function DA(e,t,n,r){const i={},a=r(e,{});for(const f in a)i[f]=Ds(a[f]);let{initial:s,animate:o}=e;const l=Fo(e),u=NT(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const d=c?o:s;if(d&&typeof d!="boolean"&&!qo(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=fv(e,f[p]);if(g){const{transitionEnd:m,transition:w,...v}=g;for(const y in v){let x=v[y];if(Array.isArray(x)){const b=c?x.length-1:0;x=x[b]}x!==null&&(i[y]=x)}for(const y in m)i[y]=m[y]}}}return i}const yi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cr=new Set(yi),LT=e=>t=>typeof t=="string"&&t.startsWith(e),OT=LT("--"),LA=LT("var(--"),hv=e=>LA(e)?OA.test(e.split("/*")[0].trim()):!1,OA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,gn=(e,t,n)=>n>t?t:n<e?e:n,xi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ra={...xi,transform:e=>gn(0,1,e)},xs={...xi,default:1},Fa=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kn=Fa("deg"),Xt=Fa("%"),F=Fa("px"),qA=Fa("vh"),FA=Fa("vw"),Ly={...Xt,parse:e=>Xt.parse(e)/100,transform:e=>Xt.transform(e*100)},VA={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,backgroundPositionX:F,backgroundPositionY:F},BA={rotate:kn,rotateX:kn,rotateY:kn,rotateZ:kn,scale:xs,scaleX:xs,scaleY:xs,scaleZ:xs,skew:kn,skewX:kn,skewY:kn,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:Ra,originX:Ly,originY:Ly,originZ:F},Oy={...xi,transform:Math.round},pv={...VA,...BA,zIndex:Oy,size:F,fillOpacity:Ra,strokeOpacity:Ra,numOctaves:Oy},$A={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UA=yi.length;function zA(e,t,n){let r="",i=!0;for(let a=0;a<UA;a++){const s=yi[a],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=qT(o,pv[s]);if(!l){i=!1;const c=$A[s]||s;r+=`${c}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function mv(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const u=t[l];if(Cr.has(l)){s=!0;continue}else if(OT(l)){i[l]=u;continue}else{const c=qT(u,pv[l]);l.startsWith("origin")?(o=!0,a[l]=c):r[l]=c}}if(t.transform||(s||n?r.transform=zA(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=a;r.transformOrigin=`${l} ${u} ${c}`}}const GA={offset:"stroke-dashoffset",array:"stroke-dasharray"},HA={offset:"strokeDashoffset",array:"strokeDasharray"};function KA(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?GA:HA;e[a.offset]=F.transform(-r);const s=F.transform(t),o=F.transform(n);e[a.array]=`${s} ${o}`}function qy(e,t,n){return typeof e=="string"?e:F.transform(t+n*e)}function WA(e,t,n){const r=qy(t,e.x,e.width),i=qy(n,e.y,e.height);return`${r} ${i}`}function vv(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},c,d){if(mv(e,u,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:g}=e;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=WA(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&KA(f,s,o,l,!1)}const gv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),FT=()=>({...gv(),attrs:{}}),yv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function VT(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const BT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $T(e,t,n,r){VT(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(BT.has(i)?i:uv(i),t.attrs[i])}const uo={};function YA(e){Object.assign(uo,e)}function UT(e,{layout:t,layoutId:n}){return Cr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!uo[e]||e==="opacity")}function xv(e,t,n){var r;const{style:i}=e,a={};for(const s in i)(Ke(i[s])||t.style&&Ke(t.style[s])||UT(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[s]=i[s]);return a}function zT(e,t,n){const r=xv(e,t,n);for(const i in e)if(Ke(e[i])||Ke(t[i])){const a=yi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}function QA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Fy=["x","y","width","height","cx","cy","r"],XA={useVisualState:DT({scrapeMotionValuesFromProps:zT,createRenderState:FT,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!e.drag;if(!a){for(const o in i)if(Cr.has(o)){a=!0;break}}if(!a)return;let s=!t;if(t)for(let o=0;o<Fy.length;o++){const l=Fy[o];e[l]!==t[l]&&(s=!0)}s&&ue.read(()=>{QA(n,r),ue.render(()=>{vv(r,i,yv(n.tagName),e.transformTemplate),$T(n,r)})})}})},JA={useVisualState:DT({scrapeMotionValuesFromProps:xv,createRenderState:gv})};function GT(e,t,n){for(const r in t)!Ke(t[r])&&!UT(r,n)&&(e[r]=t[r])}function ZA({transformTemplate:e},t){return _.useMemo(()=>{const n=gv();return mv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function eM(e,t){const n=e.style||{},r={};return GT(r,n,e),Object.assign(r,ZA(e,t)),r}function tM(e,t){const n={},r=eM(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function nM(e,t,n,r){const i=_.useMemo(()=>{const a=FT();return vv(a,t,yv(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};GT(a,e.style,e),i.style={...a,...i.style}}return i}function rM(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(dv(n)?nM:tM)(r,a,s,n),u=yA(r,typeof n=="string",e),c=n!==_.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=_.useMemo(()=>Ke(d)?d.get():d,[d]);return _.createElement(n,{...c,children:f})}}function iM(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...dv(r)?XA:JA,preloadedFeatures:e,useRender:rM(i),createVisualElement:t,Component:r};return kA(s)}}function HT(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Vo(e,t,n){const r=e.getProps();return fv(r,t,n!==void 0?n:r.custom,e)}const aM=sv(()=>window.ScrollTimeline!==void 0);class sM{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(aM()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class oM extends sM{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function wv(e,t){return e?e[t]||e.default||e:void 0}const zp=2e4;function KT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<zp;)t+=n,r=e.next(t);return t>=zp?1/0:t}function bv(e){return typeof e=="function"}function Vy(e,t){e.timeline=t,e.onfinish=null}const Sv=e=>Array.isArray(e)&&typeof e[0]=="number",lM={linearEasing:void 0};function uM(e,t){const n=sv(e);return()=>{var r;return(r=lM[t])!==null&&r!==void 0?r:n()}}const co=uM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),WT=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=e(fi(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function YT(e){return!!(typeof e=="function"&&co()||!e||typeof e=="string"&&(e in Gp||co())||Sv(e)||Array.isArray(e)&&e.every(YT))}const zi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Gp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zi([0,.65,.55,1]),circOut:zi([.55,0,1,.45]),backIn:zi([.31,.01,.66,-.59]),backOut:zi([.33,1.53,.69,.99])};function QT(e,t){if(e)return typeof e=="function"&&co()?WT(e,t):Sv(e)?zi(e):Array.isArray(e)?e.map(n=>QT(n,t)||Gp.easeOut):Gp[e]}const It={x:!1,y:!1};function XT(){return It.x||It.y}function cM(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function JT(e,t){const n=cM(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function By(e){return t=>{t.pointerType==="touch"||XT()||e(t)}}function dM(e,t,n={}){const[r,i,a]=JT(e,n),s=By(o=>{const{target:l}=o,u=t(o);if(typeof u!="function"||!l)return;const c=By(d=>{u(d),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return r.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const ZT=(e,t)=>t?e===t?!0:ZT(e,t.parentElement):!1,_v=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hM(e){return fM.has(e.tagName)||e.tabIndex!==-1}const Gi=new WeakSet;function $y(e){return t=>{t.key==="Enter"&&e(t)}}function Ul(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pM=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=$y(()=>{if(Gi.has(n))return;Ul(n,"down");const i=$y(()=>{Ul(n,"up")}),a=()=>Ul(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Uy(e){return _v(e)&&!XT()}function mM(e,t,n={}){const[r,i,a]=JT(e,n),s=o=>{const l=o.currentTarget;if(!Uy(o)||Gi.has(l))return;Gi.add(l);const u=t(o),c=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!Uy(p)||!Gi.has(l))&&(Gi.delete(l),typeof u=="function"&&u(p,{success:g}))},d=p=>{c(p,n.useGlobalTarget||ZT(l,p.target))},f=p=>{c(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{!hM(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),o.addEventListener("focus",u=>pM(u,i),i)}),a}function vM(e){return e==="x"||e==="y"?It[e]?null:(It[e]=!0,()=>{It[e]=!1}):It.x||It.y?null:(It.x=It.y=!0,()=>{It.x=It.y=!1})}const eE=new Set(["width","height","top","left","right","bottom",...yi]);let Ls;function gM(){Ls=void 0}const Jt={now:()=>(Ls===void 0&&Jt.set(Fe.isProcessing||fA.useManualTiming?Fe.timestamp:performance.now()),Ls),set:e=>{Ls=e,queueMicrotask(gM)}};function Cv(e,t){e.indexOf(t)===-1&&e.push(t)}function Tv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ev{constructor(){this.subscriptions=[]}add(t){return Cv(this.subscriptions,t),()=>Tv(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tE(e,t){return t?e*(1e3/t):0}const zy=30,yM=e=>!isNaN(parseFloat(e));class xM{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Jt.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Jt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ev);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zy);return tE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Na(e,t){return new xM(e,t)}function wM(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Na(n))}function bM(e,t){const n=Vo(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=MA(a[s]);wM(e,s,o)}}function SM(e){return!!(Ke(e)&&e.add)}function Hp(e,t){const n=e.getValue("willChange");if(SM(n))return n.add(t)}function nE(e){return e.props[AT]}const rE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_M=1e-7,CM=12;function TM(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=rE(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>_M&&++o<CM);return s}function Va(e,t,n,r){if(e===t&&n===r)return ft;const i=a=>TM(a,0,1,e,n);return a=>a===0||a===1?a:rE(i(a),t,r)}const iE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,aE=e=>t=>1-e(1-t),sE=Va(.33,1.53,.69,.99),kv=aE(sE),oE=iE(kv),lE=e=>(e*=2)<1?.5*kv(e):.5*(2-Math.pow(2,-10*(e-1))),Pv=e=>1-Math.sin(Math.acos(e)),uE=aE(Pv),cE=iE(Pv),dE=e=>/^0[^.\s]+$/u.test(e);function EM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dE(e):!0}const la=e=>Math.round(e*1e5)/1e5,jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kM(e){return e==null}const PM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rv=(e,t)=>n=>!!(typeof n=="string"&&PM.test(n)&&n.startsWith(e)||t&&!kM(n)&&Object.prototype.hasOwnProperty.call(n,t)),fE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(jv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},jM=e=>gn(0,255,e),zl={...xi,transform:e=>Math.round(jM(e))},dr={test:Rv("rgb","red"),parse:fE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+zl.transform(e)+", "+zl.transform(t)+", "+zl.transform(n)+", "+la(Ra.transform(r))+")"};function RM(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Kp={test:Rv("#"),parse:RM,transform:dr.transform},Yr={test:Rv("hsl","hue"),parse:fE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Xt.transform(la(t))+", "+Xt.transform(la(n))+", "+la(Ra.transform(r))+")"},Ge={test:e=>dr.test(e)||Kp.test(e)||Yr.test(e),parse:e=>dr.test(e)?dr.parse(e):Yr.test(e)?Yr.parse(e):Kp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?dr.transform(e):Yr.transform(e)},NM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AM(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(NM))===null||n===void 0?void 0:n.length)||0)>0}const hE="number",pE="color",MM="var",IM="var(",Gy="${}",DM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Aa(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(DM,l=>(Ge.test(l)?(r.color.push(a),i.push(pE),n.push(Ge.parse(l))):l.startsWith(IM)?(r.var.push(a),i.push(MM),n.push(l)):(r.number.push(a),i.push(hE),n.push(parseFloat(l))),++a,Gy)).split(Gy);return{values:n,split:o,indexes:r,types:i}}function mE(e){return Aa(e).values}function vE(e){const{split:t,types:n}=Aa(e),r=t.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],i[s]!==void 0){const o=n[s];o===hE?a+=la(i[s]):o===pE?a+=Ge.transform(i[s]):a+=i[s]}return a}}const LM=e=>typeof e=="number"?0:e;function OM(e){const t=mE(e);return vE(e)(t.map(LM))}const Kn={test:AM,parse:mE,createTransformer:vE,getAnimatableNone:OM},qM=new Set(["brightness","contrast","saturate","opacity"]);function FM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(jv)||[];if(!r)return e;const i=n.replace(r,"");let a=qM.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const VM=/\b([a-z-]*)\(.*?\)/gu,Wp={...Kn,getAnimatableNone:e=>{const t=e.match(VM);return t?t.map(FM).join(" "):e}},BM={...pv,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:Wp,WebkitFilter:Wp},Nv=e=>BM[e];function gE(e,t){let n=Nv(e);return n!==Wp&&(n=Kn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $M=new Set(["auto","none","0"]);function UM(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!$M.has(a)&&Aa(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=gE(n,i)}const Hy=e=>e===xi||e===F,Ky=(e,t)=>parseFloat(e.split(", ")[t]),Wy=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Ky(i[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?Ky(a[1],e):0}},zM=new Set(["x","y","z"]),GM=yi.filter(e=>!zM.has(e));function HM(e){const t=[];return GM.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const pi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Wy(4,13),y:Wy(5,14)};pi.translateX=pi.x;pi.translateY=pi.y;const mr=new Set;let Yp=!1,Qp=!1;function yE(){if(Qp){const e=Array.from(mr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=HM(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))===null||o===void 0||o.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qp=!1,Yp=!1,mr.forEach(e=>e.complete()),mr.clear()}function xE(){mr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qp=!0)})}function KM(){xE(),yE()}class Av{constructor(t,n,r,i,a,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(mr.add(this),Yp||(Yp=!0,ue.read(xE),ue.resolveKeyframes(yE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),mr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,mr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),WM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YM(e){const t=WM.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function bE(e,t,n=1){const[r,i]=YM(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return wE(s)?parseFloat(s):s}return hv(i)?bE(i,t,n+1):i}const SE=e=>t=>t.test(e),QM={test:e=>e==="auto",parse:e=>e},_E=[xi,F,Xt,kn,FA,qA,QM],Yy=e=>_E.find(SE(e));class CE extends Av{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),hv(u))){const c=bE(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!eE.has(r)||t.length!==2)return;const[i,a]=t,s=Yy(i),o=Yy(a);if(s!==o)if(Hy(s)&&Hy(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)EM(t[i])&&r.push(i);r.length&&UM(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=pi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const Qy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kn.test(e)||e==="0")&&!e.startsWith("url("));function XM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function JM(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=Qy(i,t),o=Qy(a,t);return!s||!o?!1:XM(e)||(n==="spring"||bv(n))&&r}const ZM=e=>e!==null;function Bo(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(ZM),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const eI=40;class TE{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jt.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>eI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KM(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Jt.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:s,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!JM(t,r,i,a))if(s)this.options.duration=0;else{l&&l(Bo(t,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const he=(e,t,n)=>e+(t-e)*n;function Gl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tI({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Gl(l,o,e+1/3),a=Gl(l,o,e),s=Gl(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function fo(e,t){return n=>n>0?t:e}const Hl=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},nI=[Kp,dr,Yr],rI=e=>nI.find(t=>t.test(e));function Xy(e){const t=rI(e);if(!t)return!1;let n=t.parse(e);return t===Yr&&(n=tI(n)),n}const Jy=(e,t)=>{const n=Xy(e),r=Xy(t);if(!n||!r)return fo(e,t);const i={...n};return a=>(i.red=Hl(n.red,r.red,a),i.green=Hl(n.green,r.green,a),i.blue=Hl(n.blue,r.blue,a),i.alpha=he(n.alpha,r.alpha,a),dr.transform(i))},iI=(e,t)=>n=>t(e(n)),Ba=(...e)=>e.reduce(iI),Xp=new Set(["none","hidden"]);function aI(e,t){return Xp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sI(e,t){return n=>he(e,t,n)}function Mv(e){return typeof e=="number"?sI:typeof e=="string"?hv(e)?fo:Ge.test(e)?Jy:uI:Array.isArray(e)?EE:typeof e=="object"?Ge.test(e)?Jy:oI:fo}function EE(e,t){const n=[...e],r=n.length,i=e.map((a,s)=>Mv(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function oI(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Mv(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function lI(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][i[s]],l=(n=e.values[o])!==null&&n!==void 0?n:0;r[a]=l,i[s]++}return r}const uI=(e,t)=>{const n=Kn.createTransformer(t),r=Aa(e),i=Aa(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Xp.has(e)&&!i.values.length||Xp.has(t)&&!r.values.length?aI(e,t):Ba(EE(lI(r,i),i.values),n):fo(e,t)};function kE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?he(e,t,n):Mv(e)(e,t)}const cI=5;function PE(e,t,n){const r=Math.max(t-cI,0);return tE(n-e(r),t-r)}const ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kl=.001;function dI({duration:e=ge.duration,bounce:t=ge.bounce,velocity:n=ge.velocity,mass:r=ge.mass}){let i,a,s=1-t;s=gn(ge.minDamping,ge.maxDamping,s),e=gn(ge.minDuration,ge.maxDuration,fn(e)),s<1?(i=u=>{const c=u*s,d=c*e,f=c-n,p=Jp(u,s),g=Math.exp(-d);return Kl-f/p*g},a=u=>{const d=u*s*e,f=d*n+n,p=Math.pow(s,2)*Math.pow(u,2)*e,g=Math.exp(-d),m=Jp(Math.pow(u,2),s);return(-i(u)+Kl>0?-1:1)*((f-p)*g)/m}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-Kl+c*d},a=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const o=5/e,l=hI(i,a,o);if(e=dn(e),isNaN(l))return{stiffness:ge.stiffness,damping:ge.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const fI=12;function hI(e,t,n){let r=n;for(let i=1;i<fI;i++)r=r-e(r)/t(r);return r}function Jp(e,t){return e*Math.sqrt(1-t*t)}const pI=["duration","bounce"],mI=["stiffness","damping","mass"];function Zy(e,t){return t.some(n=>e[n]!==void 0)}function vI(e){let t={velocity:ge.velocity,stiffness:ge.stiffness,damping:ge.damping,mass:ge.mass,isResolvedFromDuration:!1,...e};if(!Zy(e,mI)&&Zy(e,pI))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*gn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ge.mass,stiffness:i,damping:a}}else{const n=dI(e);t={...t,...n,mass:ge.mass},t.isResolvedFromDuration=!0}return t}function jE(e=ge.visualDuration,t=ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=vI({...n,velocity:-fn(n.velocity||0)}),g=f||0,m=u/(2*Math.sqrt(l*c)),w=s-a,v=fn(Math.sqrt(l/c)),y=Math.abs(w)<5;r||(r=y?ge.restSpeed.granular:ge.restSpeed.default),i||(i=y?ge.restDelta.granular:ge.restDelta.default);let x;if(m<1){const S=Jp(v,m);x=E=>{const T=Math.exp(-m*v*E);return s-T*((g+m*v*w)/S*Math.sin(S*E)+w*Math.cos(S*E))}}else if(m===1)x=S=>s-Math.exp(-v*S)*(w+(g+v*w)*S);else{const S=v*Math.sqrt(m*m-1);x=E=>{const T=Math.exp(-m*v*E),C=Math.min(S*E,300);return s-T*((g+m*v*w)*Math.sinh(C)+S*w*Math.cosh(C))/S}}const b={calculatedDuration:p&&d||null,next:S=>{const E=x(S);if(p)o.done=S>=d;else{let T=0;m<1&&(T=S===0?dn(g):PE(x,S,E));const C=Math.abs(T)<=r,j=Math.abs(s-E)<=i;o.done=C&&j}return o.value=o.done?s:E,o},toString:()=>{const S=Math.min(KT(b),zp),E=WT(T=>b.next(S*T).value,S,30);return S+"ms "+E}};return b}function e0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},p=C=>o!==void 0&&C<o||l!==void 0&&C>l,g=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let m=n*t;const w=d+m,v=s===void 0?w:s(w);v!==w&&(m=v-d);const y=C=>-m*Math.exp(-C/r),x=C=>v+y(C),b=C=>{const j=y(C),M=x(C);f.done=Math.abs(j)<=u,f.value=f.done?v:M};let S,E;const T=C=>{p(f.value)&&(S=C,E=jE({keyframes:[f.value,g(f.value)],velocity:PE(x,C,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:C=>{let j=!1;return!E&&S===void 0&&(j=!0,b(C),T(C)),S!==void 0&&C>=S?E.next(C-S):(!j&&b(C),f)}}}const gI=Va(.42,0,1,1),yI=Va(0,0,.58,1),RE=Va(.42,0,.58,1),xI=e=>Array.isArray(e)&&typeof e[0]!="number",wI={linear:ft,easeIn:gI,easeInOut:RE,easeOut:yI,circIn:Pv,circInOut:cE,circOut:uE,backIn:kv,backInOut:oE,backOut:sE,anticipate:lE},t0=e=>{if(Sv(e)){kT(e.length===4);const[t,n,r,i]=e;return Va(t,n,r,i)}else if(typeof e=="string")return wI[e];return e};function bI(e,t,n){const r=[],i=n||kE,a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||ft:t;o=Ba(l,o)}r.push(o)}return r}function SI(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(kT(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=bI(t,r,i),l=o.length,u=c=>{if(s&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=fi(e[d],e[d+1],c);return o[d](f)};return n?c=>u(gn(e[0],e[a-1],c)):u}function _I(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=fi(0,t,r);e.push(he(n,1,i))}}function CI(e){const t=[0];return _I(t,e.length-1),t}function TI(e,t){return e.map(n=>n*t)}function EI(e,t){return e.map(()=>t||RE).splice(0,e.length-1)}function ho({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=xI(r)?r.map(t0):t0(r),a={done:!1,value:t[0]},s=TI(n&&n.length===t.length?n:CI(t),e),o=SI(s,t,{ease:Array.isArray(i)?i:EI(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}const kI=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ue.update(t,!0),stop:()=>Hn(t),now:()=>Fe.isProcessing?Fe.timestamp:Jt.now()}},PI={decay:e0,inertia:e0,tween:ho,keyframes:ho,spring:jE},jI=e=>e/100;class Iv extends TE{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,s=(i==null?void 0:i.KeyframeResolver)||Av,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(a,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=this.options,o=bv(n)?n:PI[n]||ho;let l,u;o!==ho&&typeof t[0]!="number"&&(l=Ba(jI,kE(t[0],t[1])),t=[0,100]);const c=o({...this.options,keyframes:t});a==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=KT(c));const{calculatedDuration:d}=c,f=d+i,p=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:m,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let x=this.currentTime,b=a;if(p){const C=Math.min(this.currentTime,c)/d;let j=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&j--,j=Math.min(j,p+1),!!(j%2)&&(g==="reverse"?(M=1-M,m&&(M-=m/d)):g==="mirror"&&(b=s)),x=gn(0,1,M)*d}const S=y?{done:!1,value:l[0]}:b.next(x);o&&(S.value=o(S.value));let{done:E}=S;!y&&u!==null&&(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&i!==void 0&&(S.value=Bo(l,this.options,i)),w&&w(S.value),T&&this.finish(),S}get duration(){const{resolved:t}=this;return t?fn(t.calculatedDuration):0}get time(){return fn(this.currentTime)}set time(t){t=dn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=fn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=kI,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const RI=new Set(["opacity","clipPath","filter","transform"]);function NI(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=QT(o,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const AI=sv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),po=10,MI=2e4;function II(e){return bv(e.type)||e.type==="spring"||!YT(e.ease)}function DI(e,t){const n=new Iv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<MI;)r=n.sample(a),i.push(r.value),a+=po;return{times:void 0,keyframes:i,duration:a-po,ease:"linear"}}const NE={anticipate:lE,backInOut:oE,circInOut:cE};function LI(e){return e in NE}class n0 extends TE{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new CE(a,(s,o)=>this.onKeyframesResolved(s,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:a,type:s,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&co()&&LI(a)&&(a=NE[a]),II(this.options)){const{onComplete:d,onUpdate:f,motionValue:p,element:g,...m}=this.options,w=DI(t,m);t=w.keyframes,t.length===1&&(t[1]=t[0]),r=w.duration,i=w.times,a=w.ease,s="keyframes"}const c=NI(o.owner.current,l,t,{...this.options,duration:r,times:i,ease:a});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(Vy(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;o.set(Bo(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:s,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return fn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return fn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=dn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ft;const{animation:r}=n;Vy(r,t)}return ft}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:a,ease:s,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:f,...p}=this.options,g=new Iv({...p,keyframes:r,duration:i,type:a,ease:s,times:o,isGenerator:!0}),m=dn(this.time);u.setWithVelocity(g.sample(m-po).value,g.sample(m).value,po)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:s,type:o}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return AI()&&r&&RI.has(r)&&!l&&!u&&!i&&a!=="mirror"&&s!==0&&o!=="inertia"}}const OI={type:"spring",stiffness:500,damping:25,restSpeed:10},qI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),FI={type:"keyframes",duration:.8},VI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BI=(e,{keyframes:t})=>t.length>2?FI:Cr.has(e)?e.startsWith("scale")?qI(t[1]):OI:VI;function $I({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Dv=(e,t,n,r={},i,a)=>s=>{const o=wv(r,e)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-dn(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};$I(o)||(c={...c,...BI(e,c)}),c.duration&&(c.duration=dn(c.duration)),c.repeatDelay&&(c.repeatDelay=dn(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!a&&t.get()!==void 0){const f=Bo(c.keyframes,o);if(f!==void 0)return ue.update(()=>{c.onUpdate(f),c.onComplete()}),new oM([])}return!a&&n0.supports(c)?new n0(c):new Iv(c)};function UI({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function AE(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,(a=e.latestValues[d])!==null&&a!==void 0?a:null),p=l[d];if(p===void 0||c&&UI(c,d))continue;const g={delay:n,...wv(s||{},d)};let m=!1;if(window.MotionHandoffAnimation){const v=nE(e);if(v){const y=window.MotionHandoffAnimation(v,d,ue);y!==null&&(g.startTime=y,m=!0)}}Hp(e,d),f.start(Dv(d,f,p,e.shouldReduceMotion&&eE.has(d)?{type:!1}:g,e,m));const w=f.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{ue.update(()=>{o&&bM(e,o)})}),u}function Zp(e,t,n={}){var r;const i=Vo(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>Promise.all(AE(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return zI(e,t,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,c]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function zI(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(GI).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(Zp(u,t,{...a,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function GI(e,t){return e.sortNodePosition(t)}function HI(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Zp(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Zp(e,t,n);else{const i=typeof t=="function"?Vo(e,t,n.custom):t;r=Promise.all(AE(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const KI=lv.length;function ME(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ME(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<KI;n++){const r=lv[n],i=e.props[r];(ja(i)||i===!1)&&(t[r]=i)}return t}const WI=[...ov].reverse(),YI=ov.length;function QI(e){return t=>Promise.all(t.map(({animation:n,options:r})=>HI(e,n,r)))}function XI(e){let t=QI(e),n=r0(),r=!0;const i=l=>(u,c)=>{var d;const f=Vo(e,c,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;u={...u,...m,...g}}return u};function a(l){t=l(e)}function s(l){const{props:u}=e,c=ME(e.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let w=0;w<YI;w++){const v=WI[w],y=n[v],x=u[v]!==void 0?u[v]:c[v],b=ja(x),S=v===l?y.isActive:null;S===!1&&(g=w);let E=x===c[v]&&x!==u[v]&&b;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...p},!y.isActive&&S===null||!x&&!y.prevProp||qo(x)||typeof x=="boolean")continue;const T=JI(y.prevProp,x);let C=T||v===l&&y.isActive&&!E&&b||w>g&&b,j=!1;const M=Array.isArray(x)?x:[x];let I=M.reduce(i(v),{});S===!1&&(I={});const{prevResolvedValues:U={}}=y,ee={...U,...I},G=re=>{C=!0,f.has(re)&&(j=!0,f.delete(re)),y.needsAnimating[re]=!0;const P=e.getValue(re);P&&(P.liveStyle=!1)};for(const re in ee){const P=I[re],O=U[re];if(p.hasOwnProperty(re))continue;let q=!1;Up(P)&&Up(O)?q=!HT(P,O):q=P!==O,q?P!=null?G(re):f.add(re):P!==void 0&&f.has(re)?G(re):y.protectedKeys[re]=!0}y.prevProp=x,y.prevResolvedValues=I,y.isActive&&(p={...p,...I}),r&&e.blockInitialAnimation&&(C=!1),C&&(!(E&&T)||j)&&d.push(...M.map(re=>({animation:re,options:{type:v}})))}if(f.size){const w={};f.forEach(v=>{const y=e.getBaseTarget(v),x=e.getValue(v);x&&(x.liveStyle=!0),w[v]=y??null}),d.push({animation:w})}let m=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(d):Promise.resolve()}function o(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=s(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=r0(),r=!0}}}function JI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HT(t,e):!1}function rr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r0(){return{animate:rr(!0),whileInView:rr(),whileHover:rr(),whileTap:rr(),whileDrag:rr(),whileFocus:rr(),exit:rr()}}class Jn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZI extends Jn{constructor(t){super(t),t.animationState||(t.animationState=XI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let eD=0;class tD extends Jn{constructor(){super(...arguments),this.id=eD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const nD={animation:{Feature:ZI},exit:{Feature:tD}};function Ma(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function $a(e){return{point:{x:e.pageX,y:e.pageY}}}const rD=e=>t=>_v(t)&&e(t,$a(t));function ua(e,t,n,r){return Ma(e,t,rD(n),r)}const i0=(e,t)=>Math.abs(e-t);function iD(e,t){const n=i0(e.x,t.x),r=i0(e.y,t.y);return Math.sqrt(n**2+r**2)}class IE{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Yl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=iD(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=d,{timestamp:m}=Fe;this.history.push({...g,timestamp:m});const{onStart:w,onMove:v}=this.handlers;f||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Wl(f,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Yl(d.type==="pointercancel"?this.lastMoveEventInfo:Wl(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,w),g&&g(d,w)},!_v(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=$a(t),o=Wl(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Fe;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(t,Yl(o,this.history)),this.removeListeners=Ba(ua(this.contextWindow,"pointermove",this.handlePointerMove),ua(this.contextWindow,"pointerup",this.handlePointerUp),ua(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hn(this.updatePoint)}}function Wl(e,t){return t?{point:t(e.point)}:e}function a0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yl({point:e},t){return{point:e,delta:a0(e,DE(t)),offset:a0(e,aD(t)),velocity:sD(t,.1)}}function aD(e){return e[0]}function DE(e){return e[e.length-1]}function sD(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=DE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>dn(t)));)n--;if(!r)return{x:0,y:0};const a=fn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const LE=1e-4,oD=1-LE,lD=1+LE,OE=.01,uD=0-OE,cD=0+OE;function pt(e){return e.max-e.min}function dD(e,t,n){return Math.abs(e-t)<=n}function s0(e,t,n,r=.5){e.origin=r,e.originPoint=he(t.min,t.max,e.origin),e.scale=pt(n)/pt(t),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oD&&e.scale<=lD||isNaN(e.scale))&&(e.scale=1),(e.translate>=uD&&e.translate<=cD||isNaN(e.translate))&&(e.translate=0)}function ca(e,t,n,r){s0(e.x,t.x,n.x,r?r.originX:void 0),s0(e.y,t.y,n.y,r?r.originY:void 0)}function o0(e,t,n){e.min=n.min+t.min,e.max=e.min+pt(t)}function fD(e,t,n){o0(e.x,t.x,n.x),o0(e.y,t.y,n.y)}function l0(e,t,n){e.min=t.min-n.min,e.max=e.min+pt(t)}function da(e,t,n){l0(e.x,t.x,n.x),l0(e.y,t.y,n.y)}function hD(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?he(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?he(n,e,r.max):Math.min(e,n)),e}function u0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pD(e,{top:t,left:n,bottom:r,right:i}){return{x:u0(e.x,n,i),y:u0(e.y,t,r)}}function c0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function mD(e,t){return{x:c0(e.x,t.x),y:c0(e.y,t.y)}}function vD(e,t){let n=.5;const r=pt(e),i=pt(t);return i>r?n=fi(t.min,t.max-r,e.min):r>i&&(n=fi(e.min,e.max-i,t.min)),gn(0,1,n)}function gD(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const em=.35;function yD(e=em){return e===!1?e=0:e===!0&&(e=em),{x:d0(e,"left","right"),y:d0(e,"top","bottom")}}function d0(e,t,n){return{min:f0(e,t),max:f0(e,n)}}function f0(e,t){return typeof e=="number"?e:e[t]||0}const h0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qr=()=>({x:h0(),y:h0()}),p0=()=>({min:0,max:0}),be=()=>({x:p0(),y:p0()});function bt(e){return[e("x"),e("y")]}function qE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function xD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wD(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ql(e){return e===void 0||e===1}function tm({scale:e,scaleX:t,scaleY:n}){return!Ql(e)||!Ql(t)||!Ql(n)}function sr(e){return tm(e)||FE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FE(e){return m0(e.x)||m0(e.y)}function m0(e){return e&&e!=="0%"}function mo(e,t,n){const r=e-n,i=t*r;return n+i}function v0(e,t,n,r,i){return i!==void 0&&(e=mo(e,i,r)),mo(e,n,r)+t}function nm(e,t=0,n=1,r,i){e.min=v0(e.min,t,n,r,i),e.max=v0(e.max,t,n,r,i)}function VE(e,{x:t,y:n}){nm(e.x,t.translate,t.scale,t.originPoint),nm(e.y,n.translate,n.scale,n.originPoint)}const g0=.999999999999,y0=1.0000000000001;function bD(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Jr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,VE(e,s)),r&&sr(a.latestValues)&&Jr(e,a.latestValues))}t.x<y0&&t.x>g0&&(t.x=1),t.y<y0&&t.y>g0&&(t.y=1)}function Xr(e,t){e.min=e.min+t,e.max=e.max+t}function x0(e,t,n,r,i=.5){const a=he(e.min,e.max,i);nm(e,t,n,a,r)}function Jr(e,t){x0(e.x,t.x,t.scaleX,t.scale,t.originX),x0(e.y,t.y,t.scaleY,t.scale,t.originY)}function BE(e,t){return qE(wD(e.getBoundingClientRect(),t))}function SD(e,t,n){const r=BE(e,n),{scroll:i}=t;return i&&(Xr(r.x,i.offset.x),Xr(r.y,i.offset.y)),r}const $E=({current:e})=>e?e.ownerDocument.defaultView:null,_D=new WeakMap;class CD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($a(c).point)},a=(c,d)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vM(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bt(w=>{let v=this.getAxisMotionValue(w).get()||0;if(Xt.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[w];x&&(v=pt(x)*(parseFloat(v)/100))}}this.originPoint[w]=v}),g&&ue.postRender(()=>g(c,d)),Hp(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=d;if(p&&this.currentDirection===null){this.currentDirection=TD(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),m&&m(c,d)},o=(c,d)=>this.stop(c,d),l=()=>bt(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new IE(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:$E(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ue.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!ws(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=hD(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Wr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=pD(i.layoutBox,n):this.constraints=!1,this.elastic=yD(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bt(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=gD(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wr(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=SD(r,i.root,this.visualElement.getTransformPagePoint());let s=mD(i.layout.layoutBox,a);if(n){const o=n(xD(s));this.hasMutatedConstraints=!!o,o&&(s=qE(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=bt(c=>{if(!ws(c,n,this.currentDirection))return;let d=l&&l[c]||{};s&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Hp(this.visualElement,t),r.start(Dv(t,r,0,n,this.visualElement,!1))}stopAnimation(){bt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){bt(n=>{const{drag:r}=this.getProps();if(!ws(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-he(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wr(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bt(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=vD({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bt(s=>{if(!ws(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(he(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;_D.set(this.visualElement,this);const t=this.visualElement.current,n=ua(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ue.read(r);const s=Ma(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(bt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=em,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function ws(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function TD(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ED extends Jn{constructor(t){super(t),this.removeGroupControls=ft,this.removeListeners=ft,this.controls=new CD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ft}unmount(){this.removeGroupControls(),this.removeListeners()}}const w0=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class kD extends Jn{constructor(){super(...arguments),this.removePointerDownListener=ft}onPointerDown(t){this.session=new IE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$E(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:w0(t),onStart:w0(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&ue.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=ua(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Os={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function b0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(F.test(e))e=parseFloat(e);else return e;const n=b0(e,t.target.x),r=b0(e,t.target.y);return`${n}% ${r}%`}},PD={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Kn.parse(e);if(i.length>5)return r;const a=Kn.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const u=he(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class jD extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;YA(RD),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Os.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||ue.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function UE(e){const[t,n]=cA(),r=_.useContext(TT);return h.jsx(jD,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(MT),isPresent:t,safeToRemove:n})}const RD={borderRadius:{...Fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fi,borderTopRightRadius:Fi,borderBottomLeftRadius:Fi,borderBottomRightRadius:Fi,boxShadow:PD};function ND(e,t,n){const r=Ke(e)?e:Na(e);return r.start(Dv("",r,t,n)),r.animation}function AD(e){return e instanceof SVGElement&&e.tagName!=="svg"}const MD=(e,t)=>e.depth-t.depth;class ID{constructor(){this.children=[],this.isDirty=!1}add(t){Cv(this.children,t),this.isDirty=!0}remove(t){Tv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(MD),this.isDirty=!1,this.children.forEach(t)}}function DD(e,t){const n=Jt.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Hn(r),e(a-t))};return ue.read(r,!0),()=>Hn(r)}const zE=["TopLeft","TopRight","BottomLeft","BottomRight"],LD=zE.length,S0=e=>typeof e=="string"?parseFloat(e):e,_0=e=>typeof e=="number"||F.test(e);function OD(e,t,n,r,i,a){i?(e.opacity=he(0,n.opacity!==void 0?n.opacity:1,qD(r)),e.opacityExit=he(t.opacity!==void 0?t.opacity:1,0,FD(r))):a&&(e.opacity=he(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<LD;s++){const o=`border${zE[s]}Radius`;let l=C0(t,o),u=C0(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_0(l)===_0(u)?(e[o]=Math.max(he(S0(l),S0(u),r),0),(Xt.test(u)||Xt.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,r))}function C0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qD=GE(0,.5,uE),FD=GE(.5,.95,ft);function GE(e,t,n){return r=>r<e?0:r>t?1:n(fi(e,t,r))}function T0(e,t){e.min=t.min,e.max=t.max}function wt(e,t){T0(e.x,t.x),T0(e.y,t.y)}function E0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function k0(e,t,n,r,i){return e-=t,e=mo(e,1/n,r),i!==void 0&&(e=mo(e,1/i,r)),e}function VD(e,t=0,n=1,r=.5,i,a=e,s=e){if(Xt.test(t)&&(t=parseFloat(t),t=he(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=he(a.min,a.max,r);e===a&&(o-=t),e.min=k0(e.min,t,n,o,i),e.max=k0(e.max,t,n,o,i)}function P0(e,t,[n,r,i],a,s){VD(e,t[n],t[r],t[i],t.scale,a,s)}const BD=["x","scaleX","originX"],$D=["y","scaleY","originY"];function j0(e,t,n,r){P0(e.x,t,BD,n?n.x:void 0,r?r.x:void 0),P0(e.y,t,$D,n?n.y:void 0,r?r.y:void 0)}function R0(e){return e.translate===0&&e.scale===1}function HE(e){return R0(e.x)&&R0(e.y)}function N0(e,t){return e.min===t.min&&e.max===t.max}function UD(e,t){return N0(e.x,t.x)&&N0(e.y,t.y)}function A0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function KE(e,t){return A0(e.x,t.x)&&A0(e.y,t.y)}function M0(e){return pt(e.x)/pt(e.y)}function I0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zD{constructor(){this.members=[]}add(t){Cv(this.members,t),t.scheduleRender()}remove(t){if(Tv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GD(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const or={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hi=typeof window<"u"&&window.MotionDebug!==void 0,Xl=["","X","Y","Z"],HD={visibility:"hidden"},D0=1e3;let KD=0;function Jl(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function WE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=nE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&WE(r)}function YE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=KD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hi&&(or.totalNodes=or.resolvedTargetDeltas=or.recalculatedProjection=0),this.nodes.forEach(QD),this.nodes.forEach(t2),this.nodes.forEach(n2),this.nodes.forEach(XD),Hi&&window.MotionDebug.record(or)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ID)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Ev),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AD(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=DD(f,250),Os.hasAnimatedSinceResize&&(Os.hasAnimatedSinceResize=!1,this.nodes.forEach(O0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||o2,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!KE(this.targetLayout,g)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const b={...wv(m,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||O0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r2),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L0);return}this.isUpdating||this.nodes.forEach(ZD),this.isUpdating=!1,this.nodes.forEach(e2),this.nodes.forEach(WD),this.nodes.forEach(YD),this.clearAllSnapshots();const o=Jt.now();Fe.delta=gn(0,1e3/60,o-Fe.timestamp),Fe.timestamp=o,Fe.isProcessing=!0,$l.update.process(Fe),$l.preRender.process(Fe),$l.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JD),this.sharedNodes.forEach(i2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!HE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(o||sr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),l2(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return be();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(u2))){const{scroll:c}=this.root;c&&(Xr(l.x,c.offset.x),Xr(l.y,c.offset.y))}return l}removeElementScroll(s){var o;const l=be();if(wt(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&wt(l,s),Xr(l.x,d.offset.x),Xr(l.y,d.offset.y))}return l}applyTransform(s,o=!1){const l=be();wt(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Jr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),sr(c.latestValues)&&Jr(l,c.latestValues)}return sr(this.latestValues)&&Jr(l,this.latestValues),l}removeTransform(s){const o=be();wt(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!sr(u.latestValues))continue;tm(u.latestValues)&&u.updateSnapshot();const c=be(),d=u.measurePageBox();wt(c,d),j0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return sr(this.latestValues)&&j0(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),da(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wt(this.target,this.layout.layoutBox),VE(this.target,this.targetDelta)):wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),da(this.relativeTargetOrigin,this.target,p.target),wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hi&&or.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tm(this.parent.latestValues)||FE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;wt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;bD(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=be());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E0(this.prevProjectionDelta.x,this.projectionDelta.x),E0(this.prevProjectionDelta.y,this.projectionDelta.y)),ca(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!I0(this.projectionDelta.x,this.prevProjectionDelta.x)||!I0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Hi&&or.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qr(),this.projectionDelta=Qr(),this.projectionDeltaWithTransform=Qr()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=be(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,w=this.getStack(),v=!w||w.members.length<=1,y=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(s2));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const S=b/1e3;q0(d.x,s.x,S),q0(d.y,s.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(da(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),a2(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&UD(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=be()),wt(x,this.relativeTarget)),m&&(this.animationValues=c,OD(c,u,this.latestValues,S,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Os.hasAnimatedSinceResize=!0,this.currentAnimation=ND(0,D0,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&QE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||be();const d=pt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=pt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}wt(o,l),Jr(o,c),ca(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new zD),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&Jl("z",s,u,this.animationValues);for(let c=0;c<Xl.length;c++)Jl(`rotate${Xl[c]}`,s,u,this.animationValues),Jl(`skew${Xl[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return HD;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ds(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ds(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!sr(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=GD(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in uo){if(f[m]===void 0)continue;const{correct:w,applyTo:v}=uo[m],y=u.transform==="none"?f[m]:w(f[m],d);if(v){const x=v.length;for(let b=0;b<x;b++)u[v[b]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=d===this?Ds(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(L0),this.root.sharedNodes.clear()}}}function WD(e){e.updateLayout()}function YD(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?bt(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],p=pt(f);f.min=r[d].min,f.max=f.min+p}):QE(a,n.layoutBox,r)&&bt(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],p=pt(r[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=Qr();ca(o,r,n.layoutBox);const l=Qr();s?ca(l,e.applyTransform(i,!0),n.measuredBox):ca(l,r,n.layoutBox);const u=!HE(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=be();da(g,n.layoutBox,f.layoutBox);const m=be();da(m,r,p.layoutBox),KE(g,m)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function QD(e){Hi&&or.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function XD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JD(e){e.clearSnapshot()}function L0(e){e.clearMeasurements()}function ZD(e){e.isLayoutDirty=!1}function e2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function O0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function t2(e){e.resolveTargetDelta()}function n2(e){e.calcProjection()}function r2(e){e.resetSkewAndRotation()}function i2(e){e.removeLeadSnapshot()}function q0(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function F0(e,t,n,r){e.min=he(t.min,n.min,r),e.max=he(t.max,n.max,r)}function a2(e,t,n,r){F0(e.x,t.x,n.x,r),F0(e.y,t.y,n.y,r)}function s2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const o2={duration:.45,ease:[.4,0,.1,1]},V0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),B0=V0("applewebkit/")&&!V0("chrome/")?Math.round:ft;function $0(e){e.min=B0(e.min),e.max=B0(e.max)}function l2(e){$0(e.x),$0(e.y)}function QE(e,t,n){return e==="position"||e==="preserve-aspect"&&!dD(M0(t),M0(n),.2)}function u2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const c2=YE({attachResizeListener:(e,t)=>Ma(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zl={current:void 0},XE=YE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zl.current){const e=new c2({});e.mount(window),e.setOptions({layoutScroll:!0}),Zl.current=e}return Zl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),d2={pan:{Feature:kD},drag:{Feature:ED,ProjectionNode:XE,MeasureLayout:UE}};function U0(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&ue.postRender(()=>a(t,$a(t)))}class f2 extends Jn{mount(){const{current:t}=this.node;t&&(this.unmount=dM(t,n=>(U0(this.node,n,"Start"),r=>U0(this.node,r,"End"))))}unmount(){}}class h2 extends Jn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ba(Ma(this.node.current,"focus",()=>this.onFocus()),Ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function z0(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&ue.postRender(()=>a(t,$a(t)))}class p2 extends Jn{mount(){const{current:t}=this.node;t&&(this.unmount=mM(t,n=>(z0(this.node,n,"Start"),(r,{success:i})=>z0(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rm=new WeakMap,eu=new WeakMap,m2=e=>{const t=rm.get(e.target);t&&t(e)},v2=e=>{e.forEach(m2)};function g2({root:e,...t}){const n=e||document;eu.has(n)||eu.set(n,{});const r=eu.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(v2,{root:e,...t})),r[i]}function y2(e,t,n){const r=g2(t);return rm.set(e,n),r.observe(e),()=>{rm.delete(e),r.unobserve(e)}}const x2={some:0,all:1};class w2 extends Jn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:x2[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return y2(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(b2(t,n))&&this.startObserver()}unmount(){}}function b2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const S2={inView:{Feature:w2},tap:{Feature:p2},focus:{Feature:h2},hover:{Feature:f2}},_2={layout:{ProjectionNode:XE,MeasureLayout:UE}},im={current:null},JE={current:!1};function C2(){if(JE.current=!0,!!av)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>im.current=e.matches;e.addListener(t),t()}else im.current=!1}const T2=[..._E,Ge,Kn],E2=e=>T2.find(SE(e)),G0=new WeakMap;function k2(e,t,n){for(const r in t){const i=t[r],a=n[r];if(Ke(i))e.addValue(r,i);else if(Ke(a))e.addValue(r,Na(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Na(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const H0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Av,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Jt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ue.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=s;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Fo(n),this.isVariantNode=NT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&Ke(g)&&g.set(l[p],!1)}}mount(t){this.current=t,G0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),JE.current||C2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:im.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){G0.delete(this.current),this.projection&&this.projection.unmount(),Hn(this.notifyUpdate),Hn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Cr.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hi){const n=hi[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H0.length;r++){const i=H0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=k2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Na(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(wE(i)||dE(i))?i=parseFloat(i):!E2(i)&&Kn.test(n)&&(i=gE(t,n)),this.setBaseTarget(t,Ke(i)?i.get():i)),Ke(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=fv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ke(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ev),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ZE extends P2{constructor(){super(...arguments),this.KeyframeResolver=CE}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ke(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function j2(e){return window.getComputedStyle(e)}class R2 extends ZE{constructor(){super(...arguments),this.type="html",this.renderInstance=VT}readValueFromInstance(t,n){if(Cr.has(n)){const r=Nv(n);return r&&r.default||0}else{const r=j2(t),i=(OT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return BE(t,n)}build(t,n,r){mv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return xv(t,n,r)}}class N2 extends ZE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cr.has(n)){const r=Nv(n);return r&&r.default||0}return n=BT.has(n)?n:uv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return zT(t,n,r)}build(t,n,r){vv(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){$T(t,n,r,i)}mount(t){this.isSVGTag=yv(t.tagName),super.mount(t)}}const A2=(e,t)=>dv(e)?new N2(t):new R2(t,{allowProjection:e!==_.Fragment}),M2=iM({...nD,...S2,...d2,..._2},A2),I2=xA(M2);function D2({steps:e,fromRects:t,toRects:n,onComplete:r}){return _.useEffect(()=>{const i=window.setTimeout(r,550);return()=>window.clearTimeout(i)},[r]),h.jsx("div",{className:"morph-layer",children:e.map(i=>{var o;const a=t[i.id],s=n[i.id];return!a||!s?null:h.jsxs(I2.div,{className:`morph-card step-${i.type}`,initial:{left:a.left,top:a.top,width:a.width,height:a.height},animate:{left:s.left,top:s.top,width:s.width,height:s.height},transition:{duration:.5,ease:"easeInOut"},children:[h.jsx("div",{className:"morph-card-title",children:i.name}),h.jsx("div",{className:"morph-card-subtitle",children:((o=i.preview)==null?void 0:o.title)??i.type})]},i.id)})})}function L2({morph:e,onComplete:t,children:n}){return h.jsxs("div",{className:"morph-orchestrator",children:[n,e?h.jsx(D2,{steps:e.steps,fromRects:e.fromRects,toRects:e.toRects,onComplete:t}):null]})}const O2="demo-trace-overlap-001",q2="Overlap + ToolCallId Demo",F2="2026-01-27T10:00:00.000Z",V2="2026-01-27T10:00:05.000Z",B2="completed",$2={source:"openai_agents",agentName:"DemoAgent",modelId:"gpt-4o-2024-11-20",wallTimeMs:5e3,workTimeMs:7200,totalTokens:1400,totalCostUsd:.018},U2=[{id:"s1",index:0,type:"llm_call",name:"plan",startedAt:"2026-01-27T10:00:00.000Z",endedAt:"2026-01-27T10:00:01.000Z",durationMs:1e3,childStepIds:[],metrics:{tokensTotal:300,costUsd:.004},preview:{title:"LLM: plan",subtitle:"gpt-4o",outputPreview:"I'll fetch two sources..."},status:"completed"},{id:"s2",index:1,type:"llm_call",name:"call_tools",startedAt:"2026-01-27T10:00:01.000Z",endedAt:"2026-01-27T10:00:01.200Z",durationMs:200,childStepIds:[],metrics:{tokensTotal:120,costUsd:.002},preview:{title:"LLM: call tools",outputPreview:"Calling web_search + database_query"},io:{emittedToolCallIds:["tc-001","tc-002"]},status:"completed"},{id:"s3",index:2,type:"tool_call",name:"web_search",toolCallId:"tc-001",startedAt:"2026-01-27T10:00:01.200Z",endedAt:"2026-01-27T10:00:03.200Z",durationMs:2e3,childStepIds:[],metrics:{costUsd:0},preview:{title:"Tool: web_search",inputPreview:'{"q":"EU AI Act"}',outputPreview:"[3 results...]"},status:"completed"},{id:"s4",index:3,type:"tool_call",name:"database_query",toolCallId:"tc-002",startedAt:"2026-01-27T10:00:01.500Z",endedAt:"2026-01-27T10:00:02.700Z",durationMs:1200,childStepIds:[],preview:{title:"Tool: database_query",inputPreview:'{"sql":"SELECT..."}',outputPreview:'{"rows":42}'},status:"completed"},{id:"s5",index:4,type:"llm_call",name:"analyze",startedAt:"2026-01-27T10:00:03.200Z",endedAt:"2026-01-27T10:00:04.600Z",durationMs:1400,childStepIds:[],metrics:{tokensTotal:700,costUsd:.012},preview:{title:"LLM: analyze",outputPreview:"Synthesis based on tool outputs..."},io:{consumedToolCallIds:["tc-001","tc-002"]},status:"completed"}],$o={id:O2,name:q2,startedAt:F2,endedAt:V2,status:B2,metadata:$2,steps:U2};function ek(e,t){const n=z2(e,t),r=new Set(n.map(d=>d.leftId)),i=new Set(n.map(d=>d.rightId)),a=t.steps.filter(d=>!i.has(d.id)).map(d=>d.id),s=e.steps.filter(d=>!r.has(d.id)).map(d=>d.id),o=n.filter(d=>{const f=e.steps.find(g=>g.id===d.leftId),p=t.steps.find(g=>g.id===d.rightId);return!f||!p?!1:K0(f)!==K0(p)}),l=o.map(d=>d.leftId),u=(t.metadata.totalCostUsd??0)-(e.metadata.totalCostUsd??0),c=t.metadata.wallTimeMs-e.metadata.wallTimeMs;return{addedSteps:a,removedSteps:s,changedSteps:l,changedPairs:o,alignedSteps:n,costDeltaUsd:u,wallTimeDeltaMs:c}}function z2(e,t){const n=[],r=new Set(e.steps.map(c=>c.id)),i=new Set(t.steps.map(c=>c.id));Array.from(r).forEach(c=>{i.has(c)&&(n.push({leftId:c,rightId:c}),r.delete(c),i.delete(c))});const a=new Map;t.steps.forEach(c=>{c.toolCallId&&a.set(c.toolCallId,c.id)}),e.steps.forEach(c=>{if(!c.toolCallId)return;const d=a.get(c.toolCallId);d&&i.has(d)&&(n.push({leftId:c.id,rightId:d}),r.delete(c.id),i.delete(d))});const s=Q0(e),o=Q0(t),l=G2(e,t),u={};return i.forEach(c=>{const d=o.get(c);if(!d)return;const f=W0(d.step);f&&(u[f]||(u[f]=[]),u[f].push(c))}),Object.values(u).forEach(c=>{c.sort((d,f)=>{var p,g;return(((p=o.get(d))==null?void 0:p.startMs)??0)-(((g=o.get(f))==null?void 0:g.startMs)??0)})}),Array.from(r).forEach(c=>{var g;const d=s.get(c);if(!d)return;const f=W0(d.step);if(!f||!((g=u[f])!=null&&g.length))return;const p=H2(d,u[f],o,l);p&&(n.push({leftId:c,rightId:p}),r.delete(c),i.delete(p),u[f]=u[f].filter(m=>m!==p))}),n}function K0(e){var r,i;const t=((r=e.preview)==null?void 0:r.outputPreview)??null,n=((i=e.metrics)==null?void 0:i.costUsd)??null;return`${e.status}|${t??""}|${n??""}`}function W0(e){return e.type?`${e.type}:${e.name??""}`:null}function Y0(e){if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:t}function Q0(e){const t=Y0(e.startedAt),n=new Map;return e.steps.forEach(r=>{const i=Y0(r.startedAt),a=t!=null&&i!=null?i-t:null;n.set(r.id,{step:r,startMs:a})}),n}function G2(e,t){const n=Math.max(e.metadata.wallTimeMs,t.metadata.wallTimeMs,1);return Math.max(1e3,Math.min(5e3,Math.round(n*.1)))}function H2(e,t,n,r){const i=e.startMs;if(i==null)return null;let a=null,s=r+1;return t.forEach(o=>{const l=n.get(o);if(!l||l.startMs==null)return;const u=Math.abs(l.startMs-i);u<s&&(s=u,a=o)}),s<=r?a:null}const K2=new Map,W2=new Map,vr=new Map;async function Y2(){return[$o]}async function tk(e){return{trace:$o}}const Q2={s1:{role:"assistant",content:"I'll analyze the user's request and create a plan to fetch information from two sources: a web search for current EU AI Act updates and a database query for historical compliance data.",model:"gpt-4o-2024-11-20",usage:{prompt_tokens:150,completion_tokens:150,total_tokens:300},reasoning:"The user wants comprehensive information about AI regulations. I'll use parallel tool calls to maximize efficiency."},s2:{role:"assistant",content:null,tool_calls:[{id:"tc-001",type:"function",function:{name:"web_search",arguments:'{"q":"EU AI Act latest updates 2026"}'}},{id:"tc-002",type:"function",function:{name:"database_query",arguments:`{"sql":"SELECT * FROM compliance_records WHERE region='EU' ORDER BY date DESC LIMIT 10"}`}}],model:"gpt-4o-2024-11-20",usage:{prompt_tokens:80,completion_tokens:40,total_tokens:120}},s3:{tool_call_id:"tc-001",tool_name:"web_search",input:{q:"EU AI Act latest updates 2026"},output:{results:[{title:"EU AI Act Implementation Timeline",url:"https://example.com/ai-act",snippet:"The EU AI Act enters full force in 2026..."},{title:"High-Risk AI Systems Classification",url:"https://example.com/classification",snippet:"New guidance on high-risk categorization..."},{title:"Compliance Deadlines Approaching",url:"https://example.com/deadlines",snippet:"Organizations must comply by August 2026..."}],total_results:3,search_time_ms:1850},status:"success"},s4:{tool_call_id:"tc-002",tool_name:"database_query",input:{sql:"SELECT * FROM compliance_records WHERE region='EU' ORDER BY date DESC LIMIT 10"},output:{rows:[{id:1,company:"TechCorp",status:"compliant",date:"2026-01-15"},{id:2,company:"AIStartup",status:"in_progress",date:"2026-01-10"},{id:3,company:"DataCo",status:"compliant",date:"2026-01-05"}],row_count:42,query_time_ms:1100},status:"success"},s5:{role:"assistant",content:`Based on my analysis of the web search results and database records:

**Key Findings:**
1. The EU AI Act is now in full effect as of 2026
2. High-risk AI systems require specific compliance measures
3. 42 organizations in our database have compliance records

**Recommendations:**
- Review classification of AI systems
- Ensure documentation is complete
- Schedule compliance audit before August deadline`,model:"gpt-4o-2024-11-20",usage:{prompt_tokens:450,completion_tokens:250,total_tokens:700},reasoning:"Synthesized information from both the web search (3 relevant articles) and database query (42 compliance records) to provide actionable insights."}};function X2(e,t){const n=$o.steps.find(a=>a.id===e);if(!n)return null;const r=Q2[e];if(!r)return null;const i=t?J2(r):r;return{...n,data:i}}function J2(e){var n,r;const t=JSON.parse(JSON.stringify(e));return(n=t.input)!=null&&n.sql&&(t.input.sql="[REDACTED]"),(r=t.output)!=null&&r.rows&&(t.output.rows=t.output.rows.map(i=>({...i,company:"[REDACTED]"}))),t.tool_calls&&(t.tool_calls=t.tool_calls.map(i=>({...i,function:{...i.function,arguments:"[REDACTED]"}}))),t}async function Z2(e,t,n,r=[],i=!1){return await new Promise(a=>setTimeout(a,150)),X2(t,i)}async function eL(e,t,n){await Z2(e,t,"redacted",[],n)}function tL(e,t){return()=>{}}function nL(){K2.clear(),W2.clear()}async function rL(e,t){return null}async function iL(e){return null}async function kB(e,t){return[]}async function PB(e,t,n,r,i){return null}async function aL(){return[]}async function sL(e,t){return null}async function oL(e,t,n,r,i){return i?nk(i,t,n,r):null}function nk(e,t,n,r){var g;const i=JSON.parse(JSON.stringify(e)),a=6e4,s=Date.parse("2024-01-01T00:00:00.000Z"),o=Date.parse(e.endedAt??e.startedAt??""),u=(Number.isNaN(o)?s:o)+a,c=new Date(u);i.id=`${e.id}-replay-${u}`,i.parentTraceId=e.id,i.branchPointStepId=t,i.replay={strategy:n,modifiedStepId:t,modifications:r,createdAt:c.toISOString()};const d=m=>{if(!m)return m;const w=Date.parse(m);return Number.isNaN(w)?m:new Date(w+a).toISOString()};i.startedAt=d(i.startedAt)??i.startedAt,i.endedAt=d(i.endedAt);const f=new Set,p=((g=i.steps.find(m=>m.id===t))==null?void 0:g.index)??-1;return n==="live"?i.steps.forEach(m=>{m.index>p&&f.add(m.id)}):n==="hybrid"&&i.steps.forEach(m=>{m.index>p&&f.add(m.id)}),i.steps=i.steps.map(m=>{var v;const w={...m};if(w.startedAt=d(m.startedAt)??m.startedAt,w.endedAt=d(m.endedAt),m.id===t){const y=((v=m.preview)==null?void 0:v.outputPreview)??"";w.preview={...m.preview,outputPreview:`${y} (modified)`.trim()}}return f.has(m.id)&&(w.status="pending",w.endedAt=null,w.durationMs=void 0,w.metrics=void 0,w.preview={...m.preview,outputPreview:"[invalidated for replay]"}),w}),i}async function lL(e){return dL(e)}async function uL(e){var t;return((t=vr.get(e))==null?void 0:t.job)??null}async function X0(e){var t;return((t=vr.get(e))==null?void 0:t.matrix)??null}async function cL(e){{const t=vr.get(e);if(!t)return null;const n={...t.job,status:"canceled",scenarios:t.job.scenarios.map(r=>({...r,status:"canceled",endedAt:r.endedAt??new Date().toISOString()}))};return vr.set(e,{...t,job:n}),n}}function dL(e){const t=`demo-job-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,n=$o,r=new Date().toISOString(),i=e.scenarios.map((l,u)=>({id:`demo-scn-${u+1}`,name:l.name,strategy:l.strategy,modifications:l.modifications,status:"running",startedAt:r,endedAt:null,replayTraceId:`${t}-replay-${u+1}`})),a={id:t,traceId:e.traceId,stepId:e.stepId,status:"running",createdAt:r,startedAt:r,endedAt:null,scenarioCount:i.length,completedCount:0,failedCount:0,canceledCount:0,scenarios:i},s=i.map(l=>{const u=nk(n,e.stepId,l.strategy,l.modifications);u.id=l.replayTraceId;const c=ek(n,u),d=n.metadata.totalCostUsd??0,f=u.metadata.totalCostUsd??d,p=n.metadata.errorCount??0,g=u.metadata.errorCount??p,m=n.metadata.retryCount??0,w=u.metadata.retryCount??m,v=u.steps.filter(y=>y.status==="pending").length;return{scenarioId:l.id,name:l.name,strategy:l.strategy,status:"completed",replayTraceId:l.replayTraceId,modifications:l.modifications,error:null,changedStepIds:c.changedSteps,addedStepIds:c.addedSteps,removedStepIds:c.removedSteps,metrics:{costDeltaUsd:f-d,wallTimeDeltaMs:(u.metadata.wallTimeMs??0)-(n.metadata.wallTimeMs??0),errorDelta:g-p,retryDelta:w-m,changedSteps:c.changedSteps.length,addedSteps:c.addedSteps.length,removedSteps:c.removedSteps.length,invalidatedStepCount:v}}}),o={jobId:t,traceId:e.traceId,stepId:e.stepId,rows:s,causalRanking:[]};return vr.set(t,{job:a,matrix:o}),window.setTimeout(()=>{const l=vr.get(t);if(!l)return;const u=new Date().toISOString(),c=l.job.scenarios.map(p=>({...p,status:"completed",endedAt:u})),d={...l.job,status:"completed",endedAt:u,completedCount:c.length,scenarios:c},f={...l.matrix,rows:l.matrix.rows.map(p=>({...p,status:"completed"}))};vr.set(t,{job:d,matrix:f})},600),a}function fL(){const[e,t]=_.useState(null),[n,r]=_.useState(null),[i,a]=_.useState(!0),[s,o]=_.useState(null),[l,u]=_.useState([]),[c,d]=_.useState(null),f=_.useCallback(async g=>{const m=await tk(),w=(m==null?void 0:m.trace)??null;t(w),r(w?(m==null?void 0:m.insights)??xN(w):null)},[t,r]),p=_.useCallback(async()=>{var g;a(!0),o(null);try{const m=await Y2();u(m);const w=((g=m[m.length-1])==null?void 0:g.id)??null,v=c??w;if(!v){t(null),r(null);return}if(!c||c!==v){d(v);return}await f(v)}catch(m){o(m instanceof Error?m.message:"Failed to load trace")}finally{a(!1)}},[c,f]);return _.useEffect(()=>{p()},[p]),_.useEffect(()=>{c&&(a(!0),f(c).catch(g=>{o(g instanceof Error?g.message:"Failed to load trace")}).finally(()=>a(!1)))},[c,f]),_.useEffect(()=>tL(),[c,d]),{trace:e,insights:n,loading:i,error:s,reload:p,traces:l,selectedTraceId:c,setSelectedTraceId:d}}function Mt(e,t){const[n,r]=_.useState(()=>{if(typeof window>"u")return t;try{const i=window.localStorage.getItem(e);return i==null?t:JSON.parse(i)}catch{return t}});return _.useEffect(()=>{try{window.localStorage.setItem(e,JSON.stringify(n))}catch{}},[e,n]),[n,r]}function Lv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tu,J0;function hL(){if(J0)return tu;J0=1;function e(){this.__data__=[],this.size=0}return tu=e,tu}var nu,Z0;function wi(){if(Z0)return nu;Z0=1;function e(t,n){return t===n||t!==t&&n!==n}return nu=e,nu}var ru,e1;function Uo(){if(e1)return ru;e1=1;var e=wi();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return ru=t,ru}var iu,t1;function pL(){if(t1)return iu;t1=1;var e=Uo(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,s=e(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():n.call(a,s,1),--this.size,!0}return iu=r,iu}var au,n1;function mL(){if(n1)return au;n1=1;var e=Uo();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return au=t,au}var su,r1;function vL(){if(r1)return su;r1=1;var e=Uo();function t(n){return e(this.__data__,n)>-1}return su=t,su}var ou,i1;function gL(){if(i1)return ou;i1=1;var e=Uo();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return ou=t,ou}var lu,a1;function zo(){if(a1)return lu;a1=1;var e=hL(),t=pL(),n=mL(),r=vL(),i=gL();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,lu=a,lu}var uu,s1;function yL(){if(s1)return uu;s1=1;var e=zo();function t(){this.__data__=new e,this.size=0}return uu=t,uu}var cu,o1;function xL(){if(o1)return cu;o1=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return cu=e,cu}var du,l1;function wL(){if(l1)return du;l1=1;function e(t){return this.__data__.get(t)}return du=e,du}var fu,u1;function bL(){if(u1)return fu;u1=1;function e(t){return this.__data__.has(t)}return fu=e,fu}var hu,c1;function rk(){if(c1)return hu;c1=1;var e=typeof Ja=="object"&&Ja&&Ja.Object===Object&&Ja;return hu=e,hu}var pu,d1;function Bt(){if(d1)return pu;d1=1;var e=rk(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return pu=n,pu}var mu,f1;function bi(){if(f1)return mu;f1=1;var e=Bt(),t=e.Symbol;return mu=t,mu}var vu,h1;function SL(){if(h1)return vu;h1=1;var e=bi(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(s){var o=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(o?s[i]=l:delete s[i]),c}return vu=a,vu}var gu,p1;function _L(){if(p1)return gu;p1=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return gu=n,gu}var yu,m1;function Tr(){if(m1)return yu;m1=1;var e=bi(),t=SL(),n=_L(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?i:r:a&&a in Object(o)?t(o):n(o)}return yu=s,yu}var xu,v1;function Pt(){if(v1)return xu;v1=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return xu=e,xu}var wu,g1;function Ua(){if(g1)return wu;g1=1;var e=Tr(),t=Pt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!t(o))return!1;var l=e(o);return l==r||l==i||l==n||l==a}return wu=s,wu}var bu,y1;function CL(){if(y1)return bu;y1=1;var e=Bt(),t=e["__core-js_shared__"];return bu=t,bu}var Su,x1;function TL(){if(x1)return Su;x1=1;var e=CL(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Su=n,Su}var _u,w1;function ik(){if(w1)return _u;w1=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return _u=n,_u}var Cu,b1;function EL(){if(b1)return Cu;b1=1;var e=Ua(),t=TL(),n=Pt(),r=ik(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var p=e(f)?c:a;return p.test(r(f))}return Cu=d,Cu}var Tu,S1;function kL(){if(S1)return Tu;S1=1;function e(t,n){return t==null?void 0:t[n]}return Tu=e,Tu}var Eu,_1;function Er(){if(_1)return Eu;_1=1;var e=EL(),t=kL();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return Eu=n,Eu}var ku,C1;function Ov(){if(C1)return ku;C1=1;var e=Er(),t=Bt(),n=e(t,"Map");return ku=n,ku}var Pu,T1;function Go(){if(T1)return Pu;T1=1;var e=Er(),t=e(Object,"create");return Pu=t,Pu}var ju,E1;function PL(){if(E1)return ju;E1=1;var e=Go();function t(){this.__data__=e?e(null):{},this.size=0}return ju=t,ju}var Ru,k1;function jL(){if(k1)return Ru;k1=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Ru=e,Ru}var Nu,P1;function RL(){if(P1)return Nu;P1=1;var e=Go(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(e){var o=s[a];return o===t?void 0:o}return r.call(s,a)?s[a]:void 0}return Nu=i,Nu}var Au,j1;function NL(){if(j1)return Au;j1=1;var e=Go(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return Au=r,Au}var Mu,R1;function AL(){if(R1)return Mu;R1=1;var e=Go(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return Mu=n,Mu}var Iu,N1;function ML(){if(N1)return Iu;N1=1;var e=PL(),t=jL(),n=RL(),r=NL(),i=AL();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Iu=a,Iu}var Du,A1;function IL(){if(A1)return Du;A1=1;var e=ML(),t=zo(),n=Ov();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Du=r,Du}var Lu,M1;function DL(){if(M1)return Lu;M1=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Lu=e,Lu}var Ou,I1;function Ho(){if(I1)return Ou;I1=1;var e=DL();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ou=t,Ou}var qu,D1;function LL(){if(D1)return qu;D1=1;var e=Ho();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return qu=t,qu}var Fu,L1;function OL(){if(L1)return Fu;L1=1;var e=Ho();function t(n){return e(this,n).get(n)}return Fu=t,Fu}var Vu,O1;function qL(){if(O1)return Vu;O1=1;var e=Ho();function t(n){return e(this,n).has(n)}return Vu=t,Vu}var Bu,q1;function FL(){if(q1)return Bu;q1=1;var e=Ho();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Bu=t,Bu}var $u,F1;function qv(){if(F1)return $u;F1=1;var e=IL(),t=LL(),n=OL(),r=qL(),i=FL();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,$u=a,$u}var Uu,V1;function VL(){if(V1)return Uu;V1=1;var e=zo(),t=Ov(),n=qv(),r=200;function i(a,s){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<r-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(a,s),this.size=o.size,this}return Uu=i,Uu}var zu,B1;function Ko(){if(B1)return zu;B1=1;var e=zo(),t=yL(),n=xL(),r=wL(),i=bL(),a=VL();function s(o){var l=this.__data__=new e(o);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,zu=s,zu}var Gu,$1;function Fv(){if($1)return Gu;$1=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return Gu=e,Gu}var Hu,U1;function ak(){if(U1)return Hu;U1=1;var e=Er(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Hu=t,Hu}var Ku,z1;function Wo(){if(z1)return Ku;z1=1;var e=ak();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Ku=t,Ku}var Wu,G1;function Yo(){if(G1)return Wu;G1=1;var e=Wo(),t=wi(),n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o){var l=a[s];(!(r.call(a,s)&&t(l,o))||o===void 0&&!(s in a))&&e(a,s,o)}return Wu=i,Wu}var Yu,H1;function za(){if(H1)return Yu;H1=1;var e=Yo(),t=Wo();function n(r,i,a,s){var o=!a;a||(a={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=s?s(a[c],r[c],c,a,r):void 0;d===void 0&&(d=r[c]),o?t(a,c,d):e(a,c,d)}return a}return Yu=n,Yu}var Qu,K1;function BL(){if(K1)return Qu;K1=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Qu=e,Qu}var Xu,W1;function Zt(){if(W1)return Xu;W1=1;function e(t){return t!=null&&typeof t=="object"}return Xu=e,Xu}var Ju,Y1;function $L(){if(Y1)return Ju;Y1=1;var e=Tr(),t=Zt(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Ju=r,Ju}var Zu,Q1;function Ga(){if(Q1)return Zu;Q1=1;var e=$L(),t=Zt(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Zu=a,Zu}var ec,X1;function Ee(){if(X1)return ec;X1=1;var e=Array.isArray;return ec=e,ec}var Ki={exports:{}},tc,J1;function UL(){if(J1)return tc;J1=1;function e(){return!1}return tc=e,tc}Ki.exports;var Z1;function Si(){return Z1||(Z1=1,function(e,t){var n=Bt(),r=UL(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;e.exports=u}(Ki,Ki.exports)),Ki.exports}var nc,ex;function Qo(){if(ex)return nc;ex=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return nc=n,nc}var rc,tx;function Vv(){if(tx)return rc;tx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return rc=t,rc}var ic,nx;function zL(){if(nx)return ic;nx=1;var e=Tr(),t=Vv(),n=Zt(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",p="[object Set]",g="[object String]",m="[object WeakMap]",w="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",b="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",M="[object Uint32Array]",I={};I[y]=I[x]=I[b]=I[S]=I[E]=I[T]=I[C]=I[j]=I[M]=!0,I[r]=I[i]=I[w]=I[a]=I[v]=I[s]=I[o]=I[l]=I[u]=I[c]=I[d]=I[f]=I[p]=I[g]=I[m]=!1;function U(ee){return n(ee)&&t(ee.length)&&!!I[e(ee)]}return ic=U,ic}var ac,rx;function Xo(){if(rx)return ac;rx=1;function e(t){return function(n){return t(n)}}return ac=e,ac}var Wi={exports:{}};Wi.exports;var ix;function Bv(){return ix||(ix=1,function(e,t){var n=rk(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(Wi,Wi.exports)),Wi.exports}var sc,ax;function Ha(){if(ax)return sc;ax=1;var e=zL(),t=Xo(),n=Bv(),r=n&&n.isTypedArray,i=r?t(r):e;return sc=i,sc}var oc,sx;function sk(){if(sx)return oc;sx=1;var e=BL(),t=Ga(),n=Ee(),r=Si(),i=Qo(),a=Ha(),s=Object.prototype,o=s.hasOwnProperty;function l(u,c){var d=n(u),f=!d&&t(u),p=!d&&!f&&r(u),g=!d&&!f&&!p&&a(u),m=d||f||p||g,w=m?e(u.length,String):[],v=w.length;for(var y in u)(c||o.call(u,y))&&!(m&&(y=="length"||p&&(y=="offset"||y=="parent")||g&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||i(y,v)))&&w.push(y);return w}return oc=l,oc}var lc,ox;function Jo(){if(ox)return lc;ox=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return lc=t,lc}var uc,lx;function ok(){if(lx)return uc;lx=1;function e(t,n){return function(r){return t(n(r))}}return uc=e,uc}var cc,ux;function GL(){if(ux)return cc;ux=1;var e=ok(),t=e(Object.keys,Object);return cc=t,cc}var dc,cx;function $v(){if(cx)return dc;cx=1;var e=Jo(),t=GL(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var s=[];for(var o in Object(a))r.call(a,o)&&o!="constructor"&&s.push(o);return s}return dc=i,dc}var fc,dx;function wn(){if(dx)return fc;dx=1;var e=Ua(),t=Vv();function n(r){return r!=null&&t(r.length)&&!e(r)}return fc=n,fc}var hc,fx;function Zn(){if(fx)return hc;fx=1;var e=sk(),t=$v(),n=wn();function r(i){return n(i)?e(i):t(i)}return hc=r,hc}var pc,hx;function HL(){if(hx)return pc;hx=1;var e=za(),t=Zn();function n(r,i){return r&&e(i,t(i),r)}return pc=n,pc}var mc,px;function KL(){if(px)return mc;px=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return mc=e,mc}var vc,mx;function WL(){if(mx)return vc;mx=1;var e=Pt(),t=Jo(),n=KL(),r=Object.prototype,i=r.hasOwnProperty;function a(s){if(!e(s))return n(s);var o=t(s),l=[];for(var u in s)u=="constructor"&&(o||!i.call(s,u))||l.push(u);return l}return vc=a,vc}var gc,vx;function kr(){if(vx)return gc;vx=1;var e=sk(),t=WL(),n=wn();function r(i){return n(i)?e(i,!0):t(i)}return gc=r,gc}var yc,gx;function YL(){if(gx)return yc;gx=1;var e=za(),t=kr();function n(r,i){return r&&e(i,t(i),r)}return yc=n,yc}var Yi={exports:{}};Yi.exports;var yx;function lk(){return yx||(yx=1,function(e,t){var n=Bt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,s=a?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=o?o(d):new u.constructor(d);return u.copy(f),f}e.exports=l}(Yi,Yi.exports)),Yi.exports}var xc,xx;function uk(){if(xx)return xc;xx=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return xc=e,xc}var wc,wx;function ck(){if(wx)return wc;wx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,s=[];++r<i;){var o=t[r];n(o,r,t)&&(s[a++]=o)}return s}return wc=e,wc}var bc,bx;function dk(){if(bx)return bc;bx=1;function e(){return[]}return bc=e,bc}var Sc,Sx;function Uv(){if(Sx)return Sc;Sx=1;var e=ck(),t=dk(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(o){return r.call(s,o)}))}:t;return Sc=a,Sc}var _c,_x;function QL(){if(_x)return _c;_x=1;var e=za(),t=Uv();function n(r,i){return e(r,t(r),i)}return _c=n,_c}var Cc,Cx;function zv(){if(Cx)return Cc;Cx=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return Cc=e,Cc}var Tc,Tx;function Zo(){if(Tx)return Tc;Tx=1;var e=ok(),t=e(Object.getPrototypeOf,Object);return Tc=t,Tc}var Ec,Ex;function fk(){if(Ex)return Ec;Ex=1;var e=zv(),t=Zo(),n=Uv(),r=dk(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)e(o,n(s)),s=t(s);return o}:r;return Ec=a,Ec}var kc,kx;function XL(){if(kx)return kc;kx=1;var e=za(),t=fk();function n(r,i){return e(r,t(r),i)}return kc=n,kc}var Pc,Px;function hk(){if(Px)return Pc;Px=1;var e=zv(),t=Ee();function n(r,i,a){var s=i(r);return t(r)?s:e(s,a(r))}return Pc=n,Pc}var jc,jx;function pk(){if(jx)return jc;jx=1;var e=hk(),t=Uv(),n=Zn();function r(i){return e(i,n,t)}return jc=r,jc}var Rc,Rx;function JL(){if(Rx)return Rc;Rx=1;var e=hk(),t=fk(),n=kr();function r(i){return e(i,n,t)}return Rc=r,Rc}var Nc,Nx;function ZL(){if(Nx)return Nc;Nx=1;var e=Er(),t=Bt(),n=e(t,"DataView");return Nc=n,Nc}var Ac,Ax;function eO(){if(Ax)return Ac;Ax=1;var e=Er(),t=Bt(),n=e(t,"Promise");return Ac=n,Ac}var Mc,Mx;function mk(){if(Mx)return Mc;Mx=1;var e=Er(),t=Bt(),n=e(t,"Set");return Mc=n,Mc}var Ic,Ix;function tO(){if(Ix)return Ic;Ix=1;var e=Er(),t=Bt(),n=e(t,"WeakMap");return Ic=n,Ic}var Dc,Dx;function _i(){if(Dx)return Dc;Dx=1;var e=ZL(),t=Ov(),n=eO(),r=mk(),i=tO(),a=Tr(),s=ik(),o="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",p=s(e),g=s(t),m=s(n),w=s(r),v=s(i),y=a;return(e&&y(new e(new ArrayBuffer(1)))!=f||t&&y(new t)!=o||n&&y(n.resolve())!=u||r&&y(new r)!=c||i&&y(new i)!=d)&&(y=function(x){var b=a(x),S=b==l?x.constructor:void 0,E=S?s(S):"";if(E)switch(E){case p:return f;case g:return o;case m:return u;case w:return c;case v:return d}return b}),Dc=y,Dc}var Lc,Lx;function nO(){if(Lx)return Lc;Lx=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return Lc=n,Lc}var Oc,Ox;function vk(){if(Ox)return Oc;Ox=1;var e=Bt(),t=e.Uint8Array;return Oc=t,Oc}var qc,qx;function Gv(){if(qx)return qc;qx=1;var e=vk();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return qc=t,qc}var Fc,Fx;function rO(){if(Fx)return Fc;Fx=1;var e=Gv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Fc=t,Fc}var Vc,Vx;function iO(){if(Vx)return Vc;Vx=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Vc=t,Vc}var Bc,Bx;function aO(){if(Bx)return Bc;Bx=1;var e=bi(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Bc=r,Bc}var $c,$x;function gk(){if($x)return $c;$x=1;var e=Gv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return $c=t,$c}var Uc,Ux;function sO(){if(Ux)return Uc;Ux=1;var e=Gv(),t=rO(),n=iO(),r=aO(),i=gk(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",p="[object ArrayBuffer]",g="[object DataView]",m="[object Float32Array]",w="[object Float64Array]",v="[object Int8Array]",y="[object Int16Array]",x="[object Int32Array]",b="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]";function C(j,M,I){var U=j.constructor;switch(M){case p:return e(j);case a:case s:return new U(+j);case g:return t(j,I);case m:case w:case v:case y:case x:case b:case S:case E:case T:return i(j,I);case o:return new U;case l:case d:return new U(j);case u:return n(j);case c:return new U;case f:return r(j)}}return Uc=C,Uc}var zc,zx;function yk(){if(zx)return zc;zx=1;var e=Pt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return zc=n,zc}var Gc,Gx;function xk(){if(Gx)return Gc;Gx=1;var e=yk(),t=Zo(),n=Jo();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return Gc=r,Gc}var Hc,Hx;function oO(){if(Hx)return Hc;Hx=1;var e=_i(),t=Zt(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return Hc=r,Hc}var Kc,Kx;function lO(){if(Kx)return Kc;Kx=1;var e=oO(),t=Xo(),n=Bv(),r=n&&n.isMap,i=r?t(r):e;return Kc=i,Kc}var Wc,Wx;function uO(){if(Wx)return Wc;Wx=1;var e=_i(),t=Zt(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return Wc=r,Wc}var Yc,Yx;function cO(){if(Yx)return Yc;Yx=1;var e=uO(),t=Xo(),n=Bv(),r=n&&n.isSet,i=r?t(r):e;return Yc=i,Yc}var Qc,Qx;function wk(){if(Qx)return Qc;Qx=1;var e=Ko(),t=Fv(),n=Yo(),r=HL(),i=YL(),a=lk(),s=uk(),o=QL(),l=XL(),u=pk(),c=JL(),d=_i(),f=nO(),p=sO(),g=xk(),m=Ee(),w=Si(),v=lO(),y=Pt(),x=cO(),b=Zn(),S=kr(),E=1,T=2,C=4,j="[object Arguments]",M="[object Array]",I="[object Boolean]",U="[object Date]",ee="[object Error]",G="[object Function]",ie="[object GeneratorFunction]",_e="[object Map]",re="[object Number]",P="[object Object]",O="[object RegExp]",q="[object Set]",B="[object String]",Q="[object Symbol]",Ne="[object WeakMap]",$e="[object ArrayBuffer]",et="[object DataView]",De="[object Float32Array]",Ye="[object Float64Array]",er="[object Int8Array]",xe="[object Int16Array]",Ti="[object Int32Array]",ot="[object Uint8Array]",Rr="[object Uint8ClampedArray]",R="[object Uint16Array]",H="[object Uint32Array]",D={};D[j]=D[M]=D[$e]=D[et]=D[I]=D[U]=D[De]=D[Ye]=D[er]=D[xe]=D[Ti]=D[_e]=D[re]=D[P]=D[O]=D[q]=D[B]=D[Q]=D[ot]=D[Rr]=D[R]=D[H]=!0,D[ee]=D[G]=D[Ne]=!1;function Y(V,we,ae,ve,gt,Ce){var Ae,Rt=we&E,en=we&T,Nr=we&C;if(ae&&(Ae=gt?ae(V,ve,gt,Ce):ae(V)),Ae!==void 0)return Ae;if(!y(V))return V;var Ei=m(V);if(Ei){if(Ae=f(V),!Rt)return s(V,Ae)}else{var Ut=d(V),Le=Ut==G||Ut==ie;if(w(V))return a(V,Rt);if(Ut==P||Ut==j||Le&&!gt){if(Ae=en||Le?{}:g(V),!Rt)return en?l(V,i(Ae,V)):o(V,r(Ae,V))}else{if(!D[Ut])return gt?V:{};Ae=p(V,Ut,Rt)}}Ce||(Ce=new e);var Z=Ce.get(V);if(Z)return Z;Ce.set(V,Ae),x(V)?V.forEach(function(yt){Ae.add(Y(yt,we,ae,yt,V,Ce))}):v(V)&&V.forEach(function(yt,Nt){Ae.set(Nt,Y(yt,we,ae,Nt,V,Ce))});var Ar=Nr?en?c:u:en?S:b,tr=Ei?void 0:Ar(V);return t(tr||V,function(yt,Nt){tr&&(Nt=yt,yt=V[Nt]),n(Ae,Nt,Y(yt,we,ae,Nt,V,Ce))}),Ae}return Qc=Y,Qc}var Xc,Xx;function dO(){if(Xx)return Xc;Xx=1;var e=wk(),t=4;function n(r){return e(r,t)}return Xc=n,Xc}var Jc,Jx;function Hv(){if(Jx)return Jc;Jx=1;function e(t){return function(){return t}}return Jc=e,Jc}var Zc,Zx;function fO(){if(Zx)return Zc;Zx=1;function e(t){return function(n,r,i){for(var a=-1,s=Object(n),o=i(n),l=o.length;l--;){var u=o[t?l:++a];if(r(s[u],u,s)===!1)break}return n}}return Zc=e,Zc}var ed,ew;function Kv(){if(ew)return ed;ew=1;var e=fO(),t=e();return ed=t,ed}var td,tw;function Wv(){if(tw)return td;tw=1;var e=Kv(),t=Zn();function n(r,i){return r&&e(r,i,t)}return td=n,td}var nd,nw;function hO(){if(nw)return nd;nw=1;var e=wn();function t(n,r){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var s=i.length,o=r?s:-1,l=Object(i);(r?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return nd=t,nd}var rd,rw;function el(){if(rw)return rd;rw=1;var e=Wv(),t=hO(),n=t(e);return rd=n,rd}var id,iw;function Pr(){if(iw)return id;iw=1;function e(t){return t}return id=e,id}var ad,aw;function bk(){if(aw)return ad;aw=1;var e=Pr();function t(n){return typeof n=="function"?n:e}return ad=t,ad}var sd,sw;function Sk(){if(sw)return sd;sw=1;var e=Fv(),t=el(),n=bk(),r=Ee();function i(a,s){var o=r(a)?e:t;return o(a,n(s))}return sd=i,sd}var od,ow;function _k(){return ow||(ow=1,od=Sk()),od}var ld,lw;function pO(){if(lw)return ld;lw=1;var e=el();function t(n,r){var i=[];return e(n,function(a,s,o){r(a,s,o)&&i.push(a)}),i}return ld=t,ld}var ud,uw;function mO(){if(uw)return ud;uw=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return ud=t,ud}var cd,cw;function vO(){if(cw)return cd;cw=1;function e(t){return this.__data__.has(t)}return cd=e,cd}var dd,dw;function Ck(){if(dw)return dd;dw=1;var e=qv(),t=mO(),n=vO();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new e;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,dd=r,dd}var fd,fw;function gO(){if(fw)return fd;fw=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return fd=e,fd}var hd,hw;function Tk(){if(hw)return hd;hw=1;function e(t,n){return t.has(n)}return hd=e,hd}var pd,pw;function Ek(){if(pw)return pd;pw=1;var e=Ck(),t=gO(),n=Tk(),r=1,i=2;function a(s,o,l,u,c,d){var f=l&r,p=s.length,g=o.length;if(p!=g&&!(f&&g>p))return!1;var m=d.get(s),w=d.get(o);if(m&&w)return m==o&&w==s;var v=-1,y=!0,x=l&i?new e:void 0;for(d.set(s,o),d.set(o,s);++v<p;){var b=s[v],S=o[v];if(u)var E=f?u(S,b,v,o,s,d):u(b,S,v,s,o,d);if(E!==void 0){if(E)continue;y=!1;break}if(x){if(!t(o,function(T,C){if(!n(x,C)&&(b===T||c(b,T,l,u,d)))return x.push(C)})){y=!1;break}}else if(!(b===S||c(b,S,l,u,d))){y=!1;break}}return d.delete(s),d.delete(o),y}return pd=a,pd}var md,mw;function yO(){if(mw)return md;mw=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return md=e,md}var vd,vw;function Yv(){if(vw)return vd;vw=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return vd=e,vd}var gd,gw;function xO(){if(gw)return gd;gw=1;var e=bi(),t=vk(),n=wi(),r=Ek(),i=yO(),a=Yv(),s=1,o=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",p="[object RegExp]",g="[object Set]",m="[object String]",w="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",x=e?e.prototype:void 0,b=x?x.valueOf:void 0;function S(E,T,C,j,M,I,U){switch(C){case y:if(E.byteLength!=T.byteLength||E.byteOffset!=T.byteOffset)return!1;E=E.buffer,T=T.buffer;case v:return!(E.byteLength!=T.byteLength||!I(new t(E),new t(T)));case l:case u:case f:return n(+E,+T);case c:return E.name==T.name&&E.message==T.message;case p:case m:return E==T+"";case d:var ee=i;case g:var G=j&s;if(ee||(ee=a),E.size!=T.size&&!G)return!1;var ie=U.get(E);if(ie)return ie==T;j|=o,U.set(E,T);var _e=r(ee(E),ee(T),j,M,I,U);return U.delete(E),_e;case w:if(b)return b.call(E)==b.call(T)}return!1}return gd=S,gd}var yd,yw;function wO(){if(yw)return yd;yw=1;var e=pk(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o,l,u,c){var d=o&t,f=e(a),p=f.length,g=e(s),m=g.length;if(p!=m&&!d)return!1;for(var w=p;w--;){var v=f[w];if(!(d?v in s:r.call(s,v)))return!1}var y=c.get(a),x=c.get(s);if(y&&x)return y==s&&x==a;var b=!0;c.set(a,s),c.set(s,a);for(var S=d;++w<p;){v=f[w];var E=a[v],T=s[v];if(l)var C=d?l(T,E,v,s,a,c):l(E,T,v,a,s,c);if(!(C===void 0?E===T||u(E,T,o,l,c):C)){b=!1;break}S||(S=v=="constructor")}if(b&&!S){var j=a.constructor,M=s.constructor;j!=M&&"constructor"in a&&"constructor"in s&&!(typeof j=="function"&&j instanceof j&&typeof M=="function"&&M instanceof M)&&(b=!1)}return c.delete(a),c.delete(s),b}return yd=i,yd}var xd,xw;function bO(){if(xw)return xd;xw=1;var e=Ko(),t=Ek(),n=xO(),r=wO(),i=_i(),a=Ee(),s=Si(),o=Ha(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,p=f.hasOwnProperty;function g(m,w,v,y,x,b){var S=a(m),E=a(w),T=S?c:i(m),C=E?c:i(w);T=T==u?d:T,C=C==u?d:C;var j=T==d,M=C==d,I=T==C;if(I&&s(m)){if(!s(w))return!1;S=!0,j=!1}if(I&&!j)return b||(b=new e),S||o(m)?t(m,w,v,y,x,b):n(m,w,T,v,y,x,b);if(!(v&l)){var U=j&&p.call(m,"__wrapped__"),ee=M&&p.call(w,"__wrapped__");if(U||ee){var G=U?m.value():m,ie=ee?w.value():w;return b||(b=new e),x(G,ie,v,y,b)}}return I?(b||(b=new e),r(m,w,v,y,x,b)):!1}return xd=g,xd}var wd,ww;function kk(){if(ww)return wd;ww=1;var e=bO(),t=Zt();function n(r,i,a,s,o){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,s,n,o)}return wd=n,wd}var bd,bw;function SO(){if(bw)return bd;bw=1;var e=Ko(),t=kk(),n=1,r=2;function i(a,s,o,l){var u=o.length,c=u,d=!l;if(a==null)return!c;for(a=Object(a);u--;){var f=o[u];if(d&&f[2]?f[1]!==a[f[0]]:!(f[0]in a))return!1}for(;++u<c;){f=o[u];var p=f[0],g=a[p],m=f[1];if(d&&f[2]){if(g===void 0&&!(p in a))return!1}else{var w=new e;if(l)var v=l(g,m,p,a,s,w);if(!(v===void 0?t(m,g,n|r,l,w):v))return!1}}return!0}return bd=i,bd}var Sd,Sw;function Pk(){if(Sw)return Sd;Sw=1;var e=Pt();function t(n){return n===n&&!e(n)}return Sd=t,Sd}var _d,_w;function _O(){if(_w)return _d;_w=1;var e=Pk(),t=Zn();function n(r){for(var i=t(r),a=i.length;a--;){var s=i[a],o=r[s];i[a]=[s,o,e(o)]}return i}return _d=n,_d}var Cd,Cw;function jk(){if(Cw)return Cd;Cw=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Cd=e,Cd}var Td,Tw;function CO(){if(Tw)return Td;Tw=1;var e=SO(),t=_O(),n=jk();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||e(s,i,a)}}return Td=r,Td}var Ed,Ew;function Ci(){if(Ew)return Ed;Ew=1;var e=Tr(),t=Zt(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Ed=r,Ed}var kd,kw;function Qv(){if(kw)return kd;kw=1;var e=Ee(),t=Ci(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(e(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return kd=i,kd}var Pd,Pw;function TO(){if(Pw)return Pd;Pw=1;var e=qv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var u=r.apply(this,s);return a.cache=l.set(o,u)||l,u};return a.cache=new(n.Cache||e),a}return n.Cache=e,Pd=n,Pd}var jd,jw;function EO(){if(jw)return jd;jw=1;var e=TO(),t=500;function n(r){var i=e(r,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return jd=n,jd}var Rd,Rw;function kO(){if(Rw)return Rd;Rw=1;var e=EO(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,o,l,u){a.push(l?u.replace(n,"$1"):o||s)}),a});return Rd=r,Rd}var Nd,Nw;function tl(){if(Nw)return Nd;Nw=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return Nd=e,Nd}var Ad,Aw;function PO(){if(Aw)return Ad;Aw=1;var e=bi(),t=tl(),n=Ee(),r=Ci(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(n(o))return t(o,s)+"";if(r(o))return a?a.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return Ad=s,Ad}var Md,Mw;function Rk(){if(Mw)return Md;Mw=1;var e=PO();function t(n){return n==null?"":e(n)}return Md=t,Md}var Id,Iw;function nl(){if(Iw)return Id;Iw=1;var e=Ee(),t=Qv(),n=kO(),r=Rk();function i(a,s){return e(a)?a:t(a,s)?[a]:n(r(a))}return Id=i,Id}var Dd,Dw;function Ka(){if(Dw)return Dd;Dw=1;var e=Ci();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Dd=t,Dd}var Ld,Lw;function rl(){if(Lw)return Ld;Lw=1;var e=nl(),t=Ka();function n(r,i){i=e(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[t(i[a++])];return a&&a==s?r:void 0}return Ld=n,Ld}var Od,Ow;function jO(){if(Ow)return Od;Ow=1;var e=rl();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return Od=t,Od}var qd,qw;function RO(){if(qw)return qd;qw=1;function e(t,n){return t!=null&&n in Object(t)}return qd=e,qd}var Fd,Fw;function Nk(){if(Fw)return Fd;Fw=1;var e=nl(),t=Ga(),n=Ee(),r=Qo(),i=Vv(),a=Ka();function s(o,l,u){l=e(l,o);for(var c=-1,d=l.length,f=!1;++c<d;){var p=a(l[c]);if(!(f=o!=null&&u(o,p)))break;o=o[p]}return f||++c!=d?f:(d=o==null?0:o.length,!!d&&i(d)&&r(p,d)&&(n(o)||t(o)))}return Fd=s,Fd}var Vd,Vw;function Ak(){if(Vw)return Vd;Vw=1;var e=RO(),t=Nk();function n(r,i){return r!=null&&t(r,i,e)}return Vd=n,Vd}var Bd,Bw;function NO(){if(Bw)return Bd;Bw=1;var e=kk(),t=jO(),n=Ak(),r=Qv(),i=Pk(),a=jk(),s=Ka(),o=1,l=2;function u(c,d){return r(c)&&i(d)?a(s(c),d):function(f){var p=t(f,c);return p===void 0&&p===d?n(f,c):e(d,p,o|l)}}return Bd=u,Bd}var $d,$w;function Mk(){if($w)return $d;$w=1;function e(t){return function(n){return n==null?void 0:n[t]}}return $d=e,$d}var Ud,Uw;function AO(){if(Uw)return Ud;Uw=1;var e=rl();function t(n){return function(r){return e(r,n)}}return Ud=t,Ud}var zd,zw;function MO(){if(zw)return zd;zw=1;var e=Mk(),t=AO(),n=Qv(),r=Ka();function i(a){return n(a)?e(r(a)):t(a)}return zd=i,zd}var Gd,Gw;function bn(){if(Gw)return Gd;Gw=1;var e=CO(),t=NO(),n=Pr(),r=Ee(),i=MO();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return Gd=a,Gd}var Hd,Hw;function Ik(){if(Hw)return Hd;Hw=1;var e=ck(),t=pO(),n=bn(),r=Ee();function i(a,s){var o=r(a)?e:t;return o(a,n(s,3))}return Hd=i,Hd}var Kd,Kw;function IO(){if(Kw)return Kd;Kw=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Kd=n,Kd}var Wd,Ww;function Dk(){if(Ww)return Wd;Ww=1;var e=IO(),t=Nk();function n(r,i){return r!=null&&t(r,i,e)}return Wd=n,Wd}var Yd,Yw;function DO(){if(Yw)return Yd;Yw=1;var e=$v(),t=_i(),n=Ga(),r=Ee(),i=wn(),a=Si(),s=Jo(),o=Ha(),l="[object Map]",u="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||a(p)||o(p)||n(p)))return!p.length;var g=t(p);if(g==l||g==u)return!p.size;if(s(p))return!e(p).length;for(var m in p)if(d.call(p,m))return!1;return!0}return Yd=f,Yd}var Qd,Qw;function Lk(){if(Qw)return Qd;Qw=1;function e(t){return t===void 0}return Qd=e,Qd}var Xd,Xw;function Ok(){if(Xw)return Xd;Xw=1;var e=el(),t=wn();function n(r,i){var a=-1,s=t(r)?Array(r.length):[];return e(r,function(o,l,u){s[++a]=i(o,l,u)}),s}return Xd=n,Xd}var Jd,Jw;function qk(){if(Jw)return Jd;Jw=1;var e=tl(),t=bn(),n=Ok(),r=Ee();function i(a,s){var o=r(a)?e:n;return o(a,t(s,3))}return Jd=i,Jd}var Zd,Zw;function LO(){if(Zw)return Zd;Zw=1;function e(t,n,r,i){var a=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++a]);++a<s;)r=n(r,t[a],a,t);return r}return Zd=e,Zd}var ef,eb;function OO(){if(eb)return ef;eb=1;function e(t,n,r,i,a){return a(t,function(s,o,l){r=i?(i=!1,s):n(r,s,o,l)}),r}return ef=e,ef}var tf,tb;function Fk(){if(tb)return tf;tb=1;var e=LO(),t=el(),n=bn(),r=OO(),i=Ee();function a(s,o,l){var u=i(s)?e:r,c=arguments.length<3;return u(s,n(o,4),l,c,t)}return tf=a,tf}var nf,nb;function qO(){if(nb)return nf;nb=1;var e=Tr(),t=Ee(),n=Zt(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return nf=i,nf}var rf,rb;function FO(){if(rb)return rf;rb=1;var e=Mk(),t=e("length");return rf=t,rf}var af,ib;function VO(){if(ib)return af;ib=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+e+i+a+"]");function l(u){return o.test(u)}return af=l,af}var sf,ab;function BO(){if(ab)return sf;ab=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",s="["+e+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",g=u+"?",m="["+a+"]?",w="(?:"+p+"(?:"+[c,d,f].join("|")+")"+m+g+")*",v=m+g+w,y="(?:"+[c+o+"?",o,d,f,s].join("|")+")",x=RegExp(l+"(?="+l+")|"+y+v,"g");function b(S){for(var E=x.lastIndex=0;x.test(S);)++E;return E}return sf=b,sf}var of,sb;function $O(){if(sb)return of;sb=1;var e=FO(),t=VO(),n=BO();function r(i){return t(i)?n(i):e(i)}return of=r,of}var lf,ob;function UO(){if(ob)return lf;ob=1;var e=$v(),t=_i(),n=wn(),r=qO(),i=$O(),a="[object Map]",s="[object Set]";function o(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==a||u==s?l.size:e(l).length}return lf=o,lf}var uf,lb;function zO(){if(lb)return uf;lb=1;var e=Fv(),t=yk(),n=Wv(),r=bn(),i=Zo(),a=Ee(),s=Si(),o=Ua(),l=Pt(),u=Ha();function c(d,f,p){var g=a(d),m=g||s(d)||u(d);if(f=r(f,4),p==null){var w=d&&d.constructor;m?p=g?new w:[]:l(d)?p=o(w)?t(i(d)):{}:p={}}return(m?e:n)(d,function(v,y,x){return f(p,v,y,x)}),p}return uf=c,uf}var cf,ub;function GO(){if(ub)return cf;ub=1;var e=bi(),t=Ga(),n=Ee(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return cf=i,cf}var df,cb;function Xv(){if(cb)return df;cb=1;var e=zv(),t=GO();function n(r,i,a,s,o){var l=-1,u=r.length;for(a||(a=t),o||(o=[]);++l<u;){var c=r[l];i>0&&a(c)?i>1?n(c,i-1,a,s,o):e(o,c):s||(o[o.length]=c)}return o}return df=n,df}var ff,db;function HO(){if(db)return ff;db=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return ff=e,ff}var hf,fb;function Vk(){if(fb)return hf;fb=1;var e=HO(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,l=t(s.length-i,0),u=Array(l);++o<l;)u[o]=s[i+o];o=-1;for(var c=Array(i+1);++o<i;)c[o]=s[o];return c[i]=a(u),e(r,this,c)}}return hf=n,hf}var pf,hb;function KO(){if(hb)return pf;hb=1;var e=Hv(),t=ak(),n=Pr(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return pf=r,pf}var mf,pb;function WO(){if(pb)return mf;pb=1;var e=800,t=16,n=Date.now;function r(i){var a=0,s=0;return function(){var o=n(),l=t-(o-s);if(s=o,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return mf=r,mf}var vf,mb;function Bk(){if(mb)return vf;mb=1;var e=KO(),t=WO(),n=t(e);return vf=n,vf}var gf,vb;function il(){if(vb)return gf;vb=1;var e=Pr(),t=Vk(),n=Bk();function r(i,a){return n(t(i,a,e),i+"")}return gf=r,gf}var yf,gb;function $k(){if(gb)return yf;gb=1;function e(t,n,r,i){for(var a=t.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(t[s],s,t))return s;return-1}return yf=e,yf}var xf,yb;function YO(){if(yb)return xf;yb=1;function e(t){return t!==t}return xf=e,xf}var wf,xb;function QO(){if(xb)return wf;xb=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return wf=e,wf}var bf,wb;function XO(){if(wb)return bf;wb=1;var e=$k(),t=YO(),n=QO();function r(i,a,s){return a===a?n(i,a,s):e(i,t,s)}return bf=r,bf}var Sf,bb;function JO(){if(bb)return Sf;bb=1;var e=XO();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Sf=t,Sf}var _f,Sb;function ZO(){if(Sb)return _f;Sb=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return _f=e,_f}var Cf,_b;function eq(){if(_b)return Cf;_b=1;function e(){}return Cf=e,Cf}var Tf,Cb;function tq(){if(Cb)return Tf;Cb=1;var e=mk(),t=eq(),n=Yv(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return Tf=i,Tf}var Ef,Tb;function nq(){if(Tb)return Ef;Tb=1;var e=Ck(),t=JO(),n=ZO(),r=Tk(),i=tq(),a=Yv(),s=200;function o(l,u,c){var d=-1,f=t,p=l.length,g=!0,m=[],w=m;if(c)g=!1,f=n;else if(p>=s){var v=u?null:i(l);if(v)return a(v);g=!1,f=r,w=new e}else w=u?[]:m;e:for(;++d<p;){var y=l[d],x=u?u(y):y;if(y=c||y!==0?y:0,g&&x===x){for(var b=w.length;b--;)if(w[b]===x)continue e;u&&w.push(x),m.push(y)}else f(w,x,c)||(w!==m&&w.push(x),m.push(y))}return m}return Ef=o,Ef}var kf,Eb;function Uk(){if(Eb)return kf;Eb=1;var e=wn(),t=Zt();function n(r){return t(r)&&e(r)}return kf=n,kf}var Pf,kb;function rq(){if(kb)return Pf;kb=1;var e=Xv(),t=il(),n=nq(),r=Uk(),i=t(function(a){return n(e(a,1,r,!0))});return Pf=i,Pf}var jf,Pb;function iq(){if(Pb)return jf;Pb=1;var e=tl();function t(n,r){return e(r,function(i){return n[i]})}return jf=t,jf}var Rf,jb;function zk(){if(jb)return Rf;jb=1;var e=iq(),t=Zn();function n(r){return r==null?[]:e(r,t(r))}return Rf=n,Rf}var Nf,Rb;function jt(){if(Rb)return Nf;Rb=1;var e;if(typeof Lv=="function")try{e={clone:dO(),constant:Hv(),each:_k(),filter:Ik(),has:Dk(),isArray:Ee(),isEmpty:DO(),isFunction:Ua(),isUndefined:Lk(),keys:Zn(),map:qk(),reduce:Fk(),size:UO(),transform:zO(),union:rq(),values:zk()}}catch{}return e||(e=window._),Nf=e,Nf}var Af,Nb;function Jv(){if(Nb)return Af;Nb=1;var e=jt();Af=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,p=this;return e.each(c,function(g){f.length>1?p.setNode(g,d):p.setNode(g)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(p){d.removeEdge(d._edgeObjs[p])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(p){d.setParent(p)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(m,w){c(w)&&d.setNode(w,m)}),e.each(this._edgeObjs,function(m){d.hasNode(m.v)&&d.hasNode(m.w)&&d.setEdge(m,f.edge(m))});var p={};function g(m){var w=f.parent(m);return w===void 0||d.hasNode(w)?(p[m]=w,w):w in p?p[w]:g(w)}return this._isCompound&&e.each(d.nodes(),function(m){d.setParent(m,g(m))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,p=arguments;return e.reduce(c,function(g,m){return p.length>1?f.setEdge(g,m,d):f.setEdge(g,m),m}),this},i.prototype.setEdge=function(){var c,d,f,p,g=!1,m=arguments[0];typeof m=="object"&&m!==null&&"v"in m?(c=m.v,d=m.w,f=m.name,arguments.length===2&&(p=arguments[1],g=!0)):(c=m,d=arguments[1],f=arguments[3],arguments.length>2&&(p=arguments[2],g=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var w=o(this._isDirected,c,d,f);if(e.has(this._edgeLabels,w))return g&&(this._edgeLabels[w]=p),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[w]=g?p:this._defaultEdgeLabelFn(c,d,f);var v=l(this._isDirected,c,d,f);return c=v.v,d=v.w,Object.freeze(v),this._edgeObjs[w]=v,a(this._preds[d],c),a(this._sucs[c],d),this._in[d][w]=v,this._out[c][w]=v,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var p=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,f);return this._edgeLabels[p]},i.prototype.hasEdge=function(c,d,f){var p=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,f);return e.has(this._edgeLabels,p)},i.prototype.removeEdge=function(c,d,f){var p=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,c,d,f),g=this._edgeObjs[p];return g&&(c=g.v,d=g.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[d],c),s(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var p=e.values(f);return d?e.filter(p,function(g){return g.v===d}):p}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var p=e.values(f);return d?e.filter(p,function(g){return g.w===d}):p}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function a(c,d){c[d]?c[d]++:c[d]=1}function s(c,d){--c[d]||delete c[d]}function o(c,d,f,p){var g=""+d,m=""+f;if(!c&&g>m){var w=g;g=m,m=w}return g+r+m+r+(e.isUndefined(p)?t:p)}function l(c,d,f,p){var g=""+d,m=""+f;if(!c&&g>m){var w=g;g=m,m=w}var v={v:g,w:m};return p&&(v.name=p),v}function u(c,d){return o(c,d.v,d.w,d.name)}return Af}var Mf,Ab;function aq(){return Ab||(Ab=1,Mf="2.1.8"),Mf}var If,Mb;function sq(){return Mb||(Mb=1,If={Graph:Jv(),version:aq()}),If}var Df,Ib;function oq(){if(Ib)return Df;Ib=1;var e=jt(),t=Jv();Df={write:n,read:a};function n(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:r(s),edges:i(s)};return e.isUndefined(s.graph())||(o.value=e.clone(s.graph())),o}function r(s){return e.map(s.nodes(),function(o){var l=s.node(o),u=s.parent(o),c={v:o};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(s){return e.map(s.edges(),function(o){var l=s.edge(o),u={v:o.v,w:o.w};return e.isUndefined(o.name)||(u.name=o.name),e.isUndefined(l)||(u.value=l),u})}function a(s){var o=new t(s.options).setGraph(s.value);return e.each(s.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),e.each(s.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return Df}var Lf,Db;function lq(){if(Db)return Lf;Db=1;var e=jt();Lf=t;function t(n){var r={},i=[],a;function s(o){e.has(r,o)||(r[o]=!0,a.push(o),e.each(n.successors(o),s),e.each(n.predecessors(o),s))}return e.each(n.nodes(),function(o){a=[],s(o),a.length&&i.push(a)}),i}return Lf}var Of,Lb;function Gk(){if(Lb)return Of;Lb=1;var e=jt();Of=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var a=this._arr,s=a.length;return i[n]=s,a.push({key:n,priority:r}),this._decrease(s),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,a=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,a<r.length&&(s=r[a].priority<r[s].priority?a:s),s!==n&&(this._swap(n,s),this._heapify(s)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,a;n!==0&&(a=n>>1,!(r[a].priority<i));)this._swap(n,a),n=a},t.prototype._swap=function(n,r){var i=this._arr,a=this._keyIndices,s=i[n],o=i[r];i[n]=o,i[r]=s,a[o.key]=n,a[s.key]=r},Of}var qf,Ob;function Hk(){if(Ob)return qf;Ob=1;var e=jt(),t=Gk();qf=r;var n=e.constant(1);function r(a,s,o,l){return i(a,String(s),o||n,l||function(u){return a.outEdges(u)})}function i(a,s,o,l){var u={},c=new t,d,f,p=function(g){var m=g.v!==d?g.v:g.w,w=u[m],v=o(g),y=f.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+v);y<w.distance&&(w.distance=y,w.predecessor=d,c.decrease(m,y))};for(a.nodes().forEach(function(g){var m=g===s?0:Number.POSITIVE_INFINITY;u[g]={distance:m},c.add(g,m)});c.size()>0&&(d=c.removeMin(),f=u[d],f.distance!==Number.POSITIVE_INFINITY);)l(d).forEach(p);return u}return qf}var Ff,qb;function uq(){if(qb)return Ff;qb=1;var e=Hk(),t=jt();Ff=n;function n(r,i,a){return t.transform(r.nodes(),function(s,o){s[o]=e(r,o,i,a)},{})}return Ff}var Vf,Fb;function Kk(){if(Fb)return Vf;Fb=1;var e=jt();Vf=t;function t(n){var r=0,i=[],a={},s=[];function o(l){var u=a[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(f){e.has(a,f)?a[f].onStack&&(u.lowlink=Math.min(u.lowlink,a[f].index)):(o(f),u.lowlink=Math.min(u.lowlink,a[f].lowlink))}),u.lowlink===u.index){var c=[],d;do d=i.pop(),a[d].onStack=!1,c.push(d);while(l!==d);s.push(c)}}return n.nodes().forEach(function(l){e.has(a,l)||o(l)}),s}return Vf}var Bf,Vb;function cq(){if(Vb)return Bf;Vb=1;var e=jt(),t=Kk();Bf=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Bf}var $f,Bb;function dq(){if(Bb)return $f;Bb=1;var e=jt();$f=n;var t=e.constant(1);function n(i,a,s){return r(i,a||t,s||function(o){return i.outEdges(o)})}function r(i,a,s){var o={},l=i.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(c){u!==c&&(o[u][c]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(c){var d=c.v===u?c.w:c.v,f=a(c);o[u][d]={distance:f,predecessor:u}})}),l.forEach(function(u){var c=o[u];l.forEach(function(d){var f=o[d];l.forEach(function(p){var g=f[u],m=c[p],w=f[p],v=g.distance+m.distance;v<w.distance&&(w.distance=v,w.predecessor=m.predecessor)})})}),o}return $f}var Uf,$b;function Wk(){if($b)return Uf;$b=1;var e=jt();Uf=t,t.CycleException=n;function t(r){var i={},a={},s=[];function o(l){if(e.has(a,l))throw new n;e.has(i,l)||(a[l]=!0,i[l]=!0,e.each(r.predecessors(l),o),delete a[l],s.push(l))}if(e.each(r.sinks(),o),e.size(i)!==r.nodeCount())throw new n;return s}function n(){}return n.prototype=new Error,Uf}var zf,Ub;function fq(){if(Ub)return zf;Ub=1;var e=Wk();zf=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return zf}var Gf,zb;function Yk(){if(zb)return Gf;zb=1;var e=jt();Gf=t;function t(r,i,a){e.isArray(i)||(i=[i]);var s=(r.isDirected()?r.successors:r.neighbors).bind(r),o=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,a==="post",l,s,o)}),o}function n(r,i,a,s,o,l){e.has(s,i)||(s[i]=!0,a||l.push(i),e.each(o(i),function(u){n(r,u,a,s,o,l)}),a&&l.push(i))}return Gf}var Hf,Gb;function hq(){if(Gb)return Hf;Gb=1;var e=Yk();Hf=t;function t(n,r){return e(n,r,"post")}return Hf}var Kf,Hb;function pq(){if(Hb)return Kf;Hb=1;var e=Yk();Kf=t;function t(n,r){return e(n,r,"pre")}return Kf}var Wf,Kb;function mq(){if(Kb)return Wf;Kb=1;var e=jt(),t=Jv(),n=Gk();Wf=r;function r(i,a){var s=new t,o={},l=new n,u;function c(f){var p=f.v===u?f.w:f.v,g=l.priority(p);if(g!==void 0){var m=a(f);m<g&&(o[p]=u,l.decrease(p,m))}}if(i.nodeCount()===0)return s;e.each(i.nodes(),function(f){l.add(f,Number.POSITIVE_INFINITY),s.setNode(f)}),l.decrease(i.nodes()[0],0);for(var d=!1;l.size()>0;){if(u=l.removeMin(),e.has(o,u))s.setEdge(u,o[u]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(u).forEach(c)}return s}return Wf}var Yf,Wb;function vq(){return Wb||(Wb=1,Yf={components:lq(),dijkstra:Hk(),dijkstraAll:uq(),findCycles:cq(),floydWarshall:dq(),isAcyclic:fq(),postorder:hq(),preorder:pq(),prim:mq(),tarjan:Kk(),topsort:Wk()}),Yf}var Qf,Yb;function gq(){if(Yb)return Qf;Yb=1;var e=sq();return Qf={Graph:e.Graph,json:oq(),alg:vq(),version:e.version},Qf}var vo;if(typeof Lv=="function")try{vo=gq()}catch{}vo||(vo=window.graphlib);var $t=vo,Xf,Qb;function yq(){if(Qb)return Xf;Qb=1;var e=wk(),t=1,n=4;function r(i){return e(i,t|n)}return Xf=r,Xf}var Jf,Xb;function al(){if(Xb)return Jf;Xb=1;var e=wi(),t=wn(),n=Qo(),r=Pt();function i(a,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?t(o)&&n(s,o.length):l=="string"&&s in o)?e(o[s],a):!1}return Jf=i,Jf}var Zf,Jb;function xq(){if(Jb)return Zf;Jb=1;var e=il(),t=wi(),n=al(),r=kr(),i=Object.prototype,a=i.hasOwnProperty,s=e(function(o,l){o=Object(o);var u=-1,c=l.length,d=c>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(c=1);++u<c;)for(var f=l[u],p=r(f),g=-1,m=p.length;++g<m;){var w=p[g],v=o[w];(v===void 0||t(v,i[w])&&!a.call(o,w))&&(o[w]=f[w])}return o});return Zf=s,Zf}var eh,Zb;function wq(){if(Zb)return eh;Zb=1;var e=bn(),t=wn(),n=Zn();function r(i){return function(a,s,o){var l=Object(a);if(!t(a)){var u=e(s,3);a=n(a),s=function(d){return u(l[d],d,l)}}var c=i(a,s,o);return c>-1?l[u?a[c]:c]:void 0}}return eh=r,eh}var th,eS;function bq(){if(eS)return th;eS=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return th=t,th}var nh,tS;function Sq(){if(tS)return nh;tS=1;var e=bq(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return nh=n,nh}var rh,nS;function _q(){if(nS)return rh;nS=1;var e=Sq(),t=Pt(),n=Ci(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=a.test(u);return d||s.test(u)?o(u.slice(2),d?2:8):i.test(u)?r:+u}return rh=l,rh}var ih,rS;function Qk(){if(rS)return ih;rS=1;var e=_q(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*n}return i===i?i:0}return ih=r,ih}var ah,iS;function Cq(){if(iS)return ah;iS=1;var e=Qk();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return ah=t,ah}var sh,aS;function Tq(){if(aS)return sh;aS=1;var e=$k(),t=bn(),n=Cq(),r=Math.max;function i(a,s,o){var l=a==null?0:a.length;if(!l)return-1;var u=o==null?0:n(o);return u<0&&(u=r(l+u,0)),e(a,t(s,3),u)}return sh=i,sh}var oh,sS;function Eq(){if(sS)return oh;sS=1;var e=wq(),t=Tq(),n=e(t);return oh=n,oh}var lh,oS;function Xk(){if(oS)return lh;oS=1;var e=Xv();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return lh=t,lh}var uh,lS;function kq(){if(lS)return uh;lS=1;var e=Kv(),t=bk(),n=kr();function r(i,a){return i==null?i:e(i,t(a),n)}return uh=r,uh}var ch,uS;function Pq(){if(uS)return ch;uS=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return ch=e,ch}var dh,cS;function jq(){if(cS)return dh;cS=1;var e=Wo(),t=Wv(),n=bn();function r(i,a){var s={};return a=n(a,3),t(i,function(o,l,u){e(s,l,a(o,l,u))}),s}return dh=r,dh}var fh,dS;function Zv(){if(dS)return fh;dS=1;var e=Ci();function t(n,r,i){for(var a=-1,s=n.length;++a<s;){var o=n[a],l=r(o);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=o}return c}return fh=t,fh}var hh,fS;function Rq(){if(fS)return hh;fS=1;function e(t,n){return t>n}return hh=e,hh}var ph,hS;function Nq(){if(hS)return ph;hS=1;var e=Zv(),t=Rq(),n=Pr();function r(i){return i&&i.length?e(i,n,t):void 0}return ph=r,ph}var mh,pS;function Jk(){if(pS)return mh;pS=1;var e=Wo(),t=wi();function n(r,i,a){(a!==void 0&&!t(r[i],a)||a===void 0&&!(i in r))&&e(r,i,a)}return mh=n,mh}var vh,mS;function Aq(){if(mS)return vh;mS=1;var e=Tr(),t=Zo(),n=Zt(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var f=o.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==l}return vh=u,vh}var gh,vS;function Zk(){if(vS)return gh;vS=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return gh=e,gh}var yh,gS;function Mq(){if(gS)return yh;gS=1;var e=za(),t=kr();function n(r){return e(r,t(r))}return yh=n,yh}var xh,yS;function Iq(){if(yS)return xh;yS=1;var e=Jk(),t=lk(),n=gk(),r=uk(),i=xk(),a=Ga(),s=Ee(),o=Uk(),l=Si(),u=Ua(),c=Pt(),d=Aq(),f=Ha(),p=Zk(),g=Mq();function m(w,v,y,x,b,S,E){var T=p(w,y),C=p(v,y),j=E.get(C);if(j){e(w,y,j);return}var M=S?S(T,C,y+"",w,v,E):void 0,I=M===void 0;if(I){var U=s(C),ee=!U&&l(C),G=!U&&!ee&&f(C);M=C,U||ee||G?s(T)?M=T:o(T)?M=r(T):ee?(I=!1,M=t(C,!0)):G?(I=!1,M=n(C,!0)):M=[]:d(C)||a(C)?(M=T,a(T)?M=g(T):(!c(T)||u(T))&&(M=i(C))):I=!1}I&&(E.set(C,M),b(M,C,x,S,E),E.delete(C)),e(w,y,M)}return xh=m,xh}var wh,xS;function Dq(){if(xS)return wh;xS=1;var e=Ko(),t=Jk(),n=Kv(),r=Iq(),i=Pt(),a=kr(),s=Zk();function o(l,u,c,d,f){l!==u&&n(u,function(p,g){if(f||(f=new e),i(p))r(l,u,g,c,o,d,f);else{var m=d?d(s(l,g),p,g+"",l,u,f):void 0;m===void 0&&(m=p),t(l,g,m)}},a)}return wh=o,wh}var bh,wS;function Lq(){if(wS)return bh;wS=1;var e=il(),t=al();function n(r){return e(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,u=o>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,u&&t(a[0],a[1],u)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var c=a[s];c&&r(i,c,s,l)}return i})}return bh=n,bh}var Sh,bS;function Oq(){if(bS)return Sh;bS=1;var e=Dq(),t=Lq(),n=t(function(r,i,a){e(r,i,a)});return Sh=n,Sh}var _h,SS;function eP(){if(SS)return _h;SS=1;function e(t,n){return t<n}return _h=e,_h}var Ch,_S;function qq(){if(_S)return Ch;_S=1;var e=Zv(),t=eP(),n=Pr();function r(i){return i&&i.length?e(i,n,t):void 0}return Ch=r,Ch}var Th,CS;function Fq(){if(CS)return Th;CS=1;var e=Zv(),t=bn(),n=eP();function r(i,a){return i&&i.length?e(i,t(a,2),n):void 0}return Th=r,Th}var Eh,TS;function Vq(){if(TS)return Eh;TS=1;var e=Bt(),t=function(){return e.Date.now()};return Eh=t,Eh}var kh,ES;function Bq(){if(ES)return kh;ES=1;var e=Yo(),t=nl(),n=Qo(),r=Pt(),i=Ka();function a(s,o,l,u){if(!r(s))return s;o=t(o,s);for(var c=-1,d=o.length,f=d-1,p=s;p!=null&&++c<d;){var g=i(o[c]),m=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return s;if(c!=f){var w=p[g];m=u?u(w,g,p):void 0,m===void 0&&(m=r(w)?w:n(o[c+1])?[]:{})}e(p,g,m),p=p[g]}return s}return kh=a,kh}var Ph,kS;function $q(){if(kS)return Ph;kS=1;var e=rl(),t=Bq(),n=nl();function r(i,a,s){for(var o=-1,l=a.length,u={};++o<l;){var c=a[o],d=e(i,c);s(d,c)&&t(u,n(c,i),d)}return u}return Ph=r,Ph}var jh,PS;function Uq(){if(PS)return jh;PS=1;var e=$q(),t=Ak();function n(r,i){return e(r,i,function(a,s){return t(r,s)})}return jh=n,jh}var Rh,jS;function zq(){if(jS)return Rh;jS=1;var e=Xk(),t=Vk(),n=Bk();function r(i){return n(t(i,void 0,e),i+"")}return Rh=r,Rh}var Nh,RS;function Gq(){if(RS)return Nh;RS=1;var e=Uq(),t=zq(),n=t(function(r,i){return r==null?{}:e(r,i)});return Nh=n,Nh}var Ah,NS;function Hq(){if(NS)return Ah;NS=1;var e=Math.ceil,t=Math.max;function n(r,i,a,s){for(var o=-1,l=t(e((i-r)/(a||1)),0),u=Array(l);l--;)u[s?l:++o]=r,r+=a;return u}return Ah=n,Ah}var Mh,AS;function Kq(){if(AS)return Mh;AS=1;var e=Hq(),t=al(),n=Qk();function r(i){return function(a,s,o){return o&&typeof o!="number"&&t(a,s,o)&&(s=o=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),o=o===void 0?a<s?1:-1:n(o),e(a,s,o,i)}}return Mh=r,Mh}var Ih,MS;function Wq(){if(MS)return Ih;MS=1;var e=Kq(),t=e();return Ih=t,Ih}var Dh,IS;function Yq(){if(IS)return Dh;IS=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Dh=e,Dh}var Lh,DS;function Qq(){if(DS)return Lh;DS=1;var e=Ci();function t(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,o=e(n),l=r!==void 0,u=r===null,c=r===r,d=e(r);if(!u&&!d&&!o&&n>r||o&&l&&c&&!u&&!d||a&&l&&c||!i&&c||!s)return 1;if(!a&&!o&&!d&&n<r||d&&i&&s&&!a&&!o||u&&i&&s||!l&&s||!c)return-1}return 0}return Lh=t,Lh}var Oh,LS;function Xq(){if(LS)return Oh;LS=1;var e=Qq();function t(n,r,i){for(var a=-1,s=n.criteria,o=r.criteria,l=s.length,u=i.length;++a<l;){var c=e(s[a],o[a]);if(c){if(a>=u)return c;var d=i[a];return c*(d=="desc"?-1:1)}}return n.index-r.index}return Oh=t,Oh}var qh,OS;function Jq(){if(OS)return qh;OS=1;var e=tl(),t=rl(),n=bn(),r=Ok(),i=Yq(),a=Xo(),s=Xq(),o=Pr(),l=Ee();function u(c,d,f){d.length?d=e(d,function(m){return l(m)?function(w){return t(w,m.length===1?m[0]:m)}:m}):d=[o];var p=-1;d=e(d,a(n));var g=r(c,function(m,w,v){var y=e(d,function(x){return x(m)});return{criteria:y,index:++p,value:m}});return i(g,function(m,w){return s(m,w,f)})}return qh=u,qh}var Fh,qS;function Zq(){if(qS)return Fh;qS=1;var e=Xv(),t=Jq(),n=il(),r=al(),i=n(function(a,s){if(a==null)return[];var o=s.length;return o>1&&r(a,s[0],s[1])?s=[]:o>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(a,e(s,1),[])});return Fh=i,Fh}var Vh,FS;function eF(){if(FS)return Vh;FS=1;var e=Rk(),t=0;function n(r){var i=++t;return e(r)+i}return Vh=n,Vh}var Bh,VS;function tF(){if(VS)return Bh;VS=1;function e(t,n,r){for(var i=-1,a=t.length,s=n.length,o={};++i<a;){var l=i<s?n[i]:void 0;r(o,t[i],l)}return o}return Bh=e,Bh}var $h,BS;function nF(){if(BS)return $h;BS=1;var e=Yo(),t=tF();function n(r,i){return t(r||[],i||[],e)}return $h=n,$h}var go;if(typeof Lv=="function")try{go={cloneDeep:yq(),constant:Hv(),defaults:xq(),each:_k(),filter:Ik(),find:Eq(),flatten:Xk(),forEach:Sk(),forIn:kq(),has:Dk(),isUndefined:Lk(),last:Pq(),map:qk(),mapValues:jq(),max:Nq(),merge:Oq(),min:qq(),minBy:Fq(),now:Vq(),pick:Gq(),range:Wq(),reduce:Fk(),sortBy:Zq(),uniqueId:eF(),values:zk(),zipObject:nF()}}catch{}go||(go=window._);var de=go,rF=sl;function sl(){var e={};e._next=e._prev=e,this._sentinel=e}sl.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return tP(t),t};sl.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&tP(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};sl.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,iF)),n=n._prev;return"["+e.join(", ")+"]"};function tP(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function iF(e,t){if(e!=="_next"&&e!=="_prev")return t}var ln=de,aF=$t.Graph,sF=rF,oF=uF,lF=ln.constant(1);function uF(e,t){if(e.nodeCount()<=1)return[];var n=dF(e,t||lF),r=cF(n.graph,n.buckets,n.zeroIdx);return ln.flatten(ln.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function cF(e,t,n){for(var r=[],i=t[t.length-1],a=t[0],s;e.nodeCount();){for(;s=a.dequeue();)Uh(e,t,n,s);for(;s=i.dequeue();)Uh(e,t,n,s);if(e.nodeCount()){for(var o=t.length-2;o>0;--o)if(s=t[o].dequeue(),s){r=r.concat(Uh(e,t,n,s,!0));break}}}return r}function Uh(e,t,n,r,i){var a=i?[]:void 0;return ln.forEach(e.inEdges(r.v),function(s){var o=e.edge(s),l=e.node(s.v);i&&a.push({v:s.v,w:s.w}),l.out-=o,am(t,n,l)}),ln.forEach(e.outEdges(r.v),function(s){var o=e.edge(s),l=s.w,u=e.node(l);u.in-=o,am(t,n,u)}),e.removeNode(r.v),a}function dF(e,t){var n=new aF,r=0,i=0;ln.forEach(e.nodes(),function(o){n.setNode(o,{v:o,in:0,out:0})}),ln.forEach(e.edges(),function(o){var l=n.edge(o.v,o.w)||0,u=t(o),c=l+u;n.setEdge(o.v,o.w,c),i=Math.max(i,n.node(o.v).out+=u),r=Math.max(r,n.node(o.w).in+=u)});var a=ln.range(i+r+3).map(function(){return new sF}),s=r+1;return ln.forEach(n.nodes(),function(o){am(a,s,n.node(o))}),{graph:n,buckets:a,zeroIdx:s}}function am(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var fr=de,fF=oF,hF={run:pF,undo:vF};function pF(e){var t=e.graph().acyclicer==="greedy"?fF(e,n(e)):mF(e);fr.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,fr.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function mF(e){var t=[],n={},r={};function i(a){fr.has(r,a)||(r[a]=!0,n[a]=!0,fr.forEach(e.outEdges(a),function(s){fr.has(n,s.w)?t.push(s):i(s.w)}),delete n[a])}return fr.forEach(e.nodes(),i),t}function vF(e){fr.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var te=de,nP=$t.Graph,st={addDummyNode:rP,simplify:gF,asNonCompoundGraph:yF,successorWeights:xF,predecessorWeights:wF,intersectRect:bF,buildLayerMatrix:SF,normalizeRanks:_F,removeEmptyRanks:CF,addBorderNode:TF,maxRank:iP,partition:EF,time:kF,notime:PF};function rP(e,t,n,r){var i;do i=te.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function gF(e){var t=new nP().setGraph(e.graph());return te.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),te.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function yF(e){var t=new nP({multigraph:e.isMultigraph()}).setGraph(e.graph());return te.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),te.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function xF(e){var t=te.map(e.nodes(),function(n){var r={};return te.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return te.zipObject(e.nodes(),t)}function wF(e){var t=te.map(e.nodes(),function(n){var r={};return te.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return te.zipObject(e.nodes(),t)}function bF(e,t){var n=e.x,r=e.y,i=t.x-n,a=t.y-r,s=e.width/2,o=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=o*i/a,u=o):(i<0&&(s=-s),l=s,u=s*a/i),{x:n+l,y:r+u}}function SF(e){var t=te.map(te.range(iP(e)+1),function(){return[]});return te.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;te.isUndefined(i)||(t[i][r.order]=n)}),t}function _F(e){var t=te.min(te.map(e.nodes(),function(n){return e.node(n).rank}));te.forEach(e.nodes(),function(n){var r=e.node(n);te.has(r,"rank")&&(r.rank-=t)})}function CF(e){var t=te.min(te.map(e.nodes(),function(a){return e.node(a).rank})),n=[];te.forEach(e.nodes(),function(a){var s=e.node(a).rank-t;n[s]||(n[s]=[]),n[s].push(a)});var r=0,i=e.graph().nodeRankFactor;te.forEach(n,function(a,s){te.isUndefined(a)&&s%i!==0?--r:r&&te.forEach(a,function(o){e.node(o).rank+=r})})}function TF(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),rP(e,"border",i,t)}function iP(e){return te.max(te.map(e.nodes(),function(t){var n=e.node(t).rank;if(!te.isUndefined(n))return n}))}function EF(e,t){var n={lhs:[],rhs:[]};return te.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function kF(e,t){var n=te.now();try{return t()}finally{console.log(e+" time: "+(te.now()-n)+"ms")}}function PF(e,t){return t()}var aP=de,jF=st,RF={run:NF,undo:MF};function NF(e){e.graph().dummyChains=[],aP.forEach(e.edges(),function(t){AF(e,t)})}function AF(e,t){var n=t.v,r=e.node(n).rank,i=t.w,a=e.node(i).rank,s=t.name,o=e.edge(t),l=o.labelRank;if(a!==r+1){e.removeEdge(t);var u,c,d;for(d=0,++r;r<a;++d,++r)o.points=[],c={width:0,height:0,edgeLabel:o,edgeObj:t,rank:r},u=jF.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=o.width,c.height=o.height,c.dummy="edge-label",c.labelpos=o.labelpos),e.setEdge(n,u,{weight:o.weight},s),d===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:o.weight},s)}}function MF(e){aP.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var bs=de,ol={longestPath:IF,slack:DF};function IF(e){var t={};function n(r){var i=e.node(r);if(bs.has(t,r))return i.rank;t[r]=!0;var a=bs.min(bs.map(e.outEdges(r),function(s){return n(s.w)-e.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}bs.forEach(e.sources(),n)}function DF(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var yo=de,LF=$t.Graph,xo=ol.slack,sP=OF;function OF(e){var t=new LF({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,a;qF(t,e)<r;)i=FF(t,e),a=t.hasNode(i.v)?xo(e,i):-xo(e,i),VF(t,e,a);return t}function qF(e,t){function n(r){yo.forEach(t.nodeEdges(r),function(i){var a=i.v,s=r===a?i.w:a;!e.hasNode(s)&&!xo(t,i)&&(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))})}return yo.forEach(e.nodes(),n),e.nodeCount()}function FF(e,t){return yo.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return xo(t,n)})}function VF(e,t,n){yo.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var yn=de,BF=sP,$F=ol.slack,UF=ol.longestPath,zF=$t.alg.preorder,GF=$t.alg.postorder,HF=st.simplify,KF=jr;jr.initLowLimValues=tg;jr.initCutValues=eg;jr.calcCutValue=oP;jr.leaveEdge=uP;jr.enterEdge=cP;jr.exchangeEdges=dP;function jr(e){e=HF(e),UF(e);var t=BF(e);tg(t),eg(t,e);for(var n,r;n=uP(t);)r=cP(t,e,n),dP(t,e,n,r)}function eg(e,t){var n=GF(e,e.nodes());n=n.slice(0,n.length-1),yn.forEach(n,function(r){WF(e,t,r)})}function WF(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=oP(e,t,n)}function oP(e,t,n){var r=e.node(n),i=r.parent,a=!0,s=t.edge(n,i),o=0;return s||(a=!1,s=t.edge(i,n)),o=s.weight,yn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var d=u===a,f=t.edge(l).weight;if(o+=d?f:-f,QF(e,n,c)){var p=e.edge(n,c).cutvalue;o+=d?-p:p}}}),o}function tg(e,t){arguments.length<2&&(t=e.nodes()[0]),lP(e,{},1,t)}function lP(e,t,n,r,i){var a=n,s=e.node(r);return t[r]=!0,yn.forEach(e.neighbors(r),function(o){yn.has(t,o)||(n=lP(e,t,n,o,r))}),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function uP(e){return yn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function cP(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var a=e.node(r),s=e.node(i),o=a,l=!1;a.lim>s.lim&&(o=s,l=!0);var u=yn.filter(t.edges(),function(c){return l===$S(e,e.node(c.v),o)&&l!==$S(e,e.node(c.w),o)});return yn.minBy(u,function(c){return $F(t,c)})}function dP(e,t,n,r){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(r.v,r.w,{}),tg(e),eg(e,t),YF(e,t)}function YF(e,t){var n=yn.find(e.nodes(),function(i){return!t.node(i).parent}),r=zF(e,n);r=r.slice(1),yn.forEach(r,function(i){var a=e.node(i).parent,s=t.edge(i,a),o=!1;s||(s=t.edge(a,i),o=!0),t.node(i).rank=t.node(a).rank+(o?s.minlen:-s.minlen)})}function QF(e,t,n){return e.hasEdge(t,n)}function $S(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var XF=ol,fP=XF.longestPath,JF=sP,ZF=KF,eV=tV;function tV(e){switch(e.graph().ranker){case"network-simplex":US(e);break;case"tight-tree":rV(e);break;case"longest-path":nV(e);break;default:US(e)}}var nV=fP;function rV(e){fP(e),JF(e)}function US(e){ZF(e)}var sm=de,iV=aV;function aV(e){var t=oV(e);sm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,a=sV(e,t,i.v,i.w),s=a.path,o=a.lca,l=0,u=s[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=s[l])!==o&&e.node(u).maxRank<r.rank;)l++;u===o&&(c=!1)}if(!c){for(;l<s.length-1&&e.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function sV(e,t,n,r){var i=[],a=[],s=Math.min(t[n].low,t[r].low),o=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>s||o>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)a.push(l);return{path:i.concat(a.reverse()),lca:u}}function oV(e){var t={},n=0;function r(i){var a=n;sm.forEach(e.children(i),r),t[i]={low:a,lim:n++}}return sm.forEach(e.children(),r),t}var un=de,om=st,lV={run:uV,cleanup:fV};function uV(e){var t=om.addDummyNode(e,"root",{},"_root"),n=cV(e),r=un.max(un.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,un.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var a=dV(e)+1;un.forEach(e.children(),function(s){hP(e,t,i,a,r,n,s)}),e.graph().nodeRankFactor=i}function hP(e,t,n,r,i,a,s){var o=e.children(s);if(!o.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:n});return}var l=om.addBorderNode(e,"_bt"),u=om.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(l,s),c.borderTop=l,e.setParent(u,s),c.borderBottom=u,un.forEach(o,function(d){hP(e,t,n,r,i,a,d);var f=e.node(d),p=f.borderTop?f.borderTop:d,g=f.borderBottom?f.borderBottom:d,m=f.borderTop?r:2*r,w=p!==g?1:i-a[s]+1;e.setEdge(l,p,{weight:m,minlen:w,nestingEdge:!0}),e.setEdge(g,u,{weight:m,minlen:w,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,l,{weight:0,minlen:i+a[s]})}function cV(e){var t={};function n(r,i){var a=e.children(r);a&&a.length&&un.forEach(a,function(s){n(s,i+1)}),t[r]=i}return un.forEach(e.children(),function(r){n(r,1)}),t}function dV(e){return un.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function fV(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,un.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var zh=de,hV=st,pV=mV;function mV(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&zh.forEach(r,t),zh.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)zS(e,"borderLeft","_bl",n,i,a),zS(e,"borderRight","_br",n,i,a)}}zh.forEach(e.children(),t)}function zS(e,t,n,r,i,a){var s={width:0,height:0,rank:a,borderType:t},o=i[t][a-1],l=hV.addDummyNode(e,"border",s,n);i[t][a]=l,e.setParent(l,r),o&&e.setEdge(o,l,{weight:1})}var Wt=de,vV={adjust:gV,undo:yV};function gV(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&pP(e)}function yV(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&xV(e),(t==="lr"||t==="rl")&&(wV(e),pP(e))}function pP(e){Wt.forEach(e.nodes(),function(t){GS(e.node(t))}),Wt.forEach(e.edges(),function(t){GS(e.edge(t))})}function GS(e){var t=e.width;e.width=e.height,e.height=t}function xV(e){Wt.forEach(e.nodes(),function(t){Gh(e.node(t))}),Wt.forEach(e.edges(),function(t){var n=e.edge(t);Wt.forEach(n.points,Gh),Wt.has(n,"y")&&Gh(n)})}function Gh(e){e.y=-e.y}function wV(e){Wt.forEach(e.nodes(),function(t){Hh(e.node(t))}),Wt.forEach(e.edges(),function(t){var n=e.edge(t);Wt.forEach(n.points,Hh),Wt.has(n,"x")&&Hh(n)})}function Hh(e){var t=e.x;e.x=e.y,e.y=t}var tn=de,bV=SV;function SV(e){var t={},n=tn.filter(e.nodes(),function(o){return!e.children(o).length}),r=tn.max(tn.map(n,function(o){return e.node(o).rank})),i=tn.map(tn.range(r+1),function(){return[]});function a(o){if(!tn.has(t,o)){t[o]=!0;var l=e.node(o);i[l.rank].push(o),tn.forEach(e.successors(o),a)}}var s=tn.sortBy(n,function(o){return e.node(o).rank});return tn.forEach(s,a),i}var En=de,_V=CV;function CV(e,t){for(var n=0,r=1;r<t.length;++r)n+=TV(e,t[r-1],t[r]);return n}function TV(e,t,n){for(var r=En.zipObject(n,En.map(n,function(u,c){return c})),i=En.flatten(En.map(t,function(u){return En.sortBy(En.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var o=En.map(new Array(s),function(){return 0}),l=0;return En.forEach(i.forEach(function(u){var c=u.pos+a;o[c]+=u.weight;for(var d=0;c>0;)c%2&&(d+=o[c+1]),c=c-1>>1,o[c]+=u.weight;l+=u.weight*d})),l}var HS=de,EV=kV;function kV(e,t){return HS.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=HS.reduce(r,function(a,s){var o=e.edge(s),l=e.node(s.v);return{sum:a.sum+o.weight*l.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var ut=de,PV=jV;function jV(e,t){var n={};ut.forEach(e,function(i,a){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};ut.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),ut.forEach(t.edges(),function(i){var a=n[i.v],s=n[i.w];!ut.isUndefined(a)&&!ut.isUndefined(s)&&(s.indegree++,a.out.push(n[i.w]))});var r=ut.filter(n,function(i){return!i.indegree});return RV(r)}function RV(e){var t=[];function n(a){return function(s){s.merged||(ut.isUndefined(s.barycenter)||ut.isUndefined(a.barycenter)||s.barycenter>=a.barycenter)&&NV(a,s)}}function r(a){return function(s){s.in.push(a),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),ut.forEach(i.in.reverse(),n(i)),ut.forEach(i.out,r(i))}return ut.map(ut.filter(t,function(a){return!a.merged}),function(a){return ut.pick(a,["vs","i","barycenter","weight"])})}function NV(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Qi=de,AV=st,MV=IV;function IV(e,t){var n=AV.partition(e,function(c){return Qi.has(c,"barycenter")}),r=n.lhs,i=Qi.sortBy(n.rhs,function(c){return-c.i}),a=[],s=0,o=0,l=0;r.sort(DV(!!t)),l=KS(a,i,l),Qi.forEach(r,function(c){l+=c.vs.length,a.push(c.vs),s+=c.barycenter*c.weight,o+=c.weight,l=KS(a,i,l)});var u={vs:Qi.flatten(a,!0)};return o&&(u.barycenter=s/o,u.weight=o),u}function KS(e,t,n){for(var r;t.length&&(r=Qi.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function DV(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var An=de,LV=EV,OV=PV,qV=MV,FV=mP;function mP(e,t,n,r){var i=e.children(t),a=e.node(t),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,l={};s&&(i=An.filter(i,function(g){return g!==s&&g!==o}));var u=LV(e,i);An.forEach(u,function(g){if(e.children(g.v).length){var m=mP(e,g.v,n,r);l[g.v]=m,An.has(m,"barycenter")&&BV(g,m)}});var c=OV(u,n);VV(c,l);var d=qV(c,r);if(s&&(d.vs=An.flatten([s,d.vs,o],!0),e.predecessors(s).length)){var f=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(o)[0]);An.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d}function VV(e,t){An.forEach(e,function(n){n.vs=An.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function BV(e,t){An.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Xi=de,$V=$t.Graph,UV=zV;function zV(e,t,n){var r=GV(e),i=new $V({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(a){return e.node(a)});return Xi.forEach(e.nodes(),function(a){var s=e.node(a),o=e.parent(a);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(a),i.setParent(a,o||r),Xi.forEach(e[n](a),function(l){var u=l.v===a?l.w:l.v,c=i.edge(u,a),d=Xi.isUndefined(c)?0:c.weight;i.setEdge(u,a,{weight:e.edge(l).weight+d})}),Xi.has(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function GV(e){for(var t;e.hasNode(t=Xi.uniqueId("_root")););return t}var HV=de,KV=WV;function WV(e,t,n){var r={},i;HV.forEach(n,function(a){for(var s=e.parent(a),o,l;s;){if(o=e.parent(s),o?(l=r[o],r[o]=s):(l=i,i=s),l&&l!==s){t.setEdge(l,s);return}s=o}})}var Un=de,YV=bV,QV=_V,XV=FV,JV=UV,ZV=KV,e3=$t.Graph,WS=st,t3=n3;function n3(e){var t=WS.maxRank(e),n=YS(e,Un.range(1,t+1),"inEdges"),r=YS(e,Un.range(t-1,-1,-1),"outEdges"),i=YV(e);QS(e,i);for(var a=Number.POSITIVE_INFINITY,s,o=0,l=0;l<4;++o,++l){r3(o%2?n:r,o%4>=2),i=WS.buildLayerMatrix(e);var u=QV(e,i);u<a&&(l=0,s=Un.cloneDeep(i),a=u)}QS(e,s)}function YS(e,t,n){return Un.map(t,function(r){return JV(e,r,n)})}function r3(e,t){var n=new e3;Un.forEach(e,function(r){var i=r.graph().root,a=XV(r,i,n,t);Un.forEach(a.vs,function(s,o){r.node(s).order=o}),ZV(r,n,a.vs)})}function QS(e,t){Un.forEach(t,function(n){Un.forEach(n,function(r,i){e.node(r).order=i})})}var $=de,i3=$t.Graph,a3=st,s3={positionX:g3};function o3(e,t){var n={};function r(i,a){var s=0,o=0,l=i.length,u=$.last(a);return $.forEach(a,function(c,d){var f=u3(e,c),p=f?e.node(f).order:l;(f||c===u)&&($.forEach(a.slice(o,d+1),function(g){$.forEach(e.predecessors(g),function(m){var w=e.node(m),v=w.order;(v<s||p<v)&&!(w.dummy&&e.node(g).dummy)&&vP(n,m,g)})}),o=d+1,s=p)}),a}return $.reduce(t,r),n}function l3(e,t){var n={};function r(a,s,o,l,u){var c;$.forEach($.range(s,o),function(d){c=a[d],e.node(c).dummy&&$.forEach(e.predecessors(c),function(f){var p=e.node(f);p.dummy&&(p.order<l||p.order>u)&&vP(n,f,c)})})}function i(a,s){var o=-1,l,u=0;return $.forEach(s,function(c,d){if(e.node(c).dummy==="border"){var f=e.predecessors(c);f.length&&(l=e.node(f[0]).order,r(s,u,d,o,l),u=d,o=l)}r(s,u,s.length,l,a.length)}),s}return $.reduce(t,i),n}function u3(e,t){if(e.node(t).dummy)return $.find(e.predecessors(t),function(n){return e.node(n).dummy})}function vP(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function c3(e,t,n){if(t>n){var r=t;t=n,n=r}return $.has(e[t],n)}function d3(e,t,n,r){var i={},a={},s={};return $.forEach(t,function(o){$.forEach(o,function(l,u){i[l]=l,a[l]=l,s[l]=u})}),$.forEach(t,function(o){var l=-1;$.forEach(o,function(u){var c=r(u);if(c.length){c=$.sortBy(c,function(m){return s[m]});for(var d=(c.length-1)/2,f=Math.floor(d),p=Math.ceil(d);f<=p;++f){var g=c[f];a[u]===u&&l<s[g]&&!c3(n,u,g)&&(a[g]=u,a[u]=i[u]=i[g],l=s[g])}}})}),{root:i,align:a}}function f3(e,t,n,r,i){var a={},s=h3(e,t,n,i),o=i?"borderLeft":"borderRight";function l(d,f){for(var p=s.nodes(),g=p.pop(),m={};g;)m[g]?d(g):(m[g]=!0,p.push(g),p=p.concat(f(g))),g=p.pop()}function u(d){a[d]=s.inEdges(d).reduce(function(f,p){return Math.max(f,a[p.v]+s.edge(p))},0)}function c(d){var f=s.outEdges(d).reduce(function(g,m){return Math.min(g,a[m.w]-s.edge(m))},Number.POSITIVE_INFINITY),p=e.node(d);f!==Number.POSITIVE_INFINITY&&p.borderType!==o&&(a[d]=Math.max(a[d],f))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),$.forEach(r,function(d){a[d]=a[n[d]]}),a}function h3(e,t,n,r){var i=new i3,a=e.graph(),s=y3(a.nodesep,a.edgesep,r);return $.forEach(t,function(o){var l;$.forEach(o,function(u){var c=n[u];if(i.setNode(c),l){var d=n[l],f=i.edge(d,c);i.setEdge(d,c,Math.max(s(e,u,l),f||0))}l=u})}),i}function p3(e,t){return $.minBy($.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return $.forIn(n,function(a,s){var o=x3(e,s)/2;r=Math.max(a+o,r),i=Math.min(a-o,i)}),r-i})}function m3(e,t){var n=$.values(t),r=$.min(n),i=$.max(n);$.forEach(["u","d"],function(a){$.forEach(["l","r"],function(s){var o=a+s,l=e[o],u;if(l!==t){var c=$.values(l);u=s==="l"?r-$.min(c):i-$.max(c),u&&(e[o]=$.mapValues(l,function(d){return d+u}))}})})}function v3(e,t){return $.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=$.sortBy($.map(e,r));return(i[1]+i[2])/2})}function g3(e){var t=a3.buildLayerMatrix(e),n=$.merge(o3(e,t),l3(e,t)),r={},i;$.forEach(["u","d"],function(s){i=s==="u"?t:$.values(t).reverse(),$.forEach(["l","r"],function(o){o==="r"&&(i=$.map(i,function(d){return $.values(d).reverse()}));var l=(s==="u"?e.predecessors:e.successors).bind(e),u=d3(e,i,n,l),c=f3(e,i,u.root,u.align,o==="r");o==="r"&&(c=$.mapValues(c,function(d){return-d})),r[s+o]=c})});var a=p3(e,r);return m3(r,a),v3(r,e.graph().align)}function y3(e,t,n){return function(r,i,a){var s=r.node(i),o=r.node(a),l=0,u;if(l+=s.width/2,$.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?t:e)/2,l+=(o.dummy?t:e)/2,l+=o.width/2,$.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function x3(e,t){return e.node(t).width}var Ji=de,gP=st,w3=s3.positionX,b3=S3;function S3(e){e=gP.asNonCompoundGraph(e),_3(e),Ji.forEach(w3(e),function(t,n){e.node(n).x=t})}function _3(e){var t=gP.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Ji.forEach(t,function(i){var a=Ji.max(Ji.map(i,function(s){return e.node(s).height}));Ji.forEach(i,function(s){e.node(s).y=r+a/2}),r+=a+n})}var K=de,XS=hF,JS=RF,C3=eV,T3=st.normalizeRanks,E3=iV,k3=st.removeEmptyRanks,ZS=lV,P3=pV,e_=vV,j3=t3,R3=b3,Wn=st,N3=$t.Graph,A3=M3;function M3(e,t){var n=t&&t.debugTiming?Wn.time:Wn.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return z3(e)});n("  runLayout",function(){I3(r,n)}),n("  updateInputGraph",function(){D3(e,r)})})}function I3(e,t){t("    makeSpaceForEdgeLabels",function(){G3(e)}),t("    removeSelfEdges",function(){eB(e)}),t("    acyclic",function(){XS.run(e)}),t("    nestingGraph.run",function(){ZS.run(e)}),t("    rank",function(){C3(Wn.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){H3(e)}),t("    removeEmptyRanks",function(){k3(e)}),t("    nestingGraph.cleanup",function(){ZS.cleanup(e)}),t("    normalizeRanks",function(){T3(e)}),t("    assignRankMinMax",function(){K3(e)}),t("    removeEdgeLabelProxies",function(){W3(e)}),t("    normalize.run",function(){JS.run(e)}),t("    parentDummyChains",function(){E3(e)}),t("    addBorderSegments",function(){P3(e)}),t("    order",function(){j3(e)}),t("    insertSelfEdges",function(){tB(e)}),t("    adjustCoordinateSystem",function(){e_.adjust(e)}),t("    position",function(){R3(e)}),t("    positionSelfEdges",function(){nB(e)}),t("    removeBorderNodes",function(){Z3(e)}),t("    normalize.undo",function(){JS.undo(e)}),t("    fixupEdgeLabelCoords",function(){X3(e)}),t("    undoCoordinateSystem",function(){e_.undo(e)}),t("    translateGraph",function(){Y3(e)}),t("    assignNodeIntersects",function(){Q3(e)}),t("    reversePoints",function(){J3(e)}),t("    acyclic.undo",function(){XS.undo(e)})}function D3(e,t){K.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),K.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,K.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var L3=["nodesep","edgesep","ranksep","marginx","marginy"],O3={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},q3=["acyclicer","ranker","rankdir","align"],F3=["width","height"],V3={width:0,height:0},B3=["minlen","weight","width","height","labeloffset"],$3={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},U3=["labelpos"];function z3(e){var t=new N3({multigraph:!0,compound:!0}),n=Wh(e.graph());return t.setGraph(K.merge({},O3,Kh(n,L3),K.pick(n,q3))),K.forEach(e.nodes(),function(r){var i=Wh(e.node(r));t.setNode(r,K.defaults(Kh(i,F3),V3)),t.setParent(r,e.parent(r))}),K.forEach(e.edges(),function(r){var i=Wh(e.edge(r));t.setEdge(r,K.merge({},$3,Kh(i,B3),K.pick(i,U3)))}),t}function G3(e){var t=e.graph();t.ranksep/=2,K.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function H3(e){K.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),a={rank:(i.rank-r.rank)/2+r.rank,e:t};Wn.addDummyNode(e,"edge-proxy",a,"_ep")}})}function K3(e){var t=0;K.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=K.max(t,r.maxRank))}),e.graph().maxRank=t}function W3(e){K.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function Y3(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,o=a.marginy||0;function l(u){var c=u.x,d=u.y,f=u.width,p=u.height;t=Math.min(t,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,d-p/2),i=Math.max(i,d+p/2)}K.forEach(e.nodes(),function(u){l(e.node(u))}),K.forEach(e.edges(),function(u){var c=e.edge(u);K.has(c,"x")&&l(c)}),t-=s,r-=o,K.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),K.forEach(e.edges(),function(u){var c=e.edge(u);K.forEach(c.points,function(d){d.x-=t,d.y-=r}),K.has(c,"x")&&(c.x-=t),K.has(c,"y")&&(c.y-=r)}),a.width=n-t+s,a.height=i-r+o}function Q3(e){K.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),a,s;n.points?(a=n.points[0],s=n.points[n.points.length-1]):(n.points=[],a=i,s=r),n.points.unshift(Wn.intersectRect(r,a)),n.points.push(Wn.intersectRect(i,s))})}function X3(e){K.forEach(e.edges(),function(t){var n=e.edge(t);if(K.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function J3(e){K.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function Z3(e){K.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(K.last(n.borderLeft)),s=e.node(K.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}}),K.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function eB(e){K.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function tB(e){var t=Wn.buildLayerMatrix(e);K.forEach(t,function(n){var r=0;K.forEach(n,function(i,a){var s=e.node(i);s.order=a+r,K.forEach(s.selfEdges,function(o){Wn.addDummyNode(e,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++r,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function nB(e){K.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,a=r.y,s=n.x-i,o=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{x:i+s,y:a},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],n.label.x=n.x,n.label.y=n.y}})}function Kh(e,t){return K.mapValues(K.pick(e,t),Number)}function Wh(e){var t={};return K.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Ss=de,rB=st,iB=$t.Graph,aB={debugOrdering:sB};function sB(e){var t=rB.buildLayerMatrix(e),n=new iB({compound:!0,multigraph:!0}).setGraph({});return Ss.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Ss.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Ss.forEach(t,function(r,i){var a="layer"+i;n.setNode(a,{rank:"same"}),Ss.reduce(r,function(s,o){return n.setEdge(s,o,{style:"invis"}),o})}),n}var oB="0.8.5",lB={graphlib:$t,layout:A3,debug:aB,util:{time:st.time,notime:st.notime},version:oB};const t_=o_(lB),n_=new Map;function uB(e,t){const n=e.map(i=>i.id).join("|"),r=t.map(i=>`${i.source}->${i.target}`).join("|");return`${e.length}:${t.length}:${n}:${r}`}function cB(e,t,n){if(n){const r=uB(e,t),i=n_.get(n);if(i&&i.signature===r)return i.layout;const a=r_(e,t);return n_.set(n,{signature:r,layout:a}),a}return r_(e,t)}function r_(e,t){if(e.length>2500){const r=Math.ceil(Math.sqrt(e.length));return e.map((i,a)=>{const s=Math.floor(a/r),o=a%r;return{id:i.id,position:{x:o*260,y:s*160}}})}const n=new t_.graphlib.Graph;return n.setGraph({rankdir:"LR",nodesep:48,ranksep:80}),n.setDefaultEdgeLabel(()=>({})),e.forEach(r=>{n.setNode(r.id,{width:220,height:120})}),t.forEach(r=>{n.setEdge(r.source,r.target)}),t_.layout(n),e.map(r=>{const i=n.node(r.id);return{id:r.id,position:{x:i.x-i.width/2,y:i.y-i.height/2}}})}function dB(e){const t=new Map;for(const r of e)r.type==="tool_call"&&r.toolCallId&&t.set(r.toolCallId,r.id);const n=[];for(const r of e)if(!(r.type!=="llm_call"||!r.io)){for(const i of r.io.emittedToolCallIds??[]){const a=t.get(i);a&&n.push({id:`io_emit_${r.id}_${a}`,source:r.id,target:a,kind:"io",toolCallId:i})}for(const i of r.io.consumedToolCallIds??[]){const a=t.get(i);a&&n.push({id:`io_consume_${a}_${r.id}`,source:a,target:r.id,kind:"io",toolCallId:i})}}return n}function fB(e,t,n){const{intervals:r}=Lo(e,t,n),i=new Set;return r.forEach(a=>{i.add(a.startMs),i.add(a.endMs)}),Array.from(i).sort((a,s)=>a-s)}function hB(e,t,n){if(!e.length)return null;if(n===1){for(const r of e)if(r>t+1)return r;return e[e.length-1]}for(let r=e.length-1;r>=0;r-=1){const i=e[r];if(i<t-1)return i}return e[0]}const pB=300,mB=2e3,vB=1.5;function gB(e){const t=pB*Math.pow(vB,Math.max(0,e));return Math.min(mB,Math.round(t))}const i_=220,a_=120,yB=_.lazy(()=>nv(()=>import("./index-b0RL5qW9.js"),__vite__mapDeps([0,1]))),xB=_.lazy(()=>nv(()=>import("./index-CXR33tRf.js"),[])),wB=_.lazy(()=>nv(()=>import("./index-DJy1Ta18.js"),[]));function Yh(){return`scenario-${Math.random().toString(36).slice(2,9)}`}function bB(e){return e.filter(t=>t.parentStepId).map(t=>({source:t.parentStepId,target:t.id}))}function SB(e){const t=[...e].sort((n,r)=>n.index-r.index);return t.slice(1).map((n,r)=>({source:t[r].id,target:n.id}))}function _B(e){const t={},n=e.getBoundingClientRect();return e.querySelectorAll(".step-card").forEach(i=>{const a=i.dataset.stepId;if(!a)return;const s=i.getBoundingClientRect();t[a]={left:s.left-n.left,top:s.top-n.top,width:s.width,height:s.height}}),t}function CB(e,t,n){const r=[...bB(e),...SB(e),...dB(e).map(g=>({source:g.source,target:g.target}))],i=cB(e,r,n),a=t.getBoundingClientRect(),s=Math.min(...i.map(g=>g.position.x)),o=Math.min(...i.map(g=>g.position.y)),l=Math.max(...i.map(g=>g.position.x)),u=Math.max(...i.map(g=>g.position.y)),c=l-s+i_,d=u-o+a_,f=Math.max(32,(a.width-c)/2),p=Math.max(24,(a.height-d)/2);return i.reduce((g,m)=>(g[m.id]={left:m.position.x-s+f,top:m.position.y-o+p,width:i_,height:a_},g),{})}function s_(e,t,n){const r=t.trim().toLowerCase();return e.filter(i=>{var s,o,l;return n!=="all"&&i.type!==n?!1:r?[i.name,(s=i.preview)==null?void 0:s.title,(o=i.preview)==null?void 0:o.outputPreview,(l=i.preview)==null?void 0:l.inputPreview].filter(Boolean).join(" ").toLowerCase().includes(r):!0})}function TB(){var hg;const{trace:e,insights:t,loading:n,error:r,reload:i,traces:a,selectedTraceId:s,setSelectedTraceId:o}=fL(),[l,u]=Mt("agentDirector.mode","cinema"),[c,d]=_.useState(""),[f,p]=_.useState("all"),[g,m]=_.useState(""),[w,v]=_.useState(null),[y,x]=_.useState(null),[b,S]=_.useState(null),[E,T]=_.useState([]),[C,j]=_.useState(""),[M,I]=_.useState(null),[U,ee]=_.useState(!1),[G,ie]=_.useState(null),[_e,re]=Mt("agentDirector.safeExport",!1),[P,O]=_.useState(null),[q,B]=_.useState(!1),[Q,Ne]=_.useState(0),[$e,et]=Mt("agentDirector.speed",1),[De,Ye]=Mt("agentDirector.windowed",!1),[er,xe]=_.useState(2e4),[Ti,ot]=_.useState(!1),[Rr,R]=_.useState(!1),[H,D]=Mt("agentDirector.overlayEnabled",!1),[Y,V]=Mt("agentDirector.onboarded",!1),[,we]=Mt("agentDirector.tourCompleted",!1),[ae,ve]=Mt("agentDirector.explainMode",!0),[gt,Ce]=Mt("agentDirector.heroDismissed",!1),[Ae,Rt]=Mt("agentDirector.dockOpen",!1),en=!1,[Nr,Ei]=Mt("agentDirector.introDismissed",en),[Ut,Le]=_.useState(!1),[Z,Ar]=_.useState(null),[tr,yt]=_.useState([]),[Nt,ll]=_.useState(null),[yP,ng]=_.useState(null),[ul,rg]=_.useState(""),[xP,Wa]=_.useState([{id:Yh(),name:"Prompt tighter",strategy:"hybrid",modificationsText:'{"prompt":"Return concise response"}'},{id:Yh(),name:"Recorded baseline",strategy:"recorded",modificationsText:"{}"}]),[Ya,cl]=_.useState(null),[wP,ig]=_.useState(null),[bP,Qa]=_.useState(!1),[SP,ki]=_.useState(null),dl=_.useRef(null),ag=_.useRef(null),fl=_.useMemo(()=>e?s_(e.steps,c,f):[],[e,c,f]),sg=_.useMemo(()=>{if(!w)return fl;const k=new Set(w.matchedStepIds);return fl.filter(A=>k.has(A.id))},[fl,w]),_P=_.useMemo(()=>P?s_(P.steps,c,f):[],[P,c,f]),og=_.useMemo(()=>e?fB(e.startedAt,e.endedAt,e.steps):[],[e]),CP=_.useMemo(()=>!e||!P?null:ek(e,P),[e,P]),lg=_.useMemo(()=>e?e.steps.find(k=>k.id===G)??null:null,[e,G]);_.useEffect(()=>{v(null),x(null)},[e==null?void 0:e.id]),_.useEffect(()=>{let k=!1;if(!(e!=null&&e.id)){S(null);return}return iL(e.id).then(A=>{k||S(A)}),()=>{k=!0}},[e==null?void 0:e.id]),_.useEffect(()=>{let k=!1;return aL().then(A=>{k||(T(A),!C&&A.length>0&&j(A[0].id))}),()=>{k=!0}},[C]),_.useEffect(()=>{ag.current=P},[P]),_.useEffect(()=>{l==="compare"&&Rt(!1)},[l,Rt]);const nr=_.useCallback(async k=>{if(!e)return;const A=await oL(e.id,k,"hybrid",{note:"UI replay"},e);A&&(O(A),D(!0),u("flow"))},[e,O,u,D]),TP=_.useCallback(async()=>{if(!e)return;if(!g.trim()){v(null),x(null);return}const k=await rL(e.id,g.trim());if(!k){x("TraceQL query failed"),v(null);return}v(k),x(null);const A=k.matchedStepIds[0];A&&(ie(A),l!=="cinema"&&u("cinema"))},[l,u,e,g]),EP=_.useCallback(async()=>{if(!e||!C)return;ee(!0);const k=await sL(C,e.id);ee(!1),k&&I(k.result)},[C,e]),Sn=_.useCallback(()=>{if(!e)return;const k=[...e.steps].sort((A,z)=>(z.durationMs??0)-(A.durationMs??0))[0];k&&(ie(k.id),u("cinema"))},[e,u]),ug=_.useCallback(()=>{if(!e||e.steps.length===0)return null;const k=[...e.steps].sort((A,z)=>(z.durationMs??0)-(A.durationMs??0))[0];return(k==null?void 0:k.id)??null},[e]),hl=_.useCallback(()=>{if(!e)return;const k=e.steps.find(A=>A.status==="failed");k&&(ie(k.id),u("cinema"))},[e,u]),kP=_.useCallback((k,A)=>{Wa(z=>z.map(X=>X.id===k?{...X,...A}:X))},[]),PP=_.useCallback(k=>{Wa(k)},[]),jP=_.useCallback(()=>{Wa(k=>[...k,{id:Yh(),name:`Scenario ${k.length+1}`,strategy:"hybrid",modificationsText:"{}"}])},[]),RP=_.useCallback(k=>{Wa(A=>A.length<=1?A:A.filter(z=>z.id!==k))},[]),NP=_.useCallback(async k=>{var z;if(!e)return;const A=ul||G||((z=e.steps[0])==null?void 0:z.id);if(!A){ki("Select an anchor step before running the matrix.");return}try{Qa(!0),ki(null);const X=await lL({traceId:e.id,stepId:A,scenarios:k});if(!X)throw new Error("Failed to create replay job.");cl(X);let zt=X;for(let Pe=0;Pe<30&&!(zt.status!=="queued"&&zt.status!=="running");Pe+=1){const Cn=gB(Pe);await new Promise(Xa=>window.setTimeout(Xa,Cn));const xt=await uL(X.id);if(!xt)break;zt=xt,cl(xt)}const Oe=await X0(X.id);if(!Oe)throw new Error("Replay job finished but matrix summary is unavailable.");ig(Oe),u("matrix")}catch(X){ki(X instanceof Error?X.message:"Failed to run replay matrix.")}finally{Qa(!1)}},[ul,G,e,u]),AP=_.useCallback(async()=>{if(Ya){Qa(!0);try{const k=await cL(Ya.id);if(!k){ki("Failed to cancel replay job.");return}cl(k);const A=await X0(k.id);A&&ig(A)}finally{Qa(!1)}}},[Ya]),MP=_.useCallback(async k=>{const A=await tk();if(!(A!=null&&A.trace)){ki("Could not load replay trace for compare view.");return}O(A.trace),D(!0),u("compare")},[u,D]),ke=_.useCallback(k=>{if(!(k===l||!e)){if((k==="flow"||k==="matrix")&&B(!1),k==="flow"&&l==="cinema"&&dl.current){const A=dl.current,z=_B(A),X=CB(e.steps,A,e.id);ng({steps:e.steps,fromRects:z,toRects:X});return}u(k)}},[l,e,B,u]),pl=_.useCallback(()=>{l==="flow"&&ke("cinema"),B(k=>!k)},[l,ke]),_n=_.useCallback(()=>{Ar(null),yt([]),ll(null),B(!1)},[B]),cg=_.useCallback(k=>[{id:"setup",label:"Opening the reel",duration:1100,action:()=>{ve(!0),B(!1),Ne(0),ie(null),D(!1),et(1),e&&e.steps.length<500&&Ye(!1),ke("cinema")}},{id:"pace",label:"Pacing the timeline",duration:2200,action:()=>{ke("cinema"),B(!0),et(1.1)}},{id:"bottleneck",label:"Freeze on the bottleneck",duration:1600,action:()=>{B(!1),Sn()}},{id:"inspect",label:"Inspect the moment",duration:1600,action:()=>{k&&ie(k)}},{id:"flow",label:"Morph into flow",duration:2100,action:()=>{ke("flow")}},{id:"replay",label:"Directors Cut replay",duration:2200,action:async()=>{if(!e)return;!ag.current&&k&&await nr(k),D(!0),u("compare")}},{id:"compare",label:"Compare the cut",duration:2e3,action:()=>{B(!0),et(1)}},{id:"finale",label:"Final frame",duration:1100,action:()=>{B(!1)}}],[ke,nr,Sn,ve,B,u,D,Ne,ie,et,Ye,e]),Mr=_.useCallback(()=>{var A;if(!e)return;const k=G??ug()??((A=e.steps[0])==null?void 0:A.id)??null;yt(cg(k)),Ar({active:!0,step:0}),ll(e.id),Le(!1),ot(!1),R(!1)},[cg,ug,G,e,R,ot,yt,Ar,ll,Le]),Pi=_.useCallback(()=>{if(Z!=null&&Z.active){_n();return}Mr()},[Mr,_n,Z==null?void 0:Z.active]),IP=_.useMemo(()=>{const k=[{id:"header",title:"Mission control",body:"Confirm the run, status, and metadata. Use Guide and Explain to orient the room instantly.",target:'[data-tour="header"]',placement:"bottom"}];return gt||k.push({id:"hero",title:"Director briefing",body:"Choose Tour, Story mode, or Explain to ramp up quickly.",target:'[data-tour="hero"]',placement:"bottom"}),k.push({id:"insights",title:"Fast diagnosis",body:"Jump straight to bottlenecks, errors, and high-cost steps with one click.",target:'[data-tour="insights"]',placement:"bottom"},{id:"journey",title:"Director journey",body:"A narrative path that teaches how to watch, inspect, and direct a better run.",target:'[data-tour="journey"]',placement:"bottom"},{id:"toolbar",title:"Filters + modes",body:"Search, filter, and switch between Cinema, Flow, and Compare as the story evolves.",target:'[data-tour="toolbar"]',placement:"bottom"},{id:"quick-actions",title:"Quick actions",body:"Launch Story Mode, open the command palette, or jump to bottlenecks instantly.",target:'[data-tour="quick-actions"]',placement:"left"},{id:"stage",title:"Cinema stage",body:"The timeline shows every step as a scene. Scrub to see pacing and concurrency.",target:'[data-tour="stage"]',placement:"top"},{id:"inspector",title:"Inspector",body:"Open any step to read payloads, apply redaction, and replay from that moment.",target:'[data-tour="inspector"]',placement:"left"},{id:"compare",title:"Compare runs",body:P?"Compare is live. Review deltas in cost, steps, and wall time side by side.":"Replay from a step to unlock compare mode and validate improvements.",target:'[data-tour="compare"]',placement:"top"}),k},[P,gt]),DP=_.useCallback(()=>{ng(null),u("flow")},[u]);_.useEffect(()=>{var z;if(!e)return;nL(),Ne(0),B(!1);const k=Math.min(Math.max((e.metadata.wallTimeMs||1)*.2,5e3),6e4);xe(k),e.steps.length>500&&Ye(!0),P||D(!1),l==="compare"&&!P&&u("cinema");const A=G&&e.steps.some(X=>X.id===G)?G:((z=e.steps[0])==null?void 0:z.id)??"";rg(X=>X&&e.steps.some(zt=>zt.id===X)?X:A)},[e,P,l,G,u,Ye,D]),_.useEffect(()=>(document.body.classList.toggle("explain-mode",ae),()=>{document.body.classList.remove("explain-mode")}),[ae]),_.useEffect(()=>(document.body.classList.toggle("story-mode",!!(Z!=null&&Z.active)),()=>{document.body.classList.remove("story-mode")}),[Z==null?void 0:Z.active]),_.useEffect(()=>{if(!(Z!=null&&Z.active))return;const k=tr[Z.step];if(!k){_n();return}Promise.resolve(k.action());const A=window.setTimeout(()=>{Ar(z=>z&&z.active?{...z,step:z.step+1}:z)},k.duration);return()=>window.clearTimeout(A)},[tr,_n,Z]),_.useEffect(()=>{Z!=null&&Z.active&&(!e||!Nt||e.id!==Nt&&_n())},[Z==null?void 0:Z.active,e,Nt,_n]),_.useEffect(()=>{if(!e)return;const A=Date.parse(e.startedAt)+Q;let z=0,X=Number.POSITIVE_INFINITY;e.steps.forEach((Oe,Pe)=>{const Cn=Date.parse(Oe.startedAt),xt=Date.parse(Oe.endedAt??Oe.startedAt);if(A>=Cn&&A<=xt){z=Pe,X=0;return}const Xa=Math.min(Math.abs(A-Cn),Math.abs(A-xt));Xa<X&&(X=Xa,z=Pe)}),[z,z-1,z+1].filter(Oe=>Oe>=0&&Oe<e.steps.length).forEach(Oe=>{const Pe=e.steps[Oe];Pe&&eL(e.id,Pe.id,_e)})},[e,Q,_e]),_.useEffect(()=>{if(!e||!q||l!=="cinema"&&l!=="compare")return;const k=(P==null?void 0:P.metadata.wallTimeMs)??0,A=l==="compare"?Math.max(e.metadata.wallTimeMs||1,k||1):e.metadata.wallTimeMs||1;let z=0,X=performance.now();const zt=Oe=>{const Pe=(Oe-X)*$e;X=Oe,Ne(Cn=>{const xt=Cn+Pe;return xt>=A?(B(!1),A):xt}),z=requestAnimationFrame(zt)};return z=requestAnimationFrame(zt),()=>cancelAnimationFrame(z)},[e,P,q,$e,l]),_.useEffect(()=>{const k=A=>{var Oe;const z=A.target,X=(Oe=z==null?void 0:z.tagName)==null?void 0:Oe.toLowerCase();if(!(X==="input"||X==="textarea"||X==="select"||z!=null&&z.isContentEditable)){if((A.metaKey||A.ctrlKey)&&A.key.toLowerCase()==="k"){A.preventDefault(),R(Pe=>!Pe);return}if(A.key==="?"||A.key==="/"&&A.shiftKey){A.preventDefault(),ot(!0);return}if(A.key.toLowerCase()==="s"){A.preventDefault(),Pi();return}if(A.key.toLowerCase()==="e"){A.preventDefault(),ve(Pe=>!Pe);return}if(A.key.toLowerCase()==="t"){A.preventDefault(),Le(!0);return}if(A.key==="Escape"){if(Ut){Le(!1),we(!0);return}ot(!1),R(!1),ie(null);return}if(A.key===" "){A.preventDefault(),(l==="cinema"||l==="compare")&&B(Pe=>!Pe);return}if(A.key.toLowerCase()==="f"){A.preventDefault(),l==="flow"?u("cinema"):l==="cinema"&&ke("flow");return}if(A.key.toLowerCase()==="c"){A.preventDefault(),l!=="cinema"&&u("cinema");return}if(A.key.toLowerCase()==="i"){A.preventDefault(),G?ie(null):e!=null&&e.steps.length&&ie(e.steps[0].id);return}if(A.key==="ArrowLeft"||A.key==="ArrowRight"){if(A.preventDefault(),!e)return;const Pe=e.metadata.wallTimeMs||1;if(A.shiftKey){Ne(A.key==="ArrowLeft"?0:Pe),B(!1),u("cinema");return}const Cn=A.key==="ArrowRight"?1:-1,xt=hB(og,Q,Cn);xt!=null&&(Ne(xt),B(!1),u("cinema"))}}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[l,G,e,Q,og,ke,u,ve,R,Le,we,Ut,Pi]);const dg=_.useMemo(()=>{if(!e||!De||c)return null;const k=e.metadata.wallTimeMs||1,A=Math.min(Math.max(er,5e3),k);let z=Math.max(0,Q-A/2);const X=Math.min(k,z+A);return X-z<A&&(z=Math.max(0,X-A)),{startMs:z,endMs:X}},[e,De,Q,c,er]),Ir=!!(Z!=null&&Z.active),fg=(Z==null?void 0:Z.step)??0,LP=((hg=tr[fg])==null?void 0:hg.label)??"Wrapping up",OP=tr.length,qP=_.useMemo(()=>[{id:"story-toggle",label:Ir?"Stop story mode":"Start story mode",description:"Auto-runs a cinematic walkthrough.",group:"Story",keys:"S",onTrigger:Pi},{id:"tour-start",label:"Start guided tour",description:"Walk the interface step by step.",group:"Onboarding",keys:"T",onTrigger:()=>Le(!0)},{id:"explain-toggle",label:ae?"Disable explain mode":"Enable explain mode",description:"Toggle contextual overlays.",group:"Onboarding",keys:"E",onTrigger:()=>ve(k=>!k)},{id:"shortcuts",label:"Show shortcuts",description:"Open the keyboard map.",group:"Onboarding",keys:"?",onTrigger:()=>ot(!0)},{id:"playback-toggle",label:q?"Pause playback":"Play playback",description:"Start or stop the run.",group:"Playback",keys:"Space",onTrigger:pl},{id:"mode-cinema",label:"Switch to Cinema",description:"Timeline playback view.",group:"Modes",keys:"C",onTrigger:()=>ke("cinema")},{id:"mode-flow",label:"Switch to Flow",description:"Graph dependency view.",group:"Modes",keys:"F",onTrigger:()=>ke("flow")},{id:"mode-compare",label:"Open Compare",description:"Side-by-side diff view.",group:"Modes",onTrigger:()=>ke("compare"),disabled:!P},{id:"mode-matrix",label:"Open Matrix",description:"Counterfactual replay matrix view.",group:"Modes",onTrigger:()=>ke("matrix")},{id:"jump-bottleneck",label:"Jump to bottleneck",description:"Select the slowest step.",group:"Navigation",onTrigger:Sn},{id:"jump-error",label:"Jump to error",description:"Select the first failed step.",group:"Navigation",onTrigger:hl},{id:"replay-step",label:"Replay from selected step",description:"Branch a Directors Cut.",group:"Tools",onTrigger:()=>G&&nr(G),disabled:!G},{id:"overlay-toggle",label:H?"Hide overlay":"Show overlay",description:"Ghost diff in Cinema/Flow.",group:"Tools",onTrigger:()=>D(k=>!k),disabled:!P},{id:"safe-export",label:_e?"Disable safe export":"Enable safe export",description:"Redact sensitive payloads.",group:"Safety",onTrigger:()=>re(k=>!k)},{id:"reload",label:"Reload traces",description:"Refresh trace data.",group:"Meta",onTrigger:i}],[Ir,Pi,ae,q,pl,ke,P,Sn,hl,G,nr,H,_e,i,ve,D,re,ot,Le]);return n?h.jsx("div",{className:"loading",children:"Loading trace..."}):!r&&!e&&a.length===0?h.jsxs("div",{className:"error",children:[h.jsx("h2",{children:"No traces yet"}),h.jsx("p",{children:"Ingest your first trace, then reload to begin the Observe  Inspect  Direct workflow."}),h.jsxs("div",{className:"error-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Retry"}),h.jsx("a",{className:"ghost-button",href:"/help.html",target:"_blank",rel:"noreferrer",children:"Open help"})]})]}):r||!e?h.jsxs("div",{className:"error",children:[h.jsx("p",{children:r??"Failed to load trace."}),h.jsxs("div",{className:"error-actions",children:[h.jsx("button",{className:"primary-button",type:"button",onClick:i,children:"Retry"}),h.jsx("a",{className:"ghost-button",href:"/help.html",target:"_blank",rel:"noreferrer",children:"Open help"})]})]}):h.jsxs("div",{className:`app ${ae?"explain-mode":""} ${l==="compare"?"mode-compare":""} ${l==="matrix"?"mode-matrix":""}`,children:[h.jsx(mN,{trace:e,traces:a,selectedTraceId:s,onSelectTrace:o,onReload:i,onStartTour:()=>Le(!0),onToggleStory:Pi,onOpenPalette:()=>R(!0),onToggleExplain:()=>ve(k=>!k),explainMode:ae,storyActive:Ir}),!Nr&&!en?h.jsx(YN,{onComplete:()=>Ei(!0),onStartTour:()=>{Ei(!0),Le(!0)},onStartStory:Mr}):null,Nr&&!gt?h.jsx(QN,{explainMode:ae,storyActive:Ir,onStartTour:()=>{Ce(!0),Le(!0)},onStartStory:()=>{Ce(!0),Mr()},onToggleExplain:()=>ve(k=>!k),onDismiss:()=>Ce(!0)}):null,h.jsx(KN,{steps:IP,open:Ut,onClose:()=>{Le(!1),we(!0)},onComplete:()=>{Le(!1),we(!0)}}),h.jsx(WN,{enabled:ae}),h.jsx(JN,{active:Ir,label:LP,step:fg,total:OP,onStop:_n,onRestart:Mr}),h.jsx(vN,{insights:t,investigation:b,onSelectStep:k=>{ie(k),l!=="cinema"&&u("cinema")},onJumpToError:hl,onJumpToBottleneck:Sn}),h.jsx(zN,{trace:e,mode:l==="matrix"?"cinema":l,playheadMs:Q,selectedStepId:G,compareTrace:P,collapsed:Y,onToggleCollapsed:()=>V(k=>!k),onModeChange:ke,onSelectStep:k=>{ie(k),l!=="cinema"&&u("cinema")},onJumpToBottleneck:Sn,onReplay:nr,onStartTour:()=>Le(!0)}),h.jsxs("div",{className:"toolbar","data-help":!0,"data-help-indicator":!0,"data-tour":"toolbar","data-help-title":"Search + filters","data-help-body":"Filter by step type, enable Safe export, and jump between Cinema, Flow, Compare, and Matrix.","data-help-placement":"bottom",children:[h.jsx(yN,{query:c,typeFilter:f,onQueryChange:d,onTypeFilterChange:p}),h.jsxs("div",{className:"toolbar-actions",children:[h.jsx("input",{className:"search-input",value:g,onChange:k=>m(k.target.value),placeholder:"TraceQL (example: type=tool_call and duration_ms>800)","aria-label":"TraceQL query"}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>void TP(),children:"Run TraceQL"}),w?h.jsxs("span",{className:"status-badge",children:[w.matchCount," match(es)"]}):null,w?h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>{m(""),v(null),x(null)},children:"Clear TraceQL"}):null,y?h.jsx("span",{className:"status-badge warn",children:y}):null,h.jsxs("select",{className:"search-select",value:C,onChange:k=>j(k.target.value),"aria-label":"Extension selector",children:[h.jsx("option",{value:"",children:"Select extension"}),E.map(k=>h.jsx("option",{value:k.id,children:k.name},k.id))]}),h.jsx("button",{className:"ghost-button",type:"button",onClick:()=>void EP(),disabled:!e||!C||U,children:U?"Running extension...":"Run extension"}),h.jsx("button",{className:`ghost-button ${l==="cinema"?"active":""}`,type:"button","aria-pressed":l==="cinema",title:"Timeline playback",onClick:()=>ke("cinema"),"data-help":!0,"data-help-title":"Cinema mode","data-help-body":"Timeline view with step cards ordered by time.","data-help-placement":"bottom",children:"Cinema"}),h.jsx("button",{className:`ghost-button ${l==="flow"?"active":""}`,type:"button","aria-pressed":l==="flow",title:"Graph view",onClick:()=>ke("flow"),"data-help":!0,"data-help-title":"Flow mode","data-help-body":"Dependency graph of steps and tool calls.","data-help-placement":"bottom",children:"Flow"}),h.jsx("button",{className:`ghost-button ${l==="compare"?"active":""}`,type:"button","aria-pressed":l==="compare",title:P?"Side-by-side compare":"Run a replay to enable compare",onClick:()=>ke("compare"),disabled:!P,"data-tour":"compare","data-help":!0,"data-help-title":"Compare mode","data-help-body":"Side-by-side view after a replay. Enabled once you replay.","data-help-placement":"bottom",children:"Compare"}),h.jsx("button",{className:`ghost-button ${l==="matrix"?"active":""}`,type:"button","aria-pressed":l==="matrix",title:"Counterfactual replay matrix",onClick:()=>ke("matrix"),"data-help":!0,"data-help-title":"Matrix mode","data-help-body":"Run multiple replay scenarios and rank likely causal factors.","data-help-placement":"bottom",children:"Matrix"}),h.jsxs("label",{className:"toggle",title:"Redact payloads and disable raw views for safe sharing","data-help":!0,"data-help-title":"Safe export","data-help-body":"Redacts secrets and disables raw payload views for safe sharing.","data-help-placement":"bottom",children:[h.jsx("input",{type:"checkbox",checked:_e,onChange:()=>re(k=>!k)}),"Safe export"]}),e.steps.length>200||De?h.jsxs("label",{className:"toggle",title:"Window steps around the playhead for large traces","data-help":!0,"data-help-title":"Windowed mode","data-help-body":"Limits rendering to a playhead window for large traces.","data-help-placement":"bottom",children:[h.jsx("input",{type:"checkbox",checked:De,onChange:()=>Ye(k=>!k)}),"Windowed"]}):null,P?h.jsxs("label",{className:"toggle",title:"Show ghost overlay of replay in Cinema/Flow","data-help":!0,"data-help-title":"Overlay replay","data-help-body":"Layer the replay over the base run to spot differences.","data-help-placement":"bottom",children:[h.jsx("input",{type:"checkbox",checked:H,onChange:()=>D(k=>!k)}),"Overlay"]}):null]})]}),M?h.jsxs("div",{className:"inspector-section",children:[h.jsx("div",{className:"inspector-section-title",children:"Extension output"}),h.jsx("pre",{className:"inspector-json",children:JSON.stringify(M,null,2)})]}):null,l==="cinema"?h.jsxs("div",{className:"playback-stack","data-tour":"playback",children:[h.jsx("div",{"data-help":!0,"data-help-title":"Playback controls","data-help-body":"Play, pause, scrub, and adjust speed to feel the rhythm of the run.","data-help-placement":"bottom",children:h.jsx(Ty,{playheadMs:Q,wallTimeMs:e.metadata.wallTimeMs||1,isPlaying:q,speed:$e,onToggle:()=>B(k=>!k),onScrub:k=>Ne(k),onSpeedChange:et})}),h.jsx("div",{"data-help":!0,"data-help-title":"Density map","data-help-body":"Zoom into hotspots and keep long traces readable with windowing.","data-help-placement":"bottom",children:h.jsx(ON,{traceStart:e.startedAt,traceEnd:e.endedAt,steps:e.steps,playheadMs:Q,windowRange:dg,windowed:De,spanMs:er,onSpanChange:xe,onToggleWindowed:Ye,onScrub:k=>Ne(k)})})]}):null,l==="compare"&&P?h.jsx("div",{"data-help":!0,"data-help-title":"Compare playback","data-help-body":"Sync both runs to evaluate improvements at identical timestamps.","data-help-placement":"bottom",children:h.jsx(Ty,{playheadMs:Q,wallTimeMs:Math.max(e.metadata.wallTimeMs||1,P.metadata.wallTimeMs||1),isPlaying:q,speed:$e,onToggle:()=>B(k=>!k),onScrub:k=>Ne(k),onSpeedChange:et})}):null,h.jsxs("main",{className:`stage ${l==="compare"?"stage-compare":""}`,role:"main",children:[h.jsx("div",{className:"main",ref:dl,"data-help":!0,"data-help-indicator":!0,"data-tour":"stage","data-help-title":"Trace stage","data-help-body":"Every step becomes a scene. Hover or click to open deep inspection.","data-help-placement":"top",children:h.jsx(L2,{morph:yP,onComplete:DP,children:h.jsxs(_.Suspense,{fallback:h.jsx("div",{className:"loading",children:"Loading view..."}),children:[l==="cinema"?h.jsx(IN,{trace:e,steps:sg,selectedStepId:G,onSelectStep:k=>ie(k),playheadMs:Q,windowRange:dg,timing:t==null?void 0:t.timing,ghostTrace:H?P:null,diff:CP}):null,l==="flow"?h.jsx(yB,{steps:sg,selectedStepId:G,onSelectStep:k=>ie(k),baseTrace:e,compareTrace:P,compareSteps:_P,overlayEnabled:H,onToggleOverlay:()=>D(k=>!k)}):null,l==="compare"&&P?h.jsx(xB,{baseTrace:e,compareTrace:P,playheadMs:Q,safeExport:_e,onExit:()=>{u("cinema"),O(null)}}):null,l==="matrix"?h.jsx(lA,{steps:e.steps,anchorStepId:ul,onAnchorStepChange:rg,scenarios:xP,onScenarioChange:kP,onAddScenario:jP,onRemoveScenario:RP,onRun:NP,onCancel:AP,onReplaceScenarios:PP,loading:bP,error:SP,job:Ya,matrix:wP,safeExport:_e,onOpenCompare:MP}):null]})})}),h.jsx(_.Suspense,{fallback:h.jsx("div",{className:"loading",children:"Loading panel..."}),children:l==="compare"||l==="matrix"?null:lg?h.jsx(wB,{traceId:e.id,step:lg,safeExport:_e,onClose:()=>ie(null),onReplay:nr}):h.jsx(HN,{trace:e,mode:l,selectedStepId:G,onModeChange:ke,onSelectStep:k=>ie(k),onJumpToBottleneck:Sn,onReplay:nr})})]}),h.jsx(XN,{mode:l==="matrix"?"cinema":l,isPlaying:q,storyActive:Ir,explainMode:ae,hidden:l==="compare",open:Ae,onToggleOpen:()=>Rt(k=>!k),onTogglePlay:pl,onStartStory:Mr,onStopStory:_n,onStartTour:()=>Le(!0),onOpenPalette:()=>R(!0),onShowShortcuts:()=>ot(!0),onToggleExplain:()=>ve(k=>!k),onJumpToBottleneck:Sn}),h.jsx($N,{open:Rr,onClose:()=>R(!1),actions:qP}),h.jsx(FN,{open:Ti,onClose:()=>ot(!1)})]})}Qh.createRoot(document.getElementById("root")).render(h.jsx(ej.StrictMode,{children:h.jsx(TB,{})}));export{ej as R,PN as S,AN as T,cB as a,dB as b,Py as c,ek as d,PB as e,kB as f,o_ as g,Z2 as h,h as j,_ as r,wN as s};
